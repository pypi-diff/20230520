# Comparing `tmp/karrio.dicom-2023.4-py3-none-any.whl.zip` & `tmp/karrio.dicom-2023.4.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,23 +1,23 @@
-Zip file size: 14649 bytes, number of entries: 21
+Zip file size: 14678 bytes, number of entries: 21
 -rw-rw-r--  2.0 unx      343 b- defN 22-Nov-15 19:21 karrio/mappers/dicom/__init__.py
--rw-rw-r--  2.0 unx     3568 b- defN 23-Apr-01 13:34 karrio/mappers/dicom/mapper.py
+-rw-rw-r--  2.0 unx     3568 b- defN 23-Apr-23 04:04 karrio/mappers/dicom/mapper.py
 -rw-rw-r--  2.0 unx      978 b- defN 22-Nov-15 19:21 karrio/mappers/dicom/proxy.py
--rw-rw-r--  2.0 unx      497 b- defN 23-Apr-15 06:44 karrio/mappers/dicom/settings.py
+-rw-rw-r--  2.0 unx      497 b- defN 23-Apr-23 04:04 karrio/mappers/dicom/settings.py
 -rw-rw-r--  2.0 unx      634 b- defN 22-Nov-15 19:21 karrio/providers/dicom/__init__.py
 -rw-rw-r--  2.0 unx      576 b- defN 22-Nov-15 19:21 karrio/providers/dicom/error.py
--rw-rw-r--  2.0 unx     4148 b- defN 23-Apr-01 15:18 karrio/providers/dicom/rate.py
--rw-rw-r--  2.0 unx     1560 b- defN 23-Apr-01 15:18 karrio/providers/dicom/tracking.py
+-rw-rw-r--  2.0 unx     4148 b- defN 23-Apr-23 04:04 karrio/providers/dicom/rate.py
+-rw-rw-r--  2.0 unx     1560 b- defN 23-Apr-23 04:04 karrio/providers/dicom/tracking.py
 -rw-rw-r--  2.0 unx     5278 b- defN 23-Jan-11 18:22 karrio/providers/dicom/units.py
 -rw-rw-r--  2.0 unx      797 b- defN 23-Apr-15 02:55 karrio/providers/dicom/utils.py
 -rw-rw-r--  2.0 unx      289 b- defN 22-Nov-15 19:21 karrio/providers/dicom/pickup/__init__.py
--rw-rw-r--  2.0 unx      980 b- defN 23-Apr-01 15:18 karrio/providers/dicom/pickup/cancel.py
--rw-rw-r--  2.0 unx     3393 b- defN 23-Apr-01 15:18 karrio/providers/dicom/pickup/create.py
--rw-rw-r--  2.0 unx     1898 b- defN 23-Apr-01 15:18 karrio/providers/dicom/pickup/update.py
+-rw-rw-r--  2.0 unx      980 b- defN 23-Apr-23 04:04 karrio/providers/dicom/pickup/cancel.py
+-rw-rw-r--  2.0 unx     3393 b- defN 23-Apr-23 04:04 karrio/providers/dicom/pickup/create.py
+-rw-rw-r--  2.0 unx     1898 b- defN 23-Apr-23 04:04 karrio/providers/dicom/pickup/update.py
 -rw-rw-r--  2.0 unx      200 b- defN 22-Nov-15 19:21 karrio/providers/dicom/shipment/__init__.py
--rw-rw-r--  2.0 unx      964 b- defN 23-Apr-01 16:33 karrio/providers/dicom/shipment/cancel.py
--rw-rw-r--  2.0 unx     6933 b- defN 23-Apr-01 15:18 karrio/providers/dicom/shipment/create.py
--rw-rw-r--  2.0 unx      972 b- defN 23-Apr-18 07:09 karrio.dicom-2023.4.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Apr-18 07:09 karrio.dicom-2023.4.dist-info/WHEEL
--rw-rw-r--  2.0 unx        7 b- defN 23-Apr-18 07:09 karrio.dicom-2023.4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1876 b- defN 23-Apr-18 07:09 karrio.dicom-2023.4.dist-info/RECORD
-21 files, 35983 bytes uncompressed, 11533 bytes compressed:  67.9%
+-rw-rw-r--  2.0 unx      964 b- defN 23-Apr-23 04:04 karrio/providers/dicom/shipment/cancel.py
+-rw-rw-r--  2.0 unx     6695 b- defN 23-May-17 00:17 karrio/providers/dicom/shipment/create.py
+-rw-rw-r--  2.0 unx      974 b- defN 23-May-20 11:14 karrio.dicom-2023.4.4.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-May-20 11:14 karrio.dicom-2023.4.4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        7 b- defN 23-May-20 11:14 karrio.dicom-2023.4.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1884 b- defN 23-May-20 11:14 karrio.dicom-2023.4.4.dist-info/RECORD
+21 files, 35755 bytes uncompressed, 11546 bytes compressed:  67.7%
```

## zipnote {}

```diff
@@ -45,20 +45,20 @@
 
 Filename: karrio/providers/dicom/shipment/cancel.py
 Comment: 
 
 Filename: karrio/providers/dicom/shipment/create.py
 Comment: 
 
-Filename: karrio.dicom-2023.4.dist-info/METADATA
+Filename: karrio.dicom-2023.4.4.dist-info/METADATA
 Comment: 
 
-Filename: karrio.dicom-2023.4.dist-info/WHEEL
+Filename: karrio.dicom-2023.4.4.dist-info/WHEEL
 Comment: 
 
-Filename: karrio.dicom-2023.4.dist-info/top_level.txt
+Filename: karrio.dicom-2023.4.4.dist-info/top_level.txt
 Comment: 
 
-Filename: karrio.dicom-2023.4.dist-info/RECORD
+Filename: karrio.dicom-2023.4.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## karrio/providers/dicom/shipment/create.py

```diff
@@ -60,15 +60,17 @@
         shipment_identifier=shipment.ID,
         docs=Documents(label=label),
     )
 
 
 def shipment_request(payload: ShipmentRequest, settings: Settings) -> Serializable:
     packages = Packages(payload.parcels)
-    is_international = payload.shipper.country_code != payload.recipient.country_code
+    shipper = lib.to_address(payload.shipper)
+    recipient = lib.to_address(payload.recipient)
+    is_international = shipper.country_code != recipient.country_code
     broker_info = payload.options.get("dicom_broker_info", {})
     importer_info = (
         Address(**payload.options.get("importer_info"))
         if "importer_info" in payload.options
         else None
     )
     payment = payload.payment or Payment("prepaid")
@@ -79,43 +81,39 @@
         if key in ShippingOption.__members__
     }
 
     request = DicomShipmentRequest(
         paymentType=PaymentType[payment.paid_by or "prepaid"].value,
         billingAccount=settings.billing_account,
         sender=DicomAddress(
-            city=payload.shipper.city,
-            provinceCode=payload.shipper.state_code,
-            postalCode=payload.shipper.postal_code,
-            countryCode=payload.shipper.country_code,
-            customerName=payload.shipper.company_name,
-            addressLine1=lib.text(
-                payload.shipper.street_number, payload.shipper.address_line1
-            ),
-            addressLine2=payload.shipper.address_line2,
+            city=shipper.city,
+            provinceCode=shipper.state_code,
+            postalCode=shipper.postal_code,
+            countryCode=shipper.country_code,
+            customerName=shipper.company_name,
+            addressLine1=shipper.street,
+            addressLine2=shipper.address_line2,
             contact=Contact(
-                fullName=payload.shipper.person_name,
-                email=payload.shipper.email,
-                telephone=payload.shipper.phone_number,
+                fullName=shipper.person_name,
+                email=shipper.email,
+                telephone=shipper.phone_number,
             ),
         ),
         consignee=DicomAddress(
-            city=payload.recipient.city,
-            provinceCode=payload.recipient.state_code,
-            postalCode=payload.recipient.postal_code,
-            countryCode=payload.recipient.country_code,
-            customerName=payload.recipient.company_name,
-            addressLine1=lib.text(
-                payload.recipient.street_number, payload.recipient.address_line1
-            ),
-            addressLine2=payload.recipient.address_line2,
+            city=recipient.city,
+            provinceCode=recipient.state_code,
+            postalCode=recipient.postal_code,
+            countryCode=recipient.country_code,
+            customerName=recipient.company_name,
+            addressLine1=recipient.street,
+            addressLine2=recipient.address_line2,
             contact=Contact(
-                fullName=payload.recipient.person_name,
-                email=payload.recipient.email,
-                telephone=payload.recipient.phone_number,
+                fullName=recipient.person_name,
+                email=recipient.email,
+                telephone=recipient.phone_number,
             ),
         ),
         parcels=[
             Parcel(
                 quantity=1,
                 parcelType=ParcelType[package.packaging_type or "dicom_box"].value,
                 weight=package.weight.KG,
```

## Comparing `karrio.dicom-2023.4.dist-info/METADATA` & `karrio.dicom-2023.4.4.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: karrio.dicom
-Version: 2023.4
+Version: 2023.4.4
 Summary: Karrio - Dicom Shipping extension
 Home-page: https://github.com/karrioapi/karrio
 Author: karrio
 Author-email: hello@karrio.io
 License: Apache-2.0
 Platform: UNKNOWN
 Classifier: Intended Audience :: Developers
```

## Comparing `karrio.dicom-2023.4.dist-info/RECORD` & `karrio.dicom-2023.4.4.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -10,12 +10,12 @@
 karrio/providers/dicom/utils.py,sha256=Hohf71y7eCe5HYoZI44kRHgMtoTmrbIub6Hf9-dxKc4,797
 karrio/providers/dicom/pickup/__init__.py,sha256=gXajqCRIia5wPYhAN5oNKWbB4PXsoxxgnHjuQYdvV2g,289
 karrio/providers/dicom/pickup/cancel.py,sha256=m8Z_RZtZ28k2Y1NX2MN3tcajJsUe6LMVJx9aUbtiWHc,980
 karrio/providers/dicom/pickup/create.py,sha256=HIR_9Qw2k14v1rJ2VfUYlDiuoJgf04Zq3dUoqfN9krs,3393
 karrio/providers/dicom/pickup/update.py,sha256=7Ohk8eOHf6Fp9-KScJHkW2yqWHiU_c66L-eL8HdBAjM,1898
 karrio/providers/dicom/shipment/__init__.py,sha256=Rx4GcWFSWh2f8P-qwH2vEvmzjW7Ed00rTOKWWMigVZw,200
 karrio/providers/dicom/shipment/cancel.py,sha256=zEIweZHw0O9iXxrw4odqIXJcGOUD7LV_oq7hxK4UMwE,964
-karrio/providers/dicom/shipment/create.py,sha256=JJNc6k9U5-iJYfjDql5jpc-ZTdJ8rys_0OKk1xF0IZo,6933
-karrio.dicom-2023.4.dist-info/METADATA,sha256=8GY6-ixRyAeFey-RQAwsPcf-gb2RhIzhodz5ODAium4,972
-karrio.dicom-2023.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-karrio.dicom-2023.4.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
-karrio.dicom-2023.4.dist-info/RECORD,,
+karrio/providers/dicom/shipment/create.py,sha256=TRR0lQPyNpcOfBgFeSPo9X261Ah8fy6Jtmlt_i3nsBs,6695
+karrio.dicom-2023.4.4.dist-info/METADATA,sha256=Mb5g2qxMItWPyujHyiM8Dtkq2PT8cA3_m-_EqhSrcT8,974
+karrio.dicom-2023.4.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+karrio.dicom-2023.4.4.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
+karrio.dicom-2023.4.4.dist-info/RECORD,,
```

