# Comparing `tmp/karrio-2023.4-py3-none-any.whl.zip` & `tmp/karrio-2023.4.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,53 +1,53 @@
-Zip file size: 157814 bytes, number of entries: 51
+Zip file size: 157949 bytes, number of entries: 51
 -rw-rw-r--  2.0 unx     3149 b- defN 22-Nov-15 19:21 karrio/__init__.py
--rw-rw-r--  2.0 unx    18075 b- defN 23-Apr-15 10:27 karrio/lib.py
--rw-rw-r--  2.0 unx     4969 b- defN 23-Apr-15 10:18 karrio/references.py
+-rw-rw-r--  2.0 unx    18075 b- defN 23-Apr-23 04:04 karrio/lib.py
+-rw-rw-r--  2.0 unx     4969 b- defN 23-Apr-23 04:04 karrio/references.py
 -rw-rw-r--  2.0 unx        0 b- defN 23-Mar-03 13:50 karrio/addons/__init__.py
 -rw-rw-r--  2.0 unx    10316 b- defN 23-Mar-03 13:50 karrio/addons/label.py
 -rw-rw-r--  2.0 unx     7016 b- defN 23-Mar-03 13:50 karrio/addons/renderer.py
 -rw-rw-r--  2.0 unx    91400 b- defN 23-Mar-03 13:50 karrio/addons/fonts/Oswald-Regular.ttf
 -rw-rw-r--  2.0 unx    91700 b- defN 23-Mar-03 13:50 karrio/addons/fonts/Oswald-SemiBold.ttf
 -rw-rw-r--  2.0 unx      127 b- defN 22-Nov-15 19:21 karrio/api/__init__.py
 -rw-rw-r--  2.0 unx     4955 b- defN 23-Mar-27 07:55 karrio/api/gateway.py
--rw-rw-r--  2.0 unx    16054 b- defN 23-Apr-17 22:03 karrio/api/interface.py
+-rw-rw-r--  2.0 unx    16054 b- defN 23-Apr-23 04:04 karrio/api/interface.py
 -rw-rw-r--  2.0 unx    13472 b- defN 22-Nov-15 19:21 karrio/api/mapper.py
 -rw-rw-r--  2.0 unx     6320 b- defN 22-Nov-15 19:21 karrio/api/proxy.py
 -rw-rw-r--  2.0 unx       71 b- defN 22-Nov-15 19:21 karrio/core/__init__.py
 -rw-rw-r--  2.0 unx     3006 b- defN 22-Nov-15 19:21 karrio/core/errors.py
--rw-rw-r--  2.0 unx     1081 b- defN 23-Apr-15 10:13 karrio/core/metadata.py
--rw-rw-r--  2.0 unx    11152 b- defN 23-Apr-17 22:12 karrio/core/models.py
--rw-rw-r--  2.0 unx      753 b- defN 23-Apr-15 10:50 karrio/core/settings.py
--rw-rw-r--  2.0 unx    57529 b- defN 23-Apr-15 10:57 karrio/core/units.py
+-rw-rw-r--  2.0 unx     1081 b- defN 23-Apr-23 04:04 karrio/core/metadata.py
+-rw-rw-r--  2.0 unx    10953 b- defN 23-May-17 00:17 karrio/core/models.py
+-rw-rw-r--  2.0 unx      753 b- defN 23-Apr-23 04:04 karrio/core/settings.py
+-rw-rw-r--  2.0 unx    58015 b- defN 23-May-17 00:17 karrio/core/units.py
 -rw-rw-r--  2.0 unx      739 b- defN 23-Mar-27 07:55 karrio/core/utils/__init__.py
 -rw-rw-r--  2.0 unx     1734 b- defN 23-Mar-27 07:55 karrio/core/utils/caching.py
 -rw-rw-r--  2.0 unx     2311 b- defN 22-Nov-15 19:21 karrio/core/utils/datetime.py
 -rw-rw-r--  2.0 unx     2312 b- defN 23-Mar-02 21:11 karrio/core/utils/dict.py
 -rw-rw-r--  2.0 unx     4420 b- defN 23-Mar-15 03:59 karrio/core/utils/enum.py
--rw-rw-r--  2.0 unx     8518 b- defN 23-Apr-10 05:55 karrio/core/utils/helpers.py
+-rw-rw-r--  2.0 unx     8518 b- defN 23-Apr-23 04:04 karrio/core/utils/helpers.py
 -rw-rw-r--  2.0 unx      434 b- defN 22-Nov-15 19:21 karrio/core/utils/log.py
 -rw-rw-r--  2.0 unx     1176 b- defN 22-Nov-15 19:21 karrio/core/utils/number.py
 -rw-rw-r--  2.0 unx     1253 b- defN 23-Mar-27 07:55 karrio/core/utils/pipeline.py
--rw-rw-r--  2.0 unx      916 b- defN 23-Apr-01 13:32 karrio/core/utils/serializable.py
+-rw-rw-r--  2.0 unx      916 b- defN 23-Apr-23 04:04 karrio/core/utils/serializable.py
 -rw-rw-r--  2.0 unx     5274 b- defN 22-Nov-15 19:21 karrio/core/utils/soap.py
 -rw-rw-r--  2.0 unx      762 b- defN 22-Nov-15 19:21 karrio/core/utils/string.py
 -rw-rw-r--  2.0 unx     1462 b- defN 23-Mar-17 22:30 karrio/core/utils/tracing.py
 -rw-rw-r--  2.0 unx     4887 b- defN 23-Mar-27 07:55 karrio/core/utils/transformer.py
 -rw-rw-r--  2.0 unx     5493 b- defN 23-Mar-29 20:04 karrio/core/utils/xml.py
 -rw-rw-r--  2.0 unx      129 b- defN 22-Nov-15 19:21 karrio/mappers/__init__.py
 -rw-rw-r--  2.0 unx      131 b- defN 22-Nov-15 19:21 karrio/providers/__init__.py
 -rw-rw-r--  2.0 unx       81 b- defN 22-Nov-15 19:21 karrio/universal/__init__.py
 -rw-rw-r--  2.0 unx       81 b- defN 22-Nov-15 19:21 karrio/universal/mappers/__init__.py
--rw-rw-r--  2.0 unx    10634 b- defN 23-Apr-01 13:30 karrio/universal/mappers/rating_proxy.py
--rw-rw-r--  2.0 unx     1935 b- defN 23-Apr-01 13:30 karrio/universal/mappers/shipping_proxy.py
+-rw-rw-r--  2.0 unx    10634 b- defN 23-Apr-23 04:04 karrio/universal/mappers/rating_proxy.py
+-rw-rw-r--  2.0 unx     1935 b- defN 23-Apr-23 04:04 karrio/universal/mappers/shipping_proxy.py
 -rw-rw-r--  2.0 unx       81 b- defN 22-Nov-15 19:21 karrio/universal/providers/__init__.py
 -rw-rw-r--  2.0 unx      139 b- defN 22-Nov-15 19:21 karrio/universal/providers/rating/__init__.py
--rw-rw-r--  2.0 unx      861 b- defN 23-Apr-01 15:40 karrio/universal/providers/rating/rate.py
+-rw-rw-r--  2.0 unx      861 b- defN 23-Apr-23 04:04 karrio/universal/providers/rating/rate.py
 -rw-rw-r--  2.0 unx      558 b- defN 23-Mar-27 16:45 karrio/universal/providers/rating/utils.py
 -rw-rw-r--  2.0 unx      188 b- defN 23-Mar-03 13:50 karrio/universal/providers/shipping/__init__.py
--rw-rw-r--  2.0 unx     1512 b- defN 23-Apr-01 15:40 karrio/universal/providers/shipping/shipment.py
+-rw-rw-r--  2.0 unx     1512 b- defN 23-Apr-23 04:04 karrio/universal/providers/shipping/shipment.py
 -rw-rw-r--  2.0 unx      593 b- defN 23-Mar-03 13:50 karrio/universal/providers/shipping/utils.py
--rw-rw-r--  2.0 unx     4703 b- defN 23-Apr-18 07:10 karrio-2023.4.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Apr-18 07:10 karrio-2023.4.dist-info/WHEEL
--rw-rw-r--  2.0 unx        7 b- defN 23-Apr-18 07:10 karrio-2023.4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     4314 b- defN 23-Apr-18 07:10 karrio-2023.4.dist-info/RECORD
-51 files, 408875 bytes uncompressed, 150954 bytes compressed:  63.1%
+-rw-rw-r--  2.0 unx     4705 b- defN 23-May-20 11:14 karrio-2023.4.4.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-May-20 11:14 karrio-2023.4.4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        7 b- defN 23-May-20 11:14 karrio-2023.4.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4322 b- defN 23-May-20 11:14 karrio-2023.4.4.dist-info/RECORD
+51 files, 409172 bytes uncompressed, 151073 bytes compressed:  63.1%
```

## zipnote {}

```diff
@@ -135,20 +135,20 @@
 
 Filename: karrio/universal/providers/shipping/shipment.py
 Comment: 
 
 Filename: karrio/universal/providers/shipping/utils.py
 Comment: 
 
-Filename: karrio-2023.4.dist-info/METADATA
+Filename: karrio-2023.4.4.dist-info/METADATA
 Comment: 
 
-Filename: karrio-2023.4.dist-info/WHEEL
+Filename: karrio-2023.4.4.dist-info/WHEEL
 Comment: 
 
-Filename: karrio-2023.4.dist-info/top_level.txt
+Filename: karrio-2023.4.4.dist-info/top_level.txt
 Comment: 
 
-Filename: karrio-2023.4.dist-info/RECORD
+Filename: karrio-2023.4.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## karrio/core/models.py

```diff
@@ -1,22 +1,14 @@
 """Karrio Unified model definitions module."""
 import attr
 from typing import List, Dict, Any, Union
 from jstruct import JList, JStruct, REQUIRED
 
 
 @attr.s(auto_attribs=True)
-class AddressExtra:
-    street_name: str = None
-    street_type: str = None
-    suburb: str = None
-    suite: str = None
-
-
-@attr.s(auto_attribs=True)
 class Address:
     """shipping party (contact and address) data type."""
 
     id: str = None
     postal_code: str = None
     city: str = None
     person_name: str = None
@@ -31,16 +23,14 @@
     address_line1: str = ""
     address_line2: str = None
     street_number: str = None
 
     federal_tax_id: str = None
     state_tax_id: str = None
 
-    extra: AddressExtra = JStruct[AddressExtra]
-
 
 @attr.s(auto_attribs=True)
 class Commodity:
     """commodity or product unified data type."""
 
     id: str = None
     sku: str = None
```

## karrio/core/units.py

```diff
@@ -1102,14 +1102,17 @@
 
 
 class ComputedAddress(models.Address):
     def __init__(self, address: typing.Optional[models.Address]):
         self.address = address
 
     def __getattr__(self, item):
+        if item == "street_number":
+            return self._compute_street_number()
+
         if hasattr(self.address, item):
             return getattr(self.address, item)
 
         return getattr(getattr(self.address, "extra", None), item, None)
 
     @property
     def country_name(self):
@@ -1120,14 +1123,41 @@
         return self._compute_address_line()
 
     @property
     def address_lines(self) -> str:
         return self._compute_address_line(join=False)
 
     @property
+    def street(self) -> typing.Optional[str]:
+        return typing.cast(
+            str,
+            utils.SF.concat_str(
+                self.street_number,
+                self.street_name,
+                join=True,
+            ),
+        )
+
+    @property
+    def street_name(self) -> typing.Optional[str]:
+        """The address line 1 without the street number"""
+        return typing.cast(
+            str,
+            utils.SF.concat_str(
+                *[
+                    _
+                    for _ in self.address.address_line1.split(" ")
+                    if _ != self.street_number
+                ],
+                join=True,
+            ),
+        )
+        return self.address.address_line1.replace(self.street_number, "").strip()
+
+    @property
     def tax_id(self) -> typing.Optional[str]:
         return self.address.federal_tax_id or self.address.state_tax_id
 
     @property
     def taxes(self) -> typing.List[str]:
         return utils.SF.concat_str(
             self.address.federal_tax_id, self.address.state_tax_id
@@ -1145,57 +1175,50 @@
         )
 
     @property
     def has_tax_info(self) -> bool:
         return any([self.address.federal_tax_id, self.address.state_tax_id])
 
     @property
-    def suite(self) -> typing.Optional[str]:
-        return getattr(self.address.extra, "suite", None)
-
-    @property
     def contact(self) -> typing.Optional[str]:
         return getattr(self.address, "person_name", None) or getattr(
             self.address, "company_name", None
         )
 
-    @property
-    def street_name(self) -> typing.Optional[str]:
-        return getattr(self.address.extra, "street_name", None)
-
-    @property
-    def street_type(self) -> typing.Optional[str]:
-        return getattr(self.address.extra, "street_type", None)
-
     def _compute_address_line(self, join: bool = True) -> typing.Optional[str]:
         if any(
             [
-                self.address.street_number,
-                self.address.address_line1,
-                self.address.address_line2,
+                self.street_number,
+                self.street_name,
+                self.address_line2,
             ]
         ):
             return utils.SF.concat_str(
-                self.address.street_number,
-                self.address.address_line1,
-                self.address.address_line2,
+                self.street_number,
+                self.street_name,
+                self.address_line2,
                 join=join,
             )  # type:ignore
 
-        if self.address.extra is not None:
-            return utils.SF.concat_str(
-                self.address.extra.suite,
-                self.address.street_number,
-                self.address.extra.street_name,
-                self.address.extra.street_type,
-                join=True,
-            )  # type:ignore
-
         return None
 
+    def _compute_street_number(self):
+        _value = getattr(self.address, "street_number", None)
+
+        if _value is None:
+            words = self.address.address_line1.split(" ")
+
+            if any(_.isdigit() for _ in words[0]):
+                return words[0]
+
+            if any(_.isdigit() for _ in words[-1]):
+                return words[-1]
+
+        return _value
+
 
 class ComputedDocumentFile(models.DocumentFile):
     def __init__(self, document: typing.Optional[models.DocumentFile]):
         self.document = document
 
     def __getattr__(self, item):
         return getattr(self.document, item, None)
```

## Comparing `karrio-2023.4.dist-info/METADATA` & `karrio-2023.4.4.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: karrio
-Version: 2023.4
+Version: 2023.4.4
 Summary: Multi-carrier shipping API integration with python
 Home-page: https://github.com/karrioapi/karrio
 Author: karrio
 Author-email: hello@karrio.io
 License: Apache-2.0
 Platform: UNKNOWN
 Classifier: Intended Audience :: Developers
```

### html2text {}

```diff
@@ -1,8 +1,8 @@
-Metadata-Version: 2.1 Name: karrio Version: 2023.4 Summary: Multi-carrier
+Metadata-Version: 2.1 Name: karrio Version: 2023.4.4 Summary: Multi-carrier
 shipping API integration with python Home-page: https://github.com/karrioapi/
 karrio Author: karrio Author-email: hello@karrio.io License: Apache-2.0
 Platform: UNKNOWN Classifier: Intended Audience :: Developers Classifier:
 Operating System :: OS Independent Classifier: Programming Language :: Python
 :: 3 Description-Content-Type: text/markdown Requires-Dist: Pillow Requires-
 Dist: PyPDF2 Requires-Dist: jstruct Requires-Dist: lxml Requires-Dist: lxml-
 stubs Requires-Dist: phonenumbers Requires-Dist: py-soap Requires-Dist: python-
```

## Comparing `karrio-2023.4.dist-info/RECORD` & `karrio-2023.4.4.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -10,17 +10,17 @@
 karrio/api/gateway.py,sha256=9E30taInhrN7-VGeZz3NKcbKEwhy7h9grB_nZ8dlkQM,4955
 karrio/api/interface.py,sha256=9vt5IZO0bZBYpeyFrxHe1XVLbR75gygdPowAY6DoJnE,16054
 karrio/api/mapper.py,sha256=OjLH2b6_NRcVNnJDb3hZypY6FfHuTHiMlAJgYnWpkzM,13472
 karrio/api/proxy.py,sha256=Mx5tpcL0L_02lIZ84AvnEfroVu5Qi22iz7AVueX4YjI,6320
 karrio/core/__init__.py,sha256=BboTt3huAYrsqcTcaq1lFX5O4uKiIi2cpWEXp68ItMo,71
 karrio/core/errors.py,sha256=iMwiwCwK0eiYzk5KJ9Qu86JMWpymw1zDCvmqY67ghSw,3006
 karrio/core/metadata.py,sha256=vs4doqUjxDSRbDulbdBeTAyFUIZ8MdjsRP74YjtdNEY,1081
-karrio/core/models.py,sha256=FaUyZ3SmkANPC4CfXKw6T8O4YAnXpvLmSM9GaxF9YaE,11152
+karrio/core/models.py,sha256=wkqD4M7cCDFJmdpI3shDvxX4M9mFirL6K3yHUl0GIbM,10953
 karrio/core/settings.py,sha256=1d-w-U5nODMxsbmR0B4CdgggvYCzsgtSipP7GUWmFkI,753
-karrio/core/units.py,sha256=upyiW7PG2QyNxdiMtjJfH632IrHTh5qc4XNNLHQJCA0,57529
+karrio/core/units.py,sha256=PyHjHEdge6fY-xZph9_NUQdbExROoyIpUSdRT8MgKIs,58015
 karrio/core/utils/__init__.py,sha256=NPxAugvQ4lhWOngITOagexXrsTQqlJQ0gyaXc9iBivg,739
 karrio/core/utils/caching.py,sha256=zx0R1XAWPuA0q2hz5xUw0-OLZhHd7haS41uO_Prg8Ng,1734
 karrio/core/utils/datetime.py,sha256=aFMqLB_AdRGM0By2TO8mYce-UlqExf_J2s2eLNtDClY,2311
 karrio/core/utils/dict.py,sha256=fUsyMwRduh3qJ6D6Vf4LUVcljEqDHJVn8Av9x4rUadg,2312
 karrio/core/utils/enum.py,sha256=qCrqP49wXyypfQ7rw4kFGjJ6rawptOxq_RPwqaz09dk,4420
 karrio/core/utils/helpers.py,sha256=I3oMOPl4oeOyR8qQLlt1jVL59-uxnE8dBoWlfuqP658,8518
 karrio/core/utils/log.py,sha256=G0JqUqNiS7JwkFMurtHtbxa42miAs28dPfNZZdlZid4,434
@@ -41,11 +41,11 @@
 karrio/universal/providers/__init__.py,sha256=bpT73UG7mZL_JjEqMwbYx6q69jA8J5Jcoul1LcDokhA,81
 karrio/universal/providers/rating/__init__.py,sha256=3f8u1FS7OF9OZUGauBSt4B1ad0dmqIsmFaG3pWu7Sck,139
 karrio/universal/providers/rating/rate.py,sha256=5M79YhIX-XMnm44kezFEoY5vE9d-WWjGAaBnE7MOmJI,861
 karrio/universal/providers/rating/utils.py,sha256=WVyJWdxCdKM1YlhTHVFxEMyac0FKIGHEkYXWEgJUzYA,558
 karrio/universal/providers/shipping/__init__.py,sha256=JRcfJWSeDSjO2g2fRnLgBurBXn01nVpdi21ShxLpG34,188
 karrio/universal/providers/shipping/shipment.py,sha256=t7PO4uSzD1ZL3q3UZWHAPD3UUZUKXReQvED8mVKUe1A,1512
 karrio/universal/providers/shipping/utils.py,sha256=1LuO31RMhpUls6-h5xhWkfky4G7tdWmGKmRhLkj-e98,593
-karrio-2023.4.dist-info/METADATA,sha256=dhVsyoub0aSABLGIyUP5-4BrtsGzMnBW11zS-YsHUA0,4703
-karrio-2023.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-karrio-2023.4.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
-karrio-2023.4.dist-info/RECORD,,
+karrio-2023.4.4.dist-info/METADATA,sha256=dRozbMtKfDyrdjkZtVUAHMOyE4vbgM3M-dzUyicgKJo,4705
+karrio-2023.4.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+karrio-2023.4.4.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
+karrio-2023.4.4.dist-info/RECORD,,
```

