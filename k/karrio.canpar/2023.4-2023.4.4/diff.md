# Comparing `tmp/karrio.canpar-2023.4-py3-none-any.whl.zip` & `tmp/karrio.canpar-2023.4.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,25 +1,25 @@
-Zip file size: 17808 bytes, number of entries: 23
+Zip file size: 17769 bytes, number of entries: 23
 -rw-rw-r--  2.0 unx      348 b- defN 22-Nov-15 19:21 karrio/mappers/canpar/__init__.py
--rw-rw-r--  2.0 unx     3875 b- defN 23-Apr-01 13:34 karrio/mappers/canpar/mapper.py
--rw-rw-r--  2.0 unx     4327 b- defN 23-Apr-01 13:41 karrio/mappers/canpar/proxy.py
--rw-rw-r--  2.0 unx      432 b- defN 23-Apr-15 06:44 karrio/mappers/canpar/settings.py
+-rw-rw-r--  2.0 unx     3875 b- defN 23-Apr-23 04:04 karrio/mappers/canpar/mapper.py
+-rw-rw-r--  2.0 unx     4327 b- defN 23-Apr-23 04:04 karrio/mappers/canpar/proxy.py
+-rw-rw-r--  2.0 unx      432 b- defN 23-Apr-23 04:04 karrio/mappers/canpar/settings.py
 -rw-rw-r--  2.0 unx      725 b- defN 22-Nov-15 19:21 karrio/providers/canpar/__init__.py
--rw-rw-r--  2.0 unx     2566 b- defN 23-Apr-01 15:38 karrio/providers/canpar/address.py
--rw-rw-r--  2.0 unx      605 b- defN 23-Apr-01 15:37 karrio/providers/canpar/error.py
--rw-rw-r--  2.0 unx     7234 b- defN 23-Apr-01 15:18 karrio/providers/canpar/rate.py
--rw-rw-r--  2.0 unx     3324 b- defN 23-Apr-01 15:18 karrio/providers/canpar/tracking.py
+-rw-rw-r--  2.0 unx     2565 b- defN 23-May-17 00:17 karrio/providers/canpar/address.py
+-rw-rw-r--  2.0 unx      605 b- defN 23-Apr-23 04:04 karrio/providers/canpar/error.py
+-rw-rw-r--  2.0 unx     6903 b- defN 23-May-17 00:17 karrio/providers/canpar/rate.py
+-rw-rw-r--  2.0 unx     3324 b- defN 23-Apr-23 04:04 karrio/providers/canpar/tracking.py
 -rw-rw-r--  2.0 unx     2699 b- defN 23-Jan-11 18:22 karrio/providers/canpar/units.py
 -rw-rw-r--  2.0 unx     1744 b- defN 23-Apr-15 02:55 karrio/providers/canpar/utils.py
 -rw-rw-r--  2.0 unx      292 b- defN 22-Nov-15 19:21 karrio/providers/canpar/pickup/__init__.py
--rw-rw-r--  2.0 unx     1442 b- defN 23-Apr-01 15:18 karrio/providers/canpar/pickup/cancel.py
--rw-rw-r--  2.0 unx     3450 b- defN 23-Apr-01 15:18 karrio/providers/canpar/pickup/create.py
--rw-rw-r--  2.0 unx     1849 b- defN 23-Apr-01 13:35 karrio/providers/canpar/pickup/update.py
+-rw-rw-r--  2.0 unx     1442 b- defN 23-Apr-23 04:04 karrio/providers/canpar/pickup/cancel.py
+-rw-rw-r--  2.0 unx     3326 b- defN 23-May-17 00:17 karrio/providers/canpar/pickup/create.py
+-rw-rw-r--  2.0 unx     1849 b- defN 23-Apr-23 04:04 karrio/providers/canpar/pickup/update.py
 -rw-rw-r--  2.0 unx      202 b- defN 22-Nov-15 19:21 karrio/providers/canpar/shipment/__init__.py
--rw-rw-r--  2.0 unx     1450 b- defN 23-Apr-01 15:18 karrio/providers/canpar/shipment/cancel.py
--rw-rw-r--  2.0 unx     7880 b- defN 23-Apr-01 15:18 karrio/providers/canpar/shipment/create.py
--rw-rw-r--  2.0 unx      792 b- defN 23-Apr-01 13:36 karrio/providers/canpar/shipment/label.py
--rw-rw-r--  2.0 unx      980 b- defN 23-Apr-18 07:09 karrio.canpar-2023.4.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Apr-18 07:09 karrio.canpar-2023.4.dist-info/WHEEL
--rw-rw-r--  2.0 unx        7 b- defN 23-Apr-18 07:09 karrio.canpar-2023.4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2089 b- defN 23-Apr-18 07:09 karrio.canpar-2023.4.dist-info/RECORD
-23 files, 48404 bytes uncompressed, 14348 bytes compressed:  70.4%
+-rw-rw-r--  2.0 unx     1450 b- defN 23-Apr-23 04:04 karrio/providers/canpar/shipment/cancel.py
+-rw-rw-r--  2.0 unx     7549 b- defN 23-May-17 00:17 karrio/providers/canpar/shipment/create.py
+-rw-rw-r--  2.0 unx      792 b- defN 23-Apr-23 04:04 karrio/providers/canpar/shipment/label.py
+-rw-rw-r--  2.0 unx      982 b- defN 23-May-20 11:14 karrio.canpar-2023.4.4.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-May-20 11:14 karrio.canpar-2023.4.4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        7 b- defN 23-May-20 11:14 karrio.canpar-2023.4.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2097 b- defN 23-May-20 11:14 karrio.canpar-2023.4.4.dist-info/RECORD
+23 files, 47627 bytes uncompressed, 14293 bytes compressed:  70.0%
```

## zipnote {}

```diff
@@ -51,20 +51,20 @@
 
 Filename: karrio/providers/canpar/shipment/create.py
 Comment: 
 
 Filename: karrio/providers/canpar/shipment/label.py
 Comment: 
 
-Filename: karrio.canpar-2023.4.dist-info/METADATA
+Filename: karrio.canpar-2023.4.4.dist-info/METADATA
 Comment: 
 
-Filename: karrio.canpar-2023.4.dist-info/WHEEL
+Filename: karrio.canpar-2023.4.4.dist-info/WHEEL
 Comment: 
 
-Filename: karrio.canpar-2023.4.dist-info/top_level.txt
+Filename: karrio.canpar-2023.4.4.dist-info/top_level.txt
 Comment: 
 
-Filename: karrio.canpar-2023.4.dist-info/RECORD
+Filename: karrio.canpar-2023.4.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## karrio/providers/canpar/address.py

```diff
@@ -68,15 +68,15 @@
         body_content=searchCanadaPost(
             request=SearchCanadaPostRq(
                 city=payload.address.city or "",
                 password=settings.password,
                 postal_code=payload.address.postal_code or "",
                 province=payload.address.state_code or "",
                 street_direction="",
-                street_name=address.address_line or "",
+                street_name=address.street_name or "",
                 street_num=address.street_number or "",
                 street_type="",
                 user_id=settings.username,
                 validate_only=True,
             )
         )
     )
```

## karrio/providers/canpar/rate.py

```diff
@@ -66,14 +66,16 @@
         meta=dict(service_name=(service.name or shipment.service_type)),
     )
 
 
 def rate_request(
     payload: models.RateRequest, settings: provider_utils.Settings
 ) -> lib.Serializable:
+    shipper = lib.to_address(payload.shipper)
+    recipient = lib.to_address(payload.recipient)
     packages = lib.to_packages(payload.parcels)
     service_type = lib.to_services(payload.services, provider_units.Service).first
     options = lib.to_shipping_options(
         payload.options,
         package_options=packages.options,
         initializer=provider_units.shipping_options_initializer,
     )
@@ -90,30 +92,27 @@
                 apply_association_discount=False,
                 apply_individual_discount=False,
                 apply_invoice_discount=False,
                 password=settings.password,
                 shipment=Shipment(
                     cod_type=options.canpar_cash_on_delivery.state,
                     delivery_address=Address(
-                        address_line_1=lib.text(
-                            payload.recipient.street_number,
-                            payload.recipient.address_line1,
-                        ),
-                        address_line_2=payload.recipient.address_line2,
+                        address_line_1=recipient.street,
+                        address_line_2=recipient.address_line2,
                         address_line_3=None,
-                        attention=payload.recipient.person_name,
-                        city=payload.recipient.city,
-                        country=payload.recipient.country_code,
-                        email=payload.recipient.email,
+                        attention=recipient.person_name,
+                        city=recipient.city,
+                        country=recipient.country_code,
+                        email=recipient.email,
                         extension=None,
-                        name=payload.recipient.company_name,
-                        phone=payload.recipient.phone_number,
-                        postal_code=payload.recipient.postal_code,
-                        province=payload.recipient.state_code,
-                        residential=payload.recipient.residential,
+                        name=recipient.company_name,
+                        phone=recipient.phone_number,
+                        postal_code=recipient.postal_code,
+                        province=recipient.state_code,
+                        residential=recipient.residential,
                     ),
                     description=None,
                     dg=options.canpar_dangerous_goods.state,
                     dimention_unit=provider_units.DimensionUnit.IN.value,
                     handling=None,
                     handling_type=None,
                     instruction=None,
@@ -132,35 +131,33 @@
                             store_num=None,
                             width=pkg.width.CM,
                             xc=options.canpar_extra_care.state,
                         )
                         for pkg in packages
                     ],
                     pickup_address=Address(
-                        address_line_1=lib.text(
-                            payload.shipper.street_number, payload.shipper.address_line1
-                        ),
-                        address_line_2=payload.shipper.address_line2,
+                        address_line_1=shipper.street,
+                        address_line_2=shipper.address_line2,
                         address_line_3=None,
-                        attention=payload.shipper.person_name,
-                        city=payload.shipper.city,
-                        country=payload.shipper.country_code,
-                        email=payload.shipper.email,
+                        attention=shipper.person_name,
+                        city=shipper.city,
+                        country=shipper.country_code,
+                        email=shipper.email,
                         extension=None,
-                        name=payload.shipper.company_name,
-                        phone=payload.shipper.phone_number,
-                        postal_code=payload.shipper.postal_code,
-                        province=payload.shipper.state_code,
-                        residential=payload.shipper.residential,
+                        name=shipper.company_name,
+                        phone=shipper.phone_number,
+                        postal_code=shipper.postal_code,
+                        province=shipper.state_code,
+                        residential=shipper.residential,
                     ),
                     premium=provider_units.ShippingOption.is_premium(options),
                     proforma=None,
                     reported_weight_unit=provider_units.WeightUnit.LB.value,
-                    send_email_to_delivery=payload.recipient.email,
-                    send_email_to_pickup=payload.shipper.email,
+                    send_email_to_delivery=recipient.email,
+                    send_email_to_pickup=shipper.email,
                     service_type=service_type.value,
                     shipper_num=None,
                     shipping_date=shipment_date,
                     subtotal=None,
                     subtotal_with_handling=None,
                     total=None,
                     total_with_handling=None,
```

## karrio/providers/canpar/pickup/create.py

```diff
@@ -43,18 +43,15 @@
             request=SchedulePickupV2Rq(
                 password=settings.password,
                 pickup=PickupV2(
                     collect=None,
                     comments=payload.instruction,
                     created_by=address.person_name,
                     pickup_address=Address(
-                        address_line_1=lib.text(
-                            address.street_number, address.address_line1
-                        )
-                        or "",
+                        address_line_1=address.street,
                         address_line_2=address.address_line2,
                         address_line_3=None,
                         attention=address.person_name,
                         city=address.city,
                         country=address.country_code,
                         email=address.email,
                         extension=None,
```

## karrio/providers/canpar/shipment/create.py

```diff
@@ -64,14 +64,16 @@
 
     return lib.Serializable(request)
 
 
 def _process_shipment(
     payload: models.ShipmentRequest, settings: provider_utils.Settings
 ) -> lib.Job:
+    shipper = lib.to_address(payload.shipper)
+    recipient = lib.to_address(payload.recipient)
     service_type = provider_units.Service.map(payload.service).value_or_key
     packages = lib.to_packages(payload.parcels)
     options = lib.to_shipping_options(
         payload.options,
         package_options=packages.options,
         initializer=provider_units.shipping_options_initializer,
     )
@@ -85,30 +87,27 @@
     request = lib.create_envelope(
         body_content=processShipment(
             request=ProcessShipmentRq(
                 password=settings.password,
                 shipment=Shipment(
                     cod_type=options.canpar_cash_on_delivery.state,
                     delivery_address=Address(
-                        address_line_1=lib.text(
-                            payload.recipient.street_number,
-                            payload.recipient.address_line1,
-                        ),
-                        address_line_2=payload.recipient.address_line2,
+                        address_line_1=recipient.street,
+                        address_line_2=recipient.address_line2,
                         address_line_3=None,
-                        attention=payload.recipient.person_name,
-                        city=payload.recipient.city,
-                        country=payload.recipient.country_code,
-                        email=payload.recipient.email,
+                        attention=recipient.person_name,
+                        city=recipient.city,
+                        country=recipient.country_code,
+                        email=recipient.email,
                         extension=None,
-                        name=payload.recipient.company_name,
-                        phone=payload.recipient.phone_number,
-                        postal_code=payload.recipient.postal_code,
-                        province=payload.recipient.state_code,
-                        residential=payload.recipient.residential,
+                        name=recipient.company_name,
+                        phone=recipient.phone_number,
+                        postal_code=recipient.postal_code,
+                        province=recipient.state_code,
+                        residential=recipient.residential,
                     ),
                     description=None,
                     dg=options.canpar_dangerous_goods.state,
                     dimention_unit=provider_units.DimensionUnit.IN.value,
                     handling=None,
                     handling_type=None,
                     instruction=None,
@@ -130,35 +129,33 @@
                             store_num=None,
                             width=pkg.width.CM,
                             xc=("canpar_extra_care" in options) or None,
                         )
                         for pkg in packages
                     ],
                     pickup_address=Address(
-                        address_line_1=lib.text(
-                            payload.shipper.street_number, payload.shipper.address_line1
-                        ),
-                        address_line_2=payload.shipper.address_line2,
+                        address_line_1=shipper.street,
+                        address_line_2=shipper.address_line2,
                         address_line_3=None,
-                        attention=payload.shipper.person_name,
-                        city=payload.shipper.city,
-                        country=payload.shipper.country_code,
-                        email=payload.shipper.email,
+                        attention=shipper.person_name,
+                        city=shipper.city,
+                        country=shipper.country_code,
+                        email=shipper.email,
                         extension=None,
-                        name=payload.shipper.company_name,
-                        phone=payload.shipper.phone_number,
-                        postal_code=payload.shipper.postal_code,
-                        province=payload.shipper.state_code,
-                        residential=payload.shipper.residential,
+                        name=shipper.company_name,
+                        phone=shipper.phone_number,
+                        postal_code=shipper.postal_code,
+                        province=shipper.state_code,
+                        residential=shipper.residential,
                     ),
                     premium=provider_units.ShippingOption.is_premium(options),
                     proforma=None,
                     reported_weight_unit=provider_units.WeightUnit.LB.value,
-                    send_email_to_delivery=payload.recipient.email,
-                    send_email_to_pickup=payload.shipper.email,
+                    send_email_to_delivery=recipient.email,
+                    send_email_to_pickup=shipper.email,
                     service_type=service_type,
                     shipper_num=None,
                     shipping_date=shipping_date,
                     subtotal=None,
                     subtotal_with_handling=None,
                     total=None,
                     total_with_handling=None,
```

## Comparing `karrio.canpar-2023.4.dist-info/METADATA` & `karrio.canpar-2023.4.4.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: karrio.canpar
-Version: 2023.4
+Version: 2023.4.4
 Summary: Karrio - Canpar Shipping Extension
 Home-page: https://github.com/karrioapi/karrio
 Author: karrio
 Author-email: hello@karrio.io
 License: Apache-2.0
 Platform: UNKNOWN
 Classifier: Intended Audience :: Developers
```

## Comparing `karrio.canpar-2023.4.dist-info/RECORD` & `karrio.canpar-2023.4.4.dist-info/RECORD`

 * *Files 22% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 karrio/mappers/canpar/__init__.py,sha256=6-65tRkLw3qrNdyDT7TgrBloFmZQ4fCrdo1UcPSabuo,348
 karrio/mappers/canpar/mapper.py,sha256=5yOyRKwW41w-pFPABYIh-SLPa7YYjJh4fNG6YClfl_8,3875
 karrio/mappers/canpar/proxy.py,sha256=wLFP3g1O4Pkr0rdvbpW-xAY73Ev4lOUeEfKdSZ-K92g,4327
 karrio/mappers/canpar/settings.py,sha256=m6OkqHvK8KEY5ZpiYNYT5LthxrUncsSI0y8uqiZCPIU,432
 karrio/providers/canpar/__init__.py,sha256=c4f74hxIKu-26maem-GeC5NFjEOmKRzayOQ-EsBkmr0,725
-karrio/providers/canpar/address.py,sha256=LIudKWELKqEX6-0pObJTIz2H3_bLApRZmamx1624bzs,2566
+karrio/providers/canpar/address.py,sha256=4aAcbNxJ-uRE4KzPWf_gdgxHCXuHNFqrR9Aeiha-A88,2565
 karrio/providers/canpar/error.py,sha256=TJuCJuJ2aXKm7t_sO7hDJAla0KeVJWYjoaB9NHVyFT4,605
-karrio/providers/canpar/rate.py,sha256=OPAh87V1VHkXw8kjPuKpgAo14bXoMKWJL8A3tjoeaqM,7234
+karrio/providers/canpar/rate.py,sha256=et2-jzZIYYgQXpchwWYvoCHvuZGYzxDfaYmihSlyOzc,6903
 karrio/providers/canpar/tracking.py,sha256=Wcx8r58vPxRgyLrpy7ujCNSihLVN00Ab3Q_ASj3ykhU,3324
 karrio/providers/canpar/units.py,sha256=5EQUil9PCq3UadW5yY_BqniYEZZbUKBpAKMyQQkUgvI,2699
 karrio/providers/canpar/utils.py,sha256=qtwUDu0Pl8wAIhjJXc9e3fV7EX0pnN-rbZdP7UwLnT4,1744
 karrio/providers/canpar/pickup/__init__.py,sha256=CIzOKde1K4E13-Rjr4TujciNLmooURWV_enhBLdvP5w,292
 karrio/providers/canpar/pickup/cancel.py,sha256=MF4P6ErLOM8VBFCTPce4LKFYxN5-1ESn3Dh3rWkTAC4,1442
-karrio/providers/canpar/pickup/create.py,sha256=OE3sQL-zfSsPgImV-tWfyVEnb8tqhzCy5S9X3mSWii0,3450
+karrio/providers/canpar/pickup/create.py,sha256=-P1I9Gfm4KqLvzIYY6nyFK9JzwG2d_tH-9QaUIROnhU,3326
 karrio/providers/canpar/pickup/update.py,sha256=ILVYCdFrLI5aNF85Xe0hdm2RdiFbAure0i1LWKfy0vU,1849
 karrio/providers/canpar/shipment/__init__.py,sha256=cOKWCNWLmsXGflMSnru50LHufgfcQeXY4km-9c4gZDQ,202
 karrio/providers/canpar/shipment/cancel.py,sha256=cg9rBFJMmSHDAM6HVGTOjp_kRwFLk3wODAzh44TSK1E,1450
-karrio/providers/canpar/shipment/create.py,sha256=jW9kT5ZikZJdr8BeaJWkOGio-trMBMG5H-3dNf5Q5hY,7880
+karrio/providers/canpar/shipment/create.py,sha256=Vrvs__KX1nX4817BQhCm-jkCdElsks9Z5lpeWzE2z1A,7549
 karrio/providers/canpar/shipment/label.py,sha256=-RLPlZ7tcmzoiLo5HpktbIFx1x6iP5ppl0KNdFzG6zM,792
-karrio.canpar-2023.4.dist-info/METADATA,sha256=6NWwg3pz-z0kEi7SK8hJAsgF6dLaEAawNyFnqTZEfTQ,980
-karrio.canpar-2023.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-karrio.canpar-2023.4.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
-karrio.canpar-2023.4.dist-info/RECORD,,
+karrio.canpar-2023.4.4.dist-info/METADATA,sha256=x0184asq9jHpcQUlOAXKOBI_hYX6GXWLUaSbLZUy3B4,982
+karrio.canpar-2023.4.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+karrio.canpar-2023.4.4.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
+karrio.canpar-2023.4.4.dist-info/RECORD,,
```

