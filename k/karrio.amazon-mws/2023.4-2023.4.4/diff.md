# Comparing `tmp/karrio.amazon_mws-2023.4-py3-none-any.whl.zip` & `tmp/karrio.amazon_mws-2023.4.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,32 +1,32 @@
-Zip file size: 19084 bytes, number of entries: 30
+Zip file size: 19082 bytes, number of entries: 30
 -rw-rw-r--  2.0 unx        0 b- defN 22-Nov-15 19:21 amazon_mws_lib/__init__.py
 -rw-rw-r--  2.0 unx     1751 b- defN 22-Nov-15 19:21 amazon_mws_lib/create_shipment_request.py
 -rw-rw-r--  2.0 unx      931 b- defN 22-Nov-15 19:21 amazon_mws_lib/create_shipment_response.py
 -rw-rw-r--  2.0 unx      299 b- defN 22-Nov-15 19:21 amazon_mws_lib/error_response.py
 -rw-rw-r--  2.0 unx      372 b- defN 22-Nov-15 19:21 amazon_mws_lib/purchase_label_request.py
 -rw-rw-r--  2.0 unx     1420 b- defN 22-Nov-15 19:21 amazon_mws_lib/purchase_label_response.py
 -rw-rw-r--  2.0 unx     2038 b- defN 22-Nov-15 19:21 amazon_mws_lib/purchase_shipment_request.py
 -rw-rw-r--  2.0 unx     1387 b- defN 22-Nov-15 19:21 amazon_mws_lib/purchase_shipment_response.py
 -rw-rw-r--  2.0 unx     1248 b- defN 22-Nov-15 19:21 amazon_mws_lib/rate_request.py
 -rw-rw-r--  2.0 unx      818 b- defN 22-Nov-15 19:21 amazon_mws_lib/rate_response.py
 -rw-rw-r--  2.0 unx      370 b- defN 22-Nov-15 19:21 amazon_mws_lib/shipping_label.py
 -rw-rw-r--  2.0 unx      756 b- defN 22-Nov-15 19:21 amazon_mws_lib/tracking_response.py
 -rw-rw-r--  2.0 unx      443 b- defN 22-Nov-15 19:21 karrio/mappers/amazon_mws/__init__.py
--rw-rw-r--  2.0 unx     2112 b- defN 23-Apr-01 12:43 karrio/mappers/amazon_mws/mapper.py
--rw-rw-r--  2.0 unx     2286 b- defN 23-Apr-01 12:45 karrio/mappers/amazon_mws/proxy.py
--rw-rw-r--  2.0 unx      622 b- defN 23-Apr-15 06:44 karrio/mappers/amazon_mws/settings.py
+-rw-rw-r--  2.0 unx     2112 b- defN 23-Apr-23 04:04 karrio/mappers/amazon_mws/mapper.py
+-rw-rw-r--  2.0 unx     2286 b- defN 23-Apr-23 04:04 karrio/mappers/amazon_mws/proxy.py
+-rw-rw-r--  2.0 unx      622 b- defN 23-Apr-23 04:04 karrio/mappers/amazon_mws/settings.py
 -rw-rw-r--  2.0 unx      352 b- defN 22-Nov-15 19:21 karrio/providers/amazon_mws/__init__.py
 -rw-rw-r--  2.0 unx      755 b- defN 22-Nov-15 19:21 karrio/providers/amazon_mws/error.py
--rw-rw-r--  2.0 unx     3768 b- defN 23-Apr-01 15:18 karrio/providers/amazon_mws/rate.py
--rw-rw-r--  2.0 unx     2263 b- defN 23-Apr-01 15:40 karrio/providers/amazon_mws/tracking.py
+-rw-rw-r--  2.0 unx     3578 b- defN 23-May-17 00:17 karrio/providers/amazon_mws/rate.py
+-rw-rw-r--  2.0 unx     2263 b- defN 23-Apr-23 04:04 karrio/providers/amazon_mws/tracking.py
 -rw-rw-r--  2.0 unx      488 b- defN 22-Nov-15 19:21 karrio/providers/amazon_mws/units.py
 -rw-rw-r--  2.0 unx     1138 b- defN 23-Apr-15 02:55 karrio/providers/amazon_mws/utils.py
 -rw-rw-r--  2.0 unx      236 b- defN 22-Nov-15 19:21 karrio/providers/amazon_mws/shipment/__init__.py
--rw-rw-r--  2.0 unx      975 b- defN 23-Apr-01 15:18 karrio/providers/amazon_mws/shipment/cancel.py
--rw-rw-r--  2.0 unx     4501 b- defN 23-Apr-01 15:18 karrio/providers/amazon_mws/shipment/create.py
--rw-rw-r--  2.0 unx     7650 b- defN 23-Apr-18 07:09 karrio.amazon_mws-2023.4.dist-info/LICENSE
--rw-rw-r--  2.0 unx      999 b- defN 23-Apr-18 07:09 karrio.amazon_mws-2023.4.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Apr-18 07:09 karrio.amazon_mws-2023.4.dist-info/WHEEL
--rw-rw-r--  2.0 unx       30 b- defN 23-Apr-18 07:09 karrio.amazon_mws-2023.4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2790 b- defN 23-Apr-18 07:09 karrio.amazon_mws-2023.4.dist-info/RECORD
-30 files, 42890 bytes uncompressed, 14472 bytes compressed:  66.3%
+-rw-rw-r--  2.0 unx      975 b- defN 23-Apr-23 04:04 karrio/providers/amazon_mws/shipment/cancel.py
+-rw-rw-r--  2.0 unx     4327 b- defN 23-May-17 00:17 karrio/providers/amazon_mws/shipment/create.py
+-rw-rw-r--  2.0 unx     7650 b- defN 23-May-20 11:14 karrio.amazon_mws-2023.4.4.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     1001 b- defN 23-May-20 11:14 karrio.amazon_mws-2023.4.4.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-May-20 11:14 karrio.amazon_mws-2023.4.4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       30 b- defN 23-May-20 11:14 karrio.amazon_mws-2023.4.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2801 b- defN 23-May-20 11:14 karrio.amazon_mws-2023.4.4.dist-info/RECORD
+30 files, 42539 bytes uncompressed, 14450 bytes compressed:  66.0%
```

## zipnote {}

```diff
@@ -69,23 +69,23 @@
 
 Filename: karrio/providers/amazon_mws/shipment/cancel.py
 Comment: 
 
 Filename: karrio/providers/amazon_mws/shipment/create.py
 Comment: 
 
-Filename: karrio.amazon_mws-2023.4.dist-info/LICENSE
+Filename: karrio.amazon_mws-2023.4.4.dist-info/LICENSE
 Comment: 
 
-Filename: karrio.amazon_mws-2023.4.dist-info/METADATA
+Filename: karrio.amazon_mws-2023.4.4.dist-info/METADATA
 Comment: 
 
-Filename: karrio.amazon_mws-2023.4.dist-info/WHEEL
+Filename: karrio.amazon_mws-2023.4.4.dist-info/WHEEL
 Comment: 
 
-Filename: karrio.amazon_mws-2023.4.dist-info/top_level.txt
+Filename: karrio.amazon_mws-2023.4.4.dist-info/top_level.txt
 Comment: 
 
-Filename: karrio.amazon_mws-2023.4.dist-info/RECORD
+Filename: karrio.amazon_mws-2023.4.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## karrio/providers/amazon_mws/rate.py

```diff
@@ -49,42 +49,40 @@
         meta=dict(
             service_name=rate.serviceType,
         ),
     )
 
 
 def rate_request(payload: models.RateRequest, _) -> lib.Serializable:
+    shipper = lib.to_address(payload.shipper)
+    recipient = lib.to_address(payload.recipient)
     packages = lib.to_packages(payload.parcels)
     options = lib.to_shipping_options(payload.options)
     services = lib.to_services(payload.services, provider_units.Service)
 
     request = amazon.RateRequest(
         shipFrom=amazon.Ship(
-            name=payload.shipper.person_name,
-            city=payload.shipper.city,
-            addressLine1=lib.text(
-                payload.shipper.street_number, payload.shipper.address_line1
-            ),
-            addressLine2=payload.shipper.address_line2,
-            stateOrRegion=payload.shipper.state_code,
-            email=payload.shipper.email,
-            copyEmails=lib.join(payload.shipper.email),
-            phoneNumber=payload.shipper.phone_number,
+            name=shipper.person_name,
+            city=shipper.city,
+            addressLine1=shipper.street,
+            addressLine2=shipper.address_line2,
+            stateOrRegion=shipper.state_code,
+            email=shipper.email,
+            copyEmails=lib.join(shipper.email),
+            phoneNumber=shipper.phone_number,
         ),
         shipTo=amazon.Ship(
-            name=payload.recipient.person_name,
-            city=payload.recipient.city,
-            addressLine1=lib.text(
-                payload.recipient.street_number, payload.recipient.address_line1
-            ),
-            addressLine2=payload.recipient.address_line2,
-            stateOrRegion=payload.recipient.state_code,
-            email=payload.recipient.email,
-            copyEmails=lib.join(payload.recipient.email),
-            phoneNumber=payload.recipient.phone_number,
+            name=recipient.person_name,
+            city=recipient.city,
+            addressLine1=recipient.street,
+            addressLine2=recipient.address_line2,
+            stateOrRegion=recipient.state_code,
+            email=recipient.email,
+            copyEmails=lib.join(recipient.email),
+            phoneNumber=recipient.phone_number,
         ),
         serviceTypes=list(services),
         shipDate=lib.fdatetime(
             options.shipment_date.state, "%Y-%m-%d", "%Y-%m-%dT%H:%M:%S.%fZ"
         ),
         containerSpecifications=[
             amazon.ContainerSpecification(
```

## karrio/providers/amazon_mws/shipment/create.py

```diff
@@ -49,40 +49,38 @@
         meta=dict(
             containerReferenceId=result.containerReferenceId,
         ),
     )
 
 
 def shipment_request(payload: models.ShipmentRequest, _) -> lib.Serializable:
+    shipper = lib.to_address(payload.shipper)
+    recipient = lib.to_address(payload.recipient)
     packages = lib.to_packages(payload.parcels)
     options = lib.to_shipping_options(payload.options)
 
     request = amazon.PurchaseShipmentRequest(
         clientReferenceId=payload.reference or payload.id,
         shipFrom=amazon.Ship(
-            name=payload.shipper.person_name,
-            city=payload.shipper.city,
-            addressLine1=lib.text(
-                payload.shipper.street_number, payload.shipper.address_line1
-            ),
-            addressLine2=payload.shipper.address_line2,
-            stateOrRegion=payload.shipper.state_code,
-            email=payload.shipper.email,
-            phoneNumber=payload.shipper.phone_number,
+            name=shipper.person_name,
+            city=shipper.city,
+            addressLine1=shipper.street,
+            addressLine2=shipper.address_line2,
+            stateOrRegion=shipper.state_code,
+            email=shipper.email,
+            phoneNumber=shipper.phone_number,
         ),
         shipTo=amazon.Ship(
-            name=payload.recipient.person_name,
-            city=payload.recipient.city,
-            addressLine1=lib.text(
-                payload.recipient.street_number, payload.recipient.address_line1
-            ),
-            addressLine2=payload.recipient.address_line2,
-            stateOrRegion=payload.recipient.state_code,
-            email=payload.recipient.email,
-            phoneNumber=payload.recipient.phone_number,
+            name=recipient.person_name,
+            city=recipient.city,
+            addressLine1=recipient.street,
+            addressLine2=recipient.address_line2,
+            stateOrRegion=recipient.state_code,
+            email=recipient.email,
+            phoneNumber=recipient.phone_number,
         ),
         shipDate=lib.fdatetime(options.shipment_date.state, "%Y-%m-%d"),
         serviceType=provider_units.Service.map(payload.service).name_or_key,
         containers=[
             amazon.Container(
                 containerType="PACKAGE",
                 containerReferenceId=package.parcel.id,
```

## Comparing `karrio.amazon_mws-2023.4.dist-info/LICENSE` & `karrio.amazon_mws-2023.4.4.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `karrio.amazon_mws-2023.4.dist-info/METADATA` & `karrio.amazon_mws-2023.4.4.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: karrio.amazon-mws
-Version: 2023.4
+Version: 2023.4.4
 Summary: Karrio - AmazonMws Shipping extension
 Home-page: https://github.com/karrioapi/karrio
 Author: karrio
 Author-email: hello@karrio.io
 License: Apache-2.0
 Platform: UNKNOWN
 Classifier: Intended Audience :: Developers
```

## Comparing `karrio.amazon_mws-2023.4.dist-info/RECORD` & `karrio.amazon_mws-2023.4.4.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -12,19 +12,19 @@
 amazon_mws_lib/tracking_response.py,sha256=-sNkxMZ04fYSBvWfsfYq3yZbFnl_6GuFikII4BGV1X4,756
 karrio/mappers/amazon_mws/__init__.py,sha256=B3W82Dcw7ufMqVK9q5eumQ51d5XoKUHO2xdMis4GAuI,443
 karrio/mappers/amazon_mws/mapper.py,sha256=JWGIslh0BuBHaiocVFGrhh29ErSxb620MPChjSAbIrQ,2112
 karrio/mappers/amazon_mws/proxy.py,sha256=YdIPeP_0ZUqEF8GrSx2tDkgofdoxNHZr3yOl6rZRSe8,2286
 karrio/mappers/amazon_mws/settings.py,sha256=rmNHKFvGSmOVbStMQG8SJ6V0vcU6vU8ch8zR8VG13JE,622
 karrio/providers/amazon_mws/__init__.py,sha256=dUkblNzeb1hEmwHXGbbqm0Dz1zH4ZPSVMOszN-7DPt0,352
 karrio/providers/amazon_mws/error.py,sha256=EN2jzhxfKqc9uIEQjF9GKbD3SpdLWjJV7jX2MVsUN6U,755
-karrio/providers/amazon_mws/rate.py,sha256=XmNzRiCPNKTOHGr82BjD673sRW4KLm0eK3Pn4wcT8fI,3768
+karrio/providers/amazon_mws/rate.py,sha256=i_GyQZjHHoA2bkMP70TMFf78pg4xm1E3PkRfksMNRDo,3578
 karrio/providers/amazon_mws/tracking.py,sha256=hbz1Wi-m2SoV7nM50l08Lq7zttE88BlQ2TsDwoCl3v8,2263
 karrio/providers/amazon_mws/units.py,sha256=z_sYyRpxqQ3cIwvMaFF9J9fY8vaLWqGlfYuTjWEwD4M,488
 karrio/providers/amazon_mws/utils.py,sha256=a_lmES_zYpxHjLzQSelKnZy_6Z8Xoi6WUTOR0sdQM4Y,1138
 karrio/providers/amazon_mws/shipment/__init__.py,sha256=zpwfW-qjSNZvBLJzWgeo78Py-ziqmE01FnKFx4dGo-8,236
 karrio/providers/amazon_mws/shipment/cancel.py,sha256=e91a3NSg7kLiR8pbh3t9s4JVmagMPco8Ky0p2xZvjRs,975
-karrio/providers/amazon_mws/shipment/create.py,sha256=BKsHP2nwstpoSuGlvsNUbSimv1QMORoZK_TB61XnY4k,4501
-karrio.amazon_mws-2023.4.dist-info/LICENSE,sha256=6or154nLLU6bELzjh0mCreFjt0m2v72zLi3yHE0QbeE,7650
-karrio.amazon_mws-2023.4.dist-info/METADATA,sha256=S8MZtpV_0mHgRERPn-DMM8XM7I4cMDU65CEMTVQzX_s,999
-karrio.amazon_mws-2023.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-karrio.amazon_mws-2023.4.dist-info/top_level.txt,sha256=8864EsNOlu6Gicnosyzr_5rS4kOO-biPdH_jCTxjouQ,30
-karrio.amazon_mws-2023.4.dist-info/RECORD,,
+karrio/providers/amazon_mws/shipment/create.py,sha256=MOCemDtumauMKo0hMAZjH2IXjmmZ4Mxx7zmXYob7Qj4,4327
+karrio.amazon_mws-2023.4.4.dist-info/LICENSE,sha256=6or154nLLU6bELzjh0mCreFjt0m2v72zLi3yHE0QbeE,7650
+karrio.amazon_mws-2023.4.4.dist-info/METADATA,sha256=yJDKATK-R2N3MjMJ0BlcnIhfMVC6yBWJlPOl8RHuwgs,1001
+karrio.amazon_mws-2023.4.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+karrio.amazon_mws-2023.4.4.dist-info/top_level.txt,sha256=8864EsNOlu6Gicnosyzr_5rS4kOO-biPdH_jCTxjouQ,30
+karrio.amazon_mws-2023.4.4.dist-info/RECORD,,
```

