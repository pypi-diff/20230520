# Comparing `tmp/karrio.server.events-2023.4-py3-none-any.whl.zip` & `tmp/karrio.server.events-2023.4.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,46 +1,46 @@
-Zip file size: 30214 bytes, number of entries: 44
+Zip file size: 30644 bytes, number of entries: 44
 -rw-rw-r--  2.0 unx      144 b- defN 22-Nov-15 19:21 karrio/server/events/__init__.py
 -rw-rw-r--  2.0 unx       63 b- defN 22-Nov-15 19:21 karrio/server/events/admin.py
 -rw-rw-r--  2.0 unx      301 b- defN 22-Nov-15 19:21 karrio/server/events/apps.py
 -rw-rw-r--  2.0 unx     2230 b- defN 23-Mar-03 13:50 karrio/server/events/filters.py
 -rw-rw-r--  2.0 unx     2439 b- defN 23-Mar-03 13:50 karrio/server/events/models.py
 -rw-rw-r--  2.0 unx       95 b- defN 22-Nov-15 19:21 karrio/server/events/router.py
--rw-rw-r--  2.0 unx     4509 b- defN 23-Apr-16 10:41 karrio/server/events/signals.py
+-rw-rw-r--  2.0 unx     4509 b- defN 23-Apr-23 04:04 karrio/server/events/signals.py
 -rw-rw-r--  2.0 unx      712 b- defN 23-Mar-03 13:50 karrio/server/events/tasks.py
 -rw-rw-r--  2.0 unx       60 b- defN 22-Nov-15 19:21 karrio/server/events/tests.py
 -rw-rw-r--  2.0 unx      217 b- defN 22-Nov-15 19:21 karrio/server/events/urls.py
 -rw-rw-r--  2.0 unx     2212 b- defN 23-Mar-03 13:50 karrio/server/events/migrations/0001_initial.py
 -rw-rw-r--  2.0 unx     1620 b- defN 22-Nov-15 19:21 karrio/server/events/migrations/0002_event.py
 -rw-rw-r--  2.0 unx      813 b- defN 22-Nov-15 19:21 karrio/server/events/migrations/0003_auto_20220303_1210.py
--rw-rw-r--  2.0 unx     1305 b- defN 23-Apr-18 09:49 karrio/server/events/migrations/0004_custom_migration_2022_4.py
+-rw-rw-r--  2.0 unx     1305 b- defN 23-Apr-23 04:04 karrio/server/events/migrations/0004_custom_migration_2022_4.py
 -rw-rw-r--  2.0 unx      513 b- defN 22-Nov-15 19:21 karrio/server/events/migrations/0005_event_event_object_idx.py
 -rw-rw-r--  2.0 unx     2880 b- defN 23-Mar-03 13:50 karrio/server/events/migrations/0006_webhook_events_alter_event_data.py
--rw-rw-r--  2.0 unx      780 b- defN 23-Apr-18 09:49 karrio/server/events/migrations/0007_auto_20221130_0255.py
+-rw-rw-r--  2.0 unx      780 b- defN 23-Apr-23 04:04 karrio/server/events/migrations/0007_auto_20221130_0255.py
 -rw-rw-r--  2.0 unx      397 b- defN 23-Mar-03 13:50 karrio/server/events/migrations/0008_alter_event_type.py
--rw-rw-r--  2.0 unx     1825 b- defN 23-Apr-18 10:18 karrio/server/events/migrations/0009_alter_webhook_enabled_events.py
+-rw-rw-r--  2.0 unx     1825 b- defN 23-Apr-23 04:04 karrio/server/events/migrations/0009_alter_webhook_enabled_events.py
 -rw-rw-r--  2.0 unx        0 b- defN 22-Nov-15 19:21 karrio/server/events/migrations/__init__.py
 -rw-rw-r--  2.0 unx       52 b- defN 23-Mar-03 13:50 karrio/server/events/serializers/__init__.py
--rw-rw-r--  2.0 unx     2139 b- defN 23-Apr-16 10:42 karrio/server/events/serializers/base.py
+-rw-rw-r--  2.0 unx     2139 b- defN 23-Apr-23 04:04 karrio/server/events/serializers/base.py
 -rw-rw-r--  2.0 unx      289 b- defN 22-Nov-15 19:21 karrio/server/events/serializers/event.py
 -rw-rw-r--  2.0 unx      713 b- defN 23-Mar-03 13:50 karrio/server/events/serializers/webhook.py
 -rw-rw-r--  2.0 unx       81 b- defN 22-Nov-15 19:21 karrio/server/events/task_definitions/__init__.py
 -rw-rw-r--  2.0 unx     1755 b- defN 23-Mar-18 11:05 karrio/server/events/task_definitions/base/__init__.py
 -rw-rw-r--  2.0 unx     2257 b- defN 23-Mar-16 00:07 karrio/server/events/task_definitions/base/archiving.py
--rw-rw-r--  2.0 unx     7306 b- defN 23-Mar-29 20:04 karrio/server/events/task_definitions/base/tracking.py
+-rw-rw-r--  2.0 unx     7335 b- defN 23-May-18 06:51 karrio/server/events/task_definitions/base/tracking.py
 -rw-rw-r--  2.0 unx     3506 b- defN 23-Mar-03 13:50 karrio/server/events/task_definitions/base/webhook.py
 -rw-rw-r--  2.0 unx      220 b- defN 22-Nov-15 19:21 karrio/server/events/tests/__init__.py
 -rw-rw-r--  2.0 unx     4066 b- defN 23-Mar-03 13:50 karrio/server/events/tests/test_events.py
--rw-rw-r--  2.0 unx     8665 b- defN 23-Mar-29 20:04 karrio/server/events/tests/test_tracking_tasks.py
+-rw-rw-r--  2.0 unx    11806 b- defN 23-May-18 06:37 karrio/server/events/tests/test_tracking_tasks.py
 -rw-rw-r--  2.0 unx     3860 b- defN 22-Nov-15 19:21 karrio/server/events/tests/test_webhooks.py
 -rw-rw-r--  2.0 unx       90 b- defN 22-Nov-15 19:21 karrio/server/events/views/__init__.py
 -rw-rw-r--  2.0 unx     4969 b- defN 23-Mar-03 13:50 karrio/server/events/views/webhooks.py
 -rw-rw-r--  2.0 unx       81 b- defN 23-Mar-03 13:50 karrio/server/graph/schemas/__init__.py
 -rw-rw-r--  2.0 unx     1620 b- defN 23-Mar-03 13:50 karrio/server/graph/schemas/events/__init__.py
 -rw-rw-r--  2.0 unx     1526 b- defN 23-Mar-03 13:50 karrio/server/graph/schemas/events/inputs.py
 -rw-rw-r--  2.0 unx     1862 b- defN 23-Mar-03 13:50 karrio/server/graph/schemas/events/mutations.py
 -rw-rw-r--  2.0 unx     2759 b- defN 23-Mar-03 13:50 karrio/server/graph/schemas/events/types.py
--rw-rw-r--  2.0 unx      679 b- defN 23-Apr-18 10:32 karrio.server.events-2023.4.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Apr-18 10:32 karrio.server.events-2023.4.dist-info/WHEEL
--rw-rw-r--  2.0 unx        7 b- defN 23-Apr-18 10:32 karrio.server.events-2023.4.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     4371 b- defN 23-Apr-18 10:32 karrio.server.events-2023.4.dist-info/RECORD
-44 files, 76080 bytes uncompressed, 22946 bytes compressed:  69.8%
+-rw-rw-r--  2.0 unx      681 b- defN 23-May-20 11:21 karrio.server.events-2023.4.4.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-May-20 11:21 karrio.server.events-2023.4.4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        7 b- defN 23-May-20 11:21 karrio.server.events-2023.4.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4380 b- defN 23-May-20 11:21 karrio.server.events-2023.4.4.dist-info/RECORD
+44 files, 79261 bytes uncompressed, 23360 bytes compressed:  70.5%
```

## zipnote {}

```diff
@@ -114,20 +114,20 @@
 
 Filename: karrio/server/graph/schemas/events/mutations.py
 Comment: 
 
 Filename: karrio/server/graph/schemas/events/types.py
 Comment: 
 
-Filename: karrio.server.events-2023.4.dist-info/METADATA
+Filename: karrio.server.events-2023.4.4.dist-info/METADATA
 Comment: 
 
-Filename: karrio.server.events-2023.4.dist-info/WHEEL
+Filename: karrio.server.events-2023.4.4.dist-info/WHEEL
 Comment: 
 
-Filename: karrio.server.events-2023.4.dist-info/top_level.txt
+Filename: karrio.server.events-2023.4.4.dist-info/top_level.txt
 Comment: 
 
-Filename: karrio.server.events-2023.4.dist-info/RECORD
+Filename: karrio.server.events-2023.4.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## karrio/server/events/task_definitions/base/tracking.py

```diff
@@ -167,18 +167,18 @@
                         tracker.status = status
                         changes.append("status")
 
                     if details.estimated_delivery != tracker.estimated_delivery:
                         tracker.estimated_delivery = details.estimated_delivery
                         changes.append("estimated_delivery")
 
-                    if info != tracker.info:
+                    if any(info.keys()) and info != tracker.info:
                         tracker.info = serializers.process_dictionaries_mutations(
                             ["info"], dict(info=info), tracker
-                        )
+                        )['info']
                         changes.append("info")
 
                     if any(changes):
                         tracker.save(update_fields=changes)
                         serializers.update_shipment_tracker(tracker)
                         logger.debug(
                             f"tracking info {details.tracking_number} updated successfully"
```

## karrio/server/events/tests/test_tracking_tasks.py

```diff
@@ -26,14 +26,18 @@
                         "code": "MP",
                         "time": "13:58",
                     }
                 ],
                 "status": "in_transit",
                 "created_by": self.user,
                 "tracking_carrier": self.ups_carrier,
+                "info": {
+                    "carrier_tracking_link": "https://www.ups.com/track?loc=en_US&requester=QUIC&tracknum=1Z12345E6205277936/trackdetails",
+                    "shipment_service": "UPS Ground",
+                },
             },
             {
                 "tracking_number": "00340434292135100124",
                 "test_mode": True,
                 "delivered": False,
                 "events": [
                     {
@@ -43,14 +47,20 @@
                         "code": "pre-transit",
                         "time": "20:34",
                     }
                 ],
                 "status": "in_transit",
                 "created_by": self.user,
                 "tracking_carrier": self.dhl_carrier,
+                "info": {
+                    "carrier_tracking_link": "https://www.dhl.com/ca-en/home/tracking/tracking-parcel.html?submit=1&tracking-id=00340434292135100124",
+                    "package_weight": 0.74,
+                    "package_weight_unit": "KG",
+                    "shipping_date": "2021-01-11",
+                },
             },
         ]
         [models.Tracking.objects.create(**t) for t in trackers]
 
     def test_get_trackers(self):
         url = reverse("karrio.server.manager:trackers-list")
 
@@ -89,14 +99,19 @@
                     code="KB",
                     date="2010-08-30",
                     description="UPS INTERNAL ACTIVITY CODE",
                     location="BONN",
                     time="10:39",
                 )
             ],
+            status="in_transit",
+            info={
+                "carrier_tracking_link": "https://www.ups.com/track?loc=en_US&requester=QUIC&tracknum=1Z12345E6205277936/trackdetails",
+                "shipment_service": "UPS Ground",
+            },
         )
     ],
     [],
 )
 
 TRACKING_RESPONSE = {
     "id": ANY,
@@ -195,14 +210,22 @@
                     code="pre-transit",
                     date="2021-01-11",
                     description="The instruction data for this shipment have been provided by the sender to DHL electronically",
                     location="BONN",
                     time="20:34",
                 ),
             ],
+            info={
+                "carrier_tracking_link": "https://www.dhl.com/ca-en/home/tracking/tracking-parcel.html?submit=1&tracking-id=00340434292135100124",
+                "package_weight": "0.74",
+                "package_weight_unit": "KG",
+                "shipment_service": "dhl_express_worldwide",
+                "shipping_date": "2021-01-11",
+                "signed_by": "Jane Doe",
+            },
         )
     ],
     [],
 )
 
 UPDATED_TRACKERS_LIST = {
     "count": 2,
@@ -238,15 +261,35 @@
             "delivered": False,
             "test_mode": True,
             "status": "in_transit",
             "estimated_delivery": None,
             "messages": [],
             "meta": {},
             "metadata": {},
-            "info": ANY,
+            "info": {
+                "carrier_tracking_link": "https://www.dhl.com/ca-en/home/tracking/tracking-parcel.html?submit=1&tracking-id=00340434292135100124",
+                "customer_name": None,
+                "expected_delivery": None,
+                "note": None,
+                "order_date": None,
+                "order_id": None,
+                "package_weight": "0.74",
+                "package_weight_unit": "KG",
+                "shipment_delivery_date": None,
+                "shipment_destination_country": None,
+                "shipment_destination_postal_code": None,
+                "shipment_origin_country": None,
+                "shipment_origin_postal_code": None,
+                "shipment_package_count": None,
+                "shipment_pickup_date": None,
+                "shipment_service": "dhl_express_worldwide",
+                "shipping_date": "2021-01-11",
+                "signed_by": "Jane Doe",
+                "source": None,
+            },
         },
         {
             "id": ANY,
             "object_type": "tracker",
             "carrier_name": "ups",
             "carrier_id": "ups_package",
             "tracking_number": "1Z12345E6205277936",
@@ -264,11 +307,31 @@
             "delivered": False,
             "test_mode": True,
             "status": "in_transit",
             "estimated_delivery": None,
             "messages": [],
             "meta": {},
             "metadata": {},
-            "info": ANY,
+            "info": {
+                "carrier_tracking_link": "https://www.ups.com/track?loc=en_US&requester=QUIC&tracknum=1Z12345E6205277936/trackdetails",
+                "customer_name": None,
+                "expected_delivery": None,
+                "note": None,
+                "order_date": None,
+                "order_id": None,
+                "package_weight": None,
+                "package_weight_unit": None,
+                "shipment_delivery_date": None,
+                "shipment_destination_country": None,
+                "shipment_destination_postal_code": None,
+                "shipment_origin_country": None,
+                "shipment_origin_postal_code": None,
+                "shipment_package_count": None,
+                "shipment_pickup_date": None,
+                "shipment_service": "UPS Ground",
+                "shipping_date": None,
+                "signed_by": None,
+                "source": None,
+            },
         },
     ],
 }
```

## Comparing `karrio.server.events-2023.4.dist-info/METADATA` & `karrio.server.events-2023.4.4.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: karrio.server.events
-Version: 2023.4
+Version: 2023.4.4
 Summary: Multi-carrier shipping API Events module
 Home-page: https://github.com/karrioapi/karrio
 Author: karrio
 Author-email: hello@karrio.io
 License: Apache-2.0
 Platform: UNKNOWN
 Classifier: Programming Language :: Python :: 3
```

## Comparing `karrio.server.events-2023.4.dist-info/RECORD` & `karrio.server.events-2023.4.4.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -21,24 +21,24 @@
 karrio/server/events/serializers/__init__.py,sha256=S5KJONM1VFbB_Wyl__F2YbdSV7R_5RPNFos0ERkfDko,52
 karrio/server/events/serializers/base.py,sha256=srecDHVUafF12q6Sh8I9d7ZzwqwgKoZkA6JIMxX1zLY,2139
 karrio/server/events/serializers/event.py,sha256=dKYqldfSEjKMY7uB1rBFfEfSZ_dfEp8EPxbkBBSWzcc,289
 karrio/server/events/serializers/webhook.py,sha256=gOu6mFbloVVbS1XuOHG6sFjBpLmo0byvuG6aVEQVK5M,713
 karrio/server/events/task_definitions/__init__.py,sha256=bpT73UG7mZL_JjEqMwbYx6q69jA8J5Jcoul1LcDokhA,81
 karrio/server/events/task_definitions/base/__init__.py,sha256=UTEadJeDg9cHBpra9n1bp4cowoQRwIykgsIg02Yu0e8,1755
 karrio/server/events/task_definitions/base/archiving.py,sha256=flbcxmD1pKlzCrYvekbwJ7Dvz4TaLdudAAsWH8JAjzI,2257
-karrio/server/events/task_definitions/base/tracking.py,sha256=q2vrN0VK2jW243-EwPQkV1wHkG4g6Qr1MSjjoNQQSBE,7306
+karrio/server/events/task_definitions/base/tracking.py,sha256=3LuHhi5FnVSaHzbiUnQOTu9Dzzm2XTIAnFGQ4I6Qj64,7335
 karrio/server/events/task_definitions/base/webhook.py,sha256=NgXMJw_55pwZ5z4bu49VUekFNkUJ_cwvs01PNnLxhI4,3506
 karrio/server/events/tests/__init__.py,sha256=5szv9hDvu0R0jtm3XWktY19rCaE8bZ2LdjRm4oJ0pYA,220
 karrio/server/events/tests/test_events.py,sha256=Fxi1hv_lyuRJw5Y_ydywhq5P3akpxet4mFMFSiHU96c,4066
-karrio/server/events/tests/test_tracking_tasks.py,sha256=NoCYd0kTmOjJf0zYSOxCaqIeq6KUlrwcCTlTSlXviDw,8665
+karrio/server/events/tests/test_tracking_tasks.py,sha256=WjBQr3ahXJ5tjeOXPnpQM8MK_Uh7iFbQHduM0RTzL9I,11806
 karrio/server/events/tests/test_webhooks.py,sha256=5Ts3RG_DQ5x0mnWRgTLOX-7FjSAEHXCvT913Sm7FLNM,3860
 karrio/server/events/views/__init__.py,sha256=Y4hfjd_YSOHj6L7oH41bssVW8rXI_l4vD_IthfNuJ2o,90
 karrio/server/events/views/webhooks.py,sha256=6WAxjzss4SrWC_yPQlnv4CnIvfaIiev9zhRFuw45WTs,4969
 karrio/server/graph/schemas/__init__.py,sha256=iOEMwnlORWezdO8-2vxBIPSR37D7JGjluZ8f55vzxls,81
 karrio/server/graph/schemas/events/__init__.py,sha256=Yg1rWew5DgSb_OnLy8n7qqwPLfVcZ1xm0_VzqP04rlE,1620
 karrio/server/graph/schemas/events/inputs.py,sha256=Mgy9qCUrbL-sMI5dNXsnbW8K5_PnGKM13brzZrc5OWk,1526
 karrio/server/graph/schemas/events/mutations.py,sha256=930g2D5TnAEgEjfEfLml1Q9OGCyxe2D592BhzSGDQAQ,1862
 karrio/server/graph/schemas/events/types.py,sha256=TPlrDwQV4LZXu-1t4gFl_eYayU39THmgYT3uv7VXnnw,2759
-karrio.server.events-2023.4.dist-info/METADATA,sha256=w2ZzA7fqDrUP6ImlA6Rilr5at1E0HlE-WERR_6sMzhM,679
-karrio.server.events-2023.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-karrio.server.events-2023.4.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
-karrio.server.events-2023.4.dist-info/RECORD,,
+karrio.server.events-2023.4.4.dist-info/METADATA,sha256=y5HDOJE4vxmQMO-IALUmiO6V1zpoYqS3QmSAL9Gp8pg,681
+karrio.server.events-2023.4.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+karrio.server.events-2023.4.4.dist-info/top_level.txt,sha256=mfkVZXzNuVRmA7NRlck_Ub-C8Zgtqxbx3gX1Rq_W-i0,7
+karrio.server.events-2023.4.4.dist-info/RECORD,,
```

