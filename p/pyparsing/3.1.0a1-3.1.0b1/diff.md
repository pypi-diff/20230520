# Comparing `tmp/pyparsing-3.1.0a1.tar.gz` & `tmp/pyparsing-3.1.0b1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "pyparsing-3.1.0a1.tar", last modified: Wed Mar  8 03:36:34 2023, max compression
+gzip compressed data, was "pyparsing-3.1.0b1.tar", last modified: Sat Apr  8 19:01:08 2023, max compression
```

## Comparing `pyparsing-3.1.0a1.tar` & `pyparsing-3.1.0b1.tar`

### file list

```diff
@@ -1,160 +1,160 @@
--rw-r--r--   0        0        0      120 2023-03-07 19:51:25.956875 pyparsing-3.1.0a1/.coveragerc
--rw-r--r--   0        0        0     2282 2022-12-22 08:36:25.885726 pyparsing-3.1.0a1/.gitignore
--rw-r--r--   0        0        0      126 2022-12-22 08:36:25.885726 pyparsing-3.1.0a1/.pre-commit-config.yaml
--rw-r--r--   0        0        0      784 2022-12-22 08:36:25.885726 pyparsing-3.1.0a1/BUILDING.md
--rw-r--r--   0        0        0   170628 2023-03-08 01:11:04.656653 pyparsing-3.1.0a1/CHANGES
--rw-r--r--   0        0        0     3341 2022-12-22 08:36:25.889726 pyparsing-3.1.0a1/CODE_OF_CONDUCT.rst
--rw-r--r--   0        0        0     6891 2022-12-22 08:36:25.889726 pyparsing-3.1.0a1/CONTRIBUTING.md
--rw-r--r--   0        0        0     1023 2022-12-22 08:36:25.889726 pyparsing-3.1.0a1/LICENSE
--rw-r--r--   0        0        0     3463 2022-12-22 08:36:25.889726 pyparsing-3.1.0a1/README.rst
--rw-r--r--   0        0        0       36 2022-12-22 08:36:25.889726 pyparsing-3.1.0a1/docs/CODE_OF_CONDUCT.rst
--rw-r--r--   0        0        0    64281 2023-03-07 05:30:56.451673 pyparsing-3.1.0a1/docs/HowToUsePyparsing.rst
--rw-r--r--   0        0        0      606 2022-12-22 08:36:25.889726 pyparsing-3.1.0a1/docs/Makefile
--rw-r--r--   0        0        0   236402 2022-12-22 08:36:25.893725 pyparsing-3.1.0a1/docs/_static/pyparsingClassDiagram_1.5.2.jpg
--rw-r--r--   0        0        0   287969 2022-12-22 08:36:25.897725 pyparsing-3.1.0a1/docs/_static/pyparsingClassDiagram_3.0.9.jpg
--rw-r--r--   0        0        0    42634 2022-12-22 08:36:25.897725 pyparsing-3.1.0a1/docs/_static/sql_railroad.html
--rw-r--r--   0        0        0     5463 2022-12-22 08:36:25.897725 pyparsing-3.1.0a1/docs/conf.py
--rw-r--r--   0        0        0      537 2022-12-22 08:36:25.897725 pyparsing-3.1.0a1/docs/index.rst
--rw-r--r--   0        0        0       64 2022-12-22 08:36:25.897725 pyparsing-3.1.0a1/docs/modules.rst
--rw-r--r--   0        0        0      120 2022-12-22 08:36:25.897725 pyparsing-3.1.0a1/docs/pyparsing.rst
--rw-r--r--   0        0        0     5997 2022-12-22 08:36:25.897725 pyparsing-3.1.0a1/docs/pyparsing_class_diagram.puml
--rw-r--r--   0        0        0    31520 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/docs/whats_new_in_3_0_0.rst
--rw-r--r--   0        0        0    10531 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/0README.html
--rw-r--r--   0        0        0    39138 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/AcManForm.dfm
--rw-r--r--   0        0        0    21112 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/LAparser.py
--rw-r--r--   0        0        0     1443 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/Setup.ini
--rw-r--r--   0        0        0     3671 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/SimpleCalc.py
--rw-r--r--   0        0        0    43724 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/SingleForm.dfm
--rw-r--r--   0        0        0     7608 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/TAP.py
--rw-r--r--   0        0        0        0 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/__init__.py
--rw-r--r--   0        0        0    20401 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/adventureEngine.py
--rw-r--r--   0        0        0    11143 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/antlr_grammar.py
--rw-r--r--   0        0        0     2955 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/antlr_grammar_tests.py
--rw-r--r--   0        0        0     2251 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/apicheck.py
--rw-r--r--   0        0        0    64015 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/bigquery_view_parser.py
--rw-r--r--   0        0        0    15575 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/booleansearchparser.py
--rw-r--r--   0        0        0     4257 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/btpyparse.py
--rw-r--r--   0        0        0      883 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/builtin_parse_action_demo.py
--rw-r--r--   0        0        0      853 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/cLibHeader.py
--rw-r--r--   0        0        0     3186 2022-12-22 08:36:25.901725 pyparsing-3.1.0a1/examples/chemicalFormulas.py
--rw-r--r--   0        0        0      707 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/commasep.py
--rw-r--r--   0        0        0     2043 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/configParse.py
--rw-r--r--   0        0        0     1354 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/cpp_enum_parser.py
--rw-r--r--   0        0        0     2633 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/cuneiform_python.py
--rw-r--r--   0        0        0     2080 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/datetimeParseActions.py
--rw-r--r--   0        0        0     7591 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/decaf_parser.py
--rw-r--r--   0        0        0    16126 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/delta_time.py
--rw-r--r--   0        0        0     7212 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/dfmparse.py
--rw-r--r--   0        0        0     3048 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/dhcpd_leases_parser.py
--rw-r--r--   0        0        0     1776 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/dictExample.py
--rw-r--r--   0        0        0     2152 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/dictExample2.py
--rw-r--r--   0        0        0     4247 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/ebnf.py
--rw-r--r--   0        0        0     2403 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/ebnftest.py
--rw-r--r--   0        0        0     6308 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/eval_arith.py
--rw-r--r--   0        0        0     2475 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/excelExpr.py
--rw-r--r--   0        0        0    10518 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/fourFn.py
--rw-r--r--   0        0        0     5426 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/gen_ctypes.py
--rw-r--r--   0        0        0     1147 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/getNTPserversNew.py
--rw-r--r--   0        0        0      515 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/greeting.py
--rw-r--r--   0        0        0      424 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/greetingInGreek.py
--rw-r--r--   0        0        0      486 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/greetingInKorean.py
--rw-r--r--   0        0        0      509 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/groupUsingListAllMatches.py
--rw-r--r--   0        0        0     2046 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/holaMundo.py
--rw-r--r--   0        0        0     1109 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/htmlStripper.py
--rw-r--r--   0        0        0     2096 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/htmlTableParser.py
--rw-r--r--   0        0        0     3565 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/httpServerLogParser.py
--rw-r--r--   0        0        0     7714 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/idlParse.py
--rw-r--r--   0        0        0     2688 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/include_preprocessor.py
--rw-r--r--   0        0        0     1022 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/indentedGrammarExample.py
--rw-r--r--   0        0        0      712 2022-12-22 08:36:25.905725 pyparsing-3.1.0a1/examples/indented_block_example.py
--rw-r--r--   0        0        0     8266 2023-01-23 05:54:13.214904 pyparsing-3.1.0a1/examples/inv_regex.py
--rw-r--r--   0        0        0    18536 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/javascript_grammar.g
--rw-r--r--   0        0        0     4809 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/jsonParser.py
--rw-r--r--   0        0        0     1439 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/left_recursion.py
--rw-r--r--   0        0        0     1563 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/linenoExample.py
--rw-r--r--   0        0        0     1612 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/listAllMatches.py
--rw-r--r--   0        0        0     7995 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/lua_parser.py
--rw-r--r--   0        0        0     8038 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/lucene_grammar.py
--rw-r--r--   0        0        0     1824 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/macroExpander.py
--rw-r--r--   0        0        0     1520 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/make_diagram.py
--rw-r--r--   0        0        0      586 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/matchPreviousDemo.py
--rw-r--r--   0        0        0      752 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/mozilla.ics
--rw-r--r--   0        0        0     2773 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/mozillaCalendarParser.py
--rw-r--r--   0        0        0      579 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/nested.py
--rw-r--r--   0        0        0     1892 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/nested_markup.py
--rw-r--r--   0        0        0     3884 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/number_words.py
--rw-r--r--   0        0        0     1364 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/numerics.py
--rw-r--r--   0        0        0     4445 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/oc.py
--rw-r--r--   0        0        0     1927 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/one_to_ninety_nine.py
--rw-r--r--   0        0        0     2146 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/parsePythonValue.py
--rw-r--r--   0        0        0      844 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/parseResultsSumExample.py
--rw-r--r--   0        0        0     1721 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/parseTabularData.py
--rw-r--r--   0        0        0     2400 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/partial_gene_match.py
--rw-r--r--   0        0        0     3552 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/pgn.py
--rw-r--r--   0        0        0     2221 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/position.py
--rw-r--r--   0        0        0     4053 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/protobuf_parser.py
--rw-r--r--   0        0        0     8271 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/pythonGrammarParser.py
--rw-r--r--   0        0        0     1586 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/railroad_diagram_demo.py
--rw-r--r--   0        0        0     2151 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/rangeCheck.py
--rw-r--r--   0        0        0   123651 2022-12-22 08:36:25.909725 pyparsing-3.1.0a1/examples/readJson.py
--rw-r--r--   0        0        0     1846 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/removeLineBreaks.py
--rw-r--r--   0        0        0     2493 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/romanNumerals.py
--rw-r--r--   0        0        0     7609 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/rosettacode.py
--rw-r--r--   0        0        0     2414 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/scanExamples.py
--rw-r--r--   0        0        0      962 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/searchParserAppDemo.py
--rw-r--r--   0        0        0    10654 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/searchparser.py
--rw-r--r--   0        0        0     8225 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/select_parser.py
--rw-r--r--   0        0        0     5351 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/sexpParser.py
--rw-r--r--   0        0        0     1729 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/shapes.py
--rw-r--r--   0        0        0     2477 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/simpleArith.py
--rw-r--r--   0        0        0     3275 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/simpleBool.py
--rw-r--r--   0        0        0     3234 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/simpleSQL.py
--rw-r--r--   0        0        0     1108 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/simpleWiki.py
--rw-r--r--   0        0        0    29375 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/snmp_api.h
--rw-r--r--   0        0        0     3141 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/sql2dot.py
--rw-r--r--   0        0        0     2795 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/stackish.py
--rw-r--r--   0        0        0     1145 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/statemachine/documentSignoffDemo.py
--rw-r--r--   0        0        0     2879 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/statemachine/documentsignoffstate.pystate
--rw-r--r--   0        0        0     1759 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/statemachine/libraryBookDemo.py
--rw-r--r--   0        0        0      542 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/statemachine/librarybookstate.pystate
--rw-r--r--   0        0        0    12422 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/statemachine/statemachine.py
--rw-r--r--   0        0        0      550 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/statemachine/trafficLightDemo.py
--rw-r--r--   0        0        0     1149 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/statemachine/trafficlightstate.pystate
--rw-r--r--   0        0        0     2441 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/statemachine/vending_machine.py
--rw-r--r--   0        0        0     1192 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/statemachine/video_demo.py
--rw-r--r--   0        0        0      861 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/statemachine/videostate.pystate
--rw-r--r--   0        0        0     8926 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/test_bibparse.py
--rw-r--r--   0        0        0     3790 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/unicode_denormalizer.py
--rw-r--r--   0        0        0     1054 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/urlExtractor.py
--rw-r--r--   0        0        0     2458 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/urlExtractorNew.py
--rw-r--r--   0        0        0    32183 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/verilogParse.py
--rw-r--r--   0        0        0      912 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/withAttribute.py
--rw-r--r--   0        0        0     2995 2022-12-22 08:36:25.913725 pyparsing-3.1.0a1/examples/wordsToNum.py
--rw-r--r--   0        0        0     9084 2023-03-08 01:11:04.656653 pyparsing-3.1.0a1/pyparsing/__init__.py
--rw-r--r--   0        0        0     6567 2022-12-22 08:36:25.917725 pyparsing-3.1.0a1/pyparsing/actions.py
--rw-r--r--   0        0        0    13352 2023-01-23 05:54:13.214904 pyparsing-3.1.0a1/pyparsing/common.py
--rw-r--r--   0        0        0   223542 2023-03-07 06:52:21.464104 pyparsing-3.1.0a1/pyparsing/core.py
--rw-r--r--   0        0        0    23923 2022-12-22 08:36:25.917725 pyparsing-3.1.0a1/pyparsing/diagram/__init__.py
--rw-r--r--   0        0        0     9523 2022-12-22 08:36:25.917725 pyparsing-3.1.0a1/pyparsing/exceptions.py
--rw-r--r--   0        0        0    39341 2022-12-22 08:36:25.917725 pyparsing-3.1.0a1/pyparsing/helpers.py
--rw-r--r--   0        0        0        0 2022-12-22 08:36:25.917725 pyparsing-3.1.0a1/pyparsing/py.typed
--rw-r--r--   0        0        0    26698 2023-03-07 21:04:53.872399 pyparsing-3.1.0a1/pyparsing/results.py
--rw-r--r--   0        0        0    13488 2022-12-22 08:36:25.917725 pyparsing-3.1.0a1/pyparsing/testing.py
--rw-r--r--   0        0        0    10634 2023-01-23 05:54:13.214904 pyparsing-3.1.0a1/pyparsing/unicode.py
--rw-r--r--   0        0        0     8458 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/pyparsing/util.py
--rw-r--r--   0        0        0     1683 2023-03-07 15:06:28.623551 pyparsing-3.1.0a1/pyproject.toml
--rw-r--r--   0        0        0      500 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/tests/README.md
--rw-r--r--   0        0        0        0 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/tests/__init__.py
--rw-r--r--   0        0        0     2851 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/tests/diag_embed.html
--rw-r--r--   0        0        0     2915 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/tests/diag_no_embed.html
--rw-r--r--   0        0        0    12369 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/tests/json_parser_tests.py
--rw-r--r--   0        0        0      347 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/tests/karthik.ini
--rw-r--r--   0        0        0      667 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/tests/mypy-ignore-cases/forward_methods.py
--rw-r--r--   0        0        0       11 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/tests/parsefiletest_input_file.txt
--rw-r--r--   0        0        0       38 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/tests/requirements.txt
--rw-r--r--   0        0        0     7000 2023-03-07 21:27:06.425360 pyparsing-3.1.0a1/tests/test_diagram.py
--rw-r--r--   0        0        0     1017 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/tests/test_examples.py
--rw-r--r--   0        0        0    25716 2022-12-22 08:36:25.921725 pyparsing-3.1.0a1/tests/test_simple_unit.py
--rw-r--r--   0        0        0   352683 2023-03-07 05:30:56.459673 pyparsing-3.1.0a1/tests/test_unit.py
--rw-r--r--   0        0        0      420 2023-03-07 19:51:37.924667 pyparsing-3.1.0a1/tox.ini
--rw-r--r--   0        0        0     4878 1970-01-01 00:00:00.000000 pyparsing-3.1.0a1/PKG-INFO
+-rw-r--r--   0        0        0      120 2023-04-08 05:25:24.240679 pyparsing-3.1.0b1/.coveragerc
+-rw-r--r--   0        0        0     2282 2023-04-08 05:25:24.240679 pyparsing-3.1.0b1/.gitignore
+-rw-r--r--   0        0        0      126 2023-04-08 05:25:24.240679 pyparsing-3.1.0b1/.pre-commit-config.yaml
+-rw-r--r--   0        0        0      784 2023-04-08 05:25:24.240679 pyparsing-3.1.0b1/BUILDING.md
+-rw-r--r--   0        0        0   172341 2023-04-08 17:31:07.743485 pyparsing-3.1.0b1/CHANGES
+-rw-r--r--   0        0        0     3341 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/CODE_OF_CONDUCT.rst
+-rw-r--r--   0        0        0     6891 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/CONTRIBUTING.md
+-rw-r--r--   0        0        0     1023 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/LICENSE
+-rw-r--r--   0        0        0     3463 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/README.rst
+-rw-r--r--   0        0        0       36 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/docs/CODE_OF_CONDUCT.rst
+-rw-r--r--   0        0        0    64281 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/docs/HowToUsePyparsing.rst
+-rw-r--r--   0        0        0      606 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/docs/Makefile
+-rw-r--r--   0        0        0   236402 2023-04-08 05:25:24.248679 pyparsing-3.1.0b1/docs/_static/pyparsingClassDiagram_1.5.2.jpg
+-rw-r--r--   0        0        0   287969 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/_static/pyparsingClassDiagram_3.0.9.jpg
+-rw-r--r--   0        0        0    42634 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/_static/sql_railroad.html
+-rw-r--r--   0        0        0     5463 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/conf.py
+-rw-r--r--   0        0        0      537 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/index.rst
+-rw-r--r--   0        0        0       64 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/modules.rst
+-rw-r--r--   0        0        0      120 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/pyparsing.rst
+-rw-r--r--   0        0        0     5997 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/docs/pyparsing_class_diagram.puml
+-rw-r--r--   0        0        0    31520 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/docs/whats_new_in_3_0_0.rst
+-rw-r--r--   0        0        0    10531 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/0README.html
+-rw-r--r--   0        0        0    39138 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/AcManForm.dfm
+-rw-r--r--   0        0        0    21112 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/LAparser.py
+-rw-r--r--   0        0        0     1443 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/Setup.ini
+-rw-r--r--   0        0        0     3671 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/SimpleCalc.py
+-rw-r--r--   0        0        0    43724 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/SingleForm.dfm
+-rw-r--r--   0        0        0     7608 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/TAP.py
+-rw-r--r--   0        0        0        0 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/__init__.py
+-rw-r--r--   0        0        0    21862 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/adventureEngine.py
+-rw-r--r--   0        0        0    11143 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/antlr_grammar.py
+-rw-r--r--   0        0        0     2955 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/antlr_grammar_tests.py
+-rw-r--r--   0        0        0     2251 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/apicheck.py
+-rw-r--r--   0        0        0    64015 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/bigquery_view_parser.py
+-rw-r--r--   0        0        0    15575 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/booleansearchparser.py
+-rw-r--r--   0        0        0     4257 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/btpyparse.py
+-rw-r--r--   0        0        0      883 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/builtin_parse_action_demo.py
+-rw-r--r--   0        0        0      853 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/cLibHeader.py
+-rw-r--r--   0        0        0     3173 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/chemicalFormulas.py
+-rw-r--r--   0        0        0      707 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/commasep.py
+-rw-r--r--   0        0        0     2043 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/configParse.py
+-rw-r--r--   0        0        0     1354 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/cpp_enum_parser.py
+-rw-r--r--   0        0        0     2633 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/cuneiform_python.py
+-rw-r--r--   0        0        0     2080 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/datetimeParseActions.py
+-rw-r--r--   0        0        0     7591 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/decaf_parser.py
+-rw-r--r--   0        0        0    16157 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/delta_time.py
+-rw-r--r--   0        0        0     7212 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/dfmparse.py
+-rw-r--r--   0        0        0     3048 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/dhcpd_leases_parser.py
+-rw-r--r--   0        0        0     1776 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/dictExample.py
+-rw-r--r--   0        0        0     2152 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/dictExample2.py
+-rw-r--r--   0        0        0     4247 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/ebnf.py
+-rw-r--r--   0        0        0     2403 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/ebnftest.py
+-rw-r--r--   0        0        0     6316 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/eval_arith.py
+-rw-r--r--   0        0        0     2475 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/excelExpr.py
+-rw-r--r--   0        0        0    10518 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/fourFn.py
+-rw-r--r--   0        0        0     5416 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/gen_ctypes.py
+-rw-r--r--   0        0        0     1138 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/getNTPserversNew.py
+-rw-r--r--   0        0        0      518 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/greeting.py
+-rw-r--r--   0        0        0      425 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/greetingInGreek.py
+-rw-r--r--   0        0        0      487 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/greetingInKorean.py
+-rw-r--r--   0        0        0      509 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/groupUsingListAllMatches.py
+-rw-r--r--   0        0        0     2046 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/holaMundo.py
+-rw-r--r--   0        0        0     1109 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/htmlStripper.py
+-rw-r--r--   0        0        0     2096 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/htmlTableParser.py
+-rw-r--r--   0        0        0     3565 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/httpServerLogParser.py
+-rw-r--r--   0        0        0     7714 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/idlParse.py
+-rw-r--r--   0        0        0     2688 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/include_preprocessor.py
+-rw-r--r--   0        0        0     1022 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/indentedGrammarExample.py
+-rw-r--r--   0        0        0      712 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/indented_block_example.py
+-rw-r--r--   0        0        0     8279 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/inv_regex.py
+-rw-r--r--   0        0        0    18536 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/javascript_grammar.g
+-rw-r--r--   0        0        0     4809 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/jsonParser.py
+-rw-r--r--   0        0        0     1439 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/left_recursion.py
+-rw-r--r--   0        0        0     1563 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/linenoExample.py
+-rw-r--r--   0        0        0     1612 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/listAllMatches.py
+-rw-r--r--   0        0        0     7995 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/lua_parser.py
+-rw-r--r--   0        0        0     8592 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/lucene_grammar.py
+-rw-r--r--   0        0        0     1824 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/macroExpander.py
+-rw-r--r--   0        0        0     1520 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/make_diagram.py
+-rw-r--r--   0        0        0      586 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/matchPreviousDemo.py
+-rw-r--r--   0        0        0      752 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/mozilla.ics
+-rw-r--r--   0        0        0     2773 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/mozillaCalendarParser.py
+-rw-r--r--   0        0        0      579 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/nested.py
+-rw-r--r--   0        0        0     1892 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/nested_markup.py
+-rw-r--r--   0        0        0     3859 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/number_words.py
+-rw-r--r--   0        0        0     1374 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/numerics.py
+-rw-r--r--   0        0        0     4445 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/oc.py
+-rw-r--r--   0        0        0     1927 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/one_to_ninety_nine.py
+-rw-r--r--   0        0        0     2156 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/parsePythonValue.py
+-rw-r--r--   0        0        0      844 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/parseResultsSumExample.py
+-rw-r--r--   0        0        0     1721 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/parseTabularData.py
+-rw-r--r--   0        0        0     2400 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/partial_gene_match.py
+-rw-r--r--   0        0        0     3416 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/pgn.py
+-rw-r--r--   0        0        0     2221 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/position.py
+-rw-r--r--   0        0        0     3982 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/protobuf_parser.py
+-rw-r--r--   0        0        0     8271 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/pythonGrammarParser.py
+-rw-r--r--   0        0        0     1586 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/railroad_diagram_demo.py
+-rw-r--r--   0        0        0     2147 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/rangeCheck.py
+-rw-r--r--   0        0        0   123651 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/readJson.py
+-rw-r--r--   0        0        0     1846 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/removeLineBreaks.py
+-rw-r--r--   0        0        0     2493 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/romanNumerals.py
+-rw-r--r--   0        0        0     7609 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/rosettacode.py
+-rw-r--r--   0        0        0     2414 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/scanExamples.py
+-rw-r--r--   0        0        0      962 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/searchParserAppDemo.py
+-rw-r--r--   0        0        0    10654 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/searchparser.py
+-rw-r--r--   0        0        0     8225 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/select_parser.py
+-rw-r--r--   0        0        0     5351 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/sexpParser.py
+-rw-r--r--   0        0        0     1729 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/shapes.py
+-rw-r--r--   0        0        0     2477 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/simpleArith.py
+-rw-r--r--   0        0        0     3275 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/simpleBool.py
+-rw-r--r--   0        0        0     3234 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/simpleSQL.py
+-rw-r--r--   0        0        0     1108 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/simpleWiki.py
+-rw-r--r--   0        0        0    29375 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/snmp_api.h
+-rw-r--r--   0        0        0     3141 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/sql2dot.py
+-rw-r--r--   0        0        0     2795 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/stackish.py
+-rw-r--r--   0        0        0     1145 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/statemachine/documentSignoffDemo.py
+-rw-r--r--   0        0        0     2879 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/statemachine/documentsignoffstate.pystate
+-rw-r--r--   0        0        0     1759 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/libraryBookDemo.py
+-rw-r--r--   0        0        0      542 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/librarybookstate.pystate
+-rw-r--r--   0        0        0    12422 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/statemachine.py
+-rw-r--r--   0        0        0      550 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/trafficLightDemo.py
+-rw-r--r--   0        0        0     1149 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/trafficlightstate.pystate
+-rw-r--r--   0        0        0     2441 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/vending_machine.py
+-rw-r--r--   0        0        0     1192 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/video_demo.py
+-rw-r--r--   0        0        0      861 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/videostate.pystate
+-rw-r--r--   0        0        0     8926 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/test_bibparse.py
+-rw-r--r--   0        0        0     3790 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/unicode_denormalizer.py
+-rw-r--r--   0        0        0     1054 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/urlExtractor.py
+-rw-r--r--   0        0        0     2458 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/urlExtractorNew.py
+-rw-r--r--   0        0        0    31898 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/verilog_parse.py
+-rw-r--r--   0        0        0      912 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/withAttribute.py
+-rw-r--r--   0        0        0     2995 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/wordsToNum.py
+-rw-r--r--   0        0        0     9104 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/pyparsing/__init__.py
+-rw-r--r--   0        0        0     6567 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/pyparsing/actions.py
+-rw-r--r--   0        0        0    13389 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/pyparsing/common.py
+-rw-r--r--   0        0        0   224237 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/core.py
+-rw-r--r--   0        0        0    24051 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/diagram/__init__.py
+-rw-r--r--   0        0        0     9523 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/exceptions.py
+-rw-r--r--   0        0        0    39342 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/helpers.py
+-rw-r--r--   0        0        0        0 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/py.typed
+-rw-r--r--   0        0        0    26694 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/results.py
+-rw-r--r--   0        0        0    13488 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/testing.py
+-rw-r--r--   0        0        0    10634 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/unicode.py
+-rw-r--r--   0        0        0     8458 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/util.py
+-rw-r--r--   0        0        0     1729 2023-04-08 17:31:07.743485 pyparsing-3.1.0b1/pyproject.toml
+-rw-r--r--   0        0        0      500 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/README.md
+-rw-r--r--   0        0        0        0 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/__init__.py
+-rw-r--r--   0        0        0     2851 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/diag_embed.html
+-rw-r--r--   0        0        0     2915 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/diag_no_embed.html
+-rw-r--r--   0        0        0    12369 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/json_parser_tests.py
+-rw-r--r--   0        0        0      347 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/karthik.ini
+-rw-r--r--   0        0        0      667 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/mypy-ignore-cases/forward_methods.py
+-rw-r--r--   0        0        0       11 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/parsefiletest_input_file.txt
+-rw-r--r--   0        0        0       38 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/requirements.txt
+-rw-r--r--   0        0        0     7000 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/test_diagram.py
+-rw-r--r--   0        0        0     1025 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/test_examples.py
+-rw-r--r--   0        0        0    25716 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/test_simple_unit.py
+-rw-r--r--   0        0        0   359787 2023-04-08 05:25:24.284679 pyparsing-3.1.0b1/tests/test_unit.py
+-rw-r--r--   0        0        0      424 2023-04-08 17:31:07.747485 pyparsing-3.1.0b1/tox.ini
+-rw-r--r--   0        0        0     4929 1970-01-01 00:00:00.000000 pyparsing-3.1.0b1/PKG-INFO
```

### Comparing `pyparsing-3.1.0a1/.gitignore` & `pyparsing-3.1.0b1/.gitignore`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/BUILDING.md` & `pyparsing-3.1.0b1/BUILDING.md`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/CHANGES` & `pyparsing-3.1.0b1/CHANGES`

 * *Files 0% similar despite different names*

```diff
@@ -1,23 +1,61 @@
 ==========
 Change Log
 ==========
 
-Version 3.1.0a1 - March, 2023
------------------------------
 NOTE: In the future release 3.2.0, use of many of the pre-PEP8 methods (such as
 `ParserElement.parseString`) will start to raise `DeprecationWarnings`. 3.2.0 should
 get released some time later in 2023. I currently plan to completely
 drop the pre-PEP8 methods in pyparsing 4.0, though we won't see that release until
 at least late 2023 if not 2024. So there is plenty of time to convert existing parsers to
 the new function names before the old functions are completely removed. (Big
 help from Devin J. Pohly in structuring the code to enable this peaceful transition.)
 
 Version 3.2.0 will also discontinue support for Python versions 3.6 and 3.7.
 
+
+Version 3.1.0b1 - April, 2023
+-----------------------------
+- Added support for Python 3.12.
+
+- API CHANGE: A slight change has been implemented when unquoting a quoted string
+  parsed using the QuotedString class. Formerly, when unquoting and processing
+  whitespace markers such as \t and \n, these substitutions would occur first, and
+  then any additional '\' escaping would be done on the resulting string. This would
+  parse "\\n" as "\<newline>". Now escapes and whitespace markers are all processed
+  in a single pass working left to right, so the quoted string "\\n" would get unquoted
+  to "\n" (a backslash followed by "n"). Fixes issue #474 raised by jakeanq,
+  thanks!
+
+- Added named field "url" to pyparsing.common.url, returning the entire
+  parsed URL string.
+
+- Fixed bug when parse actions returned an empty string for an expression that
+  had a results name, that the results name was not saved. That is:
+
+      expr = Literal("X").add_parse_action(lambda tokens: "")("value")
+      result = expr.parse_string("X")
+      print(result["value"])
+
+  would raise a `KeyError`. Now empty strings will be saved with the associated
+  results name. Raised in Issue #470 by Nicco Kunzmann, thank you.
+
+- Fixed bug in `SkipTo` where ignore expressions were not properly handled while
+  scanning for the target expression. Issue #475, reported by elkniwt, thanks
+  (this bug has been there for a looooong time!).
+
+- Updated ci.yml permissions to limit default access to source - submitted by Joyce
+  Brum of Google. Thanks so much!
+
+- Updated the lucene_grammar.py example (better support for '*' and '?' wildcards)
+  and corrected the test cases - brought to my attention by Elijah Nicol, good catch!
+
+
+Version 3.1.0a1 - March, 2023
+-----------------------------
 - API ENHANCEMENT: `Optional(expr)` may now be written as `expr | ""`
 
   This will make this code:
 
       "{" + Optional(Literal("A") | Literal("a")) + "}"
 
   writable as:
```

### Comparing `pyparsing-3.1.0a1/CODE_OF_CONDUCT.rst` & `pyparsing-3.1.0b1/CODE_OF_CONDUCT.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/CONTRIBUTING.md` & `pyparsing-3.1.0b1/CONTRIBUTING.md`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/LICENSE` & `pyparsing-3.1.0b1/LICENSE`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/README.rst` & `pyparsing-3.1.0b1/README.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/docs/HowToUsePyparsing.rst` & `pyparsing-3.1.0b1/docs/HowToUsePyparsing.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/docs/Makefile` & `pyparsing-3.1.0b1/docs/Makefile`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/docs/_static/pyparsingClassDiagram_1.5.2.jpg` & `pyparsing-3.1.0b1/docs/_static/pyparsingClassDiagram_1.5.2.jpg`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/docs/_static/pyparsingClassDiagram_3.0.9.jpg` & `pyparsing-3.1.0b1/docs/_static/pyparsingClassDiagram_3.0.9.jpg`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/docs/_static/sql_railroad.html` & `pyparsing-3.1.0b1/docs/_static/sql_railroad.html`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/docs/conf.py` & `pyparsing-3.1.0b1/docs/conf.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/docs/index.rst` & `pyparsing-3.1.0b1/docs/index.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/docs/pyparsing_class_diagram.puml` & `pyparsing-3.1.0b1/docs/pyparsing_class_diagram.puml`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/docs/whats_new_in_3_0_0.rst` & `pyparsing-3.1.0b1/docs/whats_new_in_3_0_0.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/0README.html` & `pyparsing-3.1.0b1/examples/0README.html`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/AcManForm.dfm` & `pyparsing-3.1.0b1/examples/AcManForm.dfm`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/LAparser.py` & `pyparsing-3.1.0b1/examples/LAparser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/Setup.ini` & `pyparsing-3.1.0b1/examples/Setup.ini`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/SimpleCalc.py` & `pyparsing-3.1.0b1/examples/SimpleCalc.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/SingleForm.dfm` & `pyparsing-3.1.0b1/examples/SingleForm.dfm`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/TAP.py` & `pyparsing-3.1.0b1/examples/TAP.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/adventureEngine.py` & `pyparsing-3.1.0b1/examples/adventureEngine.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,44 +1,49 @@
 # adventureEngine.py
 # Copyright 2005-2006, Paul McGuire
 #
 # Updated 2012 - latest pyparsing API
+# Updated 2023 - using PEP8 API names
 #
 
-from pyparsing import *
+import pyparsing as pp
 import random
 import string
 
 
-def aOrAn(item):
-    if item.desc[0] in "aeiou":
+def a_or_an(item):
+    if item.desc.startswith(tuple("aeiou")):
         return "an " + item.desc
     else:
         return "a " + item.desc
 
-
-def enumerateItems(l):
-    if len(l) == 0:
+def enumerate_items(items_list):
+    if not items_list:
         return "nothing"
+    *all_but_last, last = items_list
     out = []
-    if len(l) > 1:
-        out.append(", ".join(aOrAn(item) for item in l[:-1]))
+    if all_but_last:
+        out.append(", ".join(a_or_an(item) for item in all_but_last))
+        if len(all_but_last) > 1:
+            out[-1] += ','
         out.append("and")
-    out.append(aOrAn(l[-1]))
+    out.append(a_or_an(last))
     return " ".join(out)
 
-
-def enumerateDoors(l):
-    if len(l) == 0:
+def enumerate_doors(doors_list):
+    if not doors_list:
         return ""
+    *all_but_last, last = doors_list
     out = []
-    if len(l) > 1:
-        out.append(", ".join(l[:-1]))
+    if all_but_last:
+        out.append(", ".join(all_but_last))
+        if len(all_but_last) > 1:
+            out[-1] += ','
         out.append("and")
-    out.append(l[-1])
+    out.append(last)
     return " ".join(out)
 
 
 class Room:
     def __init__(self, desc):
         self.desc = desc
         self.inv = []
@@ -53,31 +58,31 @@
             "w": self.doors[3],
         }[attr]
 
     def enter(self, player):
         if self.gameOver:
             player.gameOver = True
 
-    def addItem(self, it):
+    def add_item(self, it):
         self.inv.append(it)
 
-    def removeItem(self, it):
+    def remove_item(self, it):
         self.inv.remove(it)
 
     def describe(self):
         print(self.desc)
         visibleItems = [it for it in self.inv if it.isVisible]
         if random.random() > 0.5:
             if len(visibleItems) > 1:
                 is_form = "are"
             else:
                 is_form = "is"
-            print("There {} {} here.".format(is_form, enumerateItems(visibleItems)))
+            print("There {} {} here.".format(is_form, enumerate_items(visibleItems)))
         else:
-            print("You see %s." % (enumerateItems(visibleItems)))
+            print("You see %s." % (enumerate_items(visibleItems)))
 
 
 class Exit(Room):
     def __init__(self):
         super().__init__("")
 
     def enter(self, player):
@@ -131,60 +136,60 @@
                     contents,
                 ]
             else:
                 self.contents = contents
         else:
             self.contents = []
 
-    def openItem(self, player):
+    def open_item(self, player):
         if not self.isOpened:
             self.isOpened = not self.isOpened
             if self.contents is not None:
                 for item in self.contents:
-                    player.room.addItem(item)
+                    player.room.add_item(item)
                 self.contents = []
             self.desc = "open " + self.desc
 
-    def closeItem(self, player):
+    def close_item(self, player):
         if self.isOpened:
             self.isOpened = not self.isOpened
             if self.desc.startswith("open "):
                 self.desc = self.desc[5:]
 
 
 class Command:
     "Base class for commands"
 
     def __init__(self, verb, verbProg):
         self.verb = verb
         self.verbProg = verbProg
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return ""
 
-    def _doCommand(self, player):
+    def _do_command(self, player):
         pass
 
     def __call__(self, player):
         print(self.verbProg.capitalize() + "...")
-        self._doCommand(player)
+        self._do_command(player)
 
 
 class MoveCommand(Command):
     def __init__(self, quals):
         super().__init__("MOVE", "moving")
         self.direction = quals.direction[0]
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return """MOVE or GO - go NORTH, SOUTH, EAST, or WEST
           (can abbreviate as 'GO N' and 'GO W', or even just 'E' and 'S')"""
 
-    def _doCommand(self, player):
+    def _do_command(self, player):
         rm = player.room
         nextRoom = rm.doors[
             {
                 "N": 0,
                 "S": 1,
                 "E": 2,
                 "W": 3,
@@ -198,116 +203,139 @@
 
 class TakeCommand(Command):
     def __init__(self, quals):
         super().__init__("TAKE", "taking")
         self.subject = quals.item
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return "TAKE or PICKUP or PICK UP - pick up an object (but some are deadly)"
 
-    def _doCommand(self, player):
+    def _do_command(self, player):
         rm = player.room
         subj = Item.items[self.subject]
         if subj in rm.inv and subj.isVisible:
             if subj.isTakeable:
-                rm.removeItem(subj)
+                rm.remove_item(subj)
                 player.take(subj)
             else:
                 print(subj.cantTakeMessage)
         else:
             print("There is no %s here." % subj)
 
 
 class DropCommand(Command):
     def __init__(self, quals):
         super().__init__("DROP", "dropping")
         self.subject = quals.item
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return "DROP or LEAVE - drop an object (but fragile items may break)"
 
-    def _doCommand(self, player):
+    def _do_command(self, player):
         rm = player.room
         subj = Item.items[self.subject]
         if subj in player.inv:
-            rm.addItem(subj)
+            rm.add_item(subj)
             player.drop(subj)
         else:
-            print("You don't have %s." % (aOrAn(subj)))
+            print("You don't have %s." % (a_or_an(subj)))
 
 
 class InventoryCommand(Command):
     def __init__(self, quals):
         super().__init__("INV", "taking inventory")
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return "INVENTORY or INV or I - lists what items you have"
 
-    def _doCommand(self, player):
-        print("You have %s." % enumerateItems(player.inv))
+    def _do_command(self, player):
+        print("You have %s." % enumerate_items(player.inv))
 
 
 class LookCommand(Command):
     def __init__(self, quals):
         super().__init__("LOOK", "looking")
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return "LOOK or L - describes the current room and any objects in it"
 
-    def _doCommand(self, player):
+    def _do_command(self, player):
         player.room.describe()
 
 
+class ExamineCommand(Command):
+    def __init__(self, quals):
+        super().__init__("EXAMINE", "examining")
+        self.subject = Item.items[quals.item]
+
+    @staticmethod
+    def help_description():
+        return "EXAMINE or EX or X - look closely at an object"
+
+    def _do_command(self, player):
+        msg = random.choice(
+            [
+                "It's {}.",
+                "It's just {}.",
+                "It's a beautiful {1}.",
+                "It's a rare and beautiful {1}.",
+                "It's a rare {1}.",
+                "Just {}, nothing special...",
+                "{0}, just {0}."
+            ]
+        )
+        print(msg.format(a_or_an(self.subject), self.subject).capitalize())
+
+
 class DoorsCommand(Command):
     def __init__(self, quals):
         super().__init__("DOORS", "looking for doors")
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return "DOORS - display what doors are visible from this room"
 
-    def _doCommand(self, player):
+    def _do_command(self, player):
         rm = player.room
-        numDoors = sum([1 for r in rm.doors if r is not None])
+        numDoors = sum(1 for r in rm.doors if r is not None)
         if numDoors == 0:
             reply = "There are no doors in any direction."
         else:
             if numDoors == 1:
                 reply = "There is a door to the "
             else:
                 reply = "There are doors to the "
             doorNames = [
                 {0: "north", 1: "south", 2: "east", 3: "west"}[i]
                 for i, d in enumerate(rm.doors)
                 if d is not None
             ]
-            # ~ print doorNames
-            reply += enumerateDoors(doorNames)
+            reply += enumerate_doors(doorNames)
             reply += "."
             print(reply)
 
 
 class UseCommand(Command):
     def __init__(self, quals):
         super().__init__("USE", "using")
         self.subject = Item.items[quals.usedObj]
         if quals.targetObj:
             self.target = Item.items[quals.targetObj]
         else:
             self.target = None
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return "USE or U - use an object, optionally IN or ON another object"
 
-    def _doCommand(self, player):
+    def _do_command(self, player):
         rm = player.room
         availItems = rm.inv + player.inv
         if self.subject in availItems:
             if self.subject.isUsable(player, self.target):
                 self.subject.useItem(player, self.target)
             else:
                 print("You can't use that here.")
@@ -317,184 +345,190 @@
 
 class OpenCommand(Command):
     def __init__(self, quals):
         super().__init__("OPEN", "opening")
         self.subject = Item.items[quals.item]
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return "OPEN or O - open an object"
 
-    def _doCommand(self, player):
+    def _do_command(self, player):
         rm = player.room
         availItems = rm.inv + player.inv
         if self.subject in availItems:
             if self.subject.isOpenable:
                 if not self.subject.isOpened:
-                    self.subject.openItem(player)
+                    self.subject.open_item(player)
                 else:
                     print("It's already open.")
             else:
                 print("You can't open that.")
         else:
             print("There is no %s here to open." % self.subject)
 
 
 class CloseCommand(Command):
     def __init__(self, quals):
         super().__init__("CLOSE", "closing")
         self.subject = Item.items[quals.item]
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return "CLOSE or CL - close an object"
 
-    def _doCommand(self, player):
+    def _do_command(self, player):
         rm = player.room
         availItems = rm.inv + player.inv
         if self.subject in availItems:
             if self.subject.isOpenable:
                 if self.subject.isOpened:
-                    self.subject.closeItem(player)
+                    self.subject.close_item(player)
                 else:
                     print("You can't close that, it's not open.")
             else:
                 print("You can't close that.")
         else:
             print("There is no %s here to close." % self.subject)
 
 
 class QuitCommand(Command):
     def __init__(self, quals):
         super().__init__("QUIT", "quitting")
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return "QUIT or Q - ends the game"
 
-    def _doCommand(self, player):
+    def _do_command(self, player):
         print("Ok....")
         player.gameOver = True
 
 
 class HelpCommand(Command):
     def __init__(self, quals):
         super().__init__("HELP", "helping")
 
     @staticmethod
-    def helpDescription():
+    def help_description():
         return "HELP or H or ? - displays this help message"
 
-    def _doCommand(self, player):
+    def _do_command(self, player):
         print("Enter any of the following commands (not case sensitive):")
         for cmd in [
             InventoryCommand,
             DropCommand,
             TakeCommand,
             UseCommand,
             OpenCommand,
             CloseCommand,
             MoveCommand,
             LookCommand,
+            ExamineCommand,
             DoorsCommand,
             QuitCommand,
             HelpCommand,
         ]:
-            print("  - %s" % cmd.helpDescription())
+            print("  - %s" % cmd.help_description())
         print()
 
 
-class AppParseException(ParseException):
+class AppParseException(pp.ParseException):
     pass
 
 
 class Parser:
     def __init__(self):
-        self.bnf = self.makeBNF()
+        self.bnf = self.make_bnf()
 
-    def makeBNF(self):
-        invVerb = oneOf("INV INVENTORY I", caseless=True)
-        dropVerb = oneOf("DROP LEAVE", caseless=True)
-        takeVerb = oneOf("TAKE PICKUP", caseless=True) | (
-            CaselessLiteral("PICK") + CaselessLiteral("UP")
+    def make_bnf(self):
+        invVerb = pp.one_of("INV INVENTORY I", caseless=True)
+        dropVerb = pp.one_of("DROP LEAVE", caseless=True)
+        takeVerb = pp.one_of("TAKE PICKUP", caseless=True) | (
+            pp.CaselessLiteral("PICK") + pp.CaselessLiteral("UP")
         )
-        moveVerb = oneOf("MOVE GO", caseless=True) | empty
-        useVerb = oneOf("USE U", caseless=True)
-        openVerb = oneOf("OPEN O", caseless=True)
-        closeVerb = oneOf("CLOSE CL", caseless=True)
-        quitVerb = oneOf("QUIT Q", caseless=True)
-        lookVerb = oneOf("LOOK L", caseless=True)
-        doorsVerb = CaselessLiteral("DOORS")
-        helpVerb = oneOf("H HELP ?", caseless=True)
-
-        itemRef = OneOrMore(Word(alphas)).setParseAction(self.validateItemName)
-        nDir = oneOf("N NORTH", caseless=True).setParseAction(replaceWith("N"))
-        sDir = oneOf("S SOUTH", caseless=True).setParseAction(replaceWith("S"))
-        eDir = oneOf("E EAST", caseless=True).setParseAction(replaceWith("E"))
-        wDir = oneOf("W WEST", caseless=True).setParseAction(replaceWith("W"))
+        moveVerb = pp.one_of("MOVE GO", caseless=True) | pp.Empty()
+        useVerb = pp.one_of("USE U", caseless=True)
+        openVerb = pp.one_of("OPEN O", caseless=True)
+        closeVerb = pp.one_of("CLOSE CL", caseless=True)
+        quitVerb = pp.one_of("QUIT Q", caseless=True)
+        lookVerb = pp.one_of("LOOK L", caseless=True)
+        doorsVerb = pp.CaselessLiteral("DOORS")
+        helpVerb = pp.one_of("H HELP ?", caseless=True)
+
+        itemRef = pp.OneOrMore(pp.Word(pp.alphas)).set_parse_action(self.validate_item_name).setName("item_ref")
+        nDir = pp.one_of("N NORTH", caseless=True).set_parse_action(pp.replace_with("N"))
+        sDir = pp.one_of("S SOUTH", caseless=True).set_parse_action(pp.replace_with("S"))
+        eDir = pp.one_of("E EAST", caseless=True).set_parse_action(pp.replace_with("E"))
+        wDir = pp.one_of("W WEST", caseless=True).set_parse_action(pp.replace_with("W"))
         moveDirection = nDir | sDir | eDir | wDir
 
         invCommand = invVerb
         dropCommand = dropVerb + itemRef("item")
         takeCommand = takeVerb + itemRef("item")
         useCommand = (
             useVerb
             + itemRef("usedObj")
-            + Optional(oneOf("IN ON", caseless=True))
-            + Optional(itemRef, default=None)("targetObj")
+            + pp.Opt(pp.one_of("IN ON", caseless=True))
+            + pp.Opt(itemRef, default=None)("targetObj")
         )
         openCommand = openVerb + itemRef("item")
         closeCommand = closeVerb + itemRef("item")
-        moveCommand = moveVerb + moveDirection("direction")
+        moveCommand = (moveVerb | "") + moveDirection("direction")
         quitCommand = quitVerb
         lookCommand = lookVerb
-        doorsCommand = doorsVerb
+        examineCommand = pp.one_of("EXAMINE EX X", caseless=True) + itemRef("item")
+        doorsCommand = doorsVerb.setName("DOORS")
         helpCommand = helpVerb
 
         # attach command classes to expressions
-        invCommand.setParseAction(InventoryCommand)
-        dropCommand.setParseAction(DropCommand)
-        takeCommand.setParseAction(TakeCommand)
-        useCommand.setParseAction(UseCommand)
-        openCommand.setParseAction(OpenCommand)
-        closeCommand.setParseAction(CloseCommand)
-        moveCommand.setParseAction(MoveCommand)
-        quitCommand.setParseAction(QuitCommand)
-        lookCommand.setParseAction(LookCommand)
-        doorsCommand.setParseAction(DoorsCommand)
-        helpCommand.setParseAction(HelpCommand)
+        invCommand.set_parse_action(InventoryCommand)
+        dropCommand.set_parse_action(DropCommand)
+        takeCommand.set_parse_action(TakeCommand)
+        useCommand.set_parse_action(UseCommand)
+        openCommand.set_parse_action(OpenCommand)
+        closeCommand.set_parse_action(CloseCommand)
+        moveCommand.set_parse_action(MoveCommand)
+        quitCommand.set_parse_action(QuitCommand)
+        lookCommand.set_parse_action(LookCommand)
+        examineCommand.set_parse_action(ExamineCommand)
+        doorsCommand.set_parse_action(DoorsCommand)
+        helpCommand.set_parse_action(HelpCommand)
 
         # define parser using all command expressions
-        return (
+        parser = pp.ungroup(
             invCommand
             | useCommand
             | openCommand
             | closeCommand
             | dropCommand
             | takeCommand
             | moveCommand
             | lookCommand
+            | examineCommand
             | doorsCommand
             | helpCommand
             | quitCommand
-        )("command") + LineEnd()
+        )("command")
+
+        return parser
 
-    def validateItemName(self, s, l, t):
+    def validate_item_name(self, s, l, t):
         iname = " ".join(t)
         if iname not in Item.items:
             raise AppParseException(s, l, "No such item '%s'." % iname)
         return iname
 
-    def parseCmd(self, cmdstr):
+    def parse_cmd(self, cmdstr):
         try:
-            ret = self.bnf.parseString(cmdstr)
+            ret = self.bnf.parse_string(cmdstr)
             return ret
         except AppParseException as pe:
             print(pe.msg)
-        except ParseException as pe:
+        except pp.ParseException as pe:
             print(
                 random.choice(
                     [
                         "Sorry, I don't understand that.",
                         "Huh?",
                         "Excuse me?",
                         "???",
@@ -591,30 +625,30 @@
     return ret
 
 
 # put items in rooms
 def putItemInRoom(i, r):
     if isinstance(r, str):
         r = rooms[r]
-    r.addItem(Item.items[i])
+    r.add_item(Item.items[i])
 
 
 def playGame(p, startRoom):
     # create parser
     parser = Parser()
     p.moveTo(startRoom)
     while not p.gameOver:
         cmdstr = input(">> ")
-        cmd = parser.parseCmd(cmdstr)
+        cmd = parser.parse_cmd(cmdstr)
         if cmd is not None:
             cmd.command(p)
     print()
     print("You ended the game with:")
     for i in p.inv:
-        print(" -", aOrAn(i))
+        print(" -", a_or_an(i))
 
 
 # ====================
 # start game definition
 roomMap = """
      d-Z
      |
@@ -652,30 +686,30 @@
     Item(itemName)
 Item.items["apple"].isDeadly = True
 Item.items["mirror"].isFragile = True
 Item.items["coin"].isVisible = False
 Item.items["shovel"].usableConditionTest = lambda p, t: p.room is garden
 
 
-def useShovel(p, subj, target):
+def use_shovel(p, subj, target):
     coin = Item.items["coin"]
     if not coin.isVisible and coin in p.room.inv:
         coin.isVisible = True
 
 
-Item.items["shovel"].useAction = useShovel
+Item.items["shovel"].useAction = use_shovel
 
 Item.items["telescope"].isTakeable = False
 
 
-def useTelescope(p, subj, target):
+def use_telescope(p, subj, target):
     print("You don't see anything.")
 
 
-Item.items["telescope"].useAction = useTelescope
+Item.items["telescope"].useAction = use_telescope
 
 OpenableItem("treasure chest", Item.items["gold bar"])
 Item.items["chest"] = Item.items["treasure chest"]
 Item.items["chest"].isTakeable = False
 Item.items["chest"].cantTakeMessage = "It's too heavy!"
 
 OpenableItem("mailbox")
```

### Comparing `pyparsing-3.1.0a1/examples/antlr_grammar.py` & `pyparsing-3.1.0b1/examples/antlr_grammar.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/antlr_grammar_tests.py` & `pyparsing-3.1.0b1/examples/antlr_grammar_tests.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/apicheck.py` & `pyparsing-3.1.0b1/examples/apicheck.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/bigquery_view_parser.py` & `pyparsing-3.1.0b1/examples/bigquery_view_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/booleansearchparser.py` & `pyparsing-3.1.0b1/examples/booleansearchparser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/btpyparse.py` & `pyparsing-3.1.0b1/examples/btpyparse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/builtin_parse_action_demo.py` & `pyparsing-3.1.0b1/examples/builtin_parse_action_demo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/cLibHeader.py` & `pyparsing-3.1.0b1/examples/cLibHeader.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/chemicalFormulas.py` & `pyparsing-3.1.0b1/examples/chemicalFormulas.py`

 * *Files 3% similar despite different names*

```diff
@@ -19,15 +19,15 @@
 # Version 1
 element = pp.Word(pp.alphas.upper(), pp.alphas.lower(), max=2).set_name("element")
 # for stricter matching, use this Regex instead
 # element = Regex("A[cglmrstu]|B[aehikr]?|C[adeflmorsu]?|D[bsy]|"
 #                 "E[rsu]|F[emr]?|G[ade]|H[efgos]?|I[nr]?|Kr?|L[airu]|"
 #                 "M[dgnot]|N[abdeiop]?|Os?|P[abdmortu]?|R[abefghnu]|"
 #                 "S[bcegimnr]?|T[abcehilm]|U(u[bhopqst])?|V|W|Xe|Yb?|Z[nr]")
-elementRef = pp.Group(element + pp.Optional(pp.Word(digits), default="1"))
+elementRef = pp.Group(element + pp.Opt(pp.Word(digits), default="1"))
 formula = elementRef[...]
 
 
 def sum_atomic_weights(element_list):
     return sum(atomicWeight[elem] * int(qty) for elem, qty in element_list)
 
 
@@ -42,15 +42,15 @@
         sum_atomic_weights(tokens)
     ),
 )
 print()
 
 # Version 2 - access parsed items by results name
 elementRef = pp.Group(
-    element("symbol") + pp.Optional(pp.Word(digits), default="1")("qty")
+    element("symbol") + pp.Opt(pp.Word(digits), default="1")("qty")
 )
 formula = elementRef[...]
 
 
 def sum_atomic_weights_by_results_name(element_list):
     return sum(atomicWeight[elem.symbol] * int(elem.qty) for elem in element_list)
 
@@ -65,17 +65,17 @@
     postParse=lambda _, tokens: "Molecular weight: {}".format(
         sum_atomic_weights_by_results_name(tokens)
     ),
 )
 print()
 
 # Version 3 - convert integers during parsing process
-integer = pp.Word(digits).setParseAction(lambda t: int(t[0])).setName("integer")
-elementRef = pp.Group(element("symbol") + pp.Optional(integer, default=1)("qty"))
-formula = elementRef[...].setName("chemical_formula")
+integer = pp.Word(digits).add_parse_action(lambda t: int(t[0])).set_name("integer")
+elementRef = pp.Group(element("symbol") + pp.Opt(integer, default=1)("qty"))
+formula = elementRef[...].set_name("chemical_formula")
 
 
 def sum_atomic_weights_by_results_name_with_converted_ints(element_list):
     return sum(atomicWeight[elem.symbol] * int(elem.qty) for elem in element_list)
 
 
 formula.runTests(
@@ -99,18 +99,18 @@
 def cvt_subscript_int(s):
     ret = 0
     for c in s[0]:
         ret = ret * 10 + subscript_int_map[c]
     return ret
 
 
-subscript_int = pp.Word(subscript_digits).addParseAction(cvt_subscript_int).set_name("subscript")
+subscript_int = pp.Word(subscript_digits).add_parse_action(cvt_subscript_int).set_name("subscript")
 
-elementRef = pp.Group(element("symbol") + pp.Optional(subscript_int, default=1)("qty"))
-formula = elementRef[1, ...].setName("chemical_formula")
+elementRef = pp.Group(element("symbol") + pp.Opt(subscript_int, default=1)("qty"))
+formula = elementRef[1, ...].set_name("chemical_formula")
 formula.runTests(
     """\
     HO
     CHOH
     NaCl
     """,
     fullDump=False,
```

### Comparing `pyparsing-3.1.0a1/examples/commasep.py` & `pyparsing-3.1.0b1/examples/commasep.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/configParse.py` & `pyparsing-3.1.0b1/examples/configParse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/cpp_enum_parser.py` & `pyparsing-3.1.0b1/examples/cpp_enum_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/cuneiform_python.py` & `pyparsing-3.1.0b1/examples/cuneiform_python.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/datetimeParseActions.py` & `pyparsing-3.1.0b1/examples/datetimeParseActions.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/decaf_parser.py` & `pyparsing-3.1.0b1/examples/decaf_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/delta_time.py` & `pyparsing-3.1.0b1/examples/delta_time.py`

 * *Files 4% similar despite different names*

```diff
@@ -35,71 +35,71 @@
 import calendar
 
 __all__ = ["time_expression"]
 
 
 # basic grammar definitions
 def make_integer_word_expr(int_name, int_value):
-    return pp.CaselessKeyword(int_name).addParseAction(pp.replaceWith(int_value))
+    return pp.CaselessKeyword(int_name).add_parse_action(pp.replaceWith(int_value))
 
 
 integer_word = pp.MatchFirst(
     make_integer_word_expr(int_str, int_value)
     for int_value, int_str in enumerate(
         "one two three four five six seven eight nine ten"
         " eleven twelve thirteen fourteen fifteen sixteen"
         " seventeen eighteen nineteen twenty".split(),
         start=1,
     )
-).setName("integer_word")
+).set_name("integer_word")
 
 integer = pp.pyparsing_common.integer | integer_word
-integer.setName("numeric")
+integer.set_name("numeric")
 
 CK = pp.CaselessKeyword
 CL = pp.CaselessLiteral
-today, tomorrow, yesterday, noon, midnight, now = map(
-    CK, "today tomorrow yesterday noon midnight now".split()
+today, tomorrow, yesterday, noon, midnight, now = CK.using_each(
+    "today tomorrow yesterday noon midnight now".split()
 )
 
 
 def plural(s):
-    return CK(s) | CK(s + "s").addParseAction(pp.replaceWith(s))
+    return CK(s) | CK(s + "s").add_parse_action(pp.replaceWith(s))
 
 
 week, day, hour, minute, second = map(plural, "week day hour minute second".split())
 time_units = hour | minute | second
-any_time_units = (week | day | time_units).setName("time_units")
+any_time_units = (week | day | time_units).set_name("time_units")
 
 am = CL("am")
 pm = CL("pm")
 COLON = pp.Suppress(":")
 
-in_ = CK("in").setParseAction(pp.replaceWith(1))
-from_ = CK("from").setParseAction(pp.replaceWith(1))
-before = CK("before").setParseAction(pp.replaceWith(-1))
-after = CK("after").setParseAction(pp.replaceWith(1))
-ago = CK("ago").setParseAction(pp.replaceWith(-1))
-next_ = CK("next").setParseAction(pp.replaceWith(1))
-last_ = CK("last").setParseAction(pp.replaceWith(-1))
+in_ = CK("in").set_parse_action(pp.replaceWith(1))
+from_ = CK("from").set_parse_action(pp.replaceWith(1))
+before = CK("before").set_parse_action(pp.replaceWith(-1))
+after = CK("after").set_parse_action(pp.replaceWith(1))
+ago = CK("ago").set_parse_action(pp.replaceWith(-1))
+next_ = CK("next").set_parse_action(pp.replaceWith(1))
+last_ = CK("last").set_parse_action(pp.replaceWith(-1))
 at_ = CK("at")
 on_ = CK("on")
 
 couple = (
-    (pp.Optional(CK("a")) + CK("couple") + pp.Optional(CK("of")))
-    .setParseAction(pp.replaceWith(2))
-    .setName("couple")
+    (pp.Opt(CK("a")) + CK("couple") + pp.Opt(CK("of")))
+    .set_parse_action(pp.replaceWith(2))
+    .set_name("couple")
 )
 
-a_qty = (CK("a") | CK("an")).setParseAction(pp.replaceWith(1))
-the_qty = CK("the").setParseAction(pp.replaceWith(1))
+a_qty = (CK("a") | CK("an")).set_parse_action(pp.replaceWith(1))
+the_qty = CK("the").set_parse_action(pp.replaceWith(1))
 qty = pp.ungroup(
-    (integer | couple | a_qty | the_qty).setName("qty_expression")
-).setName("qty")
-time_ref_present = pp.Empty().addParseAction(pp.replaceWith(True))("time_ref_present")
+    (integer | couple | a_qty | the_qty).set_name("qty_expression")
+).set_name("qty")
+time_ref_present = pp.Empty().add_parse_action(pp.replace_with(True))("time_ref_present")
 
 
 def fill_24hr_time_fields(t):
     t["HH"] = t[0]
     t["MM"] = t[1]
     t["SS"] = 0
     t["ampm"] = ("am", "pm")[t.HH >= 12]
@@ -108,94 +108,94 @@
 def fill_default_time_fields(t):
     for fld in "HH MM SS".split():
         if fld not in t:
             t[fld] = 0
 
 
 weekday_name_list = list(calendar.day_name)
-weekday_name = pp.oneOf(weekday_name_list).setName("weekday_name")
+weekday_name = pp.one_of(weekday_name_list).set_name("weekday_name")
 
-_24hour_time = ~(integer + any_time_units).setName("numbered_time_units") + pp.Word(pp.nums, exact=4).setName("HHMM").addParseAction(
+_24hour_time = ~(integer + any_time_units).set_name("numbered_time_units") + pp.Word(pp.nums, exact=4).set_name("HHMM").add_parse_action(
     lambda t: [int(t[0][:2]), int(t[0][2:])], fill_24hr_time_fields
 )
-_24hour_time.setName("0000 time")
+_24hour_time.set_name("0000 time")
 ampm = am | pm
 timespec = (
     integer("HH")
-    + pp.Optional(
-        CK("o'clock") | COLON + integer("MM") + pp.Optional(COLON + integer("SS"))
+    + pp.Opt(
+        CK("o'clock") | COLON + integer("MM") + pp.Opt(COLON + integer("SS"))
     )
     + (am | pm)("ampm")
-).addParseAction(fill_default_time_fields)
+).add_parse_action(fill_default_time_fields)
 absolute_time = _24hour_time | timespec
-absolute_time.setName("absolute time")
+absolute_time.set_name("absolute time")
 
 absolute_time_of_day = noon | midnight | now | absolute_time
-absolute_time_of_day.setName("time of day")
+absolute_time_of_day.set_name("time of day")
 
 
 def add_computed_time(t):
     if t[0] in "now noon midnight".split():
         t["computed_time"] = {
             "now": datetime.now().time().replace(microsecond=0),
             "noon": time(hour=12),
             "midnight": time(),
         }[t[0]]
     else:
         t["HH"] = {"am": int(t["HH"]) % 12, "pm": int(t["HH"]) % 12 + 12}[t.ampm]
         t["computed_time"] = time(hour=t.HH, minute=t.MM, second=t.SS)
 
 
-absolute_time_of_day.addParseAction(add_computed_time)
+absolute_time_of_day.add_parse_action(add_computed_time)
 
 
 #     relative_time_reference ::= qty time_units ('ago' | ('from' | 'before' | 'after') absolute_time_of_day)
 #                                 | 'in' qty time_units
-time_units = (hour | minute | second).setName("time unit")
+time_units = (hour | minute | second).set_name("time unit")
 relative_time_reference = (
     (
         qty("qty")
         + time_units("units")
         + (
             ago("dir")
             | (from_ | before | after)("dir")
             + pp.Group(absolute_time_of_day)("ref_time")
         )
     )
     | in_("dir") + qty("qty") + time_units("units")
-).setName("relative time")
+).set_name("relative time")
 
 
 def compute_relative_time(t):
     if "ref_time" not in t:
         t["ref_time"] = datetime.now().time().replace(microsecond=0)
     else:
         t["ref_time"] = t.ref_time.computed_time
     delta_seconds = {"hour": 3600, "minute": 60, "second": 1}[t.units] * t.qty
     t["time_delta"] = timedelta(seconds=t.dir * delta_seconds)
 
 
-relative_time_reference.addParseAction(compute_relative_time)
+relative_time_reference.add_parse_action(compute_relative_time)
 
 time_reference = absolute_time_of_day | relative_time_reference
-time_reference.setName("time reference")
+time_reference.set_name("time reference")
 
 
 def add_default_time_ref_fields(t):
     if "time_delta" not in t:
         t["time_delta"] = timedelta()
 
 
-time_reference.addParseAction(add_default_time_ref_fields)
+time_reference.add_parse_action(add_default_time_ref_fields)
 
 #     absolute_day_reference ::= 'today' | 'tomorrow' | 'yesterday' | ('next' | 'last') weekday_name
 #     day_units ::= 'days' | 'weeks'
 
 day_units = day | week
-weekday_reference = pp.Optional(next_ | last_, 1)("dir") + weekday_name("day_name")
+weekday_reference = pp.Opt(next_ | last_, 1)("dir") + weekday_name("day_name")
 
 
 def convert_abs_day_reference_to_date(t):
     now = datetime.now().replace(microsecond=0)
 
     # handle day reference by weekday name
     if "day_name" in t:
@@ -218,58 +218,58 @@
             "tomorrow": datetime(now.year, now.month, now.day) + timedelta(days=+1),
         }[name]
 
 
 absolute_day_reference = (
     today | tomorrow | yesterday | now + time_ref_present | weekday_reference
 )
-absolute_day_reference.addParseAction(convert_abs_day_reference_to_date)
-absolute_day_reference.setName("absolute day")
+absolute_day_reference.add_parse_action(convert_abs_day_reference_to_date)
+absolute_day_reference.set_name("absolute day")
 
 #     relative_day_reference ::=  'in' qty day_units
 #                                   | qty day_units
 #                                     ('ago'
 #                                      | ('from' | 'before' | 'after') absolute_day_reference)
 relative_day_reference = in_("dir") + qty("qty") + day_units("units") | qty(
     "qty"
 ) + day_units("units") + (
     ago("dir") | ((from_ | before | after)("dir") + absolute_day_reference("ref_day"))
 )
-relative_day_reference.setName("relative day")
+relative_day_reference.set_name("relative day")
 
 
 def compute_relative_date(t):
     now = datetime.now().replace(microsecond=0)
     if "ref_day" in t:
         t["computed_date"] = t.ref_day
     else:
         t["computed_date"] = now.date()
     day_diff = t.dir * t.qty * {"week": 7, "day": 1}[t.units]
     t["date_delta"] = timedelta(days=day_diff)
 
 
-relative_day_reference.addParseAction(compute_relative_date)
+relative_day_reference.add_parse_action(compute_relative_date)
 
 # combine expressions for absolute and relative day references
 day_reference = relative_day_reference | absolute_day_reference
-day_reference.setName("day reference")
+day_reference.set_name("day reference")
 
 
 def add_default_date_fields(t):
     if "date_delta" not in t:
         t["date_delta"] = timedelta()
 
 
-day_reference.addParseAction(add_default_date_fields)
+day_reference.add_parse_action(add_default_date_fields)
 
 # combine date and time expressions into single overall parser
-time_and_day = time_reference + time_ref_present + pp.Optional(
-    pp.Optional(on_) + day_reference
-) | day_reference + pp.Optional(at_ + absolute_time_of_day + time_ref_present)
-time_and_day.setName("time and day")
+time_and_day = time_reference + time_ref_present + pp.Opt(
+    pp.Opt(on_) + day_reference
+) | day_reference + pp.Opt(at_ + absolute_time_of_day + time_ref_present)
+time_and_day.set_name("time and day")
 
 # parse actions for total time_and_day expression
 def save_original_string(s, l, t):
     # save original input string and reference time
     t["original"] = " ".join(s.strip().split())
     t["relative_to"] = datetime.now().replace(microsecond=0)
 
@@ -314,15 +314,15 @@
             "relative_to",
             "time_offset",
             "calculatedTime",
         ):
             del t[k]
 
 
-time_and_day.addParseAction(save_original_string, compute_timestamp, remove_temp_keys)
+time_and_day.add_parse_action(save_original_string, compute_timestamp, remove_temp_keys)
 
 
 time_expression = time_and_day
 
 
 def main():
     current_time = datetime.now()
```

### Comparing `pyparsing-3.1.0a1/examples/dfmparse.py` & `pyparsing-3.1.0b1/examples/dfmparse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/dhcpd_leases_parser.py` & `pyparsing-3.1.0b1/examples/dhcpd_leases_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/dictExample.py` & `pyparsing-3.1.0b1/examples/dictExample.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/dictExample2.py` & `pyparsing-3.1.0b1/examples/dictExample2.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/ebnf.py` & `pyparsing-3.1.0b1/examples/ebnf.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/ebnftest.py` & `pyparsing-3.1.0b1/examples/ebnftest.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/eval_arith.py` & `pyparsing-3.1.0b1/examples/eval_arith.py`

 * *Files 10% similar despite different names*

```diff
@@ -9,17 +9,17 @@
 # operands
 #
 from pyparsing import (
     Word,
     nums,
     alphas,
     Combine,
-    oneOf,
-    opAssoc,
-    infixNotation,
+    one_of,
+    OpAssoc,
+    infix_notation,
     Literal,
     ParserElement,
 )
 
 ParserElement.enablePackrat()
 
 
@@ -139,36 +139,36 @@
 
 # define the parser
 integer = Word(nums)
 real = Combine(Word(nums) + "." + Word(nums))
 variable = Word(alphas, exact=1)
 operand = real | integer | variable
 
-signop = oneOf("+ -")
-multop = oneOf("* /")
-plusop = oneOf("+ -")
+signop = one_of("+ -")
+multop = one_of("* /")
+plusop = one_of("+ -")
 expop = Literal("**")
 
 # use parse actions to attach EvalXXX constructors to sub-expressions
 operand.setParseAction(EvalConstant)
-arith_expr = infixNotation(
+arith_expr = infix_notation(
     operand,
     [
-        (signop, 1, opAssoc.RIGHT, EvalSignOp),
-        (expop, 2, opAssoc.LEFT, EvalPowerOp),
-        (multop, 2, opAssoc.LEFT, EvalMultOp),
-        (plusop, 2, opAssoc.LEFT, EvalAddOp),
+        (signop, 1, OpAssoc.RIGHT, EvalSignOp),
+        (expop, 2, OpAssoc.LEFT, EvalPowerOp),
+        (multop, 2, OpAssoc.LEFT, EvalMultOp),
+        (plusop, 2, OpAssoc.LEFT, EvalAddOp),
     ],
 )
 
-comparisonop = oneOf("< <= > >= != = <> LT GT LE GE EQ NE")
-comp_expr = infixNotation(
+comparisonop = one_of("< <= > >= != = <> LT GT LE GE EQ NE")
+comp_expr = infix_notation(
     arith_expr,
     [
-        (comparisonop, 2, opAssoc.LEFT, EvalComparisonOp),
+        (comparisonop, 2, OpAssoc.LEFT, EvalComparisonOp),
     ],
 )
 
 
 # sample expressions posted on comp.lang.python, asking for advice
 # in safely evaluating them
 rules = [
```

### Comparing `pyparsing-3.1.0a1/examples/excelExpr.py` & `pyparsing-3.1.0b1/examples/excelExpr.py`

 * *Files 18% similar despite different names*

```diff
@@ -7,49 +7,49 @@
 from pyparsing import (
     CaselessKeyword,
     Suppress,
     Word,
     alphas,
     alphanums,
     nums,
-    Optional,
+    Opt,
     Group,
-    oneOf,
+    one_of,
     Forward,
-    infixNotation,
-    opAssoc,
+    infix_notation,
+    OpAssoc,
     dblQuotedString,
-    delimitedList,
+    DelimitedList,
     Combine,
     Literal,
     QuotedString,
     ParserElement,
     pyparsing_common as ppc,
 )
 
 ParserElement.enablePackrat()
 
-EQ, LPAR, RPAR, COLON, COMMA = map(Suppress, "=():,")
-EXCL, DOLLAR = map(Literal, "!$")
+EQ, LPAR, RPAR, COLON, COMMA = Suppress.using_each("=():,")
+EXCL, DOLLAR = Literal.using_each("!$")
 sheetRef = Word(alphas, alphanums) | QuotedString("'", escQuote="''")
-colRef = Optional(DOLLAR) + Word(alphas, max=2)
-rowRef = Optional(DOLLAR) + Word(nums)
+colRef = Opt(DOLLAR) + Word(alphas, max=2)
+rowRef = Opt(DOLLAR) + Word(nums)
 cellRef = Combine(
-    Group(Optional(sheetRef + EXCL)("sheet") + colRef("col") + rowRef("row"))
+    Group(Opt(sheetRef + EXCL)("sheet") + colRef("col") + rowRef("row"))
 )
 
 cellRange = (
     Group(cellRef("start") + COLON + cellRef("end"))("range")
     | cellRef
     | Word(alphas, alphanums)
 )
 
 expr = Forward()
 
-COMPARISON_OP = oneOf("< = > >= <= != <>")
+COMPARISON_OP = one_of("< = > >= <= != <>")
 condExpr = expr + COMPARISON_OP + expr
 
 ifFunc = (
     CaselessKeyword("if")
     - LPAR
     + Group(condExpr)("condition")
     + COMMA
@@ -57,48 +57,48 @@
     + COMMA
     + Group(expr)("if_false")
     + RPAR
 )
 
 
 def stat_function(name):
-    return Group(CaselessKeyword(name) + Group(LPAR + delimitedList(expr) + RPAR))
+    return Group(CaselessKeyword(name) + Group(LPAR + DelimitedList(expr) + RPAR))
 
 
 sumFunc = stat_function("sum")
 minFunc = stat_function("min")
 maxFunc = stat_function("max")
 aveFunc = stat_function("ave")
 funcCall = ifFunc | sumFunc | minFunc | maxFunc | aveFunc
 
-multOp = oneOf("* /")
-addOp = oneOf("+ -")
+multOp = one_of("* /")
+addOp = one_of("+ -")
 numericLiteral = ppc.number
 operand = numericLiteral | funcCall | cellRange | cellRef
-arithExpr = infixNotation(
+arithExpr = infix_notation(
     operand,
     [
-        (multOp, 2, opAssoc.LEFT),
-        (addOp, 2, opAssoc.LEFT),
+        (multOp, 2, OpAssoc.LEFT),
+        (addOp, 2, OpAssoc.LEFT),
     ],
 )
 
 textOperand = dblQuotedString | cellRef
-textExpr = infixNotation(
+textExpr = infix_notation(
     textOperand,
     [
-        ("&", 2, opAssoc.LEFT),
+        ("&", 2, OpAssoc.LEFT),
     ],
 )
 
 expr <<= arithExpr | textExpr
 
 
 def main():
-    success, report = (EQ + expr).runTests(
+    success, report = (EQ + expr).run_tests(
         """\
         =3*A7+5
         =3*Sheet1!$A$7+5
         =3*'Sheet 1'!$A$7+5
         =3*'O''Reilly''s sheet'!$A$7+5
         =if(Sum(A1:A25)>42,Min(B1:B25),if(Sum(C1:C25)>3.14, (Min(C1:C25)+3)*18,Max(B1:B25)))
         =sum(a1:a25,10,min(b1,c2,d3))
```

### Comparing `pyparsing-3.1.0a1/examples/fourFn.py` & `pyparsing-3.1.0b1/examples/fourFn.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/gen_ctypes.py` & `pyparsing-3.1.0b1/examples/gen_ctypes.py`

 * *Files 6% similar despite different names*

```diff
@@ -40,64 +40,64 @@
     "voidp": "c_voidp",
     "wchar": "c_wchar",
     "wchar *": "c_wchar_p",
     "Bool": "c_bool",
     "void": "None",
 }
 
-LPAR, RPAR, LBRACE, RBRACE, COMMA, SEMI = map(Suppress, "(){},;")
-ident = Word(alphas, alphanums + "_")
+LPAR, RPAR, LBRACE, RBRACE, COMMA, SEMI = Suppress.using_each("(){},;")
+ident = pyparsing_common.identifier
 integer = Regex(r"[+-]?\d+")
 hexinteger = Regex(r"0x[0-9a-fA-F]+")
 
 const = Suppress("const")
-primitiveType = oneOf(t for t in typemap if not t.endswith("*"))
+primitiveType = one_of(t for t in typemap if not t.endswith("*"))
 structType = Suppress("struct") + ident
 vartype = (
-    Optional(const) + (primitiveType | structType | ident) + Optional(Word("*")("ptr"))
+    Opt(const) + (primitiveType | structType | ident) + Opt(Word("*")("ptr"))
 )
 
 
 def normalizetype(t):
     if isinstance(t, ParseResults):
         return " ".join(t)
         # ~ ret = ParseResults([' '.join(t)])
         # ~ return ret
 
 
-vartype.setParseAction(normalizetype)
+vartype.set_parse_action(normalizetype)
 
-arg = Group(vartype("argtype") + Optional(ident("argname")))
+arg = Group(vartype("argtype") + Opt(ident("argname")))
 func_def = (
     vartype("fn_type")
     + ident("fn_name")
     + LPAR
-    + Optional(delimitedList(arg | "..."))("fn_args")
+    + Opt(DelimitedList(arg | "..."))("fn_args")
     + RPAR
     + SEMI
 )
 
 
 def derivefields(t):
     if t.fn_args and t.fn_args[-1] == "...":
         t["varargs"] = True
 
 
-func_def.setParseAction(derivefields)
+func_def.set_parse_action(derivefields)
 
 fn_typedef = "typedef" + func_def
 var_typedef = "typedef" + primitiveType("primType") + ident("name") + SEMI
 
 enum_def = (
     Keyword("enum")
     + LBRACE
-    + delimitedList(Group(ident("name") + "=" + (hexinteger | integer)("value")))(
+    + DelimitedList(Group(ident("name") + "=" + (hexinteger | integer)("value")))(
         "evalues"
     )
-    + Optional(COMMA)
+    + Opt(COMMA)
     + RBRACE
 )
 
 c_header = open("snmp_api.h").read()
 
 
 module = "pynetsnmp"
@@ -131,41 +131,41 @@
         return typemap[typestr]
     if typestr.endswith("*"):
         return "POINTER(%s)" % typeAsCtypes(typestr.rstrip(" *"))
     return typestr
 
 
 # scan input header text for primitive typedefs
-for td, _, _ in var_typedef.scanString(c_header):
+for td, _, _ in var_typedef.scan_string(c_header):
     typedefs.append((td.name, td.primType))
     # add typedef type to typemap to map to itself
     typemap[td.name] = td.name
 
 # scan input header text for function typedefs
-fn_typedefs = fn_typedef.searchString(c_header)
+fn_typedefs = fn_typedef.search_string(c_header)
 # add each function typedef to typemap to map to itself
 for fntd in fn_typedefs:
     typemap[fntd.fn_name] = fntd.fn_name
 
 # scan input header text, and keep running list of user-defined types
 for fn, _, _ in (
     cStyleComment.suppress() | fn_typedef.suppress() | func_def
-).scanString(c_header):
+).scan_string(c_header):
     if not fn:
         continue
     getUDType(fn.fn_type)
     for arg in fn.fn_args:
         if arg != "...":
             if arg.argtype not in typemap:
                 getUDType(arg.argtype)
     functions.append(fn)
 
 # scan input header text for enums
-enum_def.ignore(cppStyleComment)
-for en_, _, _ in enum_def.scanString(c_header):
+enum_def.ignore(cpp_style_comment)
+for en_, _, _ in enum_def.scan_string(c_header):
     for ev in en_.evalues:
         enum_constants.append((ev.name, ev.value))
 
 print("from ctypes import *")
 print("{} = CDLL('{}.dll')".format(module, module))
 print()
 print("# user defined types")
```

### Comparing `pyparsing-3.1.0a1/examples/getNTPserversNew.py` & `pyparsing-3.1.0b1/examples/getNTPserversNew.py`

 * *Files 4% similar despite different names*

```diff
@@ -9,16 +9,16 @@
 import pyparsing as pp
 
 ppc = pp.pyparsing_common
 from urllib.request import urlopen
 
 integer = pp.Word(pp.nums)
 ipAddress = ppc.ipv4_address()
-hostname = pp.delimitedList(pp.Word(pp.alphas, pp.alphanums + "-_"), ".", combine=True)
-tdStart, tdEnd = pp.makeHTMLTags("td")
+hostname = pp.DelimitedList(pp.Word(pp.alphas, pp.alphanums + "-_"), ".", combine=True)
+tdStart, tdEnd = pp.make_html_tags("td")
 timeServerPattern = (
     tdStart
     + hostname("hostname")
     + tdEnd
     + tdStart
     + ipAddress("ipAddr")
     + tdEnd
@@ -29,10 +29,10 @@
 
 # get list of time servers
 nistTimeServerURL = "https://tf.nist.gov/tf-cgi/servers.cgi#"
 with urlopen(nistTimeServerURL) as serverListPage:
     serverListHTML = serverListPage.read().decode("UTF-8")
 
 addrs = {}
-for srvr, startloc, endloc in timeServerPattern.scanString(serverListHTML):
-    print("{} ({}) - {}".format(srvr.ipAddr, srvr.hostname.strip(), srvr.loc.strip()))
+for srvr, startloc, endloc in timeServerPattern.scan_string(serverListHTML):
+    print(f"{srvr.ipAddr} ({srvr.hostname.strip()}) - {srvr.loc.strip()}")
     addrs[srvr.ipAddr] = srvr.loc
```

### Comparing `pyparsing-3.1.0a1/examples/greeting.py` & `pyparsing-3.1.0b1/examples/greeting.py`

 * *Files 22% similar despite different names*

```diff
@@ -4,24 +4,24 @@
 # example
 #
 # Copyright 2003, 2019 by Paul McGuire
 #
 import pyparsing as pp
 
 # define grammar
-greet = pp.Word(pp.alphas) + "," + pp.Word(pp.alphas) + pp.oneOf("! ? .")
+greet = pp.Word(pp.alphas) + "," + pp.Word(pp.alphas) + pp.one_of("! ? .")
 
 # input string
 hello = "Hello, World!"
 
 # parse input string
-print(hello, "->", greet.parseString(hello))
+print(hello, "->", greet.parse_string(hello))
 
 # parse a bunch of input strings
-greet.runTests(
+greet.run_tests(
     """\
     Hello, World!
     Ahoy, Matey!
     Howdy, Pardner!
     Morning, Neighbor!
     """
 )
```

### Comparing `pyparsing-3.1.0a1/examples/holaMundo.py` & `pyparsing-3.1.0b1/examples/holaMundo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/htmlStripper.py` & `pyparsing-3.1.0b1/examples/htmlStripper.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/htmlTableParser.py` & `pyparsing-3.1.0b1/examples/htmlTableParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/httpServerLogParser.py` & `pyparsing-3.1.0b1/examples/httpServerLogParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/idlParse.py` & `pyparsing-3.1.0b1/examples/idlParse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/include_preprocessor.py` & `pyparsing-3.1.0b1/examples/include_preprocessor.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/indentedGrammarExample.py` & `pyparsing-3.1.0b1/examples/indentedGrammarExample.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/indented_block_example.py` & `pyparsing-3.1.0b1/examples/indented_block_example.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/inv_regex.py` & `pyparsing-3.1.0b1/examples/inv_regex.py`

 * *Files 2% similar despite different names*

```diff
@@ -188,20 +188,20 @@
 
 _parser = None
 
 
 def parser():
     global _parser
     if _parser is None:
-        ParserElement.setDefaultWhitespaceChars("")
-        lbrack, rbrack, lbrace, rbrace, lparen, rparen, colon, qmark = map(
-            Literal, "[]{}():?"
+        ParserElement.set_default_whitespace_chars("")
+        lbrack, rbrack, lbrace, rbrace, lparen, rparen, colon, qmark = Literal.using_each(
+            "[]{}():?"
         )
 
-        re_macro = Combine("\\" + one_of(list("dws")))
+        re_macro = Combine("\\" + one_of("d w s"))
         escaped_char = ~re_macro + Combine("\\" + one_of(list(printables)))
         re_literal_char = (
             "".join(c for c in printables if c not in r"\[]{}().*?+|") + " \t"
         )
 
         re_range = Combine(lbrack + SkipTo(rbrack, ignore=escaped_char) + rbrack) # type: ignore 
         re_literal = escaped_char | one_of(list(re_literal_char))
@@ -209,18 +209,18 @@
         re_dot = Literal(".")
         repetition = (
             (lbrace + Word(nums)("count") + rbrace)
             | (lbrace + Word(nums)("minCount") + "," + Word(nums)("maxCount") + rbrace)
             | one_of(list("*+?"))
         )
 
-        re_range.setParseAction(handle_range)
-        re_literal.setParseAction(handle_literal)
-        re_macro.setParseAction(handle_macro)
-        re_dot.setParseAction(handle_dot)
+        re_range.add_parse_action(handle_range)
+        re_literal.add_parse_action(handle_literal)
+        re_macro.add_parse_action(handle_macro)
+        re_dot.add_parse_action(handle_dot)
 
         re_term = re_literal | re_range | re_macro | re_dot | re_non_capture_group
         re_expr = infix_notation(
             re_term,
             [
                 (repetition, 1, OpAssoc.LEFT, handle_repetition),
                 (Empty(), 2, OpAssoc.LEFT, handle_sequence),
```

### Comparing `pyparsing-3.1.0a1/examples/javascript_grammar.g` & `pyparsing-3.1.0b1/examples/javascript_grammar.g`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/jsonParser.py` & `pyparsing-3.1.0b1/examples/jsonParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/left_recursion.py` & `pyparsing-3.1.0b1/examples/left_recursion.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/linenoExample.py` & `pyparsing-3.1.0b1/examples/linenoExample.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/listAllMatches.py` & `pyparsing-3.1.0b1/examples/listAllMatches.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/lua_parser.py` & `pyparsing-3.1.0b1/examples/lua_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/lucene_grammar.py` & `pyparsing-3.1.0b1/examples/lucene_grammar.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,74 +1,77 @@
 #
 # lucene_grammar.py
 #
 # Copyright 2011, Paul McGuire
+# Updated 2023
 #
 # implementation of Lucene grammar, as described
-# at http://svn.apache.org/viewvc/lucene/dev/trunk/lucene/docs/queryparsersyntax.html
+# at https://lucene.apache.org/core/2_9_4/queryparsersyntax.html
 #
 
 import pyparsing as pp
 from pyparsing import pyparsing_common as ppc
 
-pp.ParserElement.enablePackrat()
+pp.ParserElement.enable_packrat()
 
-COLON, LBRACK, RBRACK, LBRACE, RBRACE, TILDE, CARAT = map(pp.Literal, ":[]{}~^")
-LPAR, RPAR = map(pp.Suppress, "()")
-and_, or_, not_, to_ = map(pp.CaselessKeyword, "AND OR NOT TO".split())
+COLON, LBRACK, RBRACK, LBRACE, RBRACE, TILDE, CARAT = pp.Literal.using_each(":[]{}~^")
+LPAR, RPAR = pp.Suppress.using_each("()")
+and_, or_, not_, to_ = pp.CaselessKeyword.using_each("AND OR NOT TO".split())
 keyword = and_ | or_ | not_ | to_
 
 expression = pp.Forward()
 
 valid_word = pp.Regex(
-    r'([a-zA-Z0-9*_+.-]|\\\\|\\([+\-!(){}\[\]^"~*?:]|\|\||&&))+'
+    r'([a-zA-Z0-9_.-]|\\\\|\\([+\-!(){}\[\]^"~*?:]|\|\||&&))'
+    r'([a-zA-Z0-9*_+.-]|\\\\|\\([+\-!(){}\[\]^"~*?:]|\|\||&&)|\*|\?)*'
 ).setName("word")
-valid_word.setParseAction(
+valid_word.set_parse_action(
     lambda t: t[0].replace("\\\\", chr(127)).replace("\\", "").replace(chr(127), "\\")
 )
 
 string = pp.QuotedString('"')
 
 required_modifier = pp.Literal("+")("required")
 prohibit_modifier = pp.Literal("-")("prohibit")
 integer = ppc.integer()
 proximity_modifier = pp.Group(TILDE + integer("proximity"))
 number = ppc.fnumber()
-fuzzy_modifier = TILDE + pp.Optional(number, default=0.5)("fuzzy")
+fuzzy_modifier = TILDE + pp.Opt(number, default=0.5)("fuzzy")
 
-term = pp.Forward().setName("field")
-field_name = valid_word().setName("fieldname")
+term = pp.Forward().set_name("field")
+field_name = valid_word().set_name("fieldname")
 incl_range_search = pp.Group(LBRACK - term("lower") + to_ + term("upper") + RBRACK)
 excl_range_search = pp.Group(LBRACE - term("lower") + to_ + term("upper") + RBRACE)
 range_search = incl_range_search("incl_range") | excl_range_search("excl_range")
 boost = CARAT - number("boost")
 
 string_expr = pp.Group(string + proximity_modifier) | string
 word_expr = pp.Group(valid_word + fuzzy_modifier) | valid_word
-term << (
+term <<= (
     ~keyword
-    + pp.Optional(field_name("field") + COLON)
+    + pp.Opt(field_name("field") + COLON)
     + (word_expr | string_expr | range_search | pp.Group(LPAR + expression + RPAR))
-    + pp.Optional(boost)
+    + pp.Opt(boost)
 )
-term.setParseAction(lambda t: [t] if "field" in t or "boost" in t else None)
+term.set_parse_action(lambda t: [t] if "field" in t or "boost" in t else None)
 
-expression << pp.infixNotation(
+expression <<= pp.infixNotation(
     term,
     [
-        (required_modifier | prohibit_modifier, 1, pp.opAssoc.RIGHT),
-        ((not_ | "!").setParseAction(lambda: "NOT"), 1, pp.opAssoc.RIGHT),
-        ((and_ | "&&").setParseAction(lambda: "AND"), 2, pp.opAssoc.LEFT),
+        (required_modifier | prohibit_modifier, 1, pp.OpAssoc.RIGHT),
+        ((not_ | "!").set_parse_action(lambda: "NOT"), 1, pp.OpAssoc.RIGHT),
+        ((and_ | "&&").set_parse_action(lambda: "AND"), 2, pp.OpAssoc.LEFT),
         (
-            pp.Optional(or_ | "||").setName("or").setParseAction(lambda: "OR"),
+            pp.Opt(or_ | "||").setName("or").set_parse_action(lambda: "OR"),
             2,
-            pp.opAssoc.LEFT,
+            pp.OpAssoc.LEFT,
         ),
     ],
-)
+).set_name("query expression")
+
 
 if __name__ == "__main__":
 
     # test strings taken from grammar description doc, and TestQueryParser.java
     tests = r"""
         # Success tests
         a and b
@@ -80,14 +83,17 @@
         name:a and not title:b
         (a^100 c d f) and !z
         name:"blah de blah"
         title:(+return +"pink panther")
         title:"The Right Way" AND text:go
         title:"Do it right" AND right
         title:Do it right
+        te?t
+        test*
+        te*t
         roam~
         roam~0.8
         "jakarta apache"~10
         mod_date:[20020101 TO 20030101]
         title:{Aida TO Carmen}
         jakarta apache
         jakarta^4 apache
@@ -95,14 +101,15 @@
         "jakarta apache" jakarta
         "jakarta apache" OR jakarta
         "jakarta apache" AND "Apache Lucene"
         +jakarta lucene
         "jakarta apache" NOT "Apache Lucene"
         "jakarta apache" -"Apache Lucene"
         (jakarta OR apache) AND website
+        title:(+return +"pink panther")
         \(1+1\)\:2
         c\:\\windows
         (fieldX:xxxxx OR fieldy:xxxxxxxx)^2 AND (fieldx:the OR fieldy:foo)
         (fieldX:xxxxx fieldy:xxxxxxxx)^2 AND (fieldx:the fieldy:foo)
         (fieldX:xxxxx~0.5 fieldy:xxxxxxxx)^2 AND (fieldx:the fieldy:foo)
         +term -term term
         foo:term AND field:anotherTerm
@@ -159,15 +166,14 @@
         term~2.0^3.0
         term*germ
         term*germ^3
         term*germ^3.0
         term~1.1
         [A TO C]
         t*erm*
-        *term*
         term term^3.0 term
         term stop^3.0 term
         term +stop term
         term -stop term
         drop AND (stop) AND roll
         +drop +roll
         term +(stop) term
@@ -198,19 +204,14 @@
         [a TO z] bar
         [ a TO z] AND bar
         +[a TO z] +bar
         ( bar blar { a TO z})
         bar blar {a TO z}
         gack ( bar blar { a TO z})
         gack (bar blar {a TO z})
-        [* TO Z]
-        [* TO z]
-        [A TO *]
-        [a TO *]
-        [* TO *]
         [\* TO \*]
         \!blah
         \:blah
         blah
         \~blah
         \*blah
         a
@@ -233,15 +234,16 @@
         [a- TO a+]
         [ a\\ TO a\* ]
         c\:\\temp\\\~foo.txt
         abc
         XYZ
         (item:\\ item:ABCD\\)
         \*
-        *
+        blah*blah
+        blah?blah
         \\
         \||
         \&&
         a\:b\:c
         a\\b\:c
         a\:b\\c
         a\:b\:c\*
@@ -266,37 +268,54 @@
         xunit~
         one two three
         A AND B OR C AND D
         +A +B +C +D
         foo:zoo*
         foo:zoo*^2
         zoo
-        foo:*
-        foo:*^2
-        *:foo
         a:the OR a:foo
         a:woo OR a:the
-        *:*
-        (*:*)
-        +*:* -*:*
-        the wizard of ozzy
+        "the wizard of ozzy"
         """
 
     failtests = r"""
         # Failure tests
 
         # multiple ':'s in term
         field:term:with:colon some more terms
 
         # multiple '^'s in term
         (sub query)^5.0^2.0 plus more
+        
+        # cannot start with * or ?
+        *term1 AND term2 
+        ?term3 OR term4
+        *
+
+        # unbounded '*' range terms
+        [* TO Z]
+        [* TO z]
+        [A TO *]
+        [a TO *]
+        [* TO *]
+
+        # unbounded field values
+        foo:*
+        foo:*^2
+        *:foo
+        *:*
+        (*:*)
+        +*:* -*:*        
+
         a:b:c
         a:b:c~
         a:b:c*
         a:b:c~2.0
+        """
+    z = """
         \+blah
         \-blah
         foo \|| bar
         foo \AND bar
         \a
         a\-b:c
         a\+b:c
@@ -333,13 +352,16 @@
         a:b\c~
         [ a\ TO a* ]
         """
 
     success1, _ = expression.runTests(tests)
     success2, _ = expression.runTests(failtests, failureTests=True)
 
-    print("All tests:", ("FAIL", "OK")[success1 and success2])
+    print("\n")
+    print(f"Success tests: {'OK' if success1 else 'FAIL'}")
+    print(f"Fail tests:    {'OK' if success2 else 'FAIL'}")
+    print(f"All tests:     {'OK' if (success1 and success2) else 'FAIL'}")
 
     if not (success1 and success2):
         import sys
 
         sys.exit(1)
```

### Comparing `pyparsing-3.1.0a1/examples/macroExpander.py` & `pyparsing-3.1.0b1/examples/macroExpander.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/make_diagram.py` & `pyparsing-3.1.0b1/examples/make_diagram.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/matchPreviousDemo.py` & `pyparsing-3.1.0b1/examples/matchPreviousDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/mozilla.ics` & `pyparsing-3.1.0b1/examples/mozilla.ics`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/mozillaCalendarParser.py` & `pyparsing-3.1.0b1/examples/mozillaCalendarParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/nested.py` & `pyparsing-3.1.0b1/examples/nested.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/nested_markup.py` & `pyparsing-3.1.0b1/examples/nested_markup.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/number_words.py` & `pyparsing-3.1.0b1/examples/number_words.py`

 * *Files 15% similar despite different names*

```diff
@@ -48,75 +48,75 @@
         to_ = from_
     values = range(from_, to_ + 1, step)
     ret = pp.MatchFirst(
         define_numeric_word(name, value) for name, value in zip(names, values)
     )
 
     if len(names) == 1:
-        ret.setName(names[0])
+        ret.set_name(names[0])
     else:
-        ret.setName("{}-{}".format(names[0], names[-1]))
+        ret.set_name(f"{names[0]}-{names[-1]}")
 
     return ret
 
 
 def multiply(t):
     """
     Parse action for hundreds and thousands.
     """
     return mul(*t)
 
 
-opt_dash = pp.Optional(pp.Suppress("-")).setName("'-'")
-opt_and = pp.Optional((pp.CaselessKeyword("and") | "-").suppress()).setName("'and/-'")
+opt_dash = pp.Opt(pp.Suppress("-")).set_name("'-'")
+opt_and = pp.Opt((pp.CaselessKeyword("and") | "-").suppress()).set_name("'and/-'")
 
 units = define_numeric_word_range("one two three four five six seven eight nine", 1, 9)
 teens_only = define_numeric_word_range(
     "eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen",
     11,
     19,
 )
 ten = define_numeric_word_range("ten", 10)
 teens = ten | teens_only
 
 tens = define_numeric_word_range(
     "twenty thirty forty fifty sixty seventy eighty ninety", 20, 90, 10
 )
-one_to_99 = (units | teens | (tens + pp.Optional(opt_dash + units))).setName("1-99")
-one_to_99.addParseAction(sum)
+one_to_99 = (units | teens | (tens + pp.Opt(opt_dash + units))).set_name("1-99")
+one_to_99.add_parse_action(sum)
 
 hundred = define_numeric_word_range("hundred", 100)
 thousand = define_numeric_word_range("thousand", 1000)
 
 hundreds = (units | teens_only | (tens + opt_dash + units)) + hundred
-hundreds.setName("100s")
+hundreds.set_name("100s")
 
 one_to_999 = (
-    (pp.Optional(hundreds + opt_and) + one_to_99 | hundreds).addParseAction(sum)
-).setName("1-999")
+    (pp.Opt(hundreds + opt_and) + one_to_99 | hundreds).add_parse_action(sum)
+).set_name("1-999")
 
 thousands = one_to_999 + thousand
-thousands.setName("1000s")
+thousands.set_name("1000s")
 
 # for hundreds and thousands, must scale up (multiply) accordingly
-hundreds.addParseAction(multiply)
-thousands.addParseAction(multiply)
+hundreds.add_parse_action(multiply)
+thousands.add_parse_action(multiply)
 
 numeric_expression = (
-    pp.Optional(thousands + opt_and) + pp.Optional(hundreds + opt_and) + one_to_99
-    | pp.Optional(thousands + opt_and) + hundreds
+    pp.Opt(thousands + opt_and) + pp.Opt(hundreds + opt_and) + one_to_99
+    | pp.Opt(thousands + opt_and) + hundreds
     | thousands
-).setName("numeric_words")
+).set_name("numeric_words")
 
 # sum all sub-results into total
-numeric_expression.addParseAction(sum)
+numeric_expression.add_parse_action(sum)
 
 
 if __name__ == "__main__":
-    numeric_expression.runTests(
+    numeric_expression.run_tests(
         """
         one
         seven
         twelve
         twenty six
         forty-two
         two hundred
```

### Comparing `pyparsing-3.1.0a1/examples/numerics.py` & `pyparsing-3.1.0b1/examples/numerics.py`

 * *Files 21% similar despite different names*

```diff
@@ -45,22 +45,22 @@
 # Thai
 4,294,967,295.000
 """
 
 from pyparsing import Regex
 
 comma_decimal = Regex(r"\d{1,2}(([ .])\d\d\d(\2\d\d\d)*)?,\d*")
-comma_decimal.setParseAction(
+comma_decimal.add_parse_action(
     lambda t: float(t[0].replace(" ", "").replace(".", "").replace(",", "."))
 )
 
 dot_decimal = Regex(r"\d{1,2}(([ ,])\d\d\d(\2\d\d\d)*)?\.\d*")
-dot_decimal.setParseAction(lambda t: float(t[0].replace(" ", "").replace(",", "")))
+dot_decimal.add_parse_action(lambda t: float(t[0].replace(" ", "").replace(",", "")))
 
 decimal = comma_decimal ^ dot_decimal
-decimal.runTests(tests, parseAll=True)
+decimal.run_tests(tests, parse_all=True)
 
 grouped_integer = Regex(r"\d{1,2}(([ .,])\d\d\d(\2\d\d\d)*)?")
-grouped_integer.setParseAction(
+grouped_integer.add_parse_action(
     lambda t: int(t[0].replace(" ", "").replace(",", "").replace(".", ""))
 )
-grouped_integer.runTests(tests, parseAll=False)
+grouped_integer.run_tests(tests, parse_all=False)
```

### Comparing `pyparsing-3.1.0a1/examples/oc.py` & `pyparsing-3.1.0b1/examples/oc.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/one_to_ninety_nine.py` & `pyparsing-3.1.0b1/examples/one_to_ninety_nine.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/parsePythonValue.py` & `pyparsing-3.1.0b1/examples/parsePythonValue.py`

 * *Files 25% similar despite different names*

```diff
@@ -4,61 +4,59 @@
 #
 import pyparsing as pp
 
 
 cvtBool = lambda t: t[0] == "True"
 cvtInt = lambda toks: int(toks[0])
 cvtReal = lambda toks: float(toks[0])
-cvtTuple = lambda toks: tuple(toks.asList())
-cvtDict = lambda toks: dict(toks.asList())
-cvtList = lambda toks: [toks.asList()]
+cvtTuple = lambda toks: tuple(toks.as_list())
+cvtDict = lambda toks: dict(toks.as_list())
+cvtList = lambda toks: [toks.as_list()]
 
 # define punctuation as suppressed literals
-lparen, rparen, lbrack, rbrack, lbrace, rbrace, colon, comma = map(
-    pp.Suppress, "()[]{}:,"
-)
+lparen, rparen, lbrack, rbrack, lbrace, rbrace, colon, comma = pp.Suppress.using_each("()[]{}:,")
 
-integer = pp.Regex(r"[+-]?\d+").setName("integer").setParseAction(cvtInt)
-real = pp.Regex(r"[+-]?\d+\.\d*([Ee][+-]?\d+)?").setName("real").setParseAction(cvtReal)
+integer = pp.Regex(r"[+-]?\d+").set_name("integer").add_parse_action(cvtInt)
+real = pp.Regex(r"[+-]?\d+\.\d*([Ee][+-]?\d+)?").set_name("real").add_parse_action(cvtReal)
 tupleStr = pp.Forward().set_name("tuple_expr")
 listStr = pp.Forward().set_name("list_expr")
 dictStr = pp.Forward().set_name("dict_expr")
 
-unistr = pp.unicodeString().setParseAction(lambda t: t[0][2:-1])
-quoted_str = pp.quotedString().setParseAction(lambda t: t[0][1:-1])
-boolLiteral = pp.oneOf("True False", asKeyword=True).setParseAction(cvtBool)
-noneLiteral = pp.Keyword("None").setParseAction(pp.replaceWith(None))
+unistr = pp.unicodeString().add_parse_action(lambda t: t[0][2:-1])
+quoted_str = pp.quotedString().add_parse_action(lambda t: t[0][1:-1])
+boolLiteral = pp.oneOf("True False", as_keyword=True).add_parse_action(cvtBool)
+noneLiteral = pp.Keyword("None").add_parse_action(pp.replace_with(None))
 
 listItem = (
     real
     | integer
     | quoted_str
     | unistr
     | boolLiteral
     | noneLiteral
     | pp.Group(listStr)
     | tupleStr
     | dictStr
 ).set_name("list_item")
 
 tupleStr <<= (
-    lparen + pp.Optional(pp.delimitedList(listItem, allow_trailing_delim=True)) + rparen
+    lparen + pp.Opt(pp.DelimitedList(listItem, allow_trailing_delim=True)) + rparen
 )
-tupleStr.setParseAction(cvtTuple)
+tupleStr.add_parse_action(cvtTuple)
 
 listStr <<= (
-    lbrack + pp.Optional(pp.delimitedList(listItem, allow_trailing_delim=True)) + rbrack
+    lbrack + pp.Opt(pp.DelimitedList(listItem, allow_trailing_delim=True)) + rbrack
 )
-listStr.setParseAction(cvtList, lambda t: t[0])
+listStr.add_parse_action(cvtList, lambda t: t[0])
 
 dictEntry = pp.Group(listItem + colon + listItem).set_name("dict_entry")
 dictStr <<= (
-    lbrace + pp.Optional(pp.delimitedList(dictEntry, allow_trailing_delim=True)) + rbrace
+    lbrace + pp.Opt(pp.DelimitedList(dictEntry, allow_trailing_delim=True)) + rbrace
 )
-dictStr.setParseAction(cvtDict)
+dictStr.add_parse_action(cvtDict)
 
 if __name__ == "__main__":
 
     tests = """['a', 100, ('A', [101,102]), 3.14, [ +2.718, 'xyzzy', -1.414] ]
                [{0: [2], 1: []}, {0: [], 1: [], 2: []}, {0: [1, 2]}]
                { 'A':1, 'B':2, 'C': {'a': 1.2, 'b': 3.4} }
                3.14159
```

### Comparing `pyparsing-3.1.0a1/examples/parseResultsSumExample.py` & `pyparsing-3.1.0b1/examples/parseResultsSumExample.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/parseTabularData.py` & `pyparsing-3.1.0b1/examples/parseTabularData.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/partial_gene_match.py` & `pyparsing-3.1.0b1/examples/partial_gene_match.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/pgn.py` & `pyparsing-3.1.0b1/examples/pgn.py`

 * *Files 19% similar despite different names*

```diff
@@ -11,81 +11,77 @@
 #
 from pyparsing import alphanums, nums, quotedString
 from pyparsing import (
     Combine,
     Forward,
     Group,
     Literal,
-    oneOf,
-    OneOrMore,
-    Optional,
+    one_of,
+    Opt,
     Suppress,
-    ZeroOrMore,
     Word,
 )
 from pyparsing import ParseException
 
 #
 # define pgn grammar
 #
 
-tag = Suppress("[") + Word(alphanums) + Combine(quotedString) + Suppress("]")
+tag = Suppress("[") + Word(alphanums) + quotedString + Suppress("]")
 comment = Suppress("{") + Word(alphanums + " ") + Suppress("}")
 
 dot = Literal(".")
-piece = oneOf("K Q B N R")
-file_coord = oneOf("a b c d e f g h")
-rank_coord = oneOf("1 2 3 4 5 6 7 8")
-capture = oneOf("x :")
+piece = one_of("K Q B N R")
+file_coord = one_of("a b c d e f g h")
+rank_coord = one_of("1 2 3 4 5 6 7 8")
+capture = one_of("x :")
 promote = Literal("=")
-castle_queenside = oneOf("O-O-O 0-0-0 o-o-o")
-castle_kingside = oneOf("O-O 0-0 o-o")
+castle_queenside = one_of("O-O-O 0-0-0 o-o-o")
+castle_kingside = one_of("O-O 0-0 o-o")
 
-move_number = Optional(comment) + Word(nums) + dot
+move_number = Opt(comment) + Word(nums) + dot
 m1 = file_coord + rank_coord  # pawn move e.g. d4
 m2 = file_coord + capture + file_coord + rank_coord  # pawn capture move e.g. dxe5
 m3 = file_coord + "8" + promote + piece  # pawn promotion e.g. e8=Q
 m4 = piece + file_coord + rank_coord  # piece move e.g. Be6
 m5 = piece + file_coord + file_coord + rank_coord  # piece move e.g. Nbd2
 m6 = piece + rank_coord + file_coord + rank_coord  # piece move e.g. R4a7
 m7 = piece + capture + file_coord + rank_coord  # piece capture move e.g. Bxh7
 m8 = castle_queenside | castle_kingside  # castling e.g. o-o
 
-check = oneOf("+ ++")
+check = one_of("+ ++")
 mate = Literal("#")
 annotation = Word("!?", max=2)
 nag = " $" + Word(nums)
 decoration = check | mate | annotation | nag
 
 variant = Forward()
 half_move = (
-    Combine((m3 | m1 | m2 | m4 | m5 | m6 | m7 | m8) + Optional(decoration))
-    + Optional(comment)
-    + Optional(variant)
+    Combine((m3 | m1 | m2 | m4 | m5 | m6 | m7 | m8) + Opt(decoration))
+    + Opt(comment)
+    + Opt(variant)
 )
-move = Suppress(move_number) + half_move + Optional(half_move)
-variant << "(" + OneOrMore(move) + ")"
+move = Suppress(move_number) + half_move + Opt(half_move)
+variant << "(" + move[1, ...] + ")"
 # grouping the plies (half-moves) for each move: useful to group annotations, variants...
 # suggested by Paul McGuire :)
-move = Group(Suppress(move_number) + half_move + Optional(half_move))
-variant << Group("(" + OneOrMore(move) + ")")
-game_terminator = oneOf("1-0 0-1 1/2-1/2 *")
+move = Group(Suppress(move_number) + half_move + Opt(half_move))
+variant << Group("(" + move[1, ...] + ")")
+game_terminator = one_of("1-0 0-1 1/2-1/2 *")
 
 pgnGrammar = (
-    Suppress(ZeroOrMore(tag)) + ZeroOrMore(move) + Optional(Suppress(game_terminator))
+    Suppress(tag[...]) + move[...] + Opt(Suppress(game_terminator))
 )
 
 
 def parsePGN(pgn, bnf=pgnGrammar, fn=None):
     try:
-        return bnf.parseString(pgn)
+        return bnf.parse_string(pgn, parse_all=True)
     except ParseException as err:
-        print(err.line)
-        print(" " * (err.column - 1) + "^")
-        print(err)
+        print(err.explain())
 
 
 if __name__ == "__main__":
     # input string
     pgn = """
 [Event "ICC 5 0 u"]
 [Site "Internet Chess Club"]
```

### Comparing `pyparsing-3.1.0a1/examples/position.py` & `pyparsing-3.1.0b1/examples/position.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/protobuf_parser.py` & `pyparsing-3.1.0b1/examples/protobuf_parser.py`

 * *Files 21% similar despite different names*

```diff
@@ -9,104 +9,103 @@
     Word,
     alphas,
     alphanums,
     Regex,
     Suppress,
     Forward,
     Group,
-    oneOf,
-    ZeroOrMore,
-    Optional,
-    delimitedList,
-    restOfLine,
+    one_of,
+    Opt,
+    DelimitedList,
+    rest_of_line,
     quotedString,
     Dict,
     Keyword,
 )
 
-ident = Word(alphas + "_", alphanums + "_").setName("identifier")
+ident = Word(alphas + "_", alphanums + "_").set_name("identifier")
 integer = Regex(r"[+-]?\d+")
 
-LBRACE, RBRACE, LBRACK, RBRACK, LPAR, RPAR, EQ, SEMI = map(Suppress, "{}[]()=;")
+LBRACE, RBRACE, LBRACK, RBRACK, LPAR, RPAR, EQ, SEMI = Suppress.using_each("{}[]()=;")
 
 kwds = """message required optional repeated enum extensions extends extend
           to package service rpc returns true false option import syntax"""
 for kw in kwds.split():
     exec("{}_ = Keyword('{}')".format(kw.upper(), kw))
 
 messageBody = Forward()
 
 messageDefn = MESSAGE_ - ident("messageId") + LBRACE + messageBody("body") + RBRACE
 
 typespec = (
-    oneOf(
-        """double float int32 int64 uint32 uint64 sint32 sint64
-                    fixed32 fixed64 sfixed32 sfixed64 bool string bytes"""
+    one_of(
+        "double float int32 int64 uint32 uint64 sint32 sint64"
+        " fixed32 fixed64 sfixed32 sfixed64 bool string bytes"
     )
     | ident
 )
 rvalue = integer | TRUE_ | FALSE_ | ident
 fieldDirective = LBRACK + Group(ident + EQ + rvalue) + RBRACK
 fieldDefnPrefix = REQUIRED_ | OPTIONAL_ | REPEATED_
 fieldDefn = (
-    Optional(fieldDefnPrefix)
+    Opt(fieldDefnPrefix)
     + typespec("typespec")
     + ident("ident")
     + EQ
     + integer("fieldint")
-    + ZeroOrMore(fieldDirective)
+    + fieldDirective[...]
     + SEMI
 )
 
 # enumDefn ::= 'enum' ident '{' { ident '=' integer ';' }* '}'
 enumDefn = (
     ENUM_("typespec")
     - ident("name")
     + LBRACE
-    + Dict(ZeroOrMore(Group(ident + EQ + integer + SEMI)))("values")
+    + Dict((Group(ident + EQ + integer + SEMI))[...])("values")
     + RBRACE
 )
 
 # extensionsDefn ::= 'extensions' integer 'to' integer ';'
 extensionsDefn = EXTENSIONS_ - integer + TO_ + integer + SEMI
 
 # messageExtension ::= 'extend' ident '{' messageBody '}'
 messageExtension = EXTEND_ - ident + LBRACE + messageBody + RBRACE
 
 # messageBody ::= { fieldDefn | enumDefn | messageDefn | extensionsDefn | messageExtension }*
-messageBody << Group(
-    ZeroOrMore(
-        Group(fieldDefn | enumDefn | messageDefn | extensionsDefn | messageExtension)
-    )
+messageBody <<= Group(
+    Group(
+        fieldDefn | enumDefn | messageDefn | extensionsDefn | messageExtension
+    )[...]
 )
 
 # methodDefn ::= 'rpc' ident '(' [ ident ] ')' 'returns' '(' [ ident ] ')' ';'
 methodDefn = (
     RPC_
     - ident("methodName")
     + LPAR
-    + Optional(ident("methodParam"))
+    + Opt(ident("methodParam"))
     + RPAR
     + RETURNS_
     + LPAR
-    + Optional(ident("methodReturn"))
+    + Opt(ident("methodReturn"))
     + RPAR
 )
 
 # serviceDefn ::= 'service' ident '{' methodDefn* '}'
 serviceDefn = (
-    SERVICE_ - ident("serviceName") + LBRACE + ZeroOrMore(Group(methodDefn)) + RBRACE
+    SERVICE_ - ident("serviceName") + LBRACE + Group(methodDefn)[...] + RBRACE
 )
 
 syntaxDefn = SYNTAX_ + EQ - quotedString("syntaxString") + SEMI
 
 # packageDirective ::= 'package' ident [ '.' ident]* ';'
-packageDirective = Group(PACKAGE_ - delimitedList(ident, ".", combine=True) + SEMI)
+packageDirective = Group(PACKAGE_ - DelimitedList(ident, ".", combine=True) + SEMI)
 
-comment = "//" + restOfLine
+comment = "//" + rest_of_line
 
 importDirective = IMPORT_ - quotedString("importFileSpec") + SEMI
 
 optionDirective = (
     OPTION_ - ident("optionName") + EQ + quotedString("optionValue") + SEMI
 )
 
@@ -116,18 +115,19 @@
     | enumDefn
     | serviceDefn
     | importDirective
     | optionDirective
     | syntaxDefn
 )
 
-parser = Optional(packageDirective) + ZeroOrMore(topLevelStatement)
+parser = Opt(packageDirective) + topLevelStatement[...]
 
 parser.ignore(comment)
 
+
 if __name__ == "__main__":
 
     test1 = """message Person {
       required int32 id = 1;
       required string name = 2;
       optional string email = 3;
     }"""
@@ -164,8 +164,8 @@
     message SearchRequest {
       string query = 1;
       int32 page_number = 2;
       int32 result_per_page = 3;
     }
     """
 
-    parser.runTests([test1, test2, test3])
+    parser.run_tests([test1, test2, test3])
```

### Comparing `pyparsing-3.1.0a1/examples/pythonGrammarParser.py` & `pyparsing-3.1.0b1/examples/pythonGrammarParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/railroad_diagram_demo.py` & `pyparsing-3.1.0b1/examples/railroad_diagram_demo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/rangeCheck.py` & `pyparsing-3.1.0b1/examples/rangeCheck.py`

 * *Files 6% similar despite different names*

```diff
@@ -4,15 +4,15 @@
 # strings into a data type or object, and to validate the parsed value.
 #
 # Updated to use new addCondition method and expr() copy.
 #
 # Copyright 2011,2015 Paul T. McGuire
 #
 
-from pyparsing import Word, nums, Suppress, Optional
+from pyparsing import Word, nums, Suppress, Opt
 from datetime import datetime
 
 
 def ranged_value(expr, minval=None, maxval=None):
     # have to specify at least one range boundary
     if minval is None and maxval is None:
         raise ValueError("minval or maxval must be specified")
@@ -26,39 +26,39 @@
     }[minval is None, maxval is None]
     outOfRangeMessage = {
         (True, False): "value is greater than %s" % maxval,
         (False, True): "value is less than %s" % minval,
         (False, False): "value is not in the range ({} to {})".format(minval, maxval),
     }[minval is None, maxval is None]
 
-    return expr().addCondition(inRangeCondition, message=outOfRangeMessage)
+    return expr().add_condition(inRangeCondition, message=outOfRangeMessage)
 
 
 # define the expressions for a date of the form YYYY/MM/DD or YYYY/MM (assumes YYYY/MM/01)
-integer = Word(nums).setName("integer")
+integer = Word(nums).set_name("integer")
 integer.setParseAction(lambda t: int(t[0]))
 
 month = ranged_value(integer, 1, 12)
 day = ranged_value(integer, 1, 31)
 year = ranged_value(integer, 2000, None)
 
 SLASH = Suppress("/")
-dateExpr = year("year") + SLASH + month("month") + Optional(SLASH + day("day"))
-dateExpr.setName("date")
+dateExpr = year("year") + SLASH + month("month") + Opt(SLASH + day("day"))
+dateExpr.set_name("date")
 
 # convert date fields to datetime (also validates dates as truly valid dates)
-dateExpr.setParseAction(lambda t: datetime(t.year, t.month, t.day or 1).date())
+dateExpr.set_parse_action(lambda t: datetime(t.year, t.month, t.day or 1).date())
 
 # add range checking on dates
 mindate = datetime(2002, 1, 1).date()
 maxdate = datetime.now().date()
 dateExpr = ranged_value(dateExpr, mindate, maxdate)
 
 
-dateExpr.runTests(
+dateExpr.run_tests(
     """
     2011/5/8
     2001/1/1
     2004/2/29
     2004/2
     1999/12/31"""
 )
```

### Comparing `pyparsing-3.1.0a1/examples/readJson.py` & `pyparsing-3.1.0b1/examples/readJson.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/removeLineBreaks.py` & `pyparsing-3.1.0b1/examples/removeLineBreaks.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/romanNumerals.py` & `pyparsing-3.1.0b1/examples/romanNumerals.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/rosettacode.py` & `pyparsing-3.1.0b1/examples/rosettacode.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/scanExamples.py` & `pyparsing-3.1.0b1/examples/scanExamples.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/searchParserAppDemo.py` & `pyparsing-3.1.0b1/examples/searchParserAppDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/searchparser.py` & `pyparsing-3.1.0b1/examples/searchparser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/select_parser.py` & `pyparsing-3.1.0b1/examples/select_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/sexpParser.py` & `pyparsing-3.1.0b1/examples/sexpParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/shapes.py` & `pyparsing-3.1.0b1/examples/shapes.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/simpleArith.py` & `pyparsing-3.1.0b1/examples/simpleArith.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/simpleBool.py` & `pyparsing-3.1.0b1/examples/simpleBool.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/simpleSQL.py` & `pyparsing-3.1.0b1/examples/simpleSQL.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/simpleWiki.py` & `pyparsing-3.1.0b1/examples/simpleWiki.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/snmp_api.h` & `pyparsing-3.1.0b1/examples/snmp_api.h`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/sql2dot.py` & `pyparsing-3.1.0b1/examples/sql2dot.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/stackish.py` & `pyparsing-3.1.0b1/examples/stackish.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/statemachine/documentSignoffDemo.py` & `pyparsing-3.1.0b1/examples/statemachine/documentSignoffDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/statemachine/documentsignoffstate.pystate` & `pyparsing-3.1.0b1/examples/statemachine/documentsignoffstate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/statemachine/libraryBookDemo.py` & `pyparsing-3.1.0b1/examples/statemachine/libraryBookDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/statemachine/librarybookstate.pystate` & `pyparsing-3.1.0b1/examples/statemachine/librarybookstate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/statemachine/statemachine.py` & `pyparsing-3.1.0b1/examples/statemachine/statemachine.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/statemachine/trafficLightDemo.py` & `pyparsing-3.1.0b1/examples/statemachine/trafficLightDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/statemachine/trafficlightstate.pystate` & `pyparsing-3.1.0b1/examples/statemachine/trafficlightstate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/statemachine/vending_machine.py` & `pyparsing-3.1.0b1/examples/statemachine/vending_machine.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/statemachine/video_demo.py` & `pyparsing-3.1.0b1/examples/statemachine/video_demo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/statemachine/videostate.pystate` & `pyparsing-3.1.0b1/examples/statemachine/videostate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/test_bibparse.py` & `pyparsing-3.1.0b1/examples/test_bibparse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/unicode_denormalizer.py` & `pyparsing-3.1.0b1/examples/unicode_denormalizer.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/urlExtractor.py` & `pyparsing-3.1.0b1/examples/urlExtractor.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/urlExtractorNew.py` & `pyparsing-3.1.0b1/examples/urlExtractorNew.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/verilogParse.py` & `pyparsing-3.1.0b1/examples/verilog_parse.py`

 * *Files 15% similar despite different names*

```diff
@@ -56,323 +56,317 @@
 #   1.0.6 - Added support for module header with no ports list (thanks, Thomas Dejanovic!)
 #   1.0.7 - Fixed erroneous '<<' Forward definition in timCheckCond, omitting ()'s
 #   1.0.8 - Re-released under MIT license
 #   1.0.9 - Enhanced udpInstance to handle identifiers with leading '\' and subscripting
 #   1.0.10 - Fixed change added in 1.0.9 to work for all identifiers, not just those used
 #           for udpInstance.
 #   1.0.11 - Fixed bug in inst_args, content alternatives were reversed
+#   1.1.0 - Some performance fixes, convert most literal strs to Keywords
 #
-import time
+from pathlib import Path
 import pprint
-import sys
+import time
 
-__version__ = "1.0.11"
+__version__ = "1.1.0"
+
+__all__ = ["__version__", "verilogbnf"]
 
 from pyparsing import (
     Literal,
     Keyword,
     Word,
-    OneOrMore,
-    ZeroOrMore,
     Forward,
-    delimitedList,
+    DelimitedList,
     Group,
     Optional,
     Combine,
     alphas,
     nums,
     restOfLine,
     alphanums,
-    dblQuotedString,
+    dbl_quoted_string,
     empty,
     ParseException,
-    oneOf,
+    one_of,
     StringEnd,
     FollowedBy,
     ParserElement,
     Regex,
     cppStyleComment,
 )
 import pyparsing
 
 usePackrat = True
 
 packratOn = False
-
 if usePackrat:
     try:
         ParserElement.enable_packrat()
     except Exception:
         pass
     else:
         packratOn = True
 
 
-def dumpTokens(s, l, t):
-    import pprint
-
-    pprint.pprint(t.asList())
-
-
 verilogbnf = None
 
 
-def Verilog_BNF():
+def make_verilog_bnf():
     global verilogbnf
 
     if verilogbnf is None:
 
         # compiler directives
         compilerDirective = Combine(
             "`"
-            + oneOf(
-                "define undef ifdef else endif default_nettype "
-                "include resetall timescale unconnected_drive "
-                "nounconnected_drive celldefine endcelldefine"
+            + one_of(
+                "define undef ifdef else endif default_nettype"
+                " include resetall timescale unconnected_drive"
+                " nounconnected_drive celldefine endcelldefine",
+                as_keyword=True,
             )
             + restOfLine
-        ).setName("compilerDirective")
+        ).set_name("compilerDirective")
 
         # primitives
-        SEMI, COLON, LPAR, RPAR, LBRACE, RBRACE, LBRACK, RBRACK, DOT, COMMA, EQ = map(
-            Literal, ";:(){}[].,="
-        )
+        (
+            SEMI,
+            COLON,
+            LPAR,
+            RPAR,
+            LBRACE,
+            RBRACE,
+            LBRACK,
+            RBRACK,
+            DOT,
+            COMMA,
+            EQ,
+        ) = Literal.using_each(";:(){}[].,=")
 
         identLead = alphas + "$_"
         identBody = alphanums + "$_"
         identifier1 = Regex(
-            r"\.?["
-            + identLead
-            + "]["
-            + identBody
-            + r"]*(\.["
-            + identLead
-            + "]["
-            + identBody
-            + "]*)*"
-        ).setName("baseIdent")
+            rf"\.?[{identLead}][{identBody}]*(\.[{identLead}][{identBody}]*)*"
+        ).set_name("baseIdent")
         identifier2 = (
-            Regex(r"\\\S+").setParseAction(lambda t: t[0][1:]).setName("escapedIdent")
+            Regex(r"\\\S+").setParseAction(lambda t: t[0][1:]).set_name("escapedIdent")
         )  # .setDebug()
         identifier = identifier1 | identifier2
         assert identifier2 == r"\abc"
 
         hexnums = nums + "abcdefABCDEF" + "_?"
-        base = Regex("'[bBoOdDhH]").setName("base")
+        base = Regex("'[bBoOdDhH]").set_name("base")
         basedNumber = Combine(
-            Optional(Word(nums + "_")) + base + Word(hexnums + "xXzZ"),
+            (Word(nums + "_") | "") + base + Word(hexnums + "xXzZ"),
             joinString=" ",
             adjacent=False,
-        ).setName("basedNumber")
-        # ~ number = ( basedNumber | Combine( Word( "+-"+spacedNums, spacedNums ) +
-        # ~ Optional( DOT + Optional( Word( spacedNums ) ) ) +
-        # ~ Optional( e + Word( "+-"+spacedNums, spacedNums ) ) ).setName("numeric") )
+        ).set_name("basedNumber")
+        # number = ( basedNumber | Combine( Word( "+-"+spacedNums, spacedNums ) +
+        # Optional( DOT + Optional( Word( spacedNums ) ) ) +
+        # Optional( e + Word( "+-"+spacedNums, spacedNums ) ) ).set_name("numeric") )
         number = (
             basedNumber | Regex(r"[+-]?[0-9_]+(\.[0-9_]*)?([Ee][+-]?[0-9_]+)?")
-        ).setName("numeric")
-        # ~ decnums = nums + "_"
-        # ~ octnums = "01234567" + "_"
-        expr = Forward().setName("expr")
-        concat = Group(LBRACE + delimitedList(expr) + RBRACE)
-        multiConcat = Group("{" + expr + concat + "}").setName("multiConcat")
+        ).set_name("numeric")
+
+        expr = Forward().set_name("expr")
+        concat = Group(LBRACE + DelimitedList(expr) + RBRACE)
+        multiConcat = Group("{" + expr + concat + "}").set_name("multiConcat")
         funcCall = Group(
-            identifier + LPAR + Optional(delimitedList(expr)) + RPAR
-        ).setName("funcCall")
+            identifier + LPAR + (DelimitedList(expr) | "") + RPAR
+        ).set_name("funcCall")
 
-        subscrRef = Group(LBRACK + delimitedList(expr, COLON) + RBRACK)
-        subscrIdentifier = Group(identifier + Optional(subscrRef))
-        # ~ scalarConst = "0" | (( FollowedBy('1') + oneOf("1'b0 1'b1 1'bx 1'bX 1'B0 1'B1 1'Bx 1'BX 1") ))
+        subscrRef = Group(LBRACK + DelimitedList(expr, COLON) + RBRACK)
+        subscrIdentifier = Group(identifier + (subscrRef | ""))
+        # scalarConst = "0" | (( FollowedBy('1') + one_of("1'b0 1'b1 1'bx 1'bX 1'B0 1'B1 1'Bx 1'BX 1") ))
         scalarConst = Regex("0|1('[Bb][01xX])?")
-        mintypmaxExpr = Group(expr + COLON + expr + COLON + expr).setName("mintypmax")
+        mintypmaxExpr = Group(expr + COLON + expr + COLON + expr).set_name("mintypmax")
         primary = (
             number
             | (LPAR + mintypmaxExpr + RPAR)
-            | (LPAR + Group(expr) + RPAR).setName("nestedExpr")
+            | (LPAR + Group(expr) + RPAR).set_name("nestedExpr")
             | multiConcat
             | concat
-            | dblQuotedString
+            | dbl_quoted_string
             | funcCall
             | subscrIdentifier
         )
 
-        unop = oneOf("+  -  !  ~  &  ~&  |  ^|  ^  ~^").setName("unop")
-        binop = oneOf(
+        unop = one_of("+  -  !  ~  &  ~&  |  ^|  ^  ~^").set_name("unop")
+        binop = one_of(
             "+  -  *  /  %  ==  !=  ===  !==  &&  "
             "||  <  <=  >  >=  &  |  ^  ^~  >>  << ** <<< >>>"
-        ).setName("binop")
+        ).set_name("binop")
 
-        expr << (
+        expr <<= (
             (unop + expr)
             | (primary + "?" + expr + COLON + expr)  # must be first!
-            | (primary + Optional(binop + expr))
+            | (primary + ((binop + expr) | ""))
         )
 
         lvalue = subscrIdentifier | concat
 
         # keywords
+        reg = Keyword("reg")
+        trireg = Keyword("trireg")
+        signed = Keyword("signed")
+        parameter = Keyword("parameter")
+        input_, output, inout = Keyword.using_each("input output inout".split())
+        time = Keyword("time")
+        integer = Keyword("integer")
+        real = Keyword("real")
+        event = Keyword("event")
+        scalared = Keyword("scalared")
+        vectored = Keyword("vectored")
         if_ = Keyword("if")
         else_ = Keyword("else")
+        always = Keyword("always")
+        initial = Keyword("initial")
+        small, medium, large = Keyword.using_each("small medium large".split())
         edge = Keyword("edge")
         posedge = Keyword("posedge")
         negedge = Keyword("negedge")
-        specify = Keyword("specify")
-        endspecify = Keyword("endspecify")
+        specify, endspecify = Keyword.using_each("specify endspecify".split())
+        primitive, endprimitive = Keyword.using_each("primitive endprimitive".split())
         fork = Keyword("fork")
         join = Keyword("join")
         begin = Keyword("begin")
         end = Keyword("end")
         default = Keyword("default")
         forever = Keyword("forever")
         repeat = Keyword("repeat")
         while_ = Keyword("while")
         for_ = Keyword("for")
-        case = oneOf("case casez casex")
+        case = one_of("case casez casex", as_keyword=True)
         endcase = Keyword("endcase")
         wait = Keyword("wait")
         disable = Keyword("disable")
         deassign = Keyword("deassign")
         force = Keyword("force")
         release = Keyword("release")
         assign = Keyword("assign")
+        table, endtable = Keyword.using_each("table endtable".split())
+        function, endfunction = Keyword.using_each("function endfunction".split())
+        task, endtask = Keyword.using_each("task endtask".split())
+        module, macromodule, endmodule = Keyword.using_each(
+            "module macromodule endmodule".split()
+        )
 
         eventExpr = Forward()
         eventTerm = (
             (posedge + expr) | (negedge + expr) | expr | (LPAR + eventExpr + RPAR)
         )
-        eventExpr << (Group(delimitedList(eventTerm, Keyword("or"))))
+        eventExpr <<= Group(DelimitedList(eventTerm, Keyword("or")))
         eventControl = Group(
             "@" + ((LPAR + eventExpr + RPAR) | identifier | "*")
-        ).setName("eventCtrl")
+        ).set_name("eventCtrl")
 
         delayArg = (
             number
             | Word(alphanums + "$_")
-            | (LPAR + Group(delimitedList(mintypmaxExpr | expr)) + RPAR)  # identifier |
-        ).setName(
+            | (LPAR + Group(DelimitedList(mintypmaxExpr | expr)) + RPAR)  # identifier |
+        ).set_name(
             "delayArg"
         )  # .setDebug()
-        delay = Group("#" + delayArg).setName("delay")  # .setDebug()
+        delay = Group("#" + delayArg).set_name("delay")  # .setDebug()
         delayOrEventControl = delay | eventControl
 
-        assgnmt = Group(lvalue + EQ + Optional(delayOrEventControl) + expr).setName(
+        assgnmt = Group(lvalue + EQ + (delayOrEventControl | "") + expr).set_name(
             "assgnmt"
         )
         nbAssgnmt = Group(
-            (lvalue + "<=" + Optional(delay) + expr)
-            | (lvalue + "<=" + Optional(eventControl) + expr)
-        ).setName("nbassgnmt")
+            (lvalue + "<=" + (delay | "") + expr)
+            | (lvalue + "<=" + (eventControl | "") + expr)
+        ).set_name("nbassgnmt")
 
-        range = LBRACK + expr + COLON + expr + RBRACK
+        range_ = LBRACK + expr + COLON + expr + RBRACK
 
-        paramAssgnmt = Group(identifier + EQ + expr).setName("paramAssgnmt")
+        paramAssgnmt = Group(identifier + EQ + expr).set_name("paramAssgnmt")
         parameterDecl = Group(
-            "parameter" + Optional(range) + delimitedList(paramAssgnmt) + SEMI
-        ).setName("paramDecl")
+            parameter + (range_ | "") + DelimitedList(paramAssgnmt) + SEMI
+        ).set_name("paramDecl")
 
-        inputDecl = Group("input" + Optional(range) + delimitedList(identifier) + SEMI)
-        outputDecl = Group(
-            "output" + Optional(range) + delimitedList(identifier) + SEMI
-        )
-        inoutDecl = Group("inout" + Optional(range) + delimitedList(identifier) + SEMI)
+        inputDecl = Group(input_ + (range_ | "") + DelimitedList(identifier) + SEMI)
+        outputDecl = Group(output + (range_ | "") + DelimitedList(identifier) + SEMI)
+        inoutDecl = Group(inout + (range_ | "") + DelimitedList(identifier) + SEMI)
 
-        regIdentifier = Group(
-            identifier + Optional(LBRACK + expr + COLON + expr + RBRACK)
-        )
+        regIdentifier = Group(identifier + (LBRACK + expr + COLON + expr + RBRACK | ""))
         regDecl = Group(
-            "reg"
-            + Optional("signed")
-            + Optional(range)
-            + delimitedList(regIdentifier)
-            + SEMI
-        ).setName("regDecl")
-        timeDecl = Group("time" + delimitedList(regIdentifier) + SEMI)
-        integerDecl = Group("integer" + delimitedList(regIdentifier) + SEMI)
+            reg + (signed | "") + (range_ | "") + DelimitedList(regIdentifier) + SEMI
+        ).set_name("regDecl")
+        timeDecl = Group(time + DelimitedList(regIdentifier) + SEMI)
+        integerDecl = Group(integer + DelimitedList(regIdentifier) + SEMI)
 
-        strength0 = oneOf("supply0  strong0  pull0  weak0  highz0")
-        strength1 = oneOf("supply1  strong1  pull1  weak1  highz1")
+        strength0 = one_of("supply0  strong0  pull0  weak0  highz0", as_keyword=True)
+        strength1 = one_of("supply1  strong1  pull1  weak1  highz1", as_keyword=True)
         driveStrength = Group(
             LPAR
             + ((strength0 + COMMA + strength1) | (strength1 + COMMA + strength0))
             + RPAR
-        ).setName("driveStrength")
-        nettype = oneOf(
-            "wire  tri  tri1  supply0  wand  triand  tri0  supply1  wor  trior  trireg"
+        ).set_name("driveStrength")
+        nettype = one_of(
+            "wire  tri  tri1  supply0  wand  triand  tri0  supply1  wor  trior  trireg",
+            as_keyword=True,
         )
-        expandRange = Optional(oneOf("scalared vectored")) + range
-        realDecl = Group("real" + delimitedList(identifier) + SEMI)
+        expandRange = (scalared | vectored | "") + range_
+        realDecl = Group(real + DelimitedList(identifier) + SEMI)
 
-        eventDecl = Group("event" + delimitedList(identifier) + SEMI)
+        eventDecl = Group(event + DelimitedList(identifier) + SEMI)
 
         blockDecl = (
             parameterDecl | regDecl | integerDecl | realDecl | timeDecl | eventDecl
         )
 
-        stmt = Forward().setName("stmt")  # .setDebug()
+        stmt = Forward().set_name("stmt")  # .setDebug()
         stmtOrNull = stmt | SEMI
-        caseItem = (delimitedList(expr) + COLON + stmtOrNull) | (
+        caseItem = (DelimitedList(expr) + COLON + stmtOrNull) | (
             default + Optional(":") + stmtOrNull
         )
-        stmt << Group(
-            (begin + Group(ZeroOrMore(stmt)) + end).setName("begin-end")
+        stmt <<= Group(
+            (begin + Group(stmt[...:end]) + end).set_name("begin-end")
             | (
-                if_
-                + Group(LPAR + expr + RPAR)
-                + stmtOrNull
-                + Optional(else_ + stmtOrNull)
-            ).setName("if")
+                if_ + Group(LPAR + expr + RPAR) + stmtOrNull + (else_ + stmtOrNull | "")
+            ).set_name("if")
             | (delayOrEventControl + stmtOrNull)
-            | (case + LPAR + expr + RPAR + OneOrMore(caseItem) + endcase)
+            | (case + LPAR + expr + RPAR + caseItem[1, ...] + endcase)
             | (forever + stmt)
             | (repeat + LPAR + expr + RPAR + stmt)
             | (while_ + LPAR + expr + RPAR + stmt)
             | (
                 for_
                 + LPAR
                 + assgnmt
                 + SEMI
                 + Group(expr)
                 + SEMI
                 + assgnmt
                 + RPAR
                 + stmt
             )
-            | (fork + ZeroOrMore(stmt) + join)
-            | (
-                fork
-                + COLON
-                + identifier
-                + ZeroOrMore(blockDecl)
-                + ZeroOrMore(stmt)
-                + end
-            )
+            | (fork + stmt[...] + join)
+            | (fork + COLON + identifier + blockDecl[...] + stmt[...] + end)
             | (wait + LPAR + expr + RPAR + stmtOrNull)
             | ("->" + identifier + SEMI)
             | (disable + identifier + SEMI)
             | (assign + assgnmt + SEMI)
             | (deassign + lvalue + SEMI)
             | (force + assgnmt + SEMI)
             | (release + lvalue + SEMI)
-            | (
-                begin
-                + COLON
-                + identifier
-                + ZeroOrMore(blockDecl)
-                + ZeroOrMore(stmt)
-                + end
-            ).setName("begin:label-end")
+            | (begin + COLON + identifier + blockDecl[...] + stmt[...] + end).set_name(
+                "begin:label-end"
+            )
             |
             # these  *have* to go at the end of the list!!!
             (assgnmt + SEMI)
             | (nbAssgnmt + SEMI)
             | (
                 Combine(Optional("$") + identifier)
-                + Optional(LPAR + delimitedList(expr | empty) + RPAR)
+                + (LPAR + DelimitedList(expr | empty) + RPAR | "")
                 + SEMI
             )
-        ).setName("stmtBody")
+        ).set_name("stmtBody")
         """
         x::=<blocking_assignment> ;
         x||= <non_blocking_assignment> ;
         x||= if ( <expression> ) <statement_or_null>
         x||= if ( <expression> ) <statement_or_null> else <statement_or_null>
         x||= case ( <expression> ) <case_item>+ endcase
         x||= casez ( <expression> ) <case_item>+ endcase
@@ -391,360 +385,348 @@
         x||= disable <name_of_task> ;
         x||= disable <name_of_block> ;
         x||= assign <assignment> ;
         x||= deassign <lvalue> ;
         x||= force <assignment> ;
         x||= release <lvalue> ;
         """
-        alwaysStmt = Group("always" + Optional(eventControl) + stmt).setName(
-            "alwaysStmt"
-        )
-        initialStmt = Group("initial" + stmt).setName("initialStmt")
+        alwaysStmt = Group(always + (eventControl | "") + stmt).set_name("alwaysStmt")
+        initialStmt = Group(initial + stmt).set_name("initialStmt")
 
-        chargeStrength = Group(LPAR + oneOf("small medium large") + RPAR).setName(
+        chargeStrength = Group(LPAR + (small | medium | large) + RPAR).set_name(
             "chargeStrength"
         )
 
         continuousAssign = Group(
-            assign
-            + Optional(driveStrength)
-            + Optional(delay)
-            + delimitedList(assgnmt)
-            + SEMI
-        ).setName("continuousAssign")
+            assign + (driveStrength | "") + (delay | "") + DelimitedList(assgnmt) + SEMI
+        ).set_name("continuousAssign")
 
         tfDecl = (
             parameterDecl
             | inputDecl
             | outputDecl
             | inoutDecl
             | regDecl
             | timeDecl
             | integerDecl
             | realDecl
         )
 
         functionDecl = Group(
-            "function"
-            + Optional(range | "integer" | "real")
+            function
+            + (range_ | "integer" | "real" | "")
             + identifier
             + SEMI
-            + Group(OneOrMore(tfDecl))
-            + Group(ZeroOrMore(stmt))
-            + "endfunction"
+            + Group(tfDecl[1, ...])
+            + Group(stmt[...])
+            + endfunction
         )
 
-        inputOutput = oneOf("input output")
+        inputOutput = input_ | output
         netDecl1Arg = (
             nettype
-            + Optional(expandRange)
-            + Optional(delay)
-            + Group(delimitedList(~inputOutput + identifier))
+            + (expandRange | "")
+            + (delay | "")
+            + Group(DelimitedList(~inputOutput + identifier))
         )
         netDecl2Arg = (
-            "trireg"
-            + Optional(chargeStrength)
-            + Optional(expandRange)
-            + Optional(delay)
-            + Group(delimitedList(~inputOutput + identifier))
+            trireg
+            + (chargeStrength | "")
+            + (expandRange | "")
+            + (delay | "")
+            + Group(DelimitedList(~inputOutput + identifier))
         )
         netDecl3Arg = (
             nettype
-            + Optional(driveStrength)
-            + Optional(expandRange)
-            + Optional(delay)
-            + Group(delimitedList(assgnmt))
-        )
-        netDecl1 = Group(netDecl1Arg + SEMI).setName("netDecl1")
-        netDecl2 = Group(netDecl2Arg + SEMI).setName("netDecl2")
-        netDecl3 = Group(netDecl3Arg + SEMI).setName("netDecl3")
+            + (driveStrength | "")
+            + (expandRange | "")
+            + (delay | "")
+            + Group(DelimitedList(assgnmt))
+        )
+        netDecl1 = Group(netDecl1Arg + SEMI).set_name("netDecl1")
+        netDecl2 = Group(netDecl2Arg + SEMI).set_name("netDecl2")
+        netDecl3 = Group(netDecl3Arg + SEMI).set_name("netDecl3")
 
-        gateType = oneOf(
+        gateType = one_of(
             "and  nand  or  nor xor  xnor buf  bufif0 bufif1 "
             "not  notif0 notif1  pulldown pullup nmos  rnmos "
             "pmos rpmos cmos rcmos   tran rtran  tranif0  "
-            "rtranif0  tranif1 rtranif1"
+            "rtranif0  tranif1 rtranif1",
+            as_keyword=True,
         )
         gateInstance = (
-            Optional(Group(identifier + Optional(range)))
+            (Group(identifier + (range_ | "")) | "")
             + LPAR
-            + Group(delimitedList(expr))
+            + Group(DelimitedList(expr))
             + RPAR
         )
         gateDecl = Group(
             gateType
-            + Optional(driveStrength)
-            + Optional(delay)
-            + delimitedList(gateInstance)
+            + (driveStrength | "")
+            + (delay | "")
+            + DelimitedList(gateInstance)
             + SEMI
         )
 
         udpInstance = Group(
-            Group(identifier + Optional(range | subscrRef))
+            Group(identifier + (range_ | subscrRef | ""))
             + LPAR
-            + Group(delimitedList(expr))
+            + Group(DelimitedList(expr))
             + RPAR
         )
         udpInstantiation = Group(
             identifier
-            - Optional(driveStrength)
-            + Optional(delay)
-            + delimitedList(udpInstance)
+            - (driveStrength | "")
+            + (delay | "")
+            + DelimitedList(udpInstance)
             + SEMI
-        ).setName("udpInstantiation")
+        ).set_name("udpInstantiation")
 
         parameterValueAssignment = Group(
-            Literal("#") + LPAR + Group(delimitedList(expr)) + RPAR
+            Literal("#") + LPAR + Group(DelimitedList(expr)) + RPAR
         )
-        namedPortConnection = Group(DOT + identifier + LPAR + expr + RPAR).setName(
+        namedPortConnection = Group(DOT + identifier + LPAR + expr + RPAR).set_name(
             "namedPortConnection"
         )  # .setDebug()
-        assert r".\abc (abc )" == namedPortConnection
+        # assert r".\abc (abc )" == namedPortConnection
         modulePortConnection = expr | empty
-        # ~ moduleInstance = Group( Group ( identifier + Optional(range) ) +
-        # ~ ( delimitedList( modulePortConnection ) |
-        # ~ delimitedList( namedPortConnection ) ) )
         inst_args = Group(
             LPAR
-            + (delimitedList(namedPortConnection) | delimitedList(modulePortConnection))
+            + (DelimitedList(namedPortConnection) | DelimitedList(modulePortConnection))
             + RPAR
-        ).setName("inst_args")
-        moduleInstance = Group(Group(identifier + Optional(range)) + inst_args).setName(
+        ).set_name("inst_args")
+        moduleInstance = Group(Group(identifier + (range_ | "")) + inst_args).set_name(
             "moduleInstance"
         )  # .setDebug()
 
         moduleInstantiation = Group(
             identifier
-            + Optional(parameterValueAssignment)
-            + delimitedList(moduleInstance).setName("moduleInstanceList")
+            + (parameterValueAssignment | "")
+            + DelimitedList(moduleInstance).set_name("moduleInstanceList")
             + SEMI
-        ).setName("moduleInstantiation")
+        ).set_name("moduleInstantiation")
 
-        parameterOverride = Group("defparam" + delimitedList(paramAssgnmt) + SEMI)
-        task = Group(
-            "task" + identifier + SEMI + ZeroOrMore(tfDecl) + stmtOrNull + "endtask"
-        )
+        parameterOverride = Group("defparam" + DelimitedList(paramAssgnmt) + SEMI)
+        task = Group(task + identifier + SEMI + tfDecl[...] + stmtOrNull + endtask)
 
-        specparamDecl = Group("specparam" + delimitedList(paramAssgnmt) + SEMI)
+        specparamDecl = Group("specparam" + DelimitedList(paramAssgnmt) + SEMI)
 
         pathDescr1 = Group(LPAR + subscrIdentifier + "=>" + subscrIdentifier + RPAR)
         pathDescr2 = Group(
             LPAR
-            + Group(delimitedList(subscrIdentifier))
+            + Group(DelimitedList(subscrIdentifier))
             + "*>"
-            + Group(delimitedList(subscrIdentifier))
+            + Group(DelimitedList(subscrIdentifier))
             + RPAR
         )
         pathDescr3 = Group(
             LPAR
-            + Group(delimitedList(subscrIdentifier))
+            + Group(DelimitedList(subscrIdentifier))
             + "=>"
-            + Group(delimitedList(subscrIdentifier))
+            + Group(DelimitedList(subscrIdentifier))
             + RPAR
         )
         pathDelayValue = Group(
-            (LPAR + Group(delimitedList(mintypmaxExpr | expr)) + RPAR)
+            (LPAR + Group(DelimitedList(mintypmaxExpr | expr)) + RPAR)
             | mintypmaxExpr
             | expr
         )
         pathDecl = Group(
             (pathDescr1 | pathDescr2 | pathDescr3) + EQ + pathDelayValue + SEMI
-        ).setName("pathDecl")
+        ).set_name("pathDecl")
 
         portConditionExpr = Forward()
-        portConditionTerm = Optional(unop) + subscrIdentifier
-        portConditionExpr << portConditionTerm + Optional(binop + portConditionExpr)
-        polarityOp = oneOf("+ -")
+        portConditionTerm = (unop | "") + subscrIdentifier
+        portConditionExpr <<= portConditionTerm + (binop + portConditionExpr | "")
+        polarityOp = one_of("+ -")
         levelSensitivePathDecl1 = Group(
             if_
             + Group(LPAR + portConditionExpr + RPAR)
             + subscrIdentifier
-            + Optional(polarityOp)
+            + (polarityOp | "")
             + "=>"
             + subscrIdentifier
             + EQ
             + pathDelayValue
             + SEMI
         )
         levelSensitivePathDecl2 = Group(
             if_
             + Group(LPAR + portConditionExpr + RPAR)
             + LPAR
-            + Group(delimitedList(subscrIdentifier))
-            + Optional(polarityOp)
+            + Group(DelimitedList(subscrIdentifier))
+            + (polarityOp | "")
             + "*>"
-            + Group(delimitedList(subscrIdentifier))
+            + Group(DelimitedList(subscrIdentifier))
             + RPAR
             + EQ
             + pathDelayValue
             + SEMI
         )
         levelSensitivePathDecl = levelSensitivePathDecl1 | levelSensitivePathDecl2
 
         edgeIdentifier = posedge | negedge
         edgeSensitivePathDecl1 = Group(
-            Optional(if_ + Group(LPAR + expr + RPAR))
+            (if_ + Group(LPAR + expr + RPAR) | "")
             + LPAR
-            + Optional(edgeIdentifier)
+            + (edgeIdentifier | "")
             + subscrIdentifier
             + "=>"
             + LPAR
             + subscrIdentifier
-            + Optional(polarityOp)
+            + (polarityOp | "")
             + COLON
             + expr
             + RPAR
             + RPAR
             + EQ
             + pathDelayValue
             + SEMI
         )
         edgeSensitivePathDecl2 = Group(
-            Optional(if_ + Group(LPAR + expr + RPAR))
+            (if_ + Group(LPAR + expr + RPAR) | "")
             + LPAR
-            + Optional(edgeIdentifier)
+            + (edgeIdentifier | "")
             + subscrIdentifier
             + "*>"
             + LPAR
-            + delimitedList(subscrIdentifier)
-            + Optional(polarityOp)
+            + DelimitedList(subscrIdentifier)
+            + (polarityOp | "")
             + COLON
             + expr
             + RPAR
             + RPAR
             + EQ
             + pathDelayValue
             + SEMI
         )
         edgeSensitivePathDecl = edgeSensitivePathDecl1 | edgeSensitivePathDecl2
 
-        edgeDescr = oneOf("01 10 0x x1 1x x0").setName("edgeDescr")
+        edgeDescr = one_of("01 10 0x x1 1x x0").set_name("edgeDescr")
 
         timCheckEventControl = Group(
-            posedge | negedge | (edge + LBRACK + delimitedList(edgeDescr) + RBRACK)
+            posedge | negedge | (edge + LBRACK + DelimitedList(edgeDescr) + RBRACK)
         )
         timCheckCond = Forward()
-        timCondBinop = oneOf("== === != !==")
+        timCondBinop = one_of("== === != !==")
         timCheckCondTerm = (expr + timCondBinop + scalarConst) | (Optional("~") + expr)
-        timCheckCond << ((LPAR + timCheckCond + RPAR) | timCheckCondTerm)
+        timCheckCond <<= (LPAR + timCheckCond + RPAR) | timCheckCondTerm
         timCheckEvent = Group(
-            Optional(timCheckEventControl)
-            + subscrIdentifier
-            + Optional("&&&" + timCheckCond)
+            (timCheckEventControl | "") + subscrIdentifier + ("&&&" + timCheckCond | "")
         )
         timCheckLimit = expr
         controlledTimingCheckEvent = Group(
-            timCheckEventControl + subscrIdentifier + Optional("&&&" + timCheckCond)
+            timCheckEventControl + subscrIdentifier + ("&&&" + timCheckCond | "")
         )
         notifyRegister = identifier
 
         systemTimingCheck1 = Group(
             "$setup"
             + LPAR
             + timCheckEvent
             + COMMA
             + timCheckEvent
             + COMMA
             + timCheckLimit
-            + Optional(COMMA + notifyRegister)
+            + (COMMA + notifyRegister | "")
             + RPAR
             + SEMI
         )
         systemTimingCheck2 = Group(
             "$hold"
             + LPAR
             + timCheckEvent
             + COMMA
             + timCheckEvent
             + COMMA
             + timCheckLimit
-            + Optional(COMMA + notifyRegister)
+            + (COMMA + notifyRegister | "")
             + RPAR
             + SEMI
         )
         systemTimingCheck3 = Group(
             "$period"
             + LPAR
             + controlledTimingCheckEvent
             + COMMA
             + timCheckLimit
-            + Optional(COMMA + notifyRegister)
+            + (COMMA + notifyRegister | "")
             + RPAR
             + SEMI
         )
         systemTimingCheck4 = Group(
             "$width"
             + LPAR
             + controlledTimingCheckEvent
             + COMMA
             + timCheckLimit
-            + Optional(COMMA + expr + COMMA + notifyRegister)
+            + (COMMA + expr + COMMA + notifyRegister | "")
             + RPAR
             + SEMI
         )
         systemTimingCheck5 = Group(
             "$skew"
             + LPAR
             + timCheckEvent
             + COMMA
             + timCheckEvent
             + COMMA
             + timCheckLimit
-            + Optional(COMMA + notifyRegister)
+            + (COMMA + notifyRegister | "")
             + RPAR
             + SEMI
         )
         systemTimingCheck6 = Group(
             "$recovery"
             + LPAR
             + controlledTimingCheckEvent
             + COMMA
             + timCheckEvent
             + COMMA
             + timCheckLimit
-            + Optional(COMMA + notifyRegister)
+            + (COMMA + notifyRegister | "")
             + RPAR
             + SEMI
         )
         systemTimingCheck7 = Group(
             "$setuphold"
             + LPAR
             + timCheckEvent
             + COMMA
             + timCheckEvent
             + COMMA
             + timCheckLimit
             + COMMA
             + timCheckLimit
-            + Optional(COMMA + notifyRegister)
+            + (COMMA + notifyRegister | "")
             + RPAR
             + SEMI
         )
         systemTimingCheck = (
             FollowedBy("$")
             + (
                 systemTimingCheck1
                 | systemTimingCheck2
                 | systemTimingCheck3
                 | systemTimingCheck4
                 | systemTimingCheck5
                 | systemTimingCheck6
                 | systemTimingCheck7
             )
-        ).setName("systemTimingCheck")
+        ).set_name("systemTimingCheck")
         sdpd = (
             if_
             + Group(LPAR + expr + RPAR)
             + (pathDescr1 | pathDescr2)
             + EQ
             + pathDelayValue
             + SEMI
         )
 
-        specifyItem = ~Keyword("endspecify") + (
+        specifyItem = (
             specparamDecl
             | pathDecl
             | levelSensitivePathDecl
             | edgeSensitivePathDecl
             | systemTimingCheck
             | sdpd
         )
@@ -753,18 +735,18 @@
         x||= <path_declaration>
         x||= <level_sensitive_path_declaration>
         x||= <edge_sensitive_path_declaration>
         x||= <system_timing_check>
         x||= <sdpd>
         """
         specifyBlock = Group(
-            "specify" + ZeroOrMore(specifyItem) + "endspecify"
-        ).setName("specifyBlock")
+            specify + specifyItem[...:endspecify] + endspecify
+        ).set_name("specifyBlock")
 
-        moduleItem = ~Keyword("endmodule") + (
+        moduleItem = (
             parameterDecl
             | inputDecl
             | outputDecl
             | inoutDecl
             | regDecl
             | netDecl3
             | netDecl1
@@ -777,17 +759,16 @@
             | parameterOverride
             | continuousAssign
             | specifyBlock
             | initialStmt
             | alwaysStmt
             | task
             | functionDecl
-            |
             # these have to be at the end - they start with identifiers
-            moduleInstantiation
+            | moduleInstantiation
             | udpInstantiation
         )
         """  All possible moduleItems, from Verilog grammar spec
         x::= <parameter_declaration>
         x||= <input_declaration>
         x||= <output_declaration>
         x||= <inout_declaration>
@@ -805,168 +786,161 @@
         x||= <specify_block>
         x||= <initial_statement>
         x||= <always_statement>
         x||= <task>
         x||= <function>
         """
         portRef = subscrIdentifier
-        portExpr = portRef | Group(LBRACE + delimitedList(portRef) + RBRACE)
+        portExpr = portRef | Group(LBRACE + DelimitedList(portRef) + RBRACE)
         port = portExpr | Group(DOT + identifier + LPAR + portExpr + RPAR)
 
         moduleHdr = Group(
-            oneOf("module macromodule")
+            (module | macromodule)
             + identifier
-            + Optional(
+            + (
                 LPAR
                 + Group(
-                    Optional(
-                        delimitedList(
+                    (
+                        DelimitedList(
                             Group(
-                                oneOf("input output")
+                                (input_ | output)
                                 + (netDecl1Arg | netDecl2Arg | netDecl3Arg)
                             )
                             | port
                         )
+                        | ""
                     )
                 )
                 + RPAR
+                | ""
             )
             + SEMI
-        ).setName("moduleHdr")
+        ).set_name("moduleHdr")
 
-        module = Group(moduleHdr + Group(ZeroOrMore(moduleItem)) + "endmodule").setName(
+        module_expr = Group(
+            moduleHdr + Group(moduleItem[...:endmodule]) + endmodule
+        ).set_name(
             "module"
         )  # .setDebug()
 
         udpDecl = outputDecl | inputDecl | regDecl
-        # ~ udpInitVal = oneOf("1'b0 1'b1 1'bx 1'bX 1'B0 1'B1 1'Bx 1'BX 1 0 x X")
-        udpInitVal = (Regex("1'[bB][01xX]") | Regex("[01xX]")).setName("udpInitVal")
-        udpInitialStmt = Group("initial" + identifier + EQ + udpInitVal + SEMI).setName(
-            "udpInitialStmt"
-        )
+        # udpInitVal = one_of("1'b0 1'b1 1'bx 1'bX 1'B0 1'B1 1'Bx 1'BX 1 0 x X")
+        udpInitVal = (Regex("1'[bB][01xX]|[01xX]")).set_name("udpInitVal")
+        udpInitialStmt = Group(
+            "initial" + identifier + EQ + udpInitVal + SEMI
+        ).set_name("udpInitialStmt")
+
+        levelSymbol = one_of("0   1   x   X   ?   b   B")
+        levelInputList = Group(levelSymbol[1, ...].set_name("levelInpList"))
 
-        levelSymbol = oneOf("0   1   x   X   ?   b   B")
-        levelInputList = Group(OneOrMore(levelSymbol).setName("levelInpList"))
-        outputSymbol = oneOf("0   1   x   X")
+        outputSymbol = one_of("0   1   x   X")
         combEntry = Group(levelInputList + COLON + outputSymbol + SEMI)
-        edgeSymbol = oneOf("r   R   f   F   p   P   n   N   *")
+        edgeSymbol = one_of("r   R   f   F   p   P   n   N   *")
         edge = Group(LPAR + levelSymbol + levelSymbol + RPAR) | Group(edgeSymbol)
-        edgeInputList = Group(ZeroOrMore(levelSymbol) + edge + ZeroOrMore(levelSymbol))
+        edgeInputList = Group(levelSymbol[...] + edge + levelSymbol[...])
         inputList = levelInputList | edgeInputList
         seqEntry = Group(
             inputList + COLON + levelSymbol + COLON + (outputSymbol | "-") + SEMI
-        ).setName("seqEntry")
+        ).set_name("seqEntry")
         udpTableDefn = Group(
-            "table" + OneOrMore(combEntry | seqEntry) + "endtable"
-        ).setName("table")
+            table + (combEntry | seqEntry)[1, ...] + endtable
+        ).set_name("table")
 
         """
         <UDP>
         ::= primitive <name_of_UDP> ( <name_of_variable> <,<name_of_variable>>* ) ;
                 <UDP_declaration>+
                 <UDP_initial_statement>?
                 <table_definition>
                 endprimitive
         """
         udp = Group(
-            "primitive"
+            primitive
             + identifier
             + LPAR
-            + Group(delimitedList(identifier))
+            + Group(DelimitedList(identifier))
             + RPAR
             + SEMI
-            + OneOrMore(udpDecl)
-            + Optional(udpInitialStmt)
+            + udpDecl[1, ...]
+            + (udpInitialStmt | "")
             + udpTableDefn
-            + "endprimitive"
+            + endprimitive
         )
 
-        verilogbnf = OneOrMore(module | udp) + StringEnd()
+        verilogbnf = (module_expr | udp)[1, ...] + StringEnd()
 
         verilogbnf.ignore(cppStyleComment)
         verilogbnf.ignore(compilerDirective)
 
     return verilogbnf
 
 
 def test(strng):
     tokens = []
     try:
-        tokens = Verilog_BNF().parseString(strng)
+        tokens = make_verilog_bnf().parse_string(strng)
     except ParseException as err:
-        print(err.line)
-        print(" " * (err.column - 1) + "^")
-        print(err)
+        print(err.explain())
     return tokens
 
 
 if __name__ == "__main__":
 
     def main():
         import sys
 
         sys.setrecursionlimit(5000)
-        print("Verilog parser test (V %s)" % __version__)
-        print(" - using pyparsing version", pyparsing.__version__)
-        print(" - using Python version", sys.version)
+        print(f"Verilog parser test (V {__version__})")
+        print(f" - using pyparsing version {pyparsing.__version__}")
+        print(f" - using Python version {sys.version}")
         if packratOn:
             print(" - using packrat parsing")
         print()
 
-        import os
         import gc
 
         failCount = 0
-        Verilog_BNF()
+        make_verilog_bnf()
         numlines = 0
         fileDir = "verilog"
-        # ~ fileDir = "verilog/new2"
-        # ~ fileDir = "verilog/new3"
-        allFiles = [f for f in os.listdir(fileDir) if f.endswith(".v")]
-        # ~ allFiles = [ "list_path_delays_test.v" ]
-        # ~ allFiles = [ "escapedIdent.v" ]
-        # ~ allFiles = filter( lambda f : f.startswith("a") and f.endswith(".v"), os.listdir(fileDir) )
-        # ~ allFiles = filter( lambda f : f.startswith("c") and f.endswith(".v"), os.listdir(fileDir) )
-        # ~ allFiles = [ "ff.v" ]
+        fileDir = "scratch/verilog"
+        # fileDir = "scratch/verilog/new3"
+        fileDir = Path(fileDir)
+        allFiles = [f for f in fileDir.glob("*.v")]
 
-        pp = pprint.PrettyPrinter(indent=2)
+        pretty = pprint.PrettyPrinter(indent=2)
         totalTime = 0
         for vfile in allFiles:
             gc.collect()
-            fnam = fileDir + "/" + vfile
-            infile = open(fnam)
-            filelines = infile.readlines()
-            infile.close()
-            print(fnam, len(filelines), end=" ")
+            gc.collect()
+            filelines = vfile.read_text().splitlines()
+            print(vfile.name, len(filelines), end=" ")
             numlines += len(filelines)
-            teststr = "".join(filelines)
+            teststr = "\n".join(filelines)
             time1 = time.perf_counter()
             tokens = test(teststr)
             time2 = time.perf_counter()
             elapsed = time2 - time1
             totalTime += elapsed
             if len(tokens):
-                print("OK", elapsed)
+                print(f"OK {elapsed}")
 
-                ofnam = fileDir + "/parseOutput/" + vfile + ".parsed.txt"
-                with open(ofnam, "w") as outfile:
-                    outfile.write(teststr)
-                    outfile.write("\n\n")
-                    outfile.write(pp.pformat(tokens.asList()))
-                    outfile.write("\n")
+                (fileDir / "parseOutput").mkdir(exist_ok=True)
+                outfile = fileDir / "parseOutput" / (vfile.name + ".parsed.txt")
+                outfile.write_text(f"{teststr}\n\n{pretty.pformat(tokens.as_list())}\n")
             else:
-                print("failed", elapsed)
+                print(f"failed {elapsed}")
                 failCount += 1
                 for i, line in enumerate(filelines, 1):
-                    print("%4d: %s" % (i, line.rstrip()))
+                    print(f"{i:4d}: {line.rstrip()}")
 
-        print("Total parse time:", totalTime)
-        print("Total source lines:", numlines)
-        print("Average lines/sec:", ("%.1f" % (float(numlines) / (totalTime + 0.05))))
+        print(f"Total parse time: {totalTime}")
+        print(f"Total source lines: {numlines}")
+        print(f"Average lines/sec: {numlines / (totalTime + 0.05):.1f}")
         if failCount:
-            print("FAIL - %d files failed to parse" % failCount)
+            print(f"FAIL - {failCount} files failed to parse")
         else:
             print("SUCCESS - all files parsed")
 
         return 0
 
     main()
```

### Comparing `pyparsing-3.1.0a1/examples/withAttribute.py` & `pyparsing-3.1.0b1/examples/withAttribute.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/examples/wordsToNum.py` & `pyparsing-3.1.0b1/examples/wordsToNum.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/pyparsing/__init__.py` & `pyparsing-3.1.0b1/pyparsing/__init__.py`

 * *Files 2% similar despite different names*

```diff
@@ -116,16 +116,16 @@
     def __str__(self):
         return f"{__name__} {self.__version__} / {__version_time__}"
 
     def __repr__(self):
         return f"{__name__}.{type(self).__name__}({', '.join('{}={!r}'.format(*nv) for nv in zip(self._fields, self))})"
 
 
-__version_info__ = version_info(3, 1, 0, "alpha", 1)
-__version_time__ = "08 Mar 2023 01:10 UTC"
+__version_info__ = version_info(3, 1, 0, "beta", 1)
+__version_time__ = "08 Apr 2023 05:16 UTC"
 __version__ = __version_info__.__version__
 __versionTime__ = __version_time__
 __author__ = "Paul McGuire <ptmcg.gm+pyparsing@gmail.com>"
 
 from .util import *
 from .exceptions import *
 from .actions import *
@@ -164,14 +164,15 @@
     "AtLineStart",
     "AtStringStart",
     "CaselessKeyword",
     "CaselessLiteral",
     "CharsNotIn",
     "CloseMatch",
     "Combine",
+    "DelimitedList",
     "Dict",
     "Each",
     "Empty",
     "FollowedBy",
     "Forward",
     "GoToColumn",
     "Group",
```

### Comparing `pyparsing-3.1.0a1/pyparsing/actions.py` & `pyparsing-3.1.0b1/pyparsing/actions.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/pyparsing/common.py` & `pyparsing-3.1.0b1/pyparsing/common.py`

 * *Files 0% similar despite different names*

```diff
@@ -359,14 +359,15 @@
     downcase_tokens = staticmethod(token_map(lambda t: t.lower()))
     """Parse action to convert tokens to lower case."""
 
     # fmt: off
     url = Regex(
         # https://mathiasbynens.be/demo/url-regex
         # https://gist.github.com/dperini/729294
+        r"(?P<url>" +
         # protocol identifier (optional)
         # short syntax // still required
         r"(?:(?:(?P<scheme>https?|ftp):)?\/\/)" +
         # user:pass BasicAuth (optional)
         r"(?:(?P<auth>\S+(?::\S*)?)@)?" +
         r"(?P<host>" +
         # IP address exclusion
@@ -399,15 +400,16 @@
         # port number (optional)
         r"(:(?P<port>\d{2,5}))?" +
         # resource path (optional)
         r"(?P<path>\/[^?# ]*)?" +
         # query string (optional)
         r"(\?(?P<query>[^#]*))?" +
         # fragment (optional)
-        r"(#(?P<fragment>\S*))?"
+        r"(#(?P<fragment>\S*))?" +
+        r")"
     ).set_name("url")
     """URL (http/https/ftp scheme)"""
     # fmt: on
 
     # pre-PEP8 compatibility names
     convertToInteger = convert_to_integer
     """Deprecated - use :class:`convert_to_integer`"""
```

### Comparing `pyparsing-3.1.0a1/pyparsing/core.py` & `pyparsing-3.1.0b1/pyparsing/core.py`

 * *Files 0% similar despite different names*

```diff
@@ -3772,10201 +3772,10244 @@
 0000ebb0: 6865 7220 6973 2045 6c6c 6970 7369 733a  her is Ellipsis:
 0000ebc0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
 0000ebd0: 7572 6e20 5f50 656e 6469 6e67 536b 6970  urn _PendingSkip
 0000ebe0: 2873 656c 662c 206d 7573 745f 736b 6970  (self, must_skip
 0000ebf0: 3d54 7275 6529 0a0a 2020 2020 2020 2020  =True)..        
 0000ec00: 6966 2069 7369 6e73 7461 6e63 6528 6f74  if isinstance(ot
 0000ec10: 6865 722c 2073 7472 5f74 7970 6529 3a0a  her, str_type):.
-0000ec20: 2020 2020 2020 2020 2020 2020 6f74 6865              othe
-0000ec30: 7220 3d20 7365 6c66 2e5f 6c69 7465 7261  r = self._litera
-0000ec40: 6c53 7472 696e 6743 6c61 7373 286f 7468  lStringClass(oth
-0000ec50: 6572 290a 2020 2020 2020 2020 6966 206e  er).        if n
-0000ec60: 6f74 2069 7369 6e73 7461 6e63 6528 6f74  ot isinstance(ot
-0000ec70: 6865 722c 2050 6172 7365 7245 6c65 6d65  her, ParserEleme
-0000ec80: 6e74 293a 0a20 2020 2020 2020 2020 2020  nt):.           
-0000ec90: 2072 6574 7572 6e20 4e6f 7449 6d70 6c65   return NotImple
-0000eca0: 6d65 6e74 6564 0a20 2020 2020 2020 2072  mented.        r
-0000ecb0: 6574 7572 6e20 4d61 7463 6846 6972 7374  eturn MatchFirst
-0000ecc0: 285b 7365 6c66 2c20 6f74 6865 725d 290a  ([self, other]).
-0000ecd0: 0a20 2020 2064 6566 205f 5f72 6f72 5f5f  .    def __ror__
-0000ece0: 2873 656c 662c 206f 7468 6572 2920 2d3e  (self, other) ->
-0000ecf0: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
-0000ed00: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0000ed10: 2020 2020 2020 496d 706c 656d 656e 7461        Implementa
-0000ed20: 7469 6f6e 206f 6620 6060 7c60 6020 6f70  tion of ``|`` op
-0000ed30: 6572 6174 6f72 2077 6865 6e20 6c65 6674  erator when left
-0000ed40: 206f 7065 7261 6e64 2069 7320 6e6f 7420   operand is not 
-0000ed50: 6120 3a63 6c61 7373 3a60 5061 7273 6572  a :class:`Parser
-0000ed60: 456c 656d 656e 7460 0a20 2020 2020 2020  Element`.       
-0000ed70: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-0000ed80: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
-0000ed90: 2c20 7374 725f 7479 7065 293a 0a20 2020  , str_type):.   
-0000eda0: 2020 2020 2020 2020 206f 7468 6572 203d           other =
-0000edb0: 2073 656c 662e 5f6c 6974 6572 616c 5374   self._literalSt
-0000edc0: 7269 6e67 436c 6173 7328 6f74 6865 7229  ringClass(other)
-0000edd0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0000ede0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
-0000edf0: 2c20 5061 7273 6572 456c 656d 656e 7429  , ParserElement)
-0000ee00: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0000ee10: 7475 726e 204e 6f74 496d 706c 656d 656e  turn NotImplemen
-0000ee20: 7465 640a 2020 2020 2020 2020 7265 7475  ted.        retu
-0000ee30: 726e 206f 7468 6572 207c 2073 656c 660a  rn other | self.
-0000ee40: 0a20 2020 2064 6566 205f 5f78 6f72 5f5f  .    def __xor__
-0000ee50: 2873 656c 662c 206f 7468 6572 2920 2d3e  (self, other) ->
-0000ee60: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
-0000ee70: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0000ee80: 2020 2020 2020 496d 706c 656d 656e 7461        Implementa
-0000ee90: 7469 6f6e 206f 6620 6060 5e60 6020 6f70  tion of ``^`` op
-0000eea0: 6572 6174 6f72 202d 2072 6574 7572 6e73  erator - returns
-0000eeb0: 203a 636c 6173 733a 604f 7260 0a20 2020   :class:`Or`.   
-0000eec0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000eed0: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
-0000eee0: 7468 6572 2c20 7374 725f 7479 7065 293a  ther, str_type):
-0000eef0: 0a20 2020 2020 2020 2020 2020 206f 7468  .            oth
-0000ef00: 6572 203d 2073 656c 662e 5f6c 6974 6572  er = self._liter
-0000ef10: 616c 5374 7269 6e67 436c 6173 7328 6f74  alStringClass(ot
-0000ef20: 6865 7229 0a20 2020 2020 2020 2069 6620  her).        if 
-0000ef30: 6e6f 7420 6973 696e 7374 616e 6365 286f  not isinstance(o
-0000ef40: 7468 6572 2c20 5061 7273 6572 456c 656d  ther, ParserElem
-0000ef50: 656e 7429 3a0a 2020 2020 2020 2020 2020  ent):.          
-0000ef60: 2020 7265 7475 726e 204e 6f74 496d 706c    return NotImpl
-0000ef70: 656d 656e 7465 640a 2020 2020 2020 2020  emented.        
-0000ef80: 7265 7475 726e 204f 7228 5b73 656c 662c  return Or([self,
-0000ef90: 206f 7468 6572 5d29 0a0a 2020 2020 6465   other])..    de
-0000efa0: 6620 5f5f 7278 6f72 5f5f 2873 656c 662c  f __rxor__(self,
-0000efb0: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
-0000efc0: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
-0000efd0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000efe0: 496d 706c 656d 656e 7461 7469 6f6e 206f  Implementation o
-0000eff0: 6620 6060 5e60 6020 6f70 6572 6174 6f72  f ``^`` operator
-0000f000: 2077 6865 6e20 6c65 6674 206f 7065 7261   when left opera
-0000f010: 6e64 2069 7320 6e6f 7420 6120 3a63 6c61  nd is not a :cla
-0000f020: 7373 3a60 5061 7273 6572 456c 656d 656e  ss:`ParserElemen
-0000f030: 7460 0a20 2020 2020 2020 2022 2222 0a20  t`.        """. 
-0000f040: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-0000f050: 616e 6365 286f 7468 6572 2c20 7374 725f  ance(other, str_
-0000f060: 7479 7065 293a 0a20 2020 2020 2020 2020  type):.         
-0000f070: 2020 206f 7468 6572 203d 2073 656c 662e     other = self.
-0000f080: 5f6c 6974 6572 616c 5374 7269 6e67 436c  _literalStringCl
-0000f090: 6173 7328 6f74 6865 7229 0a20 2020 2020  ass(other).     
-0000f0a0: 2020 2069 6620 6e6f 7420 6973 696e 7374     if not isinst
-0000f0b0: 616e 6365 286f 7468 6572 2c20 5061 7273  ance(other, Pars
-0000f0c0: 6572 456c 656d 656e 7429 3a0a 2020 2020  erElement):.    
-0000f0d0: 2020 2020 2020 2020 7265 7475 726e 204e          return N
-0000f0e0: 6f74 496d 706c 656d 656e 7465 640a 2020  otImplemented.  
-0000f0f0: 2020 2020 2020 7265 7475 726e 206f 7468        return oth
-0000f100: 6572 205e 2073 656c 660a 0a20 2020 2064  er ^ self..    d
-0000f110: 6566 205f 5f61 6e64 5f5f 2873 656c 662c  ef __and__(self,
-0000f120: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
-0000f130: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
-0000f140: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000f150: 496d 706c 656d 656e 7461 7469 6f6e 206f  Implementation o
-0000f160: 6620 6060 2660 6020 6f70 6572 6174 6f72  f ``&`` operator
-0000f170: 202d 2072 6574 7572 6e73 203a 636c 6173   - returns :clas
-0000f180: 733a 6045 6163 6860 0a20 2020 2020 2020  s:`Each`.       
-0000f190: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-0000f1a0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
-0000f1b0: 2c20 7374 725f 7479 7065 293a 0a20 2020  , str_type):.   
-0000f1c0: 2020 2020 2020 2020 206f 7468 6572 203d           other =
-0000f1d0: 2073 656c 662e 5f6c 6974 6572 616c 5374   self._literalSt
-0000f1e0: 7269 6e67 436c 6173 7328 6f74 6865 7229  ringClass(other)
-0000f1f0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0000f200: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
-0000f210: 2c20 5061 7273 6572 456c 656d 656e 7429  , ParserElement)
-0000f220: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0000f230: 7475 726e 204e 6f74 496d 706c 656d 656e  turn NotImplemen
-0000f240: 7465 640a 2020 2020 2020 2020 7265 7475  ted.        retu
-0000f250: 726e 2045 6163 6828 5b73 656c 662c 206f  rn Each([self, o
-0000f260: 7468 6572 5d29 0a0a 2020 2020 6465 6620  ther])..    def 
-0000f270: 5f5f 7261 6e64 5f5f 2873 656c 662c 206f  __rand__(self, o
-0000f280: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
-0000f290: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
-0000f2a0: 2020 2222 220a 2020 2020 2020 2020 496d    """.        Im
-0000f2b0: 706c 656d 656e 7461 7469 6f6e 206f 6620  plementation of 
-0000f2c0: 6060 2660 6020 6f70 6572 6174 6f72 2077  ``&`` operator w
-0000f2d0: 6865 6e20 6c65 6674 206f 7065 7261 6e64  hen left operand
-0000f2e0: 2069 7320 6e6f 7420 6120 3a63 6c61 7373   is not a :class
-0000f2f0: 3a60 5061 7273 6572 456c 656d 656e 7460  :`ParserElement`
-0000f300: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000f310: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0000f320: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
-0000f330: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
-0000f340: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
-0000f350: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
-0000f360: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
-0000f370: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
-0000f380: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
-0000f390: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
-0000f3a0: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
-0000f3b0: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
-0000f3c0: 2020 2020 7265 7475 726e 206f 7468 6572      return other
-0000f3d0: 2026 2073 656c 660a 0a20 2020 2064 6566   & self..    def
-0000f3e0: 205f 5f69 6e76 6572 745f 5f28 7365 6c66   __invert__(self
-0000f3f0: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
-0000f400: 656e 7422 3a0a 2020 2020 2020 2020 2222  ent":.        ""
-0000f410: 220a 2020 2020 2020 2020 496d 706c 656d  ".        Implem
-0000f420: 656e 7461 7469 6f6e 206f 6620 6060 7e60  entation of ``~`
-0000f430: 6020 6f70 6572 6174 6f72 202d 2072 6574  ` operator - ret
-0000f440: 7572 6e73 203a 636c 6173 733a 604e 6f74  urns :class:`Not
-0000f450: 416e 7960 0a20 2020 2020 2020 2022 2222  Any`.        """
-0000f460: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000f470: 4e6f 7441 6e79 2873 656c 6629 0a0a 2020  NotAny(self)..  
-0000f480: 2020 2320 6469 7361 626c 6520 5f5f 6974    # disable __it
-0000f490: 6572 5f5f 2074 6f20 6f76 6572 7269 6465  er__ to override
-0000f4a0: 206c 6567 6163 7920 7573 6520 6f66 2073   legacy use of s
-0000f4b0: 6571 7565 6e74 6961 6c20 6163 6365 7373  equential access
-0000f4c0: 2074 6f20 5f5f 6765 7469 7465 6d5f 5f20   to __getitem__ 
-0000f4d0: 746f 0a20 2020 2023 2069 7465 7261 7465  to.    # iterate
-0000f4e0: 206f 7665 7220 6120 7365 7175 656e 6365   over a sequence
-0000f4f0: 0a20 2020 205f 5f69 7465 725f 5f20 3d20  .    __iter__ = 
-0000f500: 4e6f 6e65 0a0a 2020 2020 6465 6620 5f5f  None..    def __
-0000f510: 6765 7469 7465 6d5f 5f28 7365 6c66 2c20  getitem__(self, 
-0000f520: 6b65 7929 3a0a 2020 2020 2020 2020 2222  key):.        ""
-0000f530: 220a 2020 2020 2020 2020 7573 6520 6060  ".        use ``
-0000f540: 5b5d 6060 2069 6e64 6578 696e 6720 6e6f  []`` indexing no
-0000f550: 7461 7469 6f6e 2061 7320 6120 7368 6f72  tation as a shor
-0000f560: 7420 666f 726d 2066 6f72 2065 7870 7265  t form for expre
-0000f570: 7373 696f 6e20 7265 7065 7469 7469 6f6e  ssion repetition
-0000f580: 3a0a 0a20 2020 2020 2020 202d 2060 6065  :..        - ``e
-0000f590: 7870 725b 6e5d 6060 2069 7320 6571 7569  xpr[n]`` is equi
-0000f5a0: 7661 6c65 6e74 2074 6f20 6060 6578 7072  valent to ``expr
-0000f5b0: 2a6e 6060 0a20 2020 2020 2020 202d 2060  *n``.        - `
-0000f5c0: 6065 7870 725b 6d2c 206e 5d60 6020 6973  `expr[m, n]`` is
-0000f5d0: 2065 7175 6976 616c 656e 7420 746f 2060   equivalent to `
-0000f5e0: 6065 7870 722a 286d 2c20 6e29 6060 0a20  `expr*(m, n)``. 
-0000f5f0: 2020 2020 2020 202d 2060 6065 7870 725b         - ``expr[
-0000f600: 6e2c 202e 2e2e 5d60 6020 6f72 2060 6065  n, ...]`` or ``e
-0000f610: 7870 725b 6e2c 5d60 6020 6973 2065 7175  xpr[n,]`` is equ
-0000f620: 6976 616c 656e 740a 2020 2020 2020 2020  ivalent.        
-0000f630: 2020 2020 2074 6f20 6060 6578 7072 2a6e       to ``expr*n
-0000f640: 202b 205a 6572 6f4f 724d 6f72 6528 6578   + ZeroOrMore(ex
-0000f650: 7072 2960 600a 2020 2020 2020 2020 2020  pr)``.          
-0000f660: 2020 2028 7265 6164 2061 7320 2261 7420     (read as "at 
-0000f670: 6c65 6173 7420 6e20 696e 7374 616e 6365  least n instance
-0000f680: 7320 6f66 2060 6065 7870 7260 6022 290a  s of ``expr``").
-0000f690: 2020 2020 2020 2020 2d20 6060 6578 7072          - ``expr
-0000f6a0: 5b2e 2e2e 2c20 6e5d 6060 2069 7320 6571  [..., n]`` is eq
-0000f6b0: 7569 7661 6c65 6e74 2074 6f20 6060 6578  uivalent to ``ex
-0000f6c0: 7072 2a28 302c 206e 2960 600a 2020 2020  pr*(0, n)``.    
-0000f6d0: 2020 2020 2020 2020 2028 7265 6164 2061           (read a
-0000f6e0: 7320 2230 2074 6f20 6e20 696e 7374 616e  s "0 to n instan
-0000f6f0: 6365 7320 6f66 2060 6065 7870 7260 6022  ces of ``expr``"
-0000f700: 290a 2020 2020 2020 2020 2d20 6060 6578  ).        - ``ex
-0000f710: 7072 5b2e 2e2e 5d60 6020 616e 6420 6060  pr[...]`` and ``
-0000f720: 6578 7072 5b30 2c20 2e2e 2e5d 6060 2061  expr[0, ...]`` a
-0000f730: 7265 2065 7175 6976 616c 656e 7420 746f  re equivalent to
-0000f740: 2060 605a 6572 6f4f 724d 6f72 6528 6578   ``ZeroOrMore(ex
-0000f750: 7072 2960 600a 2020 2020 2020 2020 2d20  pr)``.        - 
-0000f760: 6060 6578 7072 5b31 2c20 2e2e 2e5d 6060  ``expr[1, ...]``
-0000f770: 2069 7320 6571 7569 7661 6c65 6e74 2074   is equivalent t
-0000f780: 6f20 6060 4f6e 654f 724d 6f72 6528 6578  o ``OneOrMore(ex
-0000f790: 7072 2960 600a 0a20 2020 2020 2020 2060  pr)``..        `
-0000f7a0: 604e 6f6e 6560 6020 6d61 7920 6265 2075  `None`` may be u
-0000f7b0: 7365 6420 696e 2070 6c61 6365 206f 6620  sed in place of 
-0000f7c0: 6060 2e2e 2e60 602e 0a0a 2020 2020 2020  ``...``...      
-0000f7d0: 2020 4e6f 7465 2074 6861 7420 6060 6578    Note that ``ex
-0000f7e0: 7072 5b2e 2e2e 2c20 6e5d 6060 2061 6e64  pr[..., n]`` and
-0000f7f0: 2060 6065 7870 725b 6d2c 206e 5d60 6020   ``expr[m, n]`` 
-0000f800: 646f 206e 6f74 2072 6169 7365 2061 6e20  do not raise an 
-0000f810: 6578 6365 7074 696f 6e0a 2020 2020 2020  exception.      
-0000f820: 2020 6966 206d 6f72 6520 7468 616e 2060    if more than `
-0000f830: 606e 6060 2060 6065 7870 7260 605c 5c20  `n`` ``expr``\\ 
-0000f840: 7320 6578 6973 7420 696e 2074 6865 2069  s exist in the i
-0000f850: 6e70 7574 2073 7472 6561 6d2e 2020 4966  nput stream.  If
-0000f860: 2074 6869 7320 6265 6861 7669 6f72 2069   this behavior i
-0000f870: 730a 2020 2020 2020 2020 6465 7369 7265  s.        desire
-0000f880: 642c 2074 6865 6e20 7772 6974 6520 6060  d, then write ``
-0000f890: 6578 7072 5b2e 2e2e 2c20 6e5d 202b 207e  expr[..., n] + ~
-0000f8a0: 6578 7072 6060 2e0a 0a20 2020 2020 2020  expr``...       
-0000f8b0: 2046 6f72 2072 6570 6574 6974 696f 6e20   For repetition 
-0000f8c0: 7769 7468 2061 2073 746f 705f 6f6e 2065  with a stop_on e
-0000f8d0: 7870 7265 7373 696f 6e2c 2075 7365 2073  xpression, use s
-0000f8e0: 6c69 6365 206e 6f74 6174 696f 6e3a 0a0a  lice notation:..
-0000f8f0: 2020 2020 2020 2020 2d20 6060 6578 7072          - ``expr
-0000f900: 5b2e 2e2e 3a20 656e 645f 6578 7072 5d60  [...: end_expr]`
-0000f910: 6020 616e 6420 6060 6578 7072 5b30 2c20  ` and ``expr[0, 
-0000f920: 2e2e 2e3a 2065 6e64 5f65 7870 725d 6060  ...: end_expr]``
-0000f930: 2061 7265 2065 7175 6976 616c 656e 7420   are equivalent 
-0000f940: 746f 2060 605a 6572 6f4f 724d 6f72 6528  to ``ZeroOrMore(
-0000f950: 6578 7072 2c20 7374 6f70 5f6f 6e3d 656e  expr, stop_on=en
-0000f960: 645f 6578 7072 2960 600a 2020 2020 2020  d_expr)``.      
-0000f970: 2020 2d20 6060 6578 7072 5b31 2c20 2e2e    - ``expr[1, ..
-0000f980: 2e3a 2065 6e64 5f65 7870 725d 6060 2069  .: end_expr]`` i
-0000f990: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
-0000f9a0: 6060 4f6e 654f 724d 6f72 6528 6578 7072  ``OneOrMore(expr
-0000f9b0: 2c20 7374 6f70 5f6f 6e3d 656e 645f 6578  , stop_on=end_ex
-0000f9c0: 7072 2960 600a 0a20 2020 2020 2020 2022  pr)``..        "
-0000f9d0: 2222 0a0a 2020 2020 2020 2020 7374 6f70  ""..        stop
-0000f9e0: 5f6f 6e5f 6465 6669 6e65 6420 3d20 4661  _on_defined = Fa
-0000f9f0: 6c73 650a 2020 2020 2020 2020 7374 6f70  lse.        stop
-0000fa00: 5f6f 6e20 3d20 4e6f 4d61 7463 6828 290a  _on = NoMatch().
-0000fa10: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-0000fa20: 7461 6e63 6528 6b65 792c 2073 6c69 6365  tance(key, slice
-0000fa30: 293a 0a20 2020 2020 2020 2020 2020 206b  ):.            k
-0000fa40: 6579 2c20 7374 6f70 5f6f 6e20 3d20 6b65  ey, stop_on = ke
-0000fa50: 792e 7374 6172 742c 206b 6579 2e73 746f  y.start, key.sto
-0000fa60: 700a 2020 2020 2020 2020 2020 2020 6966  p.            if
-0000fa70: 206b 6579 2069 7320 4e6f 6e65 3a0a 2020   key is None:.  
-0000fa80: 2020 2020 2020 2020 2020 2020 2020 6b65                ke
-0000fa90: 7920 3d20 2e2e 2e0a 2020 2020 2020 2020  y = ....        
-0000faa0: 2020 2020 7374 6f70 5f6f 6e5f 6465 6669      stop_on_defi
-0000fab0: 6e65 6420 3d20 5472 7565 0a20 2020 2020  ned = True.     
-0000fac0: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
-0000fad0: 6365 286b 6579 2c20 7475 706c 6529 2061  ce(key, tuple) a
-0000fae0: 6e64 2069 7369 6e73 7461 6e63 6528 6b65  nd isinstance(ke
-0000faf0: 795b 2d31 5d2c 2073 6c69 6365 293a 0a20  y[-1], slice):. 
-0000fb00: 2020 2020 2020 2020 2020 206b 6579 2c20             key, 
-0000fb10: 7374 6f70 5f6f 6e20 3d20 286b 6579 5b30  stop_on = (key[0
-0000fb20: 5d2c 206b 6579 5b31 5d2e 7374 6172 7429  ], key[1].start)
-0000fb30: 2c20 6b65 795b 315d 2e73 746f 700a 2020  , key[1].stop.  
-0000fb40: 2020 2020 2020 2020 2020 7374 6f70 5f6f            stop_o
-0000fb50: 6e5f 6465 6669 6e65 6420 3d20 5472 7565  n_defined = True
-0000fb60: 0a0a 2020 2020 2020 2020 2320 636f 6e76  ..        # conv
-0000fb70: 6572 7420 7369 6e67 6c65 2061 7267 206b  ert single arg k
-0000fb80: 6579 7320 746f 2074 7570 6c65 730a 2020  eys to tuples.  
-0000fb90: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-0000fba0: 6e63 6528 6b65 792c 2073 7472 5f74 7970  nce(key, str_typ
-0000fbb0: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-0000fbc0: 6b65 7920 3d20 286b 6579 2c29 0a20 2020  key = (key,).   
-0000fbd0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-0000fbe0: 2020 2020 2020 6974 6572 286b 6579 290a        iter(key).
-0000fbf0: 2020 2020 2020 2020 6578 6365 7074 2054          except T
-0000fc00: 7970 6545 7272 6f72 3a0a 2020 2020 2020  ypeError:.      
-0000fc10: 2020 2020 2020 6b65 7920 3d20 286b 6579        key = (key
-0000fc20: 2c20 6b65 7929 0a0a 2020 2020 2020 2020  , key)..        
-0000fc30: 6966 206c 656e 286b 6579 2920 3e20 323a  if len(key) > 2:
-0000fc40: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0000fc50: 7365 2054 7970 6545 7272 6f72 280a 2020  se TypeError(.  
-0000fc60: 2020 2020 2020 2020 2020 2020 2020 6622                f"
-0000fc70: 6f6e 6c79 2031 206f 7220 3220 696e 6465  only 1 or 2 inde
-0000fc80: 7820 6172 6775 6d65 6e74 7320 7375 7070  x arguments supp
-0000fc90: 6f72 7465 6420 287b 6b65 795b 3a35 5d7d  orted ({key[:5]}
-0000fca0: 7b66 272e 2e2e 205b 7b6c 656e 286b 6579  {f'... [{len(key
-0000fcb0: 297d 5d27 2069 6620 6c65 6e28 6b65 7929  )}]' if len(key)
-0000fcc0: 203e 2035 2065 6c73 6520 2727 7d29 220a   > 5 else ''})".
-0000fcd0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
-0000fce0: 2020 2020 2020 2023 2063 6c69 7020 746f         # clip to
-0000fcf0: 2032 2065 6c65 6d65 6e74 730a 2020 2020   2 elements.    
-0000fd00: 2020 2020 7265 7420 3d20 7365 6c66 202a      ret = self *
-0000fd10: 2074 7570 6c65 286b 6579 5b3a 325d 290a   tuple(key[:2]).
-0000fd20: 2020 2020 2020 2020 7265 7420 3d20 7479          ret = ty
-0000fd30: 7069 6e67 2e63 6173 7428 5f4d 756c 7469  ping.cast(_Multi
-0000fd40: 706c 654d 6174 6368 2c20 7265 7429 0a0a  pleMatch, ret)..
-0000fd50: 2020 2020 2020 2020 6966 2073 746f 705f          if stop_
-0000fd60: 6f6e 5f64 6566 696e 6564 3a0a 2020 2020  on_defined:.    
-0000fd70: 2020 2020 2020 2020 7265 742e 7374 6f70          ret.stop
-0000fd80: 4f6e 2873 746f 705f 6f6e 290a 0a20 2020  On(stop_on)..   
-0000fd90: 2020 2020 2072 6574 7572 6e20 7265 740a       return ret.
-0000fda0: 0a20 2020 2064 6566 205f 5f63 616c 6c5f  .    def __call_
-0000fdb0: 5f28 7365 6c66 2c20 6e61 6d65 3a20 7479  _(self, name: ty
-0000fdc0: 7069 6e67 2e4f 7074 696f 6e61 6c5b 7374  ping.Optional[st
-0000fdd0: 725d 203d 204e 6f6e 6529 202d 3e20 2250  r] = None) -> "P
-0000fde0: 6172 7365 7245 6c65 6d65 6e74 223a 0a20  arserElement":. 
-0000fdf0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000fe00: 2020 2053 686f 7274 6375 7420 666f 7220     Shortcut for 
-0000fe10: 3a63 6c61 7373 3a60 7365 745f 7265 7375  :class:`set_resu
-0000fe20: 6c74 735f 6e61 6d65 602c 2077 6974 6820  lts_name`, with 
-0000fe30: 6060 6c69 7374 5f61 6c6c 5f6d 6174 6368  ``list_all_match
-0000fe40: 6573 3d46 616c 7365 6060 2e0a 0a20 2020  es=False``...   
-0000fe50: 2020 2020 2049 6620 6060 6e61 6d65 6060       If ``name``
-0000fe60: 2069 7320 6769 7665 6e20 7769 7468 2061   is given with a
-0000fe70: 2074 7261 696c 696e 6720 6060 272a 2760   trailing ``'*'`
-0000fe80: 6020 6368 6172 6163 7465 722c 2074 6865  ` character, the
-0000fe90: 6e20 6060 6c69 7374 5f61 6c6c 5f6d 6174  n ``list_all_mat
-0000fea0: 6368 6573 6060 2077 696c 6c20 6265 0a20  ches`` will be. 
-0000feb0: 2020 2020 2020 2070 6173 7365 6420 6173         passed as
-0000fec0: 2060 6054 7275 6560 602e 0a0a 2020 2020   ``True``...    
-0000fed0: 2020 2020 4966 2060 606e 616d 6560 6020      If ``name`` 
-0000fee0: 6973 206f 6d69 7474 6564 2c20 7361 6d65  is omitted, same
-0000fef0: 2061 7320 6361 6c6c 696e 6720 3a63 6c61   as calling :cla
-0000ff00: 7373 3a60 636f 7079 602e 0a0a 2020 2020  ss:`copy`...    
-0000ff10: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
-0000ff20: 2020 2020 2020 2020 2020 2023 2074 6865             # the
-0000ff30: 7365 2061 7265 2065 7175 6976 616c 656e  se are equivalen
-0000ff40: 740a 2020 2020 2020 2020 2020 2020 7573  t.            us
-0000ff50: 6572 6461 7461 203d 2057 6f72 6428 616c  erdata = Word(al
-0000ff60: 7068 6173 292e 7365 745f 7265 7375 6c74  phas).set_result
-0000ff70: 735f 6e61 6d65 2822 6e61 6d65 2229 202b  s_name("name") +
-0000ff80: 2057 6f72 6428 6e75 6d73 202b 2022 2d22   Word(nums + "-"
-0000ff90: 292e 7365 745f 7265 7375 6c74 735f 6e61  ).set_results_na
-0000ffa0: 6d65 2822 736f 6373 6563 6e6f 2229 0a20  me("socsecno"). 
-0000ffb0: 2020 2020 2020 2020 2020 2075 7365 7264             userd
-0000ffc0: 6174 6120 3d20 576f 7264 2861 6c70 6861  ata = Word(alpha
-0000ffd0: 7329 2822 6e61 6d65 2229 202b 2057 6f72  s)("name") + Wor
-0000ffe0: 6428 6e75 6d73 202b 2022 2d22 2928 2273  d(nums + "-")("s
-0000fff0: 6f63 7365 636e 6f22 290a 2020 2020 2020  ocsecno").      
-00010000: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
-00010010: 206e 616d 6520 6973 206e 6f74 204e 6f6e   name is not Non
-00010020: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-00010030: 6574 7572 6e20 7365 6c66 2e5f 7365 7452  eturn self._setR
-00010040: 6573 756c 7473 4e61 6d65 286e 616d 6529  esultsName(name)
-00010050: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00010060: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00010070: 6e20 7365 6c66 2e63 6f70 7928 290a 0a20  n self.copy().. 
-00010080: 2020 2064 6566 2073 7570 7072 6573 7328     def suppress(
-00010090: 7365 6c66 2920 2d3e 2022 5061 7273 6572  self) -> "Parser
-000100a0: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
-000100b0: 2020 2222 220a 2020 2020 2020 2020 5375    """.        Su
-000100c0: 7070 7265 7373 6573 2074 6865 206f 7574  ppresses the out
-000100d0: 7075 7420 6f66 2074 6869 7320 3a63 6c61  put of this :cla
-000100e0: 7373 3a60 5061 7273 6572 456c 656d 656e  ss:`ParserElemen
-000100f0: 7460 3b20 7573 6566 756c 2074 6f20 6b65  t`; useful to ke
-00010100: 6570 2070 756e 6374 7561 7469 6f6e 2066  ep punctuation f
-00010110: 726f 6d0a 2020 2020 2020 2020 636c 7574  rom.        clut
-00010120: 7465 7269 6e67 2075 7020 7265 7475 726e  tering up return
-00010130: 6564 206f 7574 7075 742e 0a20 2020 2020  ed output..     
-00010140: 2020 2022 2222 0a20 2020 2020 2020 2072     """.        r
-00010150: 6574 7572 6e20 5375 7070 7265 7373 2873  eturn Suppress(s
-00010160: 656c 6629 0a0a 2020 2020 6465 6620 6967  elf)..    def ig
-00010170: 6e6f 7265 5f77 6869 7465 7370 6163 6528  nore_whitespace(
-00010180: 7365 6c66 2c20 7265 6375 7273 6976 653a  self, recursive:
-00010190: 2062 6f6f 6c20 3d20 5472 7565 2920 2d3e   bool = True) ->
-000101a0: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
-000101b0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-000101c0: 2020 2020 2020 456e 6162 6c65 7320 7468        Enables th
-000101d0: 6520 736b 6970 7069 6e67 206f 6620 7768  e skipping of wh
-000101e0: 6974 6573 7061 6365 2062 6566 6f72 6520  itespace before 
-000101f0: 6d61 7463 6869 6e67 2074 6865 2063 6861  matching the cha
-00010200: 7261 6374 6572 7320 696e 2074 6865 0a20  racters in the. 
-00010210: 2020 2020 2020 203a 636c 6173 733a 6050         :class:`P
-00010220: 6172 7365 7245 6c65 6d65 6e74 6027 7320  arserElement`'s 
-00010230: 6465 6669 6e65 6420 7061 7474 6572 6e2e  defined pattern.
-00010240: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-00010250: 2072 6563 7572 7369 7665 3a20 4966 2060   recursive: If `
-00010260: 6054 7275 6560 6020 2874 6865 2064 6566  `True`` (the def
-00010270: 6175 6c74 292c 2061 6c73 6f20 656e 6162  ault), also enab
-00010280: 6c65 2077 6869 7465 7370 6163 6520 736b  le whitespace sk
-00010290: 6970 7069 6e67 2069 6e20 6368 696c 6420  ipping in child 
-000102a0: 656c 656d 656e 7473 2028 6966 2061 6e79  elements (if any
-000102b0: 290a 2020 2020 2020 2020 2222 220a 2020  ).        """.  
-000102c0: 2020 2020 2020 7365 6c66 2e73 6b69 7057        self.skipW
-000102d0: 6869 7465 7370 6163 6520 3d20 5472 7565  hitespace = True
-000102e0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000102f0: 7365 6c66 0a0a 2020 2020 6465 6620 6c65  self..    def le
-00010300: 6176 655f 7768 6974 6573 7061 6365 2873  ave_whitespace(s
-00010310: 656c 662c 2072 6563 7572 7369 7665 3a20  elf, recursive: 
-00010320: 626f 6f6c 203d 2054 7275 6529 202d 3e20  bool = True) -> 
-00010330: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
-00010340: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00010350: 2020 2020 2044 6973 6162 6c65 7320 7468       Disables th
-00010360: 6520 736b 6970 7069 6e67 206f 6620 7768  e skipping of wh
-00010370: 6974 6573 7061 6365 2062 6566 6f72 6520  itespace before 
-00010380: 6d61 7463 6869 6e67 2074 6865 2063 6861  matching the cha
-00010390: 7261 6374 6572 7320 696e 2074 6865 0a20  racters in the. 
-000103a0: 2020 2020 2020 203a 636c 6173 733a 6050         :class:`P
-000103b0: 6172 7365 7245 6c65 6d65 6e74 6027 7320  arserElement`'s 
-000103c0: 6465 6669 6e65 6420 7061 7474 6572 6e2e  defined pattern.
-000103d0: 2020 5468 6973 2069 7320 6e6f 726d 616c    This is normal
-000103e0: 6c79 206f 6e6c 7920 7573 6564 2069 6e74  ly only used int
-000103f0: 6572 6e61 6c6c 7920 6279 0a20 2020 2020  ernally by.     
-00010400: 2020 2074 6865 2070 7970 6172 7369 6e67     the pyparsing
-00010410: 206d 6f64 756c 652c 2062 7574 206d 6179   module, but may
-00010420: 2062 6520 6e65 6564 6564 2069 6e20 736f   be needed in so
-00010430: 6d65 2077 6869 7465 7370 6163 652d 7365  me whitespace-se
-00010440: 6e73 6974 6976 6520 6772 616d 6d61 7273  nsitive grammars
-00010450: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
-00010460: 6d20 7265 6375 7273 6976 653a 2049 6620  m recursive: If 
-00010470: 7472 7565 2028 7468 6520 6465 6661 756c  true (the defaul
-00010480: 7429 2c20 616c 736f 2064 6973 6162 6c65  t), also disable
-00010490: 2077 6869 7465 7370 6163 6520 736b 6970   whitespace skip
-000104a0: 7069 6e67 2069 6e20 6368 696c 6420 656c  ping in child el
-000104b0: 656d 656e 7473 2028 6966 2061 6e79 290a  ements (if any).
-000104c0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000104d0: 2020 2020 7365 6c66 2e73 6b69 7057 6869      self.skipWhi
-000104e0: 7465 7370 6163 6520 3d20 4661 6c73 650a  tespace = False.
-000104f0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00010500: 656c 660a 0a20 2020 2064 6566 2073 6574  elf..    def set
-00010510: 5f77 6869 7465 7370 6163 655f 6368 6172  _whitespace_char
-00010520: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
-00010530: 2063 6861 7273 3a20 556e 696f 6e5b 5365   chars: Union[Se
-00010540: 745b 7374 725d 2c20 7374 725d 2c20 636f  t[str], str], co
-00010550: 7079 5f64 6566 6175 6c74 733a 2062 6f6f  py_defaults: boo
-00010560: 6c20 3d20 4661 6c73 650a 2020 2020 2920  l = False.    ) 
-00010570: 2d3e 2022 5061 7273 6572 456c 656d 656e  -> "ParserElemen
-00010580: 7422 3a0a 2020 2020 2020 2020 2222 220a  t":.        """.
-00010590: 2020 2020 2020 2020 4f76 6572 7269 6465          Override
-000105a0: 7320 7468 6520 6465 6661 756c 7420 7768  s the default wh
-000105b0: 6974 6573 7061 6365 2063 6861 7273 0a20  itespace chars. 
-000105c0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000105d0: 2020 2073 656c 662e 736b 6970 5768 6974     self.skipWhit
-000105e0: 6573 7061 6365 203d 2054 7275 650a 2020  espace = True.  
-000105f0: 2020 2020 2020 7365 6c66 2e77 6869 7465        self.white
-00010600: 4368 6172 7320 3d20 7365 7428 6368 6172  Chars = set(char
-00010610: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
-00010620: 636f 7079 4465 6661 756c 7457 6869 7465  copyDefaultWhite
-00010630: 4368 6172 7320 3d20 636f 7079 5f64 6566  Chars = copy_def
-00010640: 6175 6c74 730a 2020 2020 2020 2020 7265  aults.        re
-00010650: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
-00010660: 6566 2070 6172 7365 5f77 6974 685f 7461  ef parse_with_ta
-00010670: 6273 2873 656c 6629 202d 3e20 2250 6172  bs(self) -> "Par
-00010680: 7365 7245 6c65 6d65 6e74 223a 0a20 2020  serElement":.   
-00010690: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000106a0: 204f 7665 7272 6964 6573 2064 6566 6175   Overrides defau
-000106b0: 6c74 2062 6568 6176 696f 7220 746f 2065  lt behavior to e
-000106c0: 7870 616e 6420 6060 3c54 4142 3e60 6020  xpand ``<TAB>`` 
-000106d0: 7320 746f 2073 7061 6365 7320 6265 666f  s to spaces befo
-000106e0: 7265 2070 6172 7369 6e67 2074 6865 2069  re parsing the i
-000106f0: 6e70 7574 2073 7472 696e 672e 0a20 2020  nput string..   
-00010700: 2020 2020 204d 7573 7420 6265 2063 616c       Must be cal
-00010710: 6c65 6420 6265 666f 7265 2060 6070 6172  led before ``par
-00010720: 7365 5f73 7472 696e 6760 6020 7768 656e  se_string`` when
-00010730: 2074 6865 2069 6e70 7574 2067 7261 6d6d   the input gramm
-00010740: 6172 2063 6f6e 7461 696e 7320 656c 656d  ar contains elem
-00010750: 656e 7473 2074 6861 740a 2020 2020 2020  ents that.      
-00010760: 2020 6d61 7463 6820 6060 3c54 4142 3e60    match ``<TAB>`
-00010770: 6020 6368 6172 6163 7465 7273 2e0a 2020  ` characters..  
-00010780: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00010790: 2020 7365 6c66 2e6b 6565 7054 6162 7320    self.keepTabs 
-000107a0: 3d20 5472 7565 0a20 2020 2020 2020 2072  = True.        r
-000107b0: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
-000107c0: 6465 6620 6967 6e6f 7265 2873 656c 662c  def ignore(self,
-000107d0: 206f 7468 6572 3a20 2250 6172 7365 7245   other: "ParserE
-000107e0: 6c65 6d65 6e74 2229 202d 3e20 2250 6172  lement") -> "Par
-000107f0: 7365 7245 6c65 6d65 6e74 223a 0a20 2020  serElement":.   
-00010800: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00010810: 2044 6566 696e 6520 6578 7072 6573 7369   Define expressi
-00010820: 6f6e 2074 6f20 6265 2069 676e 6f72 6564  on to be ignored
-00010830: 2028 652e 672e 2c20 636f 6d6d 656e 7473   (e.g., comments
-00010840: 2920 7768 696c 6520 646f 696e 6720 7061  ) while doing pa
-00010850: 7474 6572 6e0a 2020 2020 2020 2020 6d61  ttern.        ma
-00010860: 7463 6869 6e67 3b20 6d61 7920 6265 2063  tching; may be c
-00010870: 616c 6c65 6420 7265 7065 6174 6564 6c79  alled repeatedly
-00010880: 2c20 746f 2064 6566 696e 6520 6d75 6c74  , to define mult
-00010890: 6970 6c65 2063 6f6d 6d65 6e74 206f 7220  iple comment or 
-000108a0: 6f74 6865 720a 2020 2020 2020 2020 6967  other.        ig
-000108b0: 6e6f 7261 626c 6520 7061 7474 6572 6e73  norable patterns
-000108c0: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
-000108d0: 6c65 3a3a 0a0a 2020 2020 2020 2020 2020  le::..          
-000108e0: 2020 7061 7474 203d 2057 6f72 6428 616c    patt = Word(al
-000108f0: 7068 6173 295b 312c 202e 2e2e 5d0a 2020  phas)[1, ...].  
-00010900: 2020 2020 2020 2020 2020 7061 7474 2e70            patt.p
-00010910: 6172 7365 5f73 7472 696e 6728 2761 626c  arse_string('abl
-00010920: 616a 202f 2a20 636f 6d6d 656e 7420 2a2f  aj /* comment */
-00010930: 206c 736b 6a64 2729 0a20 2020 2020 2020   lskjd').       
-00010940: 2020 2020 2023 202d 3e20 5b27 6162 6c61       # -> ['abla
-00010950: 6a27 5d0a 0a20 2020 2020 2020 2020 2020  j']..           
-00010960: 2070 6174 742e 6967 6e6f 7265 2863 5f73   patt.ignore(c_s
-00010970: 7479 6c65 5f63 6f6d 6d65 6e74 290a 2020  tyle_comment).  
-00010980: 2020 2020 2020 2020 2020 7061 7474 2e70            patt.p
-00010990: 6172 7365 5f73 7472 696e 6728 2761 626c  arse_string('abl
-000109a0: 616a 202f 2a20 636f 6d6d 656e 7420 2a2f  aj /* comment */
-000109b0: 206c 736b 6a64 2729 0a20 2020 2020 2020   lskjd').       
-000109c0: 2020 2020 2023 202d 3e20 5b27 6162 6c61       # -> ['abla
-000109d0: 6a27 2c20 276c 736b 6a64 275d 0a20 2020  j', 'lskjd'].   
-000109e0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000109f0: 2069 6d70 6f72 7420 7479 7069 6e67 0a0a   import typing..
-00010a00: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-00010a10: 7461 6e63 6528 6f74 6865 722c 2073 7472  tance(other, str
-00010a20: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
-00010a30: 2020 2020 6f74 6865 7220 3d20 5375 7070      other = Supp
-00010a40: 7265 7373 286f 7468 6572 290a 0a20 2020  ress(other)..   
-00010a50: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-00010a60: 6365 286f 7468 6572 2c20 5375 7070 7265  ce(other, Suppre
-00010a70: 7373 293a 0a20 2020 2020 2020 2020 2020  ss):.           
-00010a80: 2069 6620 6f74 6865 7220 6e6f 7420 696e   if other not in
-00010a90: 2073 656c 662e 6967 6e6f 7265 4578 7072   self.ignoreExpr
-00010aa0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-00010ab0: 2020 2073 656c 662e 6967 6e6f 7265 4578     self.ignoreEx
-00010ac0: 7072 732e 6170 7065 6e64 286f 7468 6572  prs.append(other
-00010ad0: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-00010ae0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00010af0: 2e69 676e 6f72 6545 7870 7273 2e61 7070  .ignoreExprs.app
-00010b00: 656e 6428 5375 7070 7265 7373 286f 7468  end(Suppress(oth
-00010b10: 6572 2e63 6f70 7928 2929 290a 2020 2020  er.copy())).    
-00010b20: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
-00010b30: 0a20 2020 2064 6566 2073 6574 5f64 6562  .    def set_deb
-00010b40: 7567 5f61 6374 696f 6e73 280a 2020 2020  ug_actions(.    
-00010b50: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00010b60: 2020 7374 6172 745f 6163 7469 6f6e 3a20    start_action: 
-00010b70: 4465 6275 6753 7461 7274 4163 7469 6f6e  DebugStartAction
-00010b80: 2c0a 2020 2020 2020 2020 7375 6363 6573  ,.        succes
-00010b90: 735f 6163 7469 6f6e 3a20 4465 6275 6753  s_action: DebugS
-00010ba0: 7563 6365 7373 4163 7469 6f6e 2c0a 2020  uccessAction,.  
-00010bb0: 2020 2020 2020 6578 6365 7074 696f 6e5f        exception_
-00010bc0: 6163 7469 6f6e 3a20 4465 6275 6745 7863  action: DebugExc
-00010bd0: 6570 7469 6f6e 4163 7469 6f6e 2c0a 2020  eptionAction,.  
-00010be0: 2020 2920 2d3e 2022 5061 7273 6572 456c    ) -> "ParserEl
-00010bf0: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
-00010c00: 2222 220a 2020 2020 2020 2020 4375 7374  """.        Cust
-00010c10: 6f6d 697a 6520 6469 7370 6c61 7920 6f66  omize display of
-00010c20: 2064 6562 7567 6769 6e67 206d 6573 7361   debugging messa
-00010c30: 6765 7320 7768 696c 6520 646f 696e 6720  ges while doing 
-00010c40: 7061 7474 6572 6e20 6d61 7463 6869 6e67  pattern matching
-00010c50: 3a0a 0a20 2020 2020 2020 202d 2060 6073  :..        - ``s
-00010c60: 7461 7274 5f61 6374 696f 6e60 6020 2d20  tart_action`` - 
-00010c70: 6d65 7468 6f64 2074 6f20 6265 2063 616c  method to be cal
-00010c80: 6c65 6420 7768 656e 2061 6e20 6578 7072  led when an expr
-00010c90: 6573 7369 6f6e 2069 7320 6162 6f75 7420  ession is about 
-00010ca0: 746f 2062 6520 7061 7273 6564 3b0a 2020  to be parsed;.  
-00010cb0: 2020 2020 2020 2020 7368 6f75 6c64 2068          should h
-00010cc0: 6176 6520 7468 6520 7369 676e 6174 7572  ave the signatur
-00010cd0: 6520 6060 666e 2869 6e70 7574 5f73 7472  e ``fn(input_str
-00010ce0: 696e 673a 2073 7472 2c20 6c6f 6361 7469  ing: str, locati
-00010cf0: 6f6e 3a20 696e 742c 2065 7870 7265 7373  on: int, express
-00010d00: 696f 6e3a 2050 6172 7365 7245 6c65 6d65  ion: ParserEleme
-00010d10: 6e74 2c20 6361 6368 655f 6869 743a 2062  nt, cache_hit: b
-00010d20: 6f6f 6c29 6060 0a0a 2020 2020 2020 2020  ool)``..        
-00010d30: 2d20 6060 7375 6363 6573 735f 6163 7469  - ``success_acti
-00010d40: 6f6e 6060 202d 206d 6574 686f 6420 746f  on`` - method to
-00010d50: 2062 6520 6361 6c6c 6564 2077 6865 6e20   be called when 
-00010d60: 616e 2065 7870 7265 7373 696f 6e20 6861  an expression ha
-00010d70: 7320 7375 6363 6573 7366 756c 6c79 2070  s successfully p
-00010d80: 6172 7365 643b 0a20 2020 2020 2020 2020  arsed;.         
-00010d90: 2073 686f 756c 6420 6861 7665 2074 6865   should have the
-00010da0: 2073 6967 6e61 7475 7265 2060 6066 6e28   signature ``fn(
-00010db0: 696e 7075 745f 7374 7269 6e67 3a20 7374  input_string: st
-00010dc0: 722c 2073 7461 7274 5f6c 6f63 6174 696f  r, start_locatio
-00010dd0: 6e3a 2069 6e74 2c20 656e 645f 6c6f 6361  n: int, end_loca
-00010de0: 7469 6f6e 3a20 696e 742c 2065 7870 7265  tion: int, expre
-00010df0: 7373 696f 6e3a 2050 6172 7365 7245 4c65  ssion: ParserELe
-00010e00: 6d65 6e74 2c20 7061 7273 6564 5f74 6f6b  ment, parsed_tok
-00010e10: 656e 733a 2050 6172 7365 5265 7375 6c74  ens: ParseResult
-00010e20: 732c 2063 6163 6865 5f68 6974 3a20 626f  s, cache_hit: bo
-00010e30: 6f6c 2960 600a 0a20 2020 2020 2020 202d  ol)``..        -
-00010e40: 2060 6065 7863 6570 7469 6f6e 5f61 6374   ``exception_act
-00010e50: 696f 6e60 6020 2d20 6d65 7468 6f64 2074  ion`` - method t
-00010e60: 6f20 6265 2063 616c 6c65 6420 7768 656e  o be called when
-00010e70: 2065 7870 7265 7373 696f 6e20 6661 696c   expression fail
-00010e80: 7320 746f 2070 6172 7365 3b0a 2020 2020  s to parse;.    
-00010e90: 2020 2020 2020 7368 6f75 6c64 2068 6176        should hav
-00010ea0: 6520 7468 6520 7369 676e 6174 7572 6520  e the signature 
-00010eb0: 6060 666e 2869 6e70 7574 5f73 7472 696e  ``fn(input_strin
-00010ec0: 673a 2073 7472 2c20 6c6f 6361 7469 6f6e  g: str, location
-00010ed0: 3a20 696e 742c 2065 7870 7265 7373 696f  : int, expressio
-00010ee0: 6e3a 2050 6172 7365 7245 6c65 6d65 6e74  n: ParserElement
-00010ef0: 2c20 6578 6365 7074 696f 6e3a 2045 7863  , exception: Exc
-00010f00: 6570 7469 6f6e 2c20 6361 6368 655f 6869  eption, cache_hi
-00010f10: 743a 2062 6f6f 6c29 6060 0a20 2020 2020  t: bool)``.     
-00010f20: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
-00010f30: 656c 662e 6465 6275 6741 6374 696f 6e73  elf.debugActions
-00010f40: 203d 2073 656c 662e 4465 6275 6741 6374   = self.DebugAct
-00010f50: 696f 6e73 280a 2020 2020 2020 2020 2020  ions(.          
-00010f60: 2020 7374 6172 745f 6163 7469 6f6e 206f    start_action o
-00010f70: 7220 5f64 6566 6175 6c74 5f73 7461 7274  r _default_start
-00010f80: 5f64 6562 7567 5f61 6374 696f 6e2c 2020  _debug_action,  
-00010f90: 2320 7479 7065 3a20 6967 6e6f 7265 5b74  # type: ignore[t
-00010fa0: 7275 7468 792d 6675 6e63 7469 6f6e 5d0a  ruthy-function].
-00010fb0: 2020 2020 2020 2020 2020 2020 7375 6363              succ
-00010fc0: 6573 735f 6163 7469 6f6e 206f 7220 5f64  ess_action or _d
-00010fd0: 6566 6175 6c74 5f73 7563 6365 7373 5f64  efault_success_d
-00010fe0: 6562 7567 5f61 6374 696f 6e2c 2020 2320  ebug_action,  # 
-00010ff0: 7479 7065 3a20 6967 6e6f 7265 5b74 7275  type: ignore[tru
-00011000: 7468 792d 6675 6e63 7469 6f6e 5d0a 2020  thy-function].  
-00011010: 2020 2020 2020 2020 2020 6578 6365 7074            except
-00011020: 696f 6e5f 6163 7469 6f6e 206f 7220 5f64  ion_action or _d
-00011030: 6566 6175 6c74 5f65 7863 6570 7469 6f6e  efault_exception
-00011040: 5f64 6562 7567 5f61 6374 696f 6e2c 2020  _debug_action,  
-00011050: 2320 7479 7065 3a20 6967 6e6f 7265 5b74  # type: ignore[t
-00011060: 7275 7468 792d 6675 6e63 7469 6f6e 5d0a  ruthy-function].
-00011070: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00011080: 2020 7365 6c66 2e64 6562 7567 203d 2054    self.debug = T
-00011090: 7275 650a 2020 2020 2020 2020 7265 7475  rue.        retu
-000110a0: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
-000110b0: 2073 6574 5f64 6562 7567 2873 656c 662c   set_debug(self,
-000110c0: 2066 6c61 673a 2062 6f6f 6c20 3d20 5472   flag: bool = Tr
-000110d0: 7565 2c20 7265 6375 7273 653a 2062 6f6f  ue, recurse: boo
-000110e0: 6c20 3d20 4661 6c73 6529 202d 3e20 2250  l = False) -> "P
-000110f0: 6172 7365 7245 6c65 6d65 6e74 223a 0a20  arserElement":. 
-00011100: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00011110: 2020 2045 6e61 626c 6520 6469 7370 6c61     Enable displa
-00011120: 7920 6f66 2064 6562 7567 6769 6e67 206d  y of debugging m
-00011130: 6573 7361 6765 7320 7768 696c 6520 646f  essages while do
-00011140: 696e 6720 7061 7474 6572 6e20 6d61 7463  ing pattern matc
-00011150: 6869 6e67 2e0a 2020 2020 2020 2020 5365  hing..        Se
-00011160: 7420 6060 666c 6167 6060 2074 6f20 6060  t ``flag`` to ``
-00011170: 5472 7565 6060 2074 6f20 656e 6162 6c65  True`` to enable
-00011180: 2c20 6060 4661 6c73 6560 6020 746f 2064  , ``False`` to d
-00011190: 6973 6162 6c65 2e0a 2020 2020 2020 2020  isable..        
-000111a0: 5365 7420 6060 7265 6375 7273 6560 6020  Set ``recurse`` 
-000111b0: 746f 2060 6054 7275 6560 6020 746f 2073  to ``True`` to s
-000111c0: 6574 2074 6865 2064 6562 7567 2066 6c61  et the debug fla
-000111d0: 6720 6f6e 2074 6869 7320 6578 7072 6573  g on this expres
-000111e0: 7369 6f6e 2061 6e64 2061 6c6c 2073 7562  sion and all sub
-000111f0: 2d65 7870 7265 7373 696f 6e73 2e0a 0a20  -expressions... 
-00011200: 2020 2020 2020 2045 7861 6d70 6c65 3a3a         Example::
-00011210: 0a0a 2020 2020 2020 2020 2020 2020 7764  ..            wd
-00011220: 203d 2057 6f72 6428 616c 7068 6173 292e   = Word(alphas).
-00011230: 7365 745f 6e61 6d65 2822 616c 7068 6177  set_name("alphaw
-00011240: 6f72 6422 290a 2020 2020 2020 2020 2020  ord").          
-00011250: 2020 696e 7465 6765 7220 3d20 576f 7264    integer = Word
-00011260: 286e 756d 7329 2e73 6574 5f6e 616d 6528  (nums).set_name(
-00011270: 226e 756d 776f 7264 2229 0a20 2020 2020  "numword").     
-00011280: 2020 2020 2020 2074 6572 6d20 3d20 7764         term = wd
-00011290: 207c 2069 6e74 6567 6572 0a0a 2020 2020   | integer..    
-000112a0: 2020 2020 2020 2020 2320 7475 726e 206f          # turn o
-000112b0: 6e20 6465 6275 6767 696e 6720 666f 7220  n debugging for 
-000112c0: 7764 0a20 2020 2020 2020 2020 2020 2077  wd.            w
-000112d0: 642e 7365 745f 6465 6275 6728 290a 0a20  d.set_debug().. 
-000112e0: 2020 2020 2020 2020 2020 2074 6572 6d5b             term[
-000112f0: 312c 202e 2e2e 5d2e 7061 7273 655f 7374  1, ...].parse_st
-00011300: 7269 6e67 2822 6162 6320 3132 3320 7879  ring("abc 123 xy
-00011310: 7a20 3839 3022 290a 0a20 2020 2020 2020  z 890")..       
-00011320: 2070 7269 6e74 733a 3a0a 0a20 2020 2020   prints::..     
-00011330: 2020 2020 2020 204d 6174 6368 2061 6c70         Match alp
-00011340: 6861 776f 7264 2061 7420 6c6f 6320 3028  haword at loc 0(
-00011350: 312c 3129 0a20 2020 2020 2020 2020 2020  1,1).           
-00011360: 204d 6174 6368 6564 2061 6c70 6861 776f   Matched alphawo
-00011370: 7264 202d 3e20 5b27 6162 6327 5d0a 2020  rd -> ['abc'].  
-00011380: 2020 2020 2020 2020 2020 4d61 7463 6820            Match 
-00011390: 616c 7068 6177 6f72 6420 6174 206c 6f63  alphaword at loc
-000113a0: 2033 2831 2c34 290a 2020 2020 2020 2020   3(1,4).        
-000113b0: 2020 2020 4578 6365 7074 696f 6e20 7261      Exception ra
-000113c0: 6973 6564 3a45 7870 6563 7465 6420 616c  ised:Expected al
-000113d0: 7068 6177 6f72 6420 2861 7420 6368 6172  phaword (at char
-000113e0: 2034 292c 2028 6c69 6e65 3a31 2c20 636f   4), (line:1, co
-000113f0: 6c3a 3529 0a20 2020 2020 2020 2020 2020  l:5).           
-00011400: 204d 6174 6368 2061 6c70 6861 776f 7264   Match alphaword
-00011410: 2061 7420 6c6f 6320 3728 312c 3829 0a20   at loc 7(1,8). 
-00011420: 2020 2020 2020 2020 2020 204d 6174 6368             Match
-00011430: 6564 2061 6c70 6861 776f 7264 202d 3e20  ed alphaword -> 
-00011440: 5b27 7879 7a27 5d0a 2020 2020 2020 2020  ['xyz'].        
-00011450: 2020 2020 4d61 7463 6820 616c 7068 6177      Match alphaw
-00011460: 6f72 6420 6174 206c 6f63 2031 3128 312c  ord at loc 11(1,
-00011470: 3132 290a 2020 2020 2020 2020 2020 2020  12).            
-00011480: 4578 6365 7074 696f 6e20 7261 6973 6564  Exception raised
-00011490: 3a45 7870 6563 7465 6420 616c 7068 6177  :Expected alphaw
-000114a0: 6f72 6420 2861 7420 6368 6172 2031 3229  ord (at char 12)
-000114b0: 2c20 286c 696e 653a 312c 2063 6f6c 3a31  , (line:1, col:1
-000114c0: 3329 0a20 2020 2020 2020 2020 2020 204d  3).            M
-000114d0: 6174 6368 2061 6c70 6861 776f 7264 2061  atch alphaword a
-000114e0: 7420 6c6f 6320 3135 2831 2c31 3629 0a20  t loc 15(1,16). 
-000114f0: 2020 2020 2020 2020 2020 2045 7863 6570             Excep
-00011500: 7469 6f6e 2072 6169 7365 643a 4578 7065  tion raised:Expe
-00011510: 6374 6564 2061 6c70 6861 776f 7264 2028  cted alphaword (
-00011520: 6174 2063 6861 7220 3135 292c 2028 6c69  at char 15), (li
-00011530: 6e65 3a31 2c20 636f 6c3a 3136 290a 0a20  ne:1, col:16).. 
-00011540: 2020 2020 2020 2054 6865 206f 7574 7075         The outpu
-00011550: 7420 7368 6f77 6e20 6973 2074 6861 7420  t shown is that 
-00011560: 7072 6f64 7563 6564 2062 7920 7468 6520  produced by the 
-00011570: 6465 6661 756c 7420 6465 6275 6720 6163  default debug ac
-00011580: 7469 6f6e 7320 2d20 6375 7374 6f6d 2064  tions - custom d
-00011590: 6562 7567 2061 6374 696f 6e73 2063 616e  ebug actions can
-000115a0: 2062 650a 2020 2020 2020 2020 7370 6563   be.        spec
-000115b0: 6966 6965 6420 7573 696e 6720 3a63 6c61  ified using :cla
-000115c0: 7373 3a60 7365 745f 6465 6275 675f 6163  ss:`set_debug_ac
-000115d0: 7469 6f6e 7360 2e20 5072 696f 7220 746f  tions`. Prior to
-000115e0: 2061 7474 656d 7074 696e 670a 2020 2020   attempting.    
-000115f0: 2020 2020 746f 206d 6174 6368 2074 6865      to match the
-00011600: 2060 6077 6460 6020 6578 7072 6573 7369   ``wd`` expressi
-00011610: 6f6e 2c20 7468 6520 6465 6275 6767 696e  on, the debuggin
-00011620: 6720 6d65 7373 6167 6520 6060 224d 6174  g message ``"Mat
-00011630: 6368 203c 6578 7072 6e61 6d65 3e20 6174  ch <exprname> at
-00011640: 206c 6f63 203c 6e3e 283c 6c69 6e65 3e2c   loc <n>(<line>,
-00011650: 3c63 6f6c 3e29 2260 600a 2020 2020 2020  <col>)"``.      
-00011660: 2020 6973 2073 686f 776e 2e20 5468 656e    is shown. Then
-00011670: 2069 6620 7468 6520 7061 7273 6520 7375   if the parse su
-00011680: 6363 6565 6473 2c20 6120 6060 224d 6174  cceeds, a ``"Mat
-00011690: 6368 6564 2260 6020 6d65 7373 6167 6520  ched"`` message 
-000116a0: 6973 2073 686f 776e 2c20 6f72 2061 6e20  is shown, or an 
-000116b0: 6060 2245 7863 6570 7469 6f6e 2072 6169  ``"Exception rai
-000116c0: 7365 6422 6060 0a20 2020 2020 2020 206d  sed"``.        m
-000116d0: 6573 7361 6765 2069 7320 7368 6f77 6e2e  essage is shown.
-000116e0: 2041 6c73 6f20 6e6f 7465 2074 6865 2075   Also note the u
-000116f0: 7365 206f 6620 3a63 6c61 7373 3a60 7365  se of :class:`se
-00011700: 745f 6e61 6d65 6020 746f 2061 7373 6967  t_name` to assig
-00011710: 6e20 6120 6875 6d61 6e2d 7265 6164 6162  n a human-readab
-00011720: 6c65 206e 616d 6520 746f 2074 6865 2065  le name to the e
-00011730: 7870 7265 7373 696f 6e2c 0a20 2020 2020  xpression,.     
-00011740: 2020 2077 6869 6368 206d 616b 6573 2064     which makes d
-00011750: 6562 7567 6769 6e67 2061 6e64 2065 7863  ebugging and exc
-00011760: 6570 7469 6f6e 206d 6573 7361 6765 7320  eption messages 
-00011770: 6561 7369 6572 2074 6f20 756e 6465 7273  easier to unders
-00011780: 7461 6e64 202d 2066 6f72 2069 6e73 7461  tand - for insta
-00011790: 6e63 652c 2074 6865 2064 6566 6175 6c74  nce, the default
-000117a0: 0a20 2020 2020 2020 206e 616d 6520 6372  .        name cr
-000117b0: 6561 7465 6420 666f 7220 7468 6520 3a63  eated for the :c
-000117c0: 6c61 7373 3a60 576f 7264 6020 6578 7072  lass:`Word` expr
-000117d0: 6573 7369 6f6e 2077 6974 686f 7574 2063  ession without c
-000117e0: 616c 6c69 6e67 2060 6073 6574 5f6e 616d  alling ``set_nam
-000117f0: 6560 6020 6973 2060 6022 573a 2841 2d5a  e`` is ``"W:(A-Z
-00011800: 612d 7a29 2260 602e 0a20 2020 2020 2020  a-z)"``..       
-00011810: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-00011820: 7265 6375 7273 653a 0a20 2020 2020 2020  recurse:.       
-00011830: 2020 2020 2066 6f72 2065 7870 7220 696e       for expr in
-00011840: 2073 656c 662e 7669 7369 745f 616c 6c28   self.visit_all(
-00011850: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00011860: 2020 2065 7870 722e 7365 745f 6465 6275     expr.set_debu
-00011870: 6728 666c 6167 2c20 7265 6375 7273 653d  g(flag, recurse=
-00011880: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
-00011890: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-000118a0: 2020 2020 2020 2020 6966 2066 6c61 673a          if flag:
-000118b0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-000118c0: 662e 7365 745f 6465 6275 675f 6163 7469  f.set_debug_acti
-000118d0: 6f6e 7328 0a20 2020 2020 2020 2020 2020  ons(.           
-000118e0: 2020 2020 205f 6465 6661 756c 745f 7374       _default_st
-000118f0: 6172 745f 6465 6275 675f 6163 7469 6f6e  art_debug_action
-00011900: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00011910: 2020 5f64 6566 6175 6c74 5f73 7563 6365    _default_succe
-00011920: 7373 5f64 6562 7567 5f61 6374 696f 6e2c  ss_debug_action,
-00011930: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011940: 205f 6465 6661 756c 745f 6578 6365 7074   _default_except
-00011950: 696f 6e5f 6465 6275 675f 6163 7469 6f6e  ion_debug_action
-00011960: 2c0a 2020 2020 2020 2020 2020 2020 290a  ,.            ).
-00011970: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00011980: 2020 2020 2020 2020 2020 7365 6c66 2e64            self.d
-00011990: 6562 7567 203d 2046 616c 7365 0a20 2020  ebug = False.   
-000119a0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-000119b0: 0a0a 2020 2020 4070 726f 7065 7274 790a  ..    @property.
-000119c0: 2020 2020 6465 6620 6465 6661 756c 745f      def default_
-000119d0: 6e61 6d65 2873 656c 6629 202d 3e20 7374  name(self) -> st
-000119e0: 723a 0a20 2020 2020 2020 2069 6620 7365  r:.        if se
-000119f0: 6c66 2e5f 6465 6661 756c 744e 616d 6520  lf._defaultName 
-00011a00: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-00011a10: 2020 2020 2073 656c 662e 5f64 6566 6175       self._defau
-00011a20: 6c74 4e61 6d65 203d 2073 656c 662e 5f67  ltName = self._g
-00011a30: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
-00011a40: 6d65 2829 0a20 2020 2020 2020 2072 6574  me().        ret
-00011a50: 7572 6e20 7365 6c66 2e5f 6465 6661 756c  urn self._defaul
-00011a60: 744e 616d 650a 0a20 2020 2040 6162 7374  tName..    @abst
-00011a70: 7261 6374 6d65 7468 6f64 0a20 2020 2064  ractmethod.    d
-00011a80: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
-00011a90: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
-00011aa0: 2073 7472 3a0a 2020 2020 2020 2020 2222   str:.        ""
-00011ab0: 220a 2020 2020 2020 2020 4368 696c 6420  ".        Child 
-00011ac0: 636c 6173 7365 7320 6d75 7374 2064 6566  classes must def
-00011ad0: 696e 6520 7468 6973 206d 6574 686f 642c  ine this method,
-00011ae0: 2077 6869 6368 2064 6566 696e 6573 2068   which defines h
-00011af0: 6f77 2074 6865 2060 6064 6566 6175 6c74  ow the ``default
-00011b00: 5f6e 616d 6560 6020 6973 2073 6574 2e0a  _name`` is set..
-00011b10: 2020 2020 2020 2020 2222 220a 0a20 2020          """..   
-00011b20: 2064 6566 2073 6574 5f6e 616d 6528 7365   def set_name(se
-00011b30: 6c66 2c20 6e61 6d65 3a20 7374 7229 202d  lf, name: str) -
-00011b40: 3e20 2250 6172 7365 7245 6c65 6d65 6e74  > "ParserElement
-00011b50: 223a 0a20 2020 2020 2020 2022 2222 0a20  ":.        """. 
-00011b60: 2020 2020 2020 2044 6566 696e 6520 6e61         Define na
-00011b70: 6d65 2066 6f72 2074 6869 7320 6578 7072  me for this expr
-00011b80: 6573 7369 6f6e 2c20 6d61 6b65 7320 6465  ession, makes de
-00011b90: 6275 6767 696e 6720 616e 6420 6578 6365  bugging and exce
-00011ba0: 7074 696f 6e20 6d65 7373 6167 6573 2063  ption messages c
-00011bb0: 6c65 6172 6572 2e0a 0a20 2020 2020 2020  learer...       
-00011bc0: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
-00011bd0: 2020 2020 2020 2020 576f 7264 286e 756d          Word(num
-00011be0: 7329 2e70 6172 7365 5f73 7472 696e 6728  s).parse_string(
-00011bf0: 2241 4243 2229 2020 2320 2d3e 2045 7863  "ABC")  # -> Exc
-00011c00: 6570 7469 6f6e 3a20 4578 7065 6374 6564  eption: Expected
-00011c10: 2057 3a28 302d 3929 2028 6174 2063 6861   W:(0-9) (at cha
-00011c20: 7220 3029 2c20 286c 696e 653a 312c 2063  r 0), (line:1, c
-00011c30: 6f6c 3a31 290a 2020 2020 2020 2020 2020  ol:1).          
-00011c40: 2020 576f 7264 286e 756d 7329 2e73 6574    Word(nums).set
-00011c50: 5f6e 616d 6528 2269 6e74 6567 6572 2229  _name("integer")
-00011c60: 2e70 6172 7365 5f73 7472 696e 6728 2241  .parse_string("A
-00011c70: 4243 2229 2020 2320 2d3e 2045 7863 6570  BC")  # -> Excep
-00011c80: 7469 6f6e 3a20 4578 7065 6374 6564 2069  tion: Expected i
-00011c90: 6e74 6567 6572 2028 6174 2063 6861 7220  nteger (at char 
-00011ca0: 3029 2c20 286c 696e 653a 312c 2063 6f6c  0), (line:1, col
-00011cb0: 3a31 290a 2020 2020 2020 2020 2222 220a  :1).        """.
-00011cc0: 2020 2020 2020 2020 7365 6c66 2e63 7573          self.cus
-00011cd0: 746f 6d4e 616d 6520 3d20 6e61 6d65 0a20  tomName = name. 
-00011ce0: 2020 2020 2020 2073 656c 662e 6572 726d         self.errm
-00011cf0: 7367 203d 2022 4578 7065 6374 6564 2022  sg = "Expected "
-00011d00: 202b 2073 656c 662e 6e61 6d65 0a20 2020   + self.name.   
-00011d10: 2020 2020 2069 6620 5f5f 6469 6167 5f5f       if __diag__
-00011d20: 2e65 6e61 626c 655f 6465 6275 675f 6f6e  .enable_debug_on
-00011d30: 5f6e 616d 6564 5f65 7870 7265 7373 696f  _named_expressio
-00011d40: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-00011d50: 7365 6c66 2e73 6574 5f64 6562 7567 2829  self.set_debug()
-00011d60: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00011d70: 7365 6c66 0a0a 2020 2020 4070 726f 7065  self..    @prope
-00011d80: 7274 790a 2020 2020 6465 6620 6e61 6d65  rty.    def name
-00011d90: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
-00011da0: 2020 2020 2020 2023 2054 6869 7320 7769         # This wi
-00011db0: 6c6c 2075 7365 2061 2075 7365 722d 6465  ll use a user-de
-00011dc0: 6669 6e65 6420 6e61 6d65 2069 6620 6176  fined name if av
-00011dd0: 6169 6c61 626c 652c 2062 7574 206f 7468  ailable, but oth
-00011de0: 6572 7769 7365 2064 6566 6175 6c74 7320  erwise defaults 
-00011df0: 6261 636b 2074 6f20 7468 6520 6175 746f  back to the auto
-00011e00: 2d67 656e 6572 6174 6564 206e 616d 650a  -generated name.
-00011e10: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00011e20: 656c 662e 6375 7374 6f6d 4e61 6d65 2069  elf.customName i
-00011e30: 6620 7365 6c66 2e63 7573 746f 6d4e 616d  f self.customNam
-00011e40: 6520 6973 206e 6f74 204e 6f6e 6520 656c  e is not None el
-00011e50: 7365 2073 656c 662e 6465 6661 756c 745f  se self.default_
-00011e60: 6e61 6d65 0a0a 2020 2020 6465 6620 5f5f  name..    def __
-00011e70: 7374 725f 5f28 7365 6c66 2920 2d3e 2073  str__(self) -> s
-00011e80: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
-00011e90: 726e 2073 656c 662e 6e61 6d65 0a0a 2020  rn self.name..  
-00011ea0: 2020 6465 6620 5f5f 7265 7072 5f5f 2873    def __repr__(s
-00011eb0: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
-00011ec0: 2020 2020 2072 6574 7572 6e20 7374 7228       return str(
-00011ed0: 7365 6c66 290a 0a20 2020 2064 6566 2073  self)..    def s
-00011ee0: 7472 6561 6d6c 696e 6528 7365 6c66 2920  treamline(self) 
-00011ef0: 2d3e 2022 5061 7273 6572 456c 656d 656e  -> "ParserElemen
-00011f00: 7422 3a0a 2020 2020 2020 2020 7365 6c66  t":.        self
-00011f10: 2e73 7472 6561 6d6c 696e 6564 203d 2054  .streamlined = T
-00011f20: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
-00011f30: 2e5f 6465 6661 756c 744e 616d 6520 3d20  ._defaultName = 
-00011f40: 4e6f 6e65 0a20 2020 2020 2020 2072 6574  None.        ret
-00011f50: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
-00011f60: 6620 7265 6375 7273 6528 7365 6c66 2920  f recurse(self) 
-00011f70: 2d3e 204c 6973 745b 2250 6172 7365 7245  -> List["ParserE
-00011f80: 6c65 6d65 6e74 225d 3a0a 2020 2020 2020  lement"]:.      
-00011f90: 2020 7265 7475 726e 205b 5d0a 0a20 2020    return []..   
-00011fa0: 2064 6566 205f 6368 6563 6b52 6563 7572   def _checkRecur
-00011fb0: 7369 6f6e 2873 656c 662c 2070 6172 7365  sion(self, parse
-00011fc0: 456c 656d 656e 744c 6973 7429 3a0a 2020  ElementList):.  
-00011fd0: 2020 2020 2020 7375 6252 6563 4368 6563        subRecChec
-00011fe0: 6b4c 6973 7420 3d20 7061 7273 6545 6c65  kList = parseEle
-00011ff0: 6d65 6e74 4c69 7374 5b3a 5d20 2b20 5b73  mentList[:] + [s
-00012000: 656c 665d 0a20 2020 2020 2020 2066 6f72  elf].        for
-00012010: 2065 2069 6e20 7365 6c66 2e72 6563 7572   e in self.recur
-00012020: 7365 2829 3a0a 2020 2020 2020 2020 2020  se():.          
-00012030: 2020 652e 5f63 6865 636b 5265 6375 7273    e._checkRecurs
-00012040: 696f 6e28 7375 6252 6563 4368 6563 6b4c  ion(subRecCheckL
-00012050: 6973 7429 0a0a 2020 2020 6465 6620 7661  ist)..    def va
-00012060: 6c69 6461 7465 2873 656c 662c 2076 616c  lidate(self, val
-00012070: 6964 6174 6554 7261 6365 3d4e 6f6e 6529  idateTrace=None)
-00012080: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
-00012090: 2020 2222 220a 2020 2020 2020 2020 4368    """.        Ch
-000120a0: 6563 6b20 6465 6669 6e65 6420 6578 7072  eck defined expr
-000120b0: 6573 7369 6f6e 7320 666f 7220 7661 6c69  essions for vali
-000120c0: 6420 7374 7275 6374 7572 652c 2063 6865  d structure, che
-000120d0: 636b 2066 6f72 2069 6e66 696e 6974 6520  ck for infinite 
-000120e0: 7265 6375 7273 6976 6520 6465 6669 6e69  recursive defini
-000120f0: 7469 6f6e 732e 0a20 2020 2020 2020 2022  tions..        "
-00012100: 2222 0a20 2020 2020 2020 2077 6172 6e69  "".        warni
-00012110: 6e67 732e 7761 726e 280a 2020 2020 2020  ngs.warn(.      
-00012120: 2020 2020 2020 2250 6172 7365 7245 6c65        "ParserEle
-00012130: 6d65 6e74 2e76 616c 6964 6174 6528 2920  ment.validate() 
-00012140: 6973 2064 6570 7265 6361 7465 642c 2061  is deprecated, a
-00012150: 6e64 2073 686f 756c 6420 6e6f 7420 6265  nd should not be
-00012160: 2075 7365 6420 746f 2063 6865 636b 2066   used to check f
-00012170: 6f72 206c 6566 7420 7265 6375 7273 696f  or left recursio
-00012180: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
-00012190: 4465 7072 6563 6174 696f 6e57 6172 6e69  DeprecationWarni
-000121a0: 6e67 2c0a 2020 2020 2020 2020 2020 2020  ng,.            
-000121b0: 7374 6163 6b6c 6576 656c 3d32 2c0a 2020  stacklevel=2,.  
-000121c0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-000121d0: 7365 6c66 2e5f 6368 6563 6b52 6563 7572  self._checkRecur
-000121e0: 7369 6f6e 285b 5d29 0a0a 2020 2020 6465  sion([])..    de
-000121f0: 6620 7061 7273 655f 6669 6c65 280a 2020  f parse_file(.  
-00012200: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00012210: 2020 2020 6669 6c65 5f6f 725f 6669 6c65      file_or_file
-00012220: 6e61 6d65 3a20 556e 696f 6e5b 7374 722c  name: Union[str,
-00012230: 2050 6174 682c 2054 6578 7449 4f5d 2c0a   Path, TextIO],.
-00012240: 2020 2020 2020 2020 656e 636f 6469 6e67          encoding
-00012250: 3a20 7374 7220 3d20 2275 7466 2d38 222c  : str = "utf-8",
-00012260: 0a20 2020 2020 2020 2070 6172 7365 5f61  .        parse_a
-00012270: 6c6c 3a20 626f 6f6c 203d 2046 616c 7365  ll: bool = False
-00012280: 2c0a 2020 2020 2020 2020 2a2c 0a20 2020  ,.        *,.   
-00012290: 2020 2020 2070 6172 7365 416c 6c3a 2062       parseAll: b
-000122a0: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-000122b0: 2029 202d 3e20 5061 7273 6552 6573 756c   ) -> ParseResul
-000122c0: 7473 3a0a 2020 2020 2020 2020 2222 220a  ts:.        """.
-000122d0: 2020 2020 2020 2020 4578 6563 7574 6520          Execute 
-000122e0: 7468 6520 7061 7273 6520 6578 7072 6573  the parse expres
-000122f0: 7369 6f6e 206f 6e20 7468 6520 6769 7665  sion on the give
-00012300: 6e20 6669 6c65 206f 7220 6669 6c65 6e61  n file or filena
-00012310: 6d65 2e0a 2020 2020 2020 2020 4966 2061  me..        If a
-00012320: 2066 696c 656e 616d 6520 6973 2073 7065   filename is spe
-00012330: 6369 6669 6564 2028 696e 7374 6561 6420  cified (instead 
-00012340: 6f66 2061 2066 696c 6520 6f62 6a65 6374  of a file object
-00012350: 292c 0a20 2020 2020 2020 2074 6865 2065  ),.        the e
-00012360: 6e74 6972 6520 6669 6c65 2069 7320 6f70  ntire file is op
-00012370: 656e 6564 2c20 7265 6164 2c20 616e 6420  ened, read, and 
-00012380: 636c 6f73 6564 2062 6566 6f72 6520 7061  closed before pa
-00012390: 7273 696e 672e 0a20 2020 2020 2020 2022  rsing..        "
-000123a0: 2222 0a20 2020 2020 2020 2070 6172 7365  "".        parse
-000123b0: 416c 6c20 3d20 7061 7273 6541 6c6c 206f  All = parseAll o
-000123c0: 7220 7061 7273 655f 616c 6c0a 2020 2020  r parse_all.    
-000123d0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-000123e0: 2020 2020 2066 696c 655f 6f72 5f66 696c       file_or_fil
-000123f0: 656e 616d 6520 3d20 7479 7069 6e67 2e63  ename = typing.c
-00012400: 6173 7428 5465 7874 494f 2c20 6669 6c65  ast(TextIO, file
-00012410: 5f6f 725f 6669 6c65 6e61 6d65 290a 2020  _or_filename).  
-00012420: 2020 2020 2020 2020 2020 6669 6c65 5f63            file_c
-00012430: 6f6e 7465 6e74 7320 3d20 6669 6c65 5f6f  ontents = file_o
-00012440: 725f 6669 6c65 6e61 6d65 2e72 6561 6428  r_filename.read(
-00012450: 290a 2020 2020 2020 2020 6578 6365 7074  ).        except
-00012460: 2041 7474 7269 6275 7465 4572 726f 723a   AttributeError:
-00012470: 0a20 2020 2020 2020 2020 2020 2066 696c  .            fil
-00012480: 655f 6f72 5f66 696c 656e 616d 6520 3d20  e_or_filename = 
-00012490: 7479 7069 6e67 2e63 6173 7428 7374 722c  typing.cast(str,
-000124a0: 2066 696c 655f 6f72 5f66 696c 656e 616d   file_or_filenam
-000124b0: 6529 0a20 2020 2020 2020 2020 2020 2077  e).            w
-000124c0: 6974 6820 6f70 656e 2866 696c 655f 6f72  ith open(file_or
-000124d0: 5f66 696c 656e 616d 652c 2022 7222 2c20  _filename, "r", 
-000124e0: 656e 636f 6469 6e67 3d65 6e63 6f64 696e  encoding=encodin
-000124f0: 6729 2061 7320 663a 0a20 2020 2020 2020  g) as f:.       
-00012500: 2020 2020 2020 2020 2066 696c 655f 636f           file_co
-00012510: 6e74 656e 7473 203d 2066 2e72 6561 6428  ntents = f.read(
-00012520: 290a 2020 2020 2020 2020 7472 793a 0a20  ).        try:. 
-00012530: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00012540: 6e20 7365 6c66 2e70 6172 7365 5f73 7472  n self.parse_str
-00012550: 696e 6728 6669 6c65 5f63 6f6e 7465 6e74  ing(file_content
-00012560: 732c 2070 6172 7365 416c 6c29 0a20 2020  s, parseAll).   
-00012570: 2020 2020 2065 7863 6570 7420 5061 7273       except Pars
-00012580: 6542 6173 6545 7863 6570 7469 6f6e 2061  eBaseException a
-00012590: 7320 6578 633a 0a20 2020 2020 2020 2020  s exc:.         
-000125a0: 2020 2069 6620 5061 7273 6572 456c 656d     if ParserElem
-000125b0: 656e 742e 7665 7262 6f73 655f 7374 6163  ent.verbose_stac
-000125c0: 6b74 7261 6365 3a0a 2020 2020 2020 2020  ktrace:.        
-000125d0: 2020 2020 2020 2020 7261 6973 650a 2020          raise.  
-000125e0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-000125f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012600: 2320 6361 7463 6820 616e 6420 7265 2d72  # catch and re-r
-00012610: 6169 7365 2065 7863 6570 7469 6f6e 2066  aise exception f
-00012620: 726f 6d20 6865 7265 2c20 636c 6561 7273  rom here, clears
-00012630: 206f 7574 2070 7970 6172 7369 6e67 2069   out pyparsing i
-00012640: 6e74 6572 6e61 6c20 7374 6163 6b20 7472  nternal stack tr
-00012650: 6163 650a 2020 2020 2020 2020 2020 2020  ace.            
-00012660: 2020 2020 7261 6973 6520 6578 632e 7769      raise exc.wi
-00012670: 7468 5f74 7261 6365 6261 636b 284e 6f6e  th_traceback(Non
-00012680: 6529 0a0a 2020 2020 6465 6620 5f5f 6571  e)..    def __eq
-00012690: 5f5f 2873 656c 662c 206f 7468 6572 293a  __(self, other):
-000126a0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-000126b0: 2069 7320 6f74 6865 723a 0a20 2020 2020   is other:.     
-000126c0: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
-000126d0: 7565 0a20 2020 2020 2020 2065 6c69 6620  ue.        elif 
-000126e0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
-000126f0: 2c20 7374 725f 7479 7065 293a 0a20 2020  , str_type):.   
-00012700: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00012710: 7365 6c66 2e6d 6174 6368 6573 286f 7468  self.matches(oth
-00012720: 6572 2c20 7061 7273 655f 616c 6c3d 5472  er, parse_all=Tr
-00012730: 7565 290a 2020 2020 2020 2020 656c 6966  ue).        elif
-00012740: 2069 7369 6e73 7461 6e63 6528 6f74 6865   isinstance(othe
-00012750: 722c 2050 6172 7365 7245 6c65 6d65 6e74  r, ParserElement
-00012760: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
-00012770: 6574 7572 6e20 7661 7273 2873 656c 6629  eturn vars(self)
-00012780: 203d 3d20 7661 7273 286f 7468 6572 290a   == vars(other).
-00012790: 2020 2020 2020 2020 7265 7475 726e 2046          return F
-000127a0: 616c 7365 0a0a 2020 2020 6465 6620 5f5f  alse..    def __
-000127b0: 6861 7368 5f5f 2873 656c 6629 3a0a 2020  hash__(self):.  
-000127c0: 2020 2020 2020 7265 7475 726e 2069 6428        return id(
-000127d0: 7365 6c66 290a 0a20 2020 2064 6566 206d  self)..    def m
-000127e0: 6174 6368 6573 280a 2020 2020 2020 2020  atches(.        
-000127f0: 7365 6c66 2c20 7465 7374 5f73 7472 696e  self, test_strin
-00012800: 673a 2073 7472 2c20 7061 7273 655f 616c  g: str, parse_al
-00012810: 6c3a 2062 6f6f 6c20 3d20 5472 7565 2c20  l: bool = True, 
-00012820: 2a2c 2070 6172 7365 416c 6c3a 2062 6f6f  *, parseAll: boo
-00012830: 6c20 3d20 5472 7565 0a20 2020 2029 202d  l = True.    ) -
-00012840: 3e20 626f 6f6c 3a0a 2020 2020 2020 2020  > bool:.        
-00012850: 2222 220a 2020 2020 2020 2020 4d65 7468  """.        Meth
-00012860: 6f64 2066 6f72 2071 7569 636b 2074 6573  od for quick tes
-00012870: 7469 6e67 206f 6620 6120 7061 7273 6572  ting of a parser
-00012880: 2061 6761 696e 7374 2061 2074 6573 7420   against a test 
-00012890: 7374 7269 6e67 2e20 476f 6f64 2066 6f72  string. Good for
-000128a0: 2073 696d 706c 650a 2020 2020 2020 2020   simple.        
-000128b0: 696e 6c69 6e65 206d 6963 726f 7465 7374  inline microtest
-000128c0: 7320 6f66 2073 7562 2065 7870 7265 7373  s of sub express
-000128d0: 696f 6e73 2077 6869 6c65 2062 7569 6c64  ions while build
-000128e0: 696e 6720 7570 206c 6172 6765 7220 7061  ing up larger pa
-000128f0: 7273 6572 2e0a 0a20 2020 2020 2020 2050  rser...        P
-00012900: 6172 616d 6574 6572 733a 0a0a 2020 2020  arameters:..    
-00012910: 2020 2020 2d20 6060 7465 7374 5f73 7472      - ``test_str
-00012920: 696e 6760 6020 2d20 746f 2074 6573 7420  ing`` - to test 
-00012930: 6167 6169 6e73 7420 7468 6973 2065 7870  against this exp
-00012940: 7265 7373 696f 6e20 666f 7220 6120 6d61  ression for a ma
-00012950: 7463 680a 2020 2020 2020 2020 2d20 6060  tch.        - ``
-00012960: 7061 7273 655f 616c 6c60 6020 2d20 2864  parse_all`` - (d
-00012970: 6566 6175 6c74 3d20 6060 5472 7565 6060  efault= ``True``
-00012980: 2920 2d20 666c 6167 2074 6f20 7061 7373  ) - flag to pass
-00012990: 2074 6f20 3a63 6c61 7373 3a60 7061 7273   to :class:`pars
-000129a0: 655f 7374 7269 6e67 6020 7768 656e 2072  e_string` when r
-000129b0: 756e 6e69 6e67 2074 6573 7473 0a0a 2020  unning tests..  
-000129c0: 2020 2020 2020 4578 616d 706c 653a 3a0a        Example::.
-000129d0: 0a20 2020 2020 2020 2020 2020 2065 7870  .            exp
-000129e0: 7220 3d20 576f 7264 286e 756d 7329 0a20  r = Word(nums). 
-000129f0: 2020 2020 2020 2020 2020 2061 7373 6572             asser
-00012a00: 7420 6578 7072 2e6d 6174 6368 6573 2822  t expr.matches("
-00012a10: 3130 3022 290a 2020 2020 2020 2020 2222  100").        ""
-00012a20: 220a 2020 2020 2020 2020 7061 7273 6541  ".        parseA
-00012a30: 6c6c 203d 2070 6172 7365 416c 6c20 616e  ll = parseAll an
-00012a40: 6420 7061 7273 655f 616c 6c0a 2020 2020  d parse_all.    
-00012a50: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-00012a60: 2020 2020 2073 656c 662e 7061 7273 655f       self.parse_
-00012a70: 7374 7269 6e67 2873 7472 2874 6573 745f  string(str(test_
-00012a80: 7374 7269 6e67 292c 2070 6172 7365 5f61  string), parse_a
-00012a90: 6c6c 3d70 6172 7365 416c 6c29 0a20 2020  ll=parseAll).   
-00012aa0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00012ab0: 5472 7565 0a20 2020 2020 2020 2065 7863  True.        exc
-00012ac0: 6570 7420 5061 7273 6542 6173 6545 7863  ept ParseBaseExc
-00012ad0: 6570 7469 6f6e 3a0a 2020 2020 2020 2020  eption:.        
-00012ae0: 2020 2020 7265 7475 726e 2046 616c 7365      return False
-00012af0: 0a0a 2020 2020 6465 6620 7275 6e5f 7465  ..    def run_te
-00012b00: 7374 7328 0a20 2020 2020 2020 2073 656c  sts(.        sel
-00012b10: 662c 0a20 2020 2020 2020 2074 6573 7473  f,.        tests
-00012b20: 3a20 556e 696f 6e5b 7374 722c 204c 6973  : Union[str, Lis
-00012b30: 745b 7374 725d 5d2c 0a20 2020 2020 2020  t[str]],.       
-00012b40: 2070 6172 7365 5f61 6c6c 3a20 626f 6f6c   parse_all: bool
-00012b50: 203d 2054 7275 652c 0a20 2020 2020 2020   = True,.       
-00012b60: 2063 6f6d 6d65 6e74 3a20 7479 7069 6e67   comment: typing
-00012b70: 2e4f 7074 696f 6e61 6c5b 556e 696f 6e5b  .Optional[Union[
-00012b80: 2250 6172 7365 7245 6c65 6d65 6e74 222c  "ParserElement",
-00012b90: 2073 7472 5d5d 203d 2022 2322 2c0a 2020   str]] = "#",.  
-00012ba0: 2020 2020 2020 6675 6c6c 5f64 756d 703a        full_dump:
-00012bb0: 2062 6f6f 6c20 3d20 5472 7565 2c0a 2020   bool = True,.  
-00012bc0: 2020 2020 2020 7072 696e 745f 7265 7375        print_resu
-00012bd0: 6c74 733a 2062 6f6f 6c20 3d20 5472 7565  lts: bool = True
-00012be0: 2c0a 2020 2020 2020 2020 6661 696c 7572  ,.        failur
-00012bf0: 655f 7465 7374 733a 2062 6f6f 6c20 3d20  e_tests: bool = 
-00012c00: 4661 6c73 652c 0a20 2020 2020 2020 2070  False,.        p
-00012c10: 6f73 745f 7061 7273 653a 2074 7970 696e  ost_parse: typin
-00012c20: 672e 4f70 7469 6f6e 616c 5b43 616c 6c61  g.Optional[Calla
-00012c30: 626c 655b 5b73 7472 2c20 5061 7273 6552  ble[[str, ParseR
-00012c40: 6573 756c 7473 5d2c 2073 7472 5d5d 203d  esults], str]] =
-00012c50: 204e 6f6e 652c 0a20 2020 2020 2020 2066   None,.        f
-00012c60: 696c 653a 2074 7970 696e 672e 4f70 7469  ile: typing.Opti
-00012c70: 6f6e 616c 5b54 6578 7449 4f5d 203d 204e  onal[TextIO] = N
-00012c80: 6f6e 652c 0a20 2020 2020 2020 2077 6974  one,.        wit
-00012c90: 685f 6c69 6e65 5f6e 756d 6265 7273 3a20  h_line_numbers: 
-00012ca0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-00012cb0: 2020 2020 2020 2a2c 0a20 2020 2020 2020        *,.       
-00012cc0: 2070 6172 7365 416c 6c3a 2062 6f6f 6c20   parseAll: bool 
-00012cd0: 3d20 5472 7565 2c0a 2020 2020 2020 2020  = True,.        
-00012ce0: 6675 6c6c 4475 6d70 3a20 626f 6f6c 203d  fullDump: bool =
-00012cf0: 2054 7275 652c 0a20 2020 2020 2020 2070   True,.        p
-00012d00: 7269 6e74 5265 7375 6c74 733a 2062 6f6f  rintResults: boo
-00012d10: 6c20 3d20 5472 7565 2c0a 2020 2020 2020  l = True,.      
-00012d20: 2020 6661 696c 7572 6554 6573 7473 3a20    failureTests: 
-00012d30: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-00012d40: 2020 2020 2020 706f 7374 5061 7273 653a        postParse:
-00012d50: 2074 7970 696e 672e 4f70 7469 6f6e 616c   typing.Optional
-00012d60: 5b43 616c 6c61 626c 655b 5b73 7472 2c20  [Callable[[str, 
-00012d70: 5061 7273 6552 6573 756c 7473 5d2c 2073  ParseResults], s
-00012d80: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
-00012d90: 2029 202d 3e20 5475 706c 655b 626f 6f6c   ) -> Tuple[bool
-00012da0: 2c20 4c69 7374 5b54 7570 6c65 5b73 7472  , List[Tuple[str
-00012db0: 2c20 556e 696f 6e5b 5061 7273 6552 6573  , Union[ParseRes
-00012dc0: 756c 7473 2c20 4578 6365 7074 696f 6e5d  ults, Exception]
-00012dd0: 5d5d 5d3a 0a20 2020 2020 2020 2022 2222  ]]]:.        """
-00012de0: 0a20 2020 2020 2020 2045 7865 6375 7465  .        Execute
-00012df0: 2074 6865 2070 6172 7365 2065 7870 7265   the parse expre
-00012e00: 7373 696f 6e20 6f6e 2061 2073 6572 6965  ssion on a serie
-00012e10: 7320 6f66 2074 6573 7420 7374 7269 6e67  s of test string
-00012e20: 732c 2073 686f 7769 6e67 2065 6163 680a  s, showing each.
-00012e30: 2020 2020 2020 2020 7465 7374 2c20 7468          test, th
-00012e40: 6520 7061 7273 6564 2072 6573 756c 7473  e parsed results
-00012e50: 206f 7220 7768 6572 6520 7468 6520 7061   or where the pa
-00012e60: 7273 6520 6661 696c 6564 2e20 5175 6963  rse failed. Quic
-00012e70: 6b20 616e 6420 6561 7379 2077 6179 2074  k and easy way t
-00012e80: 6f0a 2020 2020 2020 2020 7275 6e20 6120  o.        run a 
-00012e90: 7061 7273 6520 6578 7072 6573 7369 6f6e  parse expression
-00012ea0: 2061 6761 696e 7374 2061 206c 6973 7420   against a list 
-00012eb0: 6f66 2073 616d 706c 6520 7374 7269 6e67  of sample string
-00012ec0: 732e 0a0a 2020 2020 2020 2020 5061 7261  s...        Para
-00012ed0: 6d65 7465 7273 3a0a 0a20 2020 2020 2020  meters:..       
-00012ee0: 202d 2060 6074 6573 7473 6060 202d 2061   - ``tests`` - a
-00012ef0: 206c 6973 7420 6f66 2073 6570 6172 6174   list of separat
-00012f00: 6520 7465 7374 2073 7472 696e 6773 2c20  e test strings, 
-00012f10: 6f72 2061 206d 756c 7469 6c69 6e65 2073  or a multiline s
-00012f20: 7472 696e 6720 6f66 2074 6573 7420 7374  tring of test st
-00012f30: 7269 6e67 730a 2020 2020 2020 2020 2d20  rings.        - 
-00012f40: 6060 7061 7273 655f 616c 6c60 6020 2d20  ``parse_all`` - 
-00012f50: 2864 6566 6175 6c74 3d20 6060 5472 7565  (default= ``True
-00012f60: 6060 2920 2d20 666c 6167 2074 6f20 7061  ``) - flag to pa
-00012f70: 7373 2074 6f20 3a63 6c61 7373 3a60 7061  ss to :class:`pa
-00012f80: 7273 655f 7374 7269 6e67 6020 7768 656e  rse_string` when
-00012f90: 2072 756e 6e69 6e67 2074 6573 7473 0a20   running tests. 
-00012fa0: 2020 2020 2020 202d 2060 6063 6f6d 6d65         - ``comme
-00012fb0: 6e74 6060 202d 2028 6465 6661 756c 743d  nt`` - (default=
-00012fc0: 2060 6027 2327 6060 2920 2d20 6578 7072   ``'#'``) - expr
-00012fd0: 6573 7369 6f6e 2066 6f72 2069 6e64 6963  ession for indic
-00012fe0: 6174 696e 6720 656d 6265 6464 6564 2063  ating embedded c
-00012ff0: 6f6d 6d65 6e74 7320 696e 2074 6865 2074  omments in the t
-00013000: 6573 740a 2020 2020 2020 2020 2020 7374  est.          st
-00013010: 7269 6e67 3b20 7061 7373 204e 6f6e 6520  ring; pass None 
-00013020: 746f 2064 6973 6162 6c65 2063 6f6d 6d65  to disable comme
-00013030: 6e74 2066 696c 7465 7269 6e67 0a20 2020  nt filtering.   
-00013040: 2020 2020 202d 2060 6066 756c 6c5f 6475       - ``full_du
-00013050: 6d70 6060 202d 2028 6465 6661 756c 743d  mp`` - (default=
-00013060: 2060 6054 7275 6560 6029 202d 2064 756d   ``True``) - dum
-00013070: 7020 7265 7375 6c74 7320 6173 206c 6973  p results as lis
-00013080: 7420 666f 6c6c 6f77 6564 2062 7920 7265  t followed by re
-00013090: 7375 6c74 7320 6e61 6d65 7320 696e 206e  sults names in n
-000130a0: 6573 7465 6420 6f75 746c 696e 653b 0a20  ested outline;. 
-000130b0: 2020 2020 2020 2020 2069 6620 4661 6c73           if Fals
-000130c0: 652c 206f 6e6c 7920 6475 6d70 206e 6573  e, only dump nes
-000130d0: 7465 6420 6c69 7374 0a20 2020 2020 2020  ted list.       
-000130e0: 202d 2060 6070 7269 6e74 5f72 6573 756c   - ``print_resul
-000130f0: 7473 6060 202d 2028 6465 6661 756c 743d  ts`` - (default=
-00013100: 2060 6054 7275 6560 6029 2070 7269 6e74   ``True``) print
-00013110: 7320 7465 7374 206f 7574 7075 7420 746f  s test output to
-00013120: 2073 7464 6f75 740a 2020 2020 2020 2020   stdout.        
-00013130: 2d20 6060 6661 696c 7572 655f 7465 7374  - ``failure_test
-00013140: 7360 6020 2d20 2864 6566 6175 6c74 3d20  s`` - (default= 
-00013150: 6060 4661 6c73 6560 6029 2069 6e64 6963  ``False``) indic
-00013160: 6174 6573 2069 6620 7468 6573 6520 7465  ates if these te
-00013170: 7374 7320 6172 6520 6578 7065 6374 6564  sts are expected
-00013180: 2074 6f20 6661 696c 2070 6172 7369 6e67   to fail parsing
-00013190: 0a20 2020 2020 2020 202d 2060 6070 6f73  .        - ``pos
-000131a0: 745f 7061 7273 6560 6020 2d20 2864 6566  t_parse`` - (def
-000131b0: 6175 6c74 3d20 6060 4e6f 6e65 6060 2920  ault= ``None``) 
-000131c0: 6f70 7469 6f6e 616c 2063 616c 6c62 6163  optional callbac
-000131d0: 6b20 666f 7220 7375 6363 6573 7366 756c  k for successful
-000131e0: 2070 6172 7365 2072 6573 756c 7473 3b20   parse results; 
-000131f0: 6361 6c6c 6564 2061 730a 2020 2020 2020  called as.      
-00013200: 2020 2020 6066 6e28 7465 7374 5f73 7472      `fn(test_str
-00013210: 696e 672c 2070 6172 7365 5f72 6573 756c  ing, parse_resul
-00013220: 7473 2960 2061 6e64 2072 6574 7572 6e73  ts)` and returns
-00013230: 2061 2073 7472 696e 6720 746f 2062 6520   a string to be 
-00013240: 6164 6465 6420 746f 2074 6865 2074 6573  added to the tes
-00013250: 7420 6f75 7470 7574 0a20 2020 2020 2020  t output.       
-00013260: 202d 2060 6066 696c 6560 6020 2d20 2864   - ``file`` - (d
-00013270: 6566 6175 6c74 3d20 6060 4e6f 6e65 6060  efault= ``None``
-00013280: 2920 6f70 7469 6f6e 616c 2066 696c 652d  ) optional file-
-00013290: 6c69 6b65 206f 626a 6563 7420 746f 2077  like object to w
-000132a0: 6869 6368 2074 6573 7420 6f75 7470 7574  hich test output
-000132b0: 2077 696c 6c20 6265 2077 7269 7474 656e   will be written
-000132c0: 3b0a 2020 2020 2020 2020 2020 6966 204e  ;.          if N
-000132d0: 6f6e 652c 2077 696c 6c20 6465 6661 756c  one, will defaul
-000132e0: 7420 746f 2060 6073 7973 2e73 7464 6f75  t to ``sys.stdou
-000132f0: 7460 600a 2020 2020 2020 2020 2d20 6060  t``.        - ``
-00013300: 7769 7468 5f6c 696e 655f 6e75 6d62 6572  with_line_number
-00013310: 7360 6020 2d20 6465 6661 756c 743d 2060  s`` - default= `
-00013320: 6046 616c 7365 6060 2920 7368 6f77 2074  `False``) show t
-00013330: 6573 7420 7374 7269 6e67 7320 7769 7468  est strings with
-00013340: 206c 696e 6520 616e 6420 636f 6c75 6d6e   line and column
-00013350: 206e 756d 6265 7273 0a0a 2020 2020 2020   numbers..      
-00013360: 2020 5265 7475 726e 733a 2061 2028 7375    Returns: a (su
-00013370: 6363 6573 732c 2072 6573 756c 7473 2920  ccess, results) 
-00013380: 7475 706c 652c 2077 6865 7265 2073 7563  tuple, where suc
-00013390: 6365 7373 2069 6e64 6963 6174 6573 2074  cess indicates t
-000133a0: 6861 7420 616c 6c20 7465 7374 7320 7375  hat all tests su
-000133b0: 6363 6565 6465 640a 2020 2020 2020 2020  cceeded.        
-000133c0: 286f 7220 6661 696c 6564 2069 6620 6060  (or failed if ``
-000133d0: 6661 696c 7572 655f 7465 7374 7360 6020  failure_tests`` 
-000133e0: 6973 2054 7275 6529 2c20 616e 6420 7468  is True), and th
-000133f0: 6520 7265 7375 6c74 7320 636f 6e74 6169  e results contai
-00013400: 6e20 6120 6c69 7374 206f 6620 6c69 6e65  n a list of line
-00013410: 7320 6f66 2065 6163 680a 2020 2020 2020  s of each.      
-00013420: 2020 7465 7374 2773 206f 7574 7075 740a    test's output.
-00013430: 0a20 2020 2020 2020 2045 7861 6d70 6c65  .        Example
-00013440: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
-00013450: 6e75 6d62 6572 5f65 7870 7220 3d20 7079  number_expr = py
-00013460: 7061 7273 696e 675f 636f 6d6d 6f6e 2e6e  parsing_common.n
-00013470: 756d 6265 722e 636f 7079 2829 0a0a 2020  umber.copy()..  
-00013480: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-00013490: 203d 206e 756d 6265 725f 6578 7072 2e72   = number_expr.r
-000134a0: 756e 5f74 6573 7473 2827 2727 0a20 2020  un_tests('''.   
-000134b0: 2020 2020 2020 2020 2020 2020 2023 2075               # u
-000134c0: 6e73 6967 6e65 6420 696e 7465 6765 720a  nsigned integer.
-000134d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000134e0: 3130 300a 2020 2020 2020 2020 2020 2020  100.            
-000134f0: 2020 2020 2320 6e65 6761 7469 7665 2069      # negative i
-00013500: 6e74 6567 6572 0a20 2020 2020 2020 2020  nteger.         
-00013510: 2020 2020 2020 202d 3130 300a 2020 2020         -100.    
-00013520: 2020 2020 2020 2020 2020 2020 2320 666c              # fl
-00013530: 6f61 7420 7769 7468 2073 6369 656e 7469  oat with scienti
-00013540: 6669 6320 6e6f 7461 7469 6f6e 0a20 2020  fic notation.   
-00013550: 2020 2020 2020 2020 2020 2020 2036 2e30               6.0
-00013560: 3265 3233 0a20 2020 2020 2020 2020 2020  2e23.           
-00013570: 2020 2020 2023 2069 6e74 6567 6572 2077       # integer w
-00013580: 6974 6820 7363 6965 6e74 6966 6963 206e  ith scientific n
-00013590: 6f74 6174 696f 6e0a 2020 2020 2020 2020  otation.        
-000135a0: 2020 2020 2020 2020 3165 2d31 320a 2020          1e-12.  
-000135b0: 2020 2020 2020 2020 2020 2020 2020 2727                ''
-000135c0: 2729 0a20 2020 2020 2020 2020 2020 2070  ').            p
-000135d0: 7269 6e74 2822 5375 6363 6573 7322 2069  rint("Success" i
-000135e0: 6620 7265 7375 6c74 5b30 5d20 656c 7365  f result[0] else
-000135f0: 2022 4661 696c 6564 2122 290a 0a20 2020   "Failed!")..   
-00013600: 2020 2020 2020 2020 2072 6573 756c 7420           result 
-00013610: 3d20 6e75 6d62 6572 5f65 7870 722e 7275  = number_expr.ru
-00013620: 6e5f 7465 7374 7328 2727 270a 2020 2020  n_tests('''.    
-00013630: 2020 2020 2020 2020 2020 2020 2320 7374              # st
-00013640: 7261 7920 6368 6172 6163 7465 720a 2020  ray character.  
-00013650: 2020 2020 2020 2020 2020 2020 2020 3130                10
-00013660: 305a 0a20 2020 2020 2020 2020 2020 2020  0Z.             
-00013670: 2020 2023 206d 6973 7369 6e67 206c 6561     # missing lea
-00013680: 6469 6e67 2064 6967 6974 2062 6566 6f72  ding digit befor
-00013690: 6520 272e 270a 2020 2020 2020 2020 2020  e '.'.          
-000136a0: 2020 2020 2020 2d2e 3130 300a 2020 2020        -.100.    
-000136b0: 2020 2020 2020 2020 2020 2020 2320 746f              # to
-000136c0: 6f20 6d61 6e79 2027 2e27 0a20 2020 2020  o many '.'.     
-000136d0: 2020 2020 2020 2020 2020 2033 2e31 342e             3.14.
-000136e0: 3135 390a 2020 2020 2020 2020 2020 2020  159.            
-000136f0: 2020 2020 2727 272c 2066 6169 6c75 7265      ''', failure
-00013700: 5f74 6573 7473 3d54 7275 6529 0a20 2020  _tests=True).   
-00013710: 2020 2020 2020 2020 2070 7269 6e74 2822           print("
-00013720: 5375 6363 6573 7322 2069 6620 7265 7375  Success" if resu
-00013730: 6c74 5b30 5d20 656c 7365 2022 4661 696c  lt[0] else "Fail
-00013740: 6564 2122 290a 0a20 2020 2020 2020 2070  ed!")..        p
-00013750: 7269 6e74 733a 3a0a 0a20 2020 2020 2020  rints::..       
-00013760: 2020 2020 2023 2075 6e73 6967 6e65 6420       # unsigned 
-00013770: 696e 7465 6765 720a 2020 2020 2020 2020  integer.        
-00013780: 2020 2020 3130 300a 2020 2020 2020 2020      100.        
-00013790: 2020 2020 5b31 3030 5d0a 0a20 2020 2020      [100]..     
-000137a0: 2020 2020 2020 2023 206e 6567 6174 6976         # negativ
-000137b0: 6520 696e 7465 6765 720a 2020 2020 2020  e integer.      
-000137c0: 2020 2020 2020 2d31 3030 0a20 2020 2020        -100.     
-000137d0: 2020 2020 2020 205b 2d31 3030 5d0a 0a20         [-100].. 
-000137e0: 2020 2020 2020 2020 2020 2023 2066 6c6f             # flo
-000137f0: 6174 2077 6974 6820 7363 6965 6e74 6966  at with scientif
-00013800: 6963 206e 6f74 6174 696f 6e0a 2020 2020  ic notation.    
-00013810: 2020 2020 2020 2020 362e 3032 6532 330a          6.02e23.
-00013820: 2020 2020 2020 2020 2020 2020 5b36 2e30              [6.0
-00013830: 3265 2b32 335d 0a0a 2020 2020 2020 2020  2e+23]..        
-00013840: 2020 2020 2320 696e 7465 6765 7220 7769      # integer wi
-00013850: 7468 2073 6369 656e 7469 6669 6320 6e6f  th scientific no
-00013860: 7461 7469 6f6e 0a20 2020 2020 2020 2020  tation.         
-00013870: 2020 2031 652d 3132 0a20 2020 2020 2020     1e-12.       
-00013880: 2020 2020 205b 3165 2d31 325d 0a0a 2020       [1e-12]..  
-00013890: 2020 2020 2020 2020 2020 5375 6363 6573            Succes
-000138a0: 730a 0a20 2020 2020 2020 2020 2020 2023  s..            #
-000138b0: 2073 7472 6179 2063 6861 7261 6374 6572   stray character
-000138c0: 0a20 2020 2020 2020 2020 2020 2031 3030  .            100
-000138d0: 5a0a 2020 2020 2020 2020 2020 2020 2020  Z.              
-000138e0: 205e 0a20 2020 2020 2020 2020 2020 2046   ^.            F
-000138f0: 4149 4c3a 2045 7870 6563 7465 6420 656e  AIL: Expected en
-00013900: 6420 6f66 2074 6578 7420 2861 7420 6368  d of text (at ch
-00013910: 6172 2033 292c 2028 6c69 6e65 3a31 2c20  ar 3), (line:1, 
-00013920: 636f 6c3a 3429 0a0a 2020 2020 2020 2020  col:4)..        
-00013930: 2020 2020 2320 6d69 7373 696e 6720 6c65      # missing le
-00013940: 6164 696e 6720 6469 6769 7420 6265 666f  ading digit befo
-00013950: 7265 2027 2e27 0a20 2020 2020 2020 2020  re '.'.         
-00013960: 2020 202d 2e31 3030 0a20 2020 2020 2020     -.100.       
-00013970: 2020 2020 205e 0a20 2020 2020 2020 2020       ^.         
-00013980: 2020 2046 4149 4c3a 2045 7870 6563 7465     FAIL: Expecte
-00013990: 6420 7b72 6561 6c20 6e75 6d62 6572 2077  d {real number w
-000139a0: 6974 6820 7363 6965 6e74 6966 6963 206e  ith scientific n
-000139b0: 6f74 6174 696f 6e20 7c20 7265 616c 206e  otation | real n
-000139c0: 756d 6265 7220 7c20 7369 676e 6564 2069  umber | signed i
-000139d0: 6e74 6567 6572 7d20 2861 7420 6368 6172  nteger} (at char
-000139e0: 2030 292c 2028 6c69 6e65 3a31 2c20 636f   0), (line:1, co
-000139f0: 6c3a 3129 0a0a 2020 2020 2020 2020 2020  l:1)..          
-00013a00: 2020 2320 746f 6f20 6d61 6e79 2027 2e27    # too many '.'
-00013a10: 0a20 2020 2020 2020 2020 2020 2033 2e31  .            3.1
-00013a20: 342e 3135 390a 2020 2020 2020 2020 2020  4.159.          
-00013a30: 2020 2020 2020 5e0a 2020 2020 2020 2020        ^.        
-00013a40: 2020 2020 4641 494c 3a20 4578 7065 6374      FAIL: Expect
-00013a50: 6564 2065 6e64 206f 6620 7465 7874 2028  ed end of text (
-00013a60: 6174 2063 6861 7220 3429 2c20 286c 696e  at char 4), (lin
-00013a70: 653a 312c 2063 6f6c 3a35 290a 0a20 2020  e:1, col:5)..   
-00013a80: 2020 2020 2020 2020 2053 7563 6365 7373           Success
-00013a90: 0a0a 2020 2020 2020 2020 4561 6368 2074  ..        Each t
-00013aa0: 6573 7420 7374 7269 6e67 206d 7573 7420  est string must 
-00013ab0: 6265 206f 6e20 6120 7369 6e67 6c65 206c  be on a single l
-00013ac0: 696e 652e 2049 6620 796f 7520 7761 6e74  ine. If you want
-00013ad0: 2074 6f20 7465 7374 2061 2073 7472 696e   to test a strin
-00013ae0: 6720 7468 6174 2073 7061 6e73 206d 756c  g that spans mul
-00013af0: 7469 706c 650a 2020 2020 2020 2020 6c69  tiple.        li
-00013b00: 6e65 732c 2063 7265 6174 6520 6120 7465  nes, create a te
-00013b10: 7374 206c 696b 6520 7468 6973 3a3a 0a0a  st like this::..
-00013b20: 2020 2020 2020 2020 2020 2020 6578 7072              expr
-00013b30: 2e72 756e 5f74 6573 7473 2872 2274 6869  .run_tests(r"thi
-00013b40: 7320 6973 2061 2074 6573 745c 5c6e 206f  s is a test\\n o
-00013b50: 6620 7374 7269 6e67 7320 7468 6174 2073  f strings that s
-00013b60: 7061 6e73 205c 5c6e 2033 206c 696e 6573  pans \\n 3 lines
-00013b70: 2229 0a0a 2020 2020 2020 2020 284e 6f74  ")..        (Not
-00013b80: 6520 7468 6174 2074 6869 7320 6973 2061  e that this is a
-00013b90: 2072 6177 2073 7472 696e 6720 6c69 7465   raw string lite
-00013ba0: 7261 6c2c 2079 6f75 206d 7573 7420 696e  ral, you must in
-00013bb0: 636c 7564 6520 7468 6520 6c65 6164 696e  clude the leadin
-00013bc0: 6720 6060 2772 2760 602e 290a 2020 2020  g ``'r'``.).    
-00013bd0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00013be0: 6672 6f6d 202e 7465 7374 696e 6720 696d  from .testing im
-00013bf0: 706f 7274 2070 7970 6172 7369 6e67 5f74  port pyparsing_t
-00013c00: 6573 740a 0a20 2020 2020 2020 2070 6172  est..        par
-00013c10: 7365 416c 6c20 3d20 7061 7273 6541 6c6c  seAll = parseAll
-00013c20: 2061 6e64 2070 6172 7365 5f61 6c6c 0a20   and parse_all. 
-00013c30: 2020 2020 2020 2066 756c 6c44 756d 7020         fullDump 
-00013c40: 3d20 6675 6c6c 4475 6d70 2061 6e64 2066  = fullDump and f
-00013c50: 756c 6c5f 6475 6d70 0a20 2020 2020 2020  ull_dump.       
-00013c60: 2070 7269 6e74 5265 7375 6c74 7320 3d20   printResults = 
-00013c70: 7072 696e 7452 6573 756c 7473 2061 6e64  printResults and
-00013c80: 2070 7269 6e74 5f72 6573 756c 7473 0a20   print_results. 
-00013c90: 2020 2020 2020 2066 6169 6c75 7265 5465         failureTe
-00013ca0: 7374 7320 3d20 6661 696c 7572 6554 6573  sts = failureTes
-00013cb0: 7473 206f 7220 6661 696c 7572 655f 7465  ts or failure_te
-00013cc0: 7374 730a 2020 2020 2020 2020 706f 7374  sts.        post
-00013cd0: 5061 7273 6520 3d20 706f 7374 5061 7273  Parse = postPars
-00013ce0: 6520 6f72 2070 6f73 745f 7061 7273 650a  e or post_parse.
-00013cf0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-00013d00: 7461 6e63 6528 7465 7374 732c 2073 7472  tance(tests, str
-00013d10: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
-00013d20: 2020 2020 7465 7374 7320 3d20 7479 7069      tests = typi
-00013d30: 6e67 2e63 6173 7428 7374 722c 2074 6573  ng.cast(str, tes
-00013d40: 7473 290a 2020 2020 2020 2020 2020 2020  ts).            
-00013d50: 6c69 6e65 5f73 7472 6970 203d 2074 7970  line_strip = typ
-00013d60: 6528 7465 7374 7329 2e73 7472 6970 0a20  e(tests).strip. 
-00013d70: 2020 2020 2020 2020 2020 2074 6573 7473             tests
-00013d80: 203d 205b 6c69 6e65 5f73 7472 6970 2874   = [line_strip(t
-00013d90: 6573 745f 6c69 6e65 2920 666f 7220 7465  est_line) for te
-00013da0: 7374 5f6c 696e 6520 696e 2074 6573 7473  st_line in tests
-00013db0: 2e72 7374 7269 7028 292e 7370 6c69 746c  .rstrip().splitl
-00013dc0: 696e 6573 2829 5d0a 2020 2020 2020 2020  ines()].        
-00013dd0: 636f 6d6d 656e 745f 7370 6563 6966 6965  comment_specifie
-00013de0: 6420 3d20 636f 6d6d 656e 7420 6973 206e  d = comment is n
-00013df0: 6f74 204e 6f6e 650a 2020 2020 2020 2020  ot None.        
-00013e00: 6966 2063 6f6d 6d65 6e74 5f73 7065 6369  if comment_speci
-00013e10: 6669 6564 3a0a 2020 2020 2020 2020 2020  fied:.          
-00013e20: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-00013e30: 636f 6d6d 656e 742c 2073 7472 5f74 7970  comment, str_typ
-00013e40: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-00013e50: 2020 2020 636f 6d6d 656e 7420 3d20 7479      comment = ty
-00013e60: 7069 6e67 2e63 6173 7428 7374 722c 2063  ping.cast(str, c
-00013e70: 6f6d 6d65 6e74 290a 2020 2020 2020 2020  omment).        
-00013e80: 2020 2020 2020 2020 636f 6d6d 656e 7420          comment 
-00013e90: 3d20 4c69 7465 7261 6c28 636f 6d6d 656e  = Literal(commen
-00013ea0: 7429 0a20 2020 2020 2020 2063 6f6d 6d65  t).        comme
-00013eb0: 6e74 203d 2074 7970 696e 672e 6361 7374  nt = typing.cast
-00013ec0: 2850 6172 7365 7245 6c65 6d65 6e74 2c20  (ParserElement, 
-00013ed0: 636f 6d6d 656e 7429 0a20 2020 2020 2020  comment).       
-00013ee0: 2069 6620 6669 6c65 2069 7320 4e6f 6e65   if file is None
-00013ef0: 3a0a 2020 2020 2020 2020 2020 2020 6669  :.            fi
-00013f00: 6c65 203d 2073 7973 2e73 7464 6f75 740a  le = sys.stdout.
-00013f10: 2020 2020 2020 2020 7072 696e 745f 203d          print_ =
-00013f20: 2066 696c 652e 7772 6974 650a 0a20 2020   file.write..   
-00013f30: 2020 2020 2072 6573 756c 743a 2055 6e69       result: Uni
-00013f40: 6f6e 5b50 6172 7365 5265 7375 6c74 732c  on[ParseResults,
-00013f50: 2045 7863 6570 7469 6f6e 5d0a 2020 2020   Exception].    
-00013f60: 2020 2020 616c 6c52 6573 756c 7473 3a20      allResults: 
-00013f70: 4c69 7374 5b54 7570 6c65 5b73 7472 2c20  List[Tuple[str, 
-00013f80: 556e 696f 6e5b 5061 7273 6552 6573 756c  Union[ParseResul
-00013f90: 7473 2c20 4578 6365 7074 696f 6e5d 5d5d  ts, Exception]]]
-00013fa0: 203d 205b 5d0a 2020 2020 2020 2020 636f   = [].        co
-00013fb0: 6d6d 656e 7473 3a20 4c69 7374 5b73 7472  mments: List[str
-00013fc0: 5d20 3d20 5b5d 0a20 2020 2020 2020 2073  ] = [].        s
-00013fd0: 7563 6365 7373 203d 2054 7275 650a 2020  uccess = True.  
-00013fe0: 2020 2020 2020 4e4c 203d 204c 6974 6572        NL = Liter
-00013ff0: 616c 2872 225c 6e22 292e 6164 645f 7061  al(r"\n").add_pa
-00014000: 7273 655f 6163 7469 6f6e 2872 6570 6c61  rse_action(repla
-00014010: 6365 5f77 6974 6828 225c 6e22 2929 2e69  ce_with("\n")).i
-00014020: 676e 6f72 6528 7175 6f74 6564 5f73 7472  gnore(quoted_str
-00014030: 696e 6729 0a20 2020 2020 2020 2042 4f4d  ing).        BOM
-00014040: 203d 2022 5c75 6665 6666 220a 2020 2020   = "\ufeff".    
-00014050: 2020 2020 666f 7220 7420 696e 2074 6573      for t in tes
-00014060: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
-00014070: 6966 2063 6f6d 6d65 6e74 5f73 7065 6369  if comment_speci
-00014080: 6669 6564 2061 6e64 2063 6f6d 6d65 6e74  fied and comment
-00014090: 2e6d 6174 6368 6573 2874 2c20 4661 6c73  .matches(t, Fals
-000140a0: 6529 206f 7220 636f 6d6d 656e 7473 2061  e) or comments a
-000140b0: 6e64 206e 6f74 2074 3a0a 2020 2020 2020  nd not t:.      
-000140c0: 2020 2020 2020 2020 2020 636f 6d6d 656e            commen
-000140d0: 7473 2e61 7070 656e 6428 0a20 2020 2020  ts.append(.     
-000140e0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-000140f0: 7970 6172 7369 6e67 5f74 6573 742e 7769  yparsing_test.wi
-00014100: 7468 5f6c 696e 655f 6e75 6d62 6572 7328  th_line_numbers(
-00014110: 7429 2069 6620 7769 7468 5f6c 696e 655f  t) if with_line_
-00014120: 6e75 6d62 6572 7320 656c 7365 2074 0a20  numbers else t. 
-00014130: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-00014140: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014150: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
-00014160: 2020 2020 2020 6966 206e 6f74 2074 3a0a        if not t:.
-00014170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014180: 636f 6e74 696e 7565 0a20 2020 2020 2020  continue.       
-00014190: 2020 2020 206f 7574 203d 205b 0a20 2020       out = [.   
-000141a0: 2020 2020 2020 2020 2020 2020 2022 5c6e               "\n
-000141b0: 2220 2b20 225c 6e22 2e6a 6f69 6e28 636f  " + "\n".join(co
-000141c0: 6d6d 656e 7473 2920 6966 2063 6f6d 6d65  mments) if comme
-000141d0: 6e74 7320 656c 7365 2022 222c 0a20 2020  nts else "",.   
-000141e0: 2020 2020 2020 2020 2020 2020 2070 7970               pyp
-000141f0: 6172 7369 6e67 5f74 6573 742e 7769 7468  arsing_test.with
-00014200: 5f6c 696e 655f 6e75 6d62 6572 7328 7429  _line_numbers(t)
-00014210: 2069 6620 7769 7468 5f6c 696e 655f 6e75   if with_line_nu
-00014220: 6d62 6572 7320 656c 7365 2074 2c0a 2020  mbers else t,.  
-00014230: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
-00014240: 2020 2020 2020 2020 636f 6d6d 656e 7473          comments
-00014250: 203d 205b 5d0a 2020 2020 2020 2020 2020   = [].          
-00014260: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-00014270: 2020 2020 2020 2023 2063 6f6e 7665 7274         # convert
-00014280: 206e 6577 6c69 6e65 206d 6172 6b73 2074   newline marks t
-00014290: 6f20 6163 7475 616c 206e 6577 6c69 6e65  o actual newline
-000142a0: 732c 2061 6e64 2073 7472 6970 206c 6561  s, and strip lea
-000142b0: 6469 6e67 2042 4f4d 2069 6620 7072 6573  ding BOM if pres
-000142c0: 656e 740a 2020 2020 2020 2020 2020 2020  ent.            
-000142d0: 2020 2020 7420 3d20 4e4c 2e74 7261 6e73      t = NL.trans
-000142e0: 666f 726d 5f73 7472 696e 6728 742e 6c73  form_string(t.ls
-000142f0: 7472 6970 2842 4f4d 2929 0a20 2020 2020  trip(BOM)).     
-00014300: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-00014310: 7420 3d20 7365 6c66 2e70 6172 7365 5f73  t = self.parse_s
-00014320: 7472 696e 6728 742c 2070 6172 7365 5f61  tring(t, parse_a
-00014330: 6c6c 3d70 6172 7365 416c 6c29 0a20 2020  ll=parseAll).   
-00014340: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-00014350: 5061 7273 6542 6173 6545 7863 6570 7469  ParseBaseExcepti
-00014360: 6f6e 2061 7320 7065 3a0a 2020 2020 2020  on as pe:.      
-00014370: 2020 2020 2020 2020 2020 6661 7461 6c20            fatal 
-00014380: 3d20 2228 4641 5441 4c29 2220 6966 2069  = "(FATAL)" if i
-00014390: 7369 6e73 7461 6e63 6528 7065 2c20 5061  sinstance(pe, Pa
-000143a0: 7273 6546 6174 616c 4578 6365 7074 696f  rseFatalExceptio
-000143b0: 6e29 2065 6c73 6520 2222 0a20 2020 2020  n) else "".     
-000143c0: 2020 2020 2020 2020 2020 206f 7574 2e61             out.a
-000143d0: 7070 656e 6428 7065 2e65 7870 6c61 696e  ppend(pe.explain
-000143e0: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
-000143f0: 2020 2020 6f75 742e 6170 7065 6e64 2822      out.append("
-00014400: 4641 494c 3a20 2220 2b20 7374 7228 7065  FAIL: " + str(pe
-00014410: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
-00014420: 2020 2069 6620 5061 7273 6572 456c 656d     if ParserElem
-00014430: 656e 742e 7665 7262 6f73 655f 7374 6163  ent.verbose_stac
-00014440: 6b74 7261 6365 3a0a 2020 2020 2020 2020  ktrace:.        
-00014450: 2020 2020 2020 2020 2020 2020 6f75 742e              out.
-00014460: 6578 7465 6e64 2874 7261 6365 6261 636b  extend(traceback
-00014470: 2e66 6f72 6d61 745f 7462 2870 652e 5f5f  .format_tb(pe.__
-00014480: 7472 6163 6562 6163 6b5f 5f29 290a 2020  traceback__)).  
-00014490: 2020 2020 2020 2020 2020 2020 2020 7375                su
-000144a0: 6363 6573 7320 3d20 7375 6363 6573 7320  ccess = success 
-000144b0: 616e 6420 6661 696c 7572 6554 6573 7473  and failureTests
-000144c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000144d0: 2072 6573 756c 7420 3d20 7065 0a20 2020   result = pe.   
-000144e0: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-000144f0: 4578 6365 7074 696f 6e20 6173 2065 7863  Exception as exc
-00014500: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00014510: 2020 6f75 742e 6170 7065 6e64 2866 2246    out.append(f"F
-00014520: 4149 4c2d 4558 4345 5054 494f 4e3a 207b  AIL-EXCEPTION: {
-00014530: 7479 7065 2865 7863 292e 5f5f 6e61 6d65  type(exc).__name
-00014540: 5f5f 7d3a 207b 6578 637d 2229 0a20 2020  __}: {exc}").   
-00014550: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00014560: 5061 7273 6572 456c 656d 656e 742e 7665  ParserElement.ve
-00014570: 7262 6f73 655f 7374 6163 6b74 7261 6365  rbose_stacktrace
-00014580: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00014590: 2020 2020 2020 6f75 742e 6578 7465 6e64        out.extend
-000145a0: 2874 7261 6365 6261 636b 2e66 6f72 6d61  (traceback.forma
-000145b0: 745f 7462 2865 7863 2e5f 5f74 7261 6365  t_tb(exc.__trace
-000145c0: 6261 636b 5f5f 2929 0a20 2020 2020 2020  back__)).       
-000145d0: 2020 2020 2020 2020 2073 7563 6365 7373           success
-000145e0: 203d 2073 7563 6365 7373 2061 6e64 2066   = success and f
-000145f0: 6169 6c75 7265 5465 7374 730a 2020 2020  ailureTests.    
-00014600: 2020 2020 2020 2020 2020 2020 7265 7375              resu
-00014610: 6c74 203d 2065 7863 0a20 2020 2020 2020  lt = exc.       
-00014620: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00014630: 2020 2020 2020 2020 2020 2073 7563 6365             succe
-00014640: 7373 203d 2073 7563 6365 7373 2061 6e64  ss = success and
-00014650: 206e 6f74 2066 6169 6c75 7265 5465 7374   not failureTest
-00014660: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-00014670: 2020 6966 2070 6f73 7450 6172 7365 2069    if postParse i
-00014680: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00014690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000146a0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-000146b0: 2020 2020 2020 2020 2020 2020 2070 705f               pp_
-000146c0: 7661 6c75 6520 3d20 706f 7374 5061 7273  value = postPars
-000146d0: 6528 742c 2072 6573 756c 7429 0a20 2020  e(t, result).   
-000146e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000146f0: 2020 2020 2069 6620 7070 5f76 616c 7565       if pp_value
-00014700: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-00014710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014720: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
-00014730: 6e73 7461 6e63 6528 7070 5f76 616c 7565  nstance(pp_value
-00014740: 2c20 5061 7273 6552 6573 756c 7473 293a  , ParseResults):
+0000ec20: 2020 2020 2020 2020 2020 2020 2320 6065              # `e
+0000ec30: 7870 7220 7c20 2222 6020 6973 2065 7175  xpr | ""` is equ
+0000ec40: 6976 616c 656e 7420 746f 2060 4f70 7428  ivalent to `Opt(
+0000ec50: 6578 7072 2960 0a20 2020 2020 2020 2020  expr)`.         
+0000ec60: 2020 2069 6620 6f74 6865 7220 3d3d 2022     if other == "
+0000ec70: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
+0000ec80: 2020 2072 6574 7572 6e20 4f70 7428 7365     return Opt(se
+0000ec90: 6c66 290a 2020 2020 2020 2020 2020 2020  lf).            
+0000eca0: 6f74 6865 7220 3d20 7365 6c66 2e5f 6c69  other = self._li
+0000ecb0: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
+0000ecc0: 286f 7468 6572 290a 2020 2020 2020 2020  (other).        
+0000ecd0: 6966 206e 6f74 2069 7369 6e73 7461 6e63  if not isinstanc
+0000ece0: 6528 6f74 6865 722c 2050 6172 7365 7245  e(other, ParserE
+0000ecf0: 6c65 6d65 6e74 293a 0a20 2020 2020 2020  lement):.       
+0000ed00: 2020 2020 2072 6574 7572 6e20 4e6f 7449       return NotI
+0000ed10: 6d70 6c65 6d65 6e74 6564 0a20 2020 2020  mplemented.     
+0000ed20: 2020 2072 6574 7572 6e20 4d61 7463 6846     return MatchF
+0000ed30: 6972 7374 285b 7365 6c66 2c20 6f74 6865  irst([self, othe
+0000ed40: 725d 290a 0a20 2020 2064 6566 205f 5f72  r])..    def __r
+0000ed50: 6f72 5f5f 2873 656c 662c 206f 7468 6572  or__(self, other
+0000ed60: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
+0000ed70: 656e 7422 3a0a 2020 2020 2020 2020 2222  ent":.        ""
+0000ed80: 220a 2020 2020 2020 2020 496d 706c 656d  ".        Implem
+0000ed90: 656e 7461 7469 6f6e 206f 6620 6060 7c60  entation of ``|`
+0000eda0: 6020 6f70 6572 6174 6f72 2077 6865 6e20  ` operator when 
+0000edb0: 6c65 6674 206f 7065 7261 6e64 2069 7320  left operand is 
+0000edc0: 6e6f 7420 6120 3a63 6c61 7373 3a60 5061  not a :class:`Pa
+0000edd0: 7273 6572 456c 656d 656e 7460 0a20 2020  rserElement`.   
+0000ede0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000edf0: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
+0000ee00: 7468 6572 2c20 7374 725f 7479 7065 293a  ther, str_type):
+0000ee10: 0a20 2020 2020 2020 2020 2020 206f 7468  .            oth
+0000ee20: 6572 203d 2073 656c 662e 5f6c 6974 6572  er = self._liter
+0000ee30: 616c 5374 7269 6e67 436c 6173 7328 6f74  alStringClass(ot
+0000ee40: 6865 7229 0a20 2020 2020 2020 2069 6620  her).        if 
+0000ee50: 6e6f 7420 6973 696e 7374 616e 6365 286f  not isinstance(o
+0000ee60: 7468 6572 2c20 5061 7273 6572 456c 656d  ther, ParserElem
+0000ee70: 656e 7429 3a0a 2020 2020 2020 2020 2020  ent):.          
+0000ee80: 2020 7265 7475 726e 204e 6f74 496d 706c    return NotImpl
+0000ee90: 656d 656e 7465 640a 2020 2020 2020 2020  emented.        
+0000eea0: 7265 7475 726e 206f 7468 6572 207c 2073  return other | s
+0000eeb0: 656c 660a 0a20 2020 2064 6566 205f 5f78  elf..    def __x
+0000eec0: 6f72 5f5f 2873 656c 662c 206f 7468 6572  or__(self, other
+0000eed0: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
+0000eee0: 656e 7422 3a0a 2020 2020 2020 2020 2222  ent":.        ""
+0000eef0: 220a 2020 2020 2020 2020 496d 706c 656d  ".        Implem
+0000ef00: 656e 7461 7469 6f6e 206f 6620 6060 5e60  entation of ``^`
+0000ef10: 6020 6f70 6572 6174 6f72 202d 2072 6574  ` operator - ret
+0000ef20: 7572 6e73 203a 636c 6173 733a 604f 7260  urns :class:`Or`
+0000ef30: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000ef40: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+0000ef50: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
+0000ef60: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
+0000ef70: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
+0000ef80: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
+0000ef90: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
+0000efa0: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
+0000efb0: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
+0000efc0: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
+0000efd0: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
+0000efe0: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
+0000eff0: 2020 2020 7265 7475 726e 204f 7228 5b73      return Or([s
+0000f000: 656c 662c 206f 7468 6572 5d29 0a0a 2020  elf, other])..  
+0000f010: 2020 6465 6620 5f5f 7278 6f72 5f5f 2873    def __rxor__(s
+0000f020: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
+0000f030: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
+0000f040: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000f050: 2020 2020 496d 706c 656d 656e 7461 7469      Implementati
+0000f060: 6f6e 206f 6620 6060 5e60 6020 6f70 6572  on of ``^`` oper
+0000f070: 6174 6f72 2077 6865 6e20 6c65 6674 206f  ator when left o
+0000f080: 7065 7261 6e64 2069 7320 6e6f 7420 6120  perand is not a 
+0000f090: 3a63 6c61 7373 3a60 5061 7273 6572 456c  :class:`ParserEl
+0000f0a0: 656d 656e 7460 0a20 2020 2020 2020 2022  ement`.        "
+0000f0b0: 2222 0a20 2020 2020 2020 2069 6620 6973  "".        if is
+0000f0c0: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
+0000f0d0: 7374 725f 7479 7065 293a 0a20 2020 2020  str_type):.     
+0000f0e0: 2020 2020 2020 206f 7468 6572 203d 2073         other = s
+0000f0f0: 656c 662e 5f6c 6974 6572 616c 5374 7269  elf._literalStri
+0000f100: 6e67 436c 6173 7328 6f74 6865 7229 0a20  ngClass(other). 
+0000f110: 2020 2020 2020 2069 6620 6e6f 7420 6973         if not is
+0000f120: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
+0000f130: 5061 7273 6572 456c 656d 656e 7429 3a0a  ParserElement):.
+0000f140: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0000f150: 726e 204e 6f74 496d 706c 656d 656e 7465  rn NotImplemente
+0000f160: 640a 2020 2020 2020 2020 7265 7475 726e  d.        return
+0000f170: 206f 7468 6572 205e 2073 656c 660a 0a20   other ^ self.. 
+0000f180: 2020 2064 6566 205f 5f61 6e64 5f5f 2873     def __and__(s
+0000f190: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
+0000f1a0: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
+0000f1b0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000f1c0: 2020 2020 496d 706c 656d 656e 7461 7469      Implementati
+0000f1d0: 6f6e 206f 6620 6060 2660 6020 6f70 6572  on of ``&`` oper
+0000f1e0: 6174 6f72 202d 2072 6574 7572 6e73 203a  ator - returns :
+0000f1f0: 636c 6173 733a 6045 6163 6860 0a20 2020  class:`Each`.   
+0000f200: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000f210: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
+0000f220: 7468 6572 2c20 7374 725f 7479 7065 293a  ther, str_type):
+0000f230: 0a20 2020 2020 2020 2020 2020 206f 7468  .            oth
+0000f240: 6572 203d 2073 656c 662e 5f6c 6974 6572  er = self._liter
+0000f250: 616c 5374 7269 6e67 436c 6173 7328 6f74  alStringClass(ot
+0000f260: 6865 7229 0a20 2020 2020 2020 2069 6620  her).        if 
+0000f270: 6e6f 7420 6973 696e 7374 616e 6365 286f  not isinstance(o
+0000f280: 7468 6572 2c20 5061 7273 6572 456c 656d  ther, ParserElem
+0000f290: 656e 7429 3a0a 2020 2020 2020 2020 2020  ent):.          
+0000f2a0: 2020 7265 7475 726e 204e 6f74 496d 706c    return NotImpl
+0000f2b0: 656d 656e 7465 640a 2020 2020 2020 2020  emented.        
+0000f2c0: 7265 7475 726e 2045 6163 6828 5b73 656c  return Each([sel
+0000f2d0: 662c 206f 7468 6572 5d29 0a0a 2020 2020  f, other])..    
+0000f2e0: 6465 6620 5f5f 7261 6e64 5f5f 2873 656c  def __rand__(sel
+0000f2f0: 662c 206f 7468 6572 2920 2d3e 2022 5061  f, other) -> "Pa
+0000f300: 7273 6572 456c 656d 656e 7422 3a0a 2020  rserElement":.  
+0000f310: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000f320: 2020 496d 706c 656d 656e 7461 7469 6f6e    Implementation
+0000f330: 206f 6620 6060 2660 6020 6f70 6572 6174   of ``&`` operat
+0000f340: 6f72 2077 6865 6e20 6c65 6674 206f 7065  or when left ope
+0000f350: 7261 6e64 2069 7320 6e6f 7420 6120 3a63  rand is not a :c
+0000f360: 6c61 7373 3a60 5061 7273 6572 456c 656d  lass:`ParserElem
+0000f370: 656e 7460 0a20 2020 2020 2020 2022 2222  ent`.        """
+0000f380: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
+0000f390: 7374 616e 6365 286f 7468 6572 2c20 7374  stance(other, st
+0000f3a0: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
+0000f3b0: 2020 2020 206f 7468 6572 203d 2073 656c       other = sel
+0000f3c0: 662e 5f6c 6974 6572 616c 5374 7269 6e67  f._literalString
+0000f3d0: 436c 6173 7328 6f74 6865 7229 0a20 2020  Class(other).   
+0000f3e0: 2020 2020 2069 6620 6e6f 7420 6973 696e       if not isin
+0000f3f0: 7374 616e 6365 286f 7468 6572 2c20 5061  stance(other, Pa
+0000f400: 7273 6572 456c 656d 656e 7429 3a0a 2020  rserElement):.  
+0000f410: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0000f420: 204e 6f74 496d 706c 656d 656e 7465 640a   NotImplemented.
+0000f430: 2020 2020 2020 2020 7265 7475 726e 206f          return o
+0000f440: 7468 6572 2026 2073 656c 660a 0a20 2020  ther & self..   
+0000f450: 2064 6566 205f 5f69 6e76 6572 745f 5f28   def __invert__(
+0000f460: 7365 6c66 2920 2d3e 2022 5061 7273 6572  self) -> "Parser
+0000f470: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
+0000f480: 2020 2222 220a 2020 2020 2020 2020 496d    """.        Im
+0000f490: 706c 656d 656e 7461 7469 6f6e 206f 6620  plementation of 
+0000f4a0: 6060 7e60 6020 6f70 6572 6174 6f72 202d  ``~`` operator -
+0000f4b0: 2072 6574 7572 6e73 203a 636c 6173 733a   returns :class:
+0000f4c0: 604e 6f74 416e 7960 0a20 2020 2020 2020  `NotAny`.       
+0000f4d0: 2022 2222 0a20 2020 2020 2020 2072 6574   """.        ret
+0000f4e0: 7572 6e20 4e6f 7441 6e79 2873 656c 6629  urn NotAny(self)
+0000f4f0: 0a0a 2020 2020 2320 6469 7361 626c 6520  ..    # disable 
+0000f500: 5f5f 6974 6572 5f5f 2074 6f20 6f76 6572  __iter__ to over
+0000f510: 7269 6465 206c 6567 6163 7920 7573 6520  ride legacy use 
+0000f520: 6f66 2073 6571 7565 6e74 6961 6c20 6163  of sequential ac
+0000f530: 6365 7373 2074 6f20 5f5f 6765 7469 7465  cess to __getite
+0000f540: 6d5f 5f20 746f 0a20 2020 2023 2069 7465  m__ to.    # ite
+0000f550: 7261 7465 206f 7665 7220 6120 7365 7175  rate over a sequ
+0000f560: 656e 6365 0a20 2020 205f 5f69 7465 725f  ence.    __iter_
+0000f570: 5f20 3d20 4e6f 6e65 0a0a 2020 2020 6465  _ = None..    de
+0000f580: 6620 5f5f 6765 7469 7465 6d5f 5f28 7365  f __getitem__(se
+0000f590: 6c66 2c20 6b65 7929 3a0a 2020 2020 2020  lf, key):.      
+0000f5a0: 2020 2222 220a 2020 2020 2020 2020 7573    """.        us
+0000f5b0: 6520 6060 5b5d 6060 2069 6e64 6578 696e  e ``[]`` indexin
+0000f5c0: 6720 6e6f 7461 7469 6f6e 2061 7320 6120  g notation as a 
+0000f5d0: 7368 6f72 7420 666f 726d 2066 6f72 2065  short form for e
+0000f5e0: 7870 7265 7373 696f 6e20 7265 7065 7469  xpression repeti
+0000f5f0: 7469 6f6e 3a0a 0a20 2020 2020 2020 202d  tion:..        -
+0000f600: 2060 6065 7870 725b 6e5d 6060 2069 7320   ``expr[n]`` is 
+0000f610: 6571 7569 7661 6c65 6e74 2074 6f20 6060  equivalent to ``
+0000f620: 6578 7072 2a6e 6060 0a20 2020 2020 2020  expr*n``.       
+0000f630: 202d 2060 6065 7870 725b 6d2c 206e 5d60   - ``expr[m, n]`
+0000f640: 6020 6973 2065 7175 6976 616c 656e 7420  ` is equivalent 
+0000f650: 746f 2060 6065 7870 722a 286d 2c20 6e29  to ``expr*(m, n)
+0000f660: 6060 0a20 2020 2020 2020 202d 2060 6065  ``.        - ``e
+0000f670: 7870 725b 6e2c 202e 2e2e 5d60 6020 6f72  xpr[n, ...]`` or
+0000f680: 2060 6065 7870 725b 6e2c 5d60 6020 6973   ``expr[n,]`` is
+0000f690: 2065 7175 6976 616c 656e 740a 2020 2020   equivalent.    
+0000f6a0: 2020 2020 2020 2020 2074 6f20 6060 6578           to ``ex
+0000f6b0: 7072 2a6e 202b 205a 6572 6f4f 724d 6f72  pr*n + ZeroOrMor
+0000f6c0: 6528 6578 7072 2960 600a 2020 2020 2020  e(expr)``.      
+0000f6d0: 2020 2020 2020 2028 7265 6164 2061 7320         (read as 
+0000f6e0: 2261 7420 6c65 6173 7420 6e20 696e 7374  "at least n inst
+0000f6f0: 616e 6365 7320 6f66 2060 6065 7870 7260  ances of ``expr`
+0000f700: 6022 290a 2020 2020 2020 2020 2d20 6060  `").        - ``
+0000f710: 6578 7072 5b2e 2e2e 2c20 6e5d 6060 2069  expr[..., n]`` i
+0000f720: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
+0000f730: 6060 6578 7072 2a28 302c 206e 2960 600a  ``expr*(0, n)``.
+0000f740: 2020 2020 2020 2020 2020 2020 2028 7265               (re
+0000f750: 6164 2061 7320 2230 2074 6f20 6e20 696e  ad as "0 to n in
+0000f760: 7374 616e 6365 7320 6f66 2060 6065 7870  stances of ``exp
+0000f770: 7260 6022 290a 2020 2020 2020 2020 2d20  r``").        - 
+0000f780: 6060 6578 7072 5b2e 2e2e 5d60 6020 616e  ``expr[...]`` an
+0000f790: 6420 6060 6578 7072 5b30 2c20 2e2e 2e5d  d ``expr[0, ...]
+0000f7a0: 6060 2061 7265 2065 7175 6976 616c 656e  `` are equivalen
+0000f7b0: 7420 746f 2060 605a 6572 6f4f 724d 6f72  t to ``ZeroOrMor
+0000f7c0: 6528 6578 7072 2960 600a 2020 2020 2020  e(expr)``.      
+0000f7d0: 2020 2d20 6060 6578 7072 5b31 2c20 2e2e    - ``expr[1, ..
+0000f7e0: 2e5d 6060 2069 7320 6571 7569 7661 6c65  .]`` is equivale
+0000f7f0: 6e74 2074 6f20 6060 4f6e 654f 724d 6f72  nt to ``OneOrMor
+0000f800: 6528 6578 7072 2960 600a 0a20 2020 2020  e(expr)``..     
+0000f810: 2020 2060 604e 6f6e 6560 6020 6d61 7920     ``None`` may 
+0000f820: 6265 2075 7365 6420 696e 2070 6c61 6365  be used in place
+0000f830: 206f 6620 6060 2e2e 2e60 602e 0a0a 2020   of ``...``...  
+0000f840: 2020 2020 2020 4e6f 7465 2074 6861 7420        Note that 
+0000f850: 6060 6578 7072 5b2e 2e2e 2c20 6e5d 6060  ``expr[..., n]``
+0000f860: 2061 6e64 2060 6065 7870 725b 6d2c 206e   and ``expr[m, n
+0000f870: 5d60 6020 646f 206e 6f74 2072 6169 7365  ]`` do not raise
+0000f880: 2061 6e20 6578 6365 7074 696f 6e0a 2020   an exception.  
+0000f890: 2020 2020 2020 6966 206d 6f72 6520 7468        if more th
+0000f8a0: 616e 2060 606e 6060 2060 6065 7870 7260  an ``n`` ``expr`
+0000f8b0: 605c 5c20 7320 6578 6973 7420 696e 2074  `\\ s exist in t
+0000f8c0: 6865 2069 6e70 7574 2073 7472 6561 6d2e  he input stream.
+0000f8d0: 2020 4966 2074 6869 7320 6265 6861 7669    If this behavi
+0000f8e0: 6f72 2069 730a 2020 2020 2020 2020 6465  or is.        de
+0000f8f0: 7369 7265 642c 2074 6865 6e20 7772 6974  sired, then writ
+0000f900: 6520 6060 6578 7072 5b2e 2e2e 2c20 6e5d  e ``expr[..., n]
+0000f910: 202b 207e 6578 7072 6060 2e0a 0a20 2020   + ~expr``...   
+0000f920: 2020 2020 2046 6f72 2072 6570 6574 6974       For repetit
+0000f930: 696f 6e20 7769 7468 2061 2073 746f 705f  ion with a stop_
+0000f940: 6f6e 2065 7870 7265 7373 696f 6e2c 2075  on expression, u
+0000f950: 7365 2073 6c69 6365 206e 6f74 6174 696f  se slice notatio
+0000f960: 6e3a 0a0a 2020 2020 2020 2020 2d20 6060  n:..        - ``
+0000f970: 6578 7072 5b2e 2e2e 3a20 656e 645f 6578  expr[...: end_ex
+0000f980: 7072 5d60 6020 616e 6420 6060 6578 7072  pr]`` and ``expr
+0000f990: 5b30 2c20 2e2e 2e3a 2065 6e64 5f65 7870  [0, ...: end_exp
+0000f9a0: 725d 6060 2061 7265 2065 7175 6976 616c  r]`` are equival
+0000f9b0: 656e 7420 746f 2060 605a 6572 6f4f 724d  ent to ``ZeroOrM
+0000f9c0: 6f72 6528 6578 7072 2c20 7374 6f70 5f6f  ore(expr, stop_o
+0000f9d0: 6e3d 656e 645f 6578 7072 2960 600a 2020  n=end_expr)``.  
+0000f9e0: 2020 2020 2020 2d20 6060 6578 7072 5b31        - ``expr[1
+0000f9f0: 2c20 2e2e 2e3a 2065 6e64 5f65 7870 725d  , ...: end_expr]
+0000fa00: 6060 2069 7320 6571 7569 7661 6c65 6e74  `` is equivalent
+0000fa10: 2074 6f20 6060 4f6e 654f 724d 6f72 6528   to ``OneOrMore(
+0000fa20: 6578 7072 2c20 7374 6f70 5f6f 6e3d 656e  expr, stop_on=en
+0000fa30: 645f 6578 7072 2960 600a 0a20 2020 2020  d_expr)``..     
+0000fa40: 2020 2022 2222 0a0a 2020 2020 2020 2020     """..        
+0000fa50: 7374 6f70 5f6f 6e5f 6465 6669 6e65 6420  stop_on_defined 
+0000fa60: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
+0000fa70: 7374 6f70 5f6f 6e20 3d20 4e6f 4d61 7463  stop_on = NoMatc
+0000fa80: 6828 290a 2020 2020 2020 2020 6966 2069  h().        if i
+0000fa90: 7369 6e73 7461 6e63 6528 6b65 792c 2073  sinstance(key, s
+0000faa0: 6c69 6365 293a 0a20 2020 2020 2020 2020  lice):.         
+0000fab0: 2020 206b 6579 2c20 7374 6f70 5f6f 6e20     key, stop_on 
+0000fac0: 3d20 6b65 792e 7374 6172 742c 206b 6579  = key.start, key
+0000fad0: 2e73 746f 700a 2020 2020 2020 2020 2020  .stop.          
+0000fae0: 2020 6966 206b 6579 2069 7320 4e6f 6e65    if key is None
+0000faf0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000fb00: 2020 6b65 7920 3d20 2e2e 2e0a 2020 2020    key = ....    
+0000fb10: 2020 2020 2020 2020 7374 6f70 5f6f 6e5f          stop_on_
+0000fb20: 6465 6669 6e65 6420 3d20 5472 7565 0a20  defined = True. 
+0000fb30: 2020 2020 2020 2065 6c69 6620 6973 696e         elif isin
+0000fb40: 7374 616e 6365 286b 6579 2c20 7475 706c  stance(key, tupl
+0000fb50: 6529 2061 6e64 2069 7369 6e73 7461 6e63  e) and isinstanc
+0000fb60: 6528 6b65 795b 2d31 5d2c 2073 6c69 6365  e(key[-1], slice
+0000fb70: 293a 0a20 2020 2020 2020 2020 2020 206b  ):.            k
+0000fb80: 6579 2c20 7374 6f70 5f6f 6e20 3d20 286b  ey, stop_on = (k
+0000fb90: 6579 5b30 5d2c 206b 6579 5b31 5d2e 7374  ey[0], key[1].st
+0000fba0: 6172 7429 2c20 6b65 795b 315d 2e73 746f  art), key[1].sto
+0000fbb0: 700a 2020 2020 2020 2020 2020 2020 7374  p.            st
+0000fbc0: 6f70 5f6f 6e5f 6465 6669 6e65 6420 3d20  op_on_defined = 
+0000fbd0: 5472 7565 0a0a 2020 2020 2020 2020 2320  True..        # 
+0000fbe0: 636f 6e76 6572 7420 7369 6e67 6c65 2061  convert single a
+0000fbf0: 7267 206b 6579 7320 746f 2074 7570 6c65  rg keys to tuple
+0000fc00: 730a 2020 2020 2020 2020 6966 2069 7369  s.        if isi
+0000fc10: 6e73 7461 6e63 6528 6b65 792c 2073 7472  nstance(key, str
+0000fc20: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
+0000fc30: 2020 2020 6b65 7920 3d20 286b 6579 2c29      key = (key,)
+0000fc40: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
+0000fc50: 2020 2020 2020 2020 2020 6974 6572 286b            iter(k
+0000fc60: 6579 290a 2020 2020 2020 2020 6578 6365  ey).        exce
+0000fc70: 7074 2054 7970 6545 7272 6f72 3a0a 2020  pt TypeError:.  
+0000fc80: 2020 2020 2020 2020 2020 6b65 7920 3d20            key = 
+0000fc90: 286b 6579 2c20 6b65 7929 0a0a 2020 2020  (key, key)..    
+0000fca0: 2020 2020 6966 206c 656e 286b 6579 2920      if len(key) 
+0000fcb0: 3e20 323a 0a20 2020 2020 2020 2020 2020  > 2:.           
+0000fcc0: 2072 6169 7365 2054 7970 6545 7272 6f72   raise TypeError
+0000fcd0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+0000fce0: 2020 6622 6f6e 6c79 2031 206f 7220 3220    f"only 1 or 2 
+0000fcf0: 696e 6465 7820 6172 6775 6d65 6e74 7320  index arguments 
+0000fd00: 7375 7070 6f72 7465 6420 287b 6b65 795b  supported ({key[
+0000fd10: 3a35 5d7d 7b66 272e 2e2e 205b 7b6c 656e  :5]}{f'... [{len
+0000fd20: 286b 6579 297d 5d27 2069 6620 6c65 6e28  (key)}]' if len(
+0000fd30: 6b65 7929 203e 2035 2065 6c73 6520 2727  key) > 5 else ''
+0000fd40: 7d29 220a 2020 2020 2020 2020 2020 2020  })".            
+0000fd50: 290a 0a20 2020 2020 2020 2023 2063 6c69  )..        # cli
+0000fd60: 7020 746f 2032 2065 6c65 6d65 6e74 730a  p to 2 elements.
+0000fd70: 2020 2020 2020 2020 7265 7420 3d20 7365          ret = se
+0000fd80: 6c66 202a 2074 7570 6c65 286b 6579 5b3a  lf * tuple(key[:
+0000fd90: 325d 290a 2020 2020 2020 2020 7265 7420  2]).        ret 
+0000fda0: 3d20 7479 7069 6e67 2e63 6173 7428 5f4d  = typing.cast(_M
+0000fdb0: 756c 7469 706c 654d 6174 6368 2c20 7265  ultipleMatch, re
+0000fdc0: 7429 0a0a 2020 2020 2020 2020 6966 2073  t)..        if s
+0000fdd0: 746f 705f 6f6e 5f64 6566 696e 6564 3a0a  top_on_defined:.
+0000fde0: 2020 2020 2020 2020 2020 2020 7265 742e              ret.
+0000fdf0: 7374 6f70 4f6e 2873 746f 705f 6f6e 290a  stopOn(stop_on).
+0000fe00: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0000fe10: 7265 740a 0a20 2020 2064 6566 205f 5f63  ret..    def __c
+0000fe20: 616c 6c5f 5f28 7365 6c66 2c20 6e61 6d65  all__(self, name
+0000fe30: 3a20 7479 7069 6e67 2e4f 7074 696f 6e61  : typing.Optiona
+0000fe40: 6c5b 7374 725d 203d 204e 6f6e 6529 202d  l[str] = None) -
+0000fe50: 3e20 2250 6172 7365 7245 6c65 6d65 6e74  > "ParserElement
+0000fe60: 223a 0a20 2020 2020 2020 2022 2222 0a20  ":.        """. 
+0000fe70: 2020 2020 2020 2053 686f 7274 6375 7420         Shortcut 
+0000fe80: 666f 7220 3a63 6c61 7373 3a60 7365 745f  for :class:`set_
+0000fe90: 7265 7375 6c74 735f 6e61 6d65 602c 2077  results_name`, w
+0000fea0: 6974 6820 6060 6c69 7374 5f61 6c6c 5f6d  ith ``list_all_m
+0000feb0: 6174 6368 6573 3d46 616c 7365 6060 2e0a  atches=False``..
+0000fec0: 0a20 2020 2020 2020 2049 6620 6060 6e61  .        If ``na
+0000fed0: 6d65 6060 2069 7320 6769 7665 6e20 7769  me`` is given wi
+0000fee0: 7468 2061 2074 7261 696c 696e 6720 6060  th a trailing ``
+0000fef0: 272a 2760 6020 6368 6172 6163 7465 722c  '*'`` character,
+0000ff00: 2074 6865 6e20 6060 6c69 7374 5f61 6c6c   then ``list_all
+0000ff10: 5f6d 6174 6368 6573 6060 2077 696c 6c20  _matches`` will 
+0000ff20: 6265 0a20 2020 2020 2020 2070 6173 7365  be.        passe
+0000ff30: 6420 6173 2060 6054 7275 6560 602e 0a0a  d as ``True``...
+0000ff40: 2020 2020 2020 2020 4966 2060 606e 616d          If ``nam
+0000ff50: 6560 6020 6973 206f 6d69 7474 6564 2c20  e`` is omitted, 
+0000ff60: 7361 6d65 2061 7320 6361 6c6c 696e 6720  same as calling 
+0000ff70: 3a63 6c61 7373 3a60 636f 7079 602e 0a0a  :class:`copy`...
+0000ff80: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
+0000ff90: 3a0a 0a20 2020 2020 2020 2020 2020 2023  :..            #
+0000ffa0: 2074 6865 7365 2061 7265 2065 7175 6976   these are equiv
+0000ffb0: 616c 656e 740a 2020 2020 2020 2020 2020  alent.          
+0000ffc0: 2020 7573 6572 6461 7461 203d 2057 6f72    userdata = Wor
+0000ffd0: 6428 616c 7068 6173 292e 7365 745f 7265  d(alphas).set_re
+0000ffe0: 7375 6c74 735f 6e61 6d65 2822 6e61 6d65  sults_name("name
+0000fff0: 2229 202b 2057 6f72 6428 6e75 6d73 202b  ") + Word(nums +
+00010000: 2022 2d22 292e 7365 745f 7265 7375 6c74   "-").set_result
+00010010: 735f 6e61 6d65 2822 736f 6373 6563 6e6f  s_name("socsecno
+00010020: 2229 0a20 2020 2020 2020 2020 2020 2075  ").            u
+00010030: 7365 7264 6174 6120 3d20 576f 7264 2861  serdata = Word(a
+00010040: 6c70 6861 7329 2822 6e61 6d65 2229 202b  lphas)("name") +
+00010050: 2057 6f72 6428 6e75 6d73 202b 2022 2d22   Word(nums + "-"
+00010060: 2928 2273 6f63 7365 636e 6f22 290a 2020  )("socsecno").  
+00010070: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00010080: 2020 6966 206e 616d 6520 6973 206e 6f74    if name is not
+00010090: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+000100a0: 2020 2072 6574 7572 6e20 7365 6c66 2e5f     return self._
+000100b0: 7365 7452 6573 756c 7473 4e61 6d65 286e  setResultsName(n
+000100c0: 616d 6529 0a20 2020 2020 2020 2065 6c73  ame).        els
+000100d0: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+000100e0: 6574 7572 6e20 7365 6c66 2e63 6f70 7928  eturn self.copy(
+000100f0: 290a 0a20 2020 2064 6566 2073 7570 7072  )..    def suppr
+00010100: 6573 7328 7365 6c66 2920 2d3e 2022 5061  ess(self) -> "Pa
+00010110: 7273 6572 456c 656d 656e 7422 3a0a 2020  rserElement":.  
+00010120: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00010130: 2020 5375 7070 7265 7373 6573 2074 6865    Suppresses the
+00010140: 206f 7574 7075 7420 6f66 2074 6869 7320   output of this 
+00010150: 3a63 6c61 7373 3a60 5061 7273 6572 456c  :class:`ParserEl
+00010160: 656d 656e 7460 3b20 7573 6566 756c 2074  ement`; useful t
+00010170: 6f20 6b65 6570 2070 756e 6374 7561 7469  o keep punctuati
+00010180: 6f6e 2066 726f 6d0a 2020 2020 2020 2020  on from.        
+00010190: 636c 7574 7465 7269 6e67 2075 7020 7265  cluttering up re
+000101a0: 7475 726e 6564 206f 7574 7075 742e 0a20  turned output.. 
+000101b0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000101c0: 2020 2072 6574 7572 6e20 5375 7070 7265     return Suppre
+000101d0: 7373 2873 656c 6629 0a0a 2020 2020 6465  ss(self)..    de
+000101e0: 6620 6967 6e6f 7265 5f77 6869 7465 7370  f ignore_whitesp
+000101f0: 6163 6528 7365 6c66 2c20 7265 6375 7273  ace(self, recurs
+00010200: 6976 653a 2062 6f6f 6c20 3d20 5472 7565  ive: bool = True
+00010210: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
+00010220: 656e 7422 3a0a 2020 2020 2020 2020 2222  ent":.        ""
+00010230: 220a 2020 2020 2020 2020 456e 6162 6c65  ".        Enable
+00010240: 7320 7468 6520 736b 6970 7069 6e67 206f  s the skipping o
+00010250: 6620 7768 6974 6573 7061 6365 2062 6566  f whitespace bef
+00010260: 6f72 6520 6d61 7463 6869 6e67 2074 6865  ore matching the
+00010270: 2063 6861 7261 6374 6572 7320 696e 2074   characters in t
+00010280: 6865 0a20 2020 2020 2020 203a 636c 6173  he.        :clas
+00010290: 733a 6050 6172 7365 7245 6c65 6d65 6e74  s:`ParserElement
+000102a0: 6027 7320 6465 6669 6e65 6420 7061 7474  `'s defined patt
+000102b0: 6572 6e2e 0a0a 2020 2020 2020 2020 3a70  ern...        :p
+000102c0: 6172 616d 2072 6563 7572 7369 7665 3a20  aram recursive: 
+000102d0: 4966 2060 6054 7275 6560 6020 2874 6865  If ``True`` (the
+000102e0: 2064 6566 6175 6c74 292c 2061 6c73 6f20   default), also 
+000102f0: 656e 6162 6c65 2077 6869 7465 7370 6163  enable whitespac
+00010300: 6520 736b 6970 7069 6e67 2069 6e20 6368  e skipping in ch
+00010310: 696c 6420 656c 656d 656e 7473 2028 6966  ild elements (if
+00010320: 2061 6e79 290a 2020 2020 2020 2020 2222   any).        ""
+00010330: 220a 2020 2020 2020 2020 7365 6c66 2e73  ".        self.s
+00010340: 6b69 7057 6869 7465 7370 6163 6520 3d20  kipWhitespace = 
+00010350: 5472 7565 0a20 2020 2020 2020 2072 6574  True.        ret
+00010360: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
+00010370: 6620 6c65 6176 655f 7768 6974 6573 7061  f leave_whitespa
+00010380: 6365 2873 656c 662c 2072 6563 7572 7369  ce(self, recursi
+00010390: 7665 3a20 626f 6f6c 203d 2054 7275 6529  ve: bool = True)
+000103a0: 202d 3e20 2250 6172 7365 7245 6c65 6d65   -> "ParserEleme
+000103b0: 6e74 223a 0a20 2020 2020 2020 2022 2222  nt":.        """
+000103c0: 0a20 2020 2020 2020 2044 6973 6162 6c65  .        Disable
+000103d0: 7320 7468 6520 736b 6970 7069 6e67 206f  s the skipping o
+000103e0: 6620 7768 6974 6573 7061 6365 2062 6566  f whitespace bef
+000103f0: 6f72 6520 6d61 7463 6869 6e67 2074 6865  ore matching the
+00010400: 2063 6861 7261 6374 6572 7320 696e 2074   characters in t
+00010410: 6865 0a20 2020 2020 2020 203a 636c 6173  he.        :clas
+00010420: 733a 6050 6172 7365 7245 6c65 6d65 6e74  s:`ParserElement
+00010430: 6027 7320 6465 6669 6e65 6420 7061 7474  `'s defined patt
+00010440: 6572 6e2e 2020 5468 6973 2069 7320 6e6f  ern.  This is no
+00010450: 726d 616c 6c79 206f 6e6c 7920 7573 6564  rmally only used
+00010460: 2069 6e74 6572 6e61 6c6c 7920 6279 0a20   internally by. 
+00010470: 2020 2020 2020 2074 6865 2070 7970 6172         the pypar
+00010480: 7369 6e67 206d 6f64 756c 652c 2062 7574  sing module, but
+00010490: 206d 6179 2062 6520 6e65 6564 6564 2069   may be needed i
+000104a0: 6e20 736f 6d65 2077 6869 7465 7370 6163  n some whitespac
+000104b0: 652d 7365 6e73 6974 6976 6520 6772 616d  e-sensitive gram
+000104c0: 6d61 7273 2e0a 0a20 2020 2020 2020 203a  mars...        :
+000104d0: 7061 7261 6d20 7265 6375 7273 6976 653a  param recursive:
+000104e0: 2049 6620 7472 7565 2028 7468 6520 6465   If true (the de
+000104f0: 6661 756c 7429 2c20 616c 736f 2064 6973  fault), also dis
+00010500: 6162 6c65 2077 6869 7465 7370 6163 6520  able whitespace 
+00010510: 736b 6970 7069 6e67 2069 6e20 6368 696c  skipping in chil
+00010520: 6420 656c 656d 656e 7473 2028 6966 2061  d elements (if a
+00010530: 6e79 290a 2020 2020 2020 2020 2222 220a  ny).        """.
+00010540: 2020 2020 2020 2020 7365 6c66 2e73 6b69          self.ski
+00010550: 7057 6869 7465 7370 6163 6520 3d20 4661  pWhitespace = Fa
+00010560: 6c73 650a 2020 2020 2020 2020 7265 7475  lse.        retu
+00010570: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
+00010580: 2073 6574 5f77 6869 7465 7370 6163 655f   set_whitespace_
+00010590: 6368 6172 7328 0a20 2020 2020 2020 2073  chars(.        s
+000105a0: 656c 662c 2063 6861 7273 3a20 556e 696f  elf, chars: Unio
+000105b0: 6e5b 5365 745b 7374 725d 2c20 7374 725d  n[Set[str], str]
+000105c0: 2c20 636f 7079 5f64 6566 6175 6c74 733a  , copy_defaults:
+000105d0: 2062 6f6f 6c20 3d20 4661 6c73 650a 2020   bool = False.  
+000105e0: 2020 2920 2d3e 2022 5061 7273 6572 456c    ) -> "ParserEl
+000105f0: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
+00010600: 2222 220a 2020 2020 2020 2020 4f76 6572  """.        Over
+00010610: 7269 6465 7320 7468 6520 6465 6661 756c  rides the defaul
+00010620: 7420 7768 6974 6573 7061 6365 2063 6861  t whitespace cha
+00010630: 7273 0a20 2020 2020 2020 2022 2222 0a20  rs.        """. 
+00010640: 2020 2020 2020 2073 656c 662e 736b 6970         self.skip
+00010650: 5768 6974 6573 7061 6365 203d 2054 7275  Whitespace = Tru
+00010660: 650a 2020 2020 2020 2020 7365 6c66 2e77  e.        self.w
+00010670: 6869 7465 4368 6172 7320 3d20 7365 7428  hiteChars = set(
+00010680: 6368 6172 7329 0a20 2020 2020 2020 2073  chars).        s
+00010690: 656c 662e 636f 7079 4465 6661 756c 7457  elf.copyDefaultW
+000106a0: 6869 7465 4368 6172 7320 3d20 636f 7079  hiteChars = copy
+000106b0: 5f64 6566 6175 6c74 730a 2020 2020 2020  _defaults.      
+000106c0: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
+000106d0: 2020 2064 6566 2070 6172 7365 5f77 6974     def parse_wit
+000106e0: 685f 7461 6273 2873 656c 6629 202d 3e20  h_tabs(self) -> 
+000106f0: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
+00010700: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00010710: 2020 2020 204f 7665 7272 6964 6573 2064       Overrides d
+00010720: 6566 6175 6c74 2062 6568 6176 696f 7220  efault behavior 
+00010730: 746f 2065 7870 616e 6420 6060 3c54 4142  to expand ``<TAB
+00010740: 3e60 6020 7320 746f 2073 7061 6365 7320  >`` s to spaces 
+00010750: 6265 666f 7265 2070 6172 7369 6e67 2074  before parsing t
+00010760: 6865 2069 6e70 7574 2073 7472 696e 672e  he input string.
+00010770: 0a20 2020 2020 2020 204d 7573 7420 6265  .        Must be
+00010780: 2063 616c 6c65 6420 6265 666f 7265 2060   called before `
+00010790: 6070 6172 7365 5f73 7472 696e 6760 6020  `parse_string`` 
+000107a0: 7768 656e 2074 6865 2069 6e70 7574 2067  when the input g
+000107b0: 7261 6d6d 6172 2063 6f6e 7461 696e 7320  rammar contains 
+000107c0: 656c 656d 656e 7473 2074 6861 740a 2020  elements that.  
+000107d0: 2020 2020 2020 6d61 7463 6820 6060 3c54        match ``<T
+000107e0: 4142 3e60 6020 6368 6172 6163 7465 7273  AB>`` characters
+000107f0: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
+00010800: 2020 2020 2020 7365 6c66 2e6b 6565 7054        self.keepT
+00010810: 6162 7320 3d20 5472 7565 0a20 2020 2020  abs = True.     
+00010820: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+00010830: 2020 2020 6465 6620 6967 6e6f 7265 2873      def ignore(s
+00010840: 656c 662c 206f 7468 6572 3a20 2250 6172  elf, other: "Par
+00010850: 7365 7245 6c65 6d65 6e74 2229 202d 3e20  serElement") -> 
+00010860: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
+00010870: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00010880: 2020 2020 2044 6566 696e 6520 6578 7072       Define expr
+00010890: 6573 7369 6f6e 2074 6f20 6265 2069 676e  ession to be ign
+000108a0: 6f72 6564 2028 652e 672e 2c20 636f 6d6d  ored (e.g., comm
+000108b0: 656e 7473 2920 7768 696c 6520 646f 696e  ents) while doin
+000108c0: 6720 7061 7474 6572 6e0a 2020 2020 2020  g pattern.      
+000108d0: 2020 6d61 7463 6869 6e67 3b20 6d61 7920    matching; may 
+000108e0: 6265 2063 616c 6c65 6420 7265 7065 6174  be called repeat
+000108f0: 6564 6c79 2c20 746f 2064 6566 696e 6520  edly, to define 
+00010900: 6d75 6c74 6970 6c65 2063 6f6d 6d65 6e74  multiple comment
+00010910: 206f 7220 6f74 6865 720a 2020 2020 2020   or other.      
+00010920: 2020 6967 6e6f 7261 626c 6520 7061 7474    ignorable patt
+00010930: 6572 6e73 2e0a 0a20 2020 2020 2020 2045  erns...        E
+00010940: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
+00010950: 2020 2020 2020 7061 7474 203d 2057 6f72        patt = Wor
+00010960: 6428 616c 7068 6173 295b 312c 202e 2e2e  d(alphas)[1, ...
+00010970: 5d0a 2020 2020 2020 2020 2020 2020 7061  ].            pa
+00010980: 7474 2e70 6172 7365 5f73 7472 696e 6728  tt.parse_string(
+00010990: 2761 626c 616a 202f 2a20 636f 6d6d 656e  'ablaj /* commen
+000109a0: 7420 2a2f 206c 736b 6a64 2729 0a20 2020  t */ lskjd').   
+000109b0: 2020 2020 2020 2020 2023 202d 3e20 5b27           # -> ['
+000109c0: 6162 6c61 6a27 5d0a 0a20 2020 2020 2020  ablaj']..       
+000109d0: 2020 2020 2070 6174 742e 6967 6e6f 7265       patt.ignore
+000109e0: 2863 5f73 7479 6c65 5f63 6f6d 6d65 6e74  (c_style_comment
+000109f0: 290a 2020 2020 2020 2020 2020 2020 7061  ).            pa
+00010a00: 7474 2e70 6172 7365 5f73 7472 696e 6728  tt.parse_string(
+00010a10: 2761 626c 616a 202f 2a20 636f 6d6d 656e  'ablaj /* commen
+00010a20: 7420 2a2f 206c 736b 6a64 2729 0a20 2020  t */ lskjd').   
+00010a30: 2020 2020 2020 2020 2023 202d 3e20 5b27           # -> ['
+00010a40: 6162 6c61 6a27 2c20 276c 736b 6a64 275d  ablaj', 'lskjd']
+00010a50: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00010a60: 2020 2020 2069 6d70 6f72 7420 7479 7069       import typi
+00010a70: 6e67 0a0a 2020 2020 2020 2020 6966 2069  ng..        if i
+00010a80: 7369 6e73 7461 6e63 6528 6f74 6865 722c  sinstance(other,
+00010a90: 2073 7472 5f74 7970 6529 3a0a 2020 2020   str_type):.    
+00010aa0: 2020 2020 2020 2020 6f74 6865 7220 3d20          other = 
+00010ab0: 5375 7070 7265 7373 286f 7468 6572 290a  Suppress(other).
+00010ac0: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
+00010ad0: 7374 616e 6365 286f 7468 6572 2c20 5375  stance(other, Su
+00010ae0: 7070 7265 7373 293a 0a20 2020 2020 2020  ppress):.       
+00010af0: 2020 2020 2069 6620 6f74 6865 7220 6e6f       if other no
+00010b00: 7420 696e 2073 656c 662e 6967 6e6f 7265  t in self.ignore
+00010b10: 4578 7072 733a 0a20 2020 2020 2020 2020  Exprs:.         
+00010b20: 2020 2020 2020 2073 656c 662e 6967 6e6f         self.igno
+00010b30: 7265 4578 7072 732e 6170 7065 6e64 286f  reExprs.append(o
+00010b40: 7468 6572 290a 2020 2020 2020 2020 656c  ther).        el
+00010b50: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00010b60: 7365 6c66 2e69 676e 6f72 6545 7870 7273  self.ignoreExprs
+00010b70: 2e61 7070 656e 6428 5375 7070 7265 7373  .append(Suppress
+00010b80: 286f 7468 6572 2e63 6f70 7928 2929 290a  (other.copy())).
+00010b90: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00010ba0: 656c 660a 0a20 2020 2064 6566 2073 6574  elf..    def set
+00010bb0: 5f64 6562 7567 5f61 6374 696f 6e73 280a  _debug_actions(.
+00010bc0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+00010bd0: 2020 2020 2020 7374 6172 745f 6163 7469        start_acti
+00010be0: 6f6e 3a20 4465 6275 6753 7461 7274 4163  on: DebugStartAc
+00010bf0: 7469 6f6e 2c0a 2020 2020 2020 2020 7375  tion,.        su
+00010c00: 6363 6573 735f 6163 7469 6f6e 3a20 4465  ccess_action: De
+00010c10: 6275 6753 7563 6365 7373 4163 7469 6f6e  bugSuccessAction
+00010c20: 2c0a 2020 2020 2020 2020 6578 6365 7074  ,.        except
+00010c30: 696f 6e5f 6163 7469 6f6e 3a20 4465 6275  ion_action: Debu
+00010c40: 6745 7863 6570 7469 6f6e 4163 7469 6f6e  gExceptionAction
+00010c50: 2c0a 2020 2020 2920 2d3e 2022 5061 7273  ,.    ) -> "Pars
+00010c60: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
+00010c70: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00010c80: 4375 7374 6f6d 697a 6520 6469 7370 6c61  Customize displa
+00010c90: 7920 6f66 2064 6562 7567 6769 6e67 206d  y of debugging m
+00010ca0: 6573 7361 6765 7320 7768 696c 6520 646f  essages while do
+00010cb0: 696e 6720 7061 7474 6572 6e20 6d61 7463  ing pattern matc
+00010cc0: 6869 6e67 3a0a 0a20 2020 2020 2020 202d  hing:..        -
+00010cd0: 2060 6073 7461 7274 5f61 6374 696f 6e60   ``start_action`
+00010ce0: 6020 2d20 6d65 7468 6f64 2074 6f20 6265  ` - method to be
+00010cf0: 2063 616c 6c65 6420 7768 656e 2061 6e20   called when an 
+00010d00: 6578 7072 6573 7369 6f6e 2069 7320 6162  expression is ab
+00010d10: 6f75 7420 746f 2062 6520 7061 7273 6564  out to be parsed
+00010d20: 3b0a 2020 2020 2020 2020 2020 7368 6f75  ;.          shou
+00010d30: 6c64 2068 6176 6520 7468 6520 7369 676e  ld have the sign
+00010d40: 6174 7572 6520 6060 666e 2869 6e70 7574  ature ``fn(input
+00010d50: 5f73 7472 696e 673a 2073 7472 2c20 6c6f  _string: str, lo
+00010d60: 6361 7469 6f6e 3a20 696e 742c 2065 7870  cation: int, exp
+00010d70: 7265 7373 696f 6e3a 2050 6172 7365 7245  ression: ParserE
+00010d80: 6c65 6d65 6e74 2c20 6361 6368 655f 6869  lement, cache_hi
+00010d90: 743a 2062 6f6f 6c29 6060 0a0a 2020 2020  t: bool)``..    
+00010da0: 2020 2020 2d20 6060 7375 6363 6573 735f      - ``success_
+00010db0: 6163 7469 6f6e 6060 202d 206d 6574 686f  action`` - metho
+00010dc0: 6420 746f 2062 6520 6361 6c6c 6564 2077  d to be called w
+00010dd0: 6865 6e20 616e 2065 7870 7265 7373 696f  hen an expressio
+00010de0: 6e20 6861 7320 7375 6363 6573 7366 756c  n has successful
+00010df0: 6c79 2070 6172 7365 643b 0a20 2020 2020  ly parsed;.     
+00010e00: 2020 2020 2073 686f 756c 6420 6861 7665       should have
+00010e10: 2074 6865 2073 6967 6e61 7475 7265 2060   the signature `
+00010e20: 6066 6e28 696e 7075 745f 7374 7269 6e67  `fn(input_string
+00010e30: 3a20 7374 722c 2073 7461 7274 5f6c 6f63  : str, start_loc
+00010e40: 6174 696f 6e3a 2069 6e74 2c20 656e 645f  ation: int, end_
+00010e50: 6c6f 6361 7469 6f6e 3a20 696e 742c 2065  location: int, e
+00010e60: 7870 7265 7373 696f 6e3a 2050 6172 7365  xpression: Parse
+00010e70: 7245 4c65 6d65 6e74 2c20 7061 7273 6564  rELement, parsed
+00010e80: 5f74 6f6b 656e 733a 2050 6172 7365 5265  _tokens: ParseRe
+00010e90: 7375 6c74 732c 2063 6163 6865 5f68 6974  sults, cache_hit
+00010ea0: 3a20 626f 6f6c 2960 600a 0a20 2020 2020  : bool)``..     
+00010eb0: 2020 202d 2060 6065 7863 6570 7469 6f6e     - ``exception
+00010ec0: 5f61 6374 696f 6e60 6020 2d20 6d65 7468  _action`` - meth
+00010ed0: 6f64 2074 6f20 6265 2063 616c 6c65 6420  od to be called 
+00010ee0: 7768 656e 2065 7870 7265 7373 696f 6e20  when expression 
+00010ef0: 6661 696c 7320 746f 2070 6172 7365 3b0a  fails to parse;.
+00010f00: 2020 2020 2020 2020 2020 7368 6f75 6c64            should
+00010f10: 2068 6176 6520 7468 6520 7369 676e 6174   have the signat
+00010f20: 7572 6520 6060 666e 2869 6e70 7574 5f73  ure ``fn(input_s
+00010f30: 7472 696e 673a 2073 7472 2c20 6c6f 6361  tring: str, loca
+00010f40: 7469 6f6e 3a20 696e 742c 2065 7870 7265  tion: int, expre
+00010f50: 7373 696f 6e3a 2050 6172 7365 7245 6c65  ssion: ParserEle
+00010f60: 6d65 6e74 2c20 6578 6365 7074 696f 6e3a  ment, exception:
+00010f70: 2045 7863 6570 7469 6f6e 2c20 6361 6368   Exception, cach
+00010f80: 655f 6869 743a 2062 6f6f 6c29 6060 0a20  e_hit: bool)``. 
+00010f90: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00010fa0: 2020 2073 656c 662e 6465 6275 6741 6374     self.debugAct
+00010fb0: 696f 6e73 203d 2073 656c 662e 4465 6275  ions = self.Debu
+00010fc0: 6741 6374 696f 6e73 280a 2020 2020 2020  gActions(.      
+00010fd0: 2020 2020 2020 7374 6172 745f 6163 7469        start_acti
+00010fe0: 6f6e 206f 7220 5f64 6566 6175 6c74 5f73  on or _default_s
+00010ff0: 7461 7274 5f64 6562 7567 5f61 6374 696f  tart_debug_actio
+00011000: 6e2c 2020 2320 7479 7065 3a20 6967 6e6f  n,  # type: igno
+00011010: 7265 5b74 7275 7468 792d 6675 6e63 7469  re[truthy-functi
+00011020: 6f6e 5d0a 2020 2020 2020 2020 2020 2020  on].            
+00011030: 7375 6363 6573 735f 6163 7469 6f6e 206f  success_action o
+00011040: 7220 5f64 6566 6175 6c74 5f73 7563 6365  r _default_succe
+00011050: 7373 5f64 6562 7567 5f61 6374 696f 6e2c  ss_debug_action,
+00011060: 2020 2320 7479 7065 3a20 6967 6e6f 7265    # type: ignore
+00011070: 5b74 7275 7468 792d 6675 6e63 7469 6f6e  [truthy-function
+00011080: 5d0a 2020 2020 2020 2020 2020 2020 6578  ].            ex
+00011090: 6365 7074 696f 6e5f 6163 7469 6f6e 206f  ception_action o
+000110a0: 7220 5f64 6566 6175 6c74 5f65 7863 6570  r _default_excep
+000110b0: 7469 6f6e 5f64 6562 7567 5f61 6374 696f  tion_debug_actio
+000110c0: 6e2c 2020 2320 7479 7065 3a20 6967 6e6f  n,  # type: igno
+000110d0: 7265 5b74 7275 7468 792d 6675 6e63 7469  re[truthy-functi
+000110e0: 6f6e 5d0a 2020 2020 2020 2020 290a 2020  on].        ).  
+000110f0: 2020 2020 2020 7365 6c66 2e64 6562 7567        self.debug
+00011100: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+00011110: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
+00011120: 2064 6566 2073 6574 5f64 6562 7567 2873   def set_debug(s
+00011130: 656c 662c 2066 6c61 673a 2062 6f6f 6c20  elf, flag: bool 
+00011140: 3d20 5472 7565 2c20 7265 6375 7273 653a  = True, recurse:
+00011150: 2062 6f6f 6c20 3d20 4661 6c73 6529 202d   bool = False) -
+00011160: 3e20 2250 6172 7365 7245 6c65 6d65 6e74  > "ParserElement
+00011170: 223a 0a20 2020 2020 2020 2022 2222 0a20  ":.        """. 
+00011180: 2020 2020 2020 2045 6e61 626c 6520 6469         Enable di
+00011190: 7370 6c61 7920 6f66 2064 6562 7567 6769  splay of debuggi
+000111a0: 6e67 206d 6573 7361 6765 7320 7768 696c  ng messages whil
+000111b0: 6520 646f 696e 6720 7061 7474 6572 6e20  e doing pattern 
+000111c0: 6d61 7463 6869 6e67 2e0a 2020 2020 2020  matching..      
+000111d0: 2020 5365 7420 6060 666c 6167 6060 2074    Set ``flag`` t
+000111e0: 6f20 6060 5472 7565 6060 2074 6f20 656e  o ``True`` to en
+000111f0: 6162 6c65 2c20 6060 4661 6c73 6560 6020  able, ``False`` 
+00011200: 746f 2064 6973 6162 6c65 2e0a 2020 2020  to disable..    
+00011210: 2020 2020 5365 7420 6060 7265 6375 7273      Set ``recurs
+00011220: 6560 6020 746f 2060 6054 7275 6560 6020  e`` to ``True`` 
+00011230: 746f 2073 6574 2074 6865 2064 6562 7567  to set the debug
+00011240: 2066 6c61 6720 6f6e 2074 6869 7320 6578   flag on this ex
+00011250: 7072 6573 7369 6f6e 2061 6e64 2061 6c6c  pression and all
+00011260: 2073 7562 2d65 7870 7265 7373 696f 6e73   sub-expressions
+00011270: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
+00011280: 6c65 3a3a 0a0a 2020 2020 2020 2020 2020  le::..          
+00011290: 2020 7764 203d 2057 6f72 6428 616c 7068    wd = Word(alph
+000112a0: 6173 292e 7365 745f 6e61 6d65 2822 616c  as).set_name("al
+000112b0: 7068 6177 6f72 6422 290a 2020 2020 2020  phaword").      
+000112c0: 2020 2020 2020 696e 7465 6765 7220 3d20        integer = 
+000112d0: 576f 7264 286e 756d 7329 2e73 6574 5f6e  Word(nums).set_n
+000112e0: 616d 6528 226e 756d 776f 7264 2229 0a20  ame("numword"). 
+000112f0: 2020 2020 2020 2020 2020 2074 6572 6d20             term 
+00011300: 3d20 7764 207c 2069 6e74 6567 6572 0a0a  = wd | integer..
+00011310: 2020 2020 2020 2020 2020 2020 2320 7475              # tu
+00011320: 726e 206f 6e20 6465 6275 6767 696e 6720  rn on debugging 
+00011330: 666f 7220 7764 0a20 2020 2020 2020 2020  for wd.         
+00011340: 2020 2077 642e 7365 745f 6465 6275 6728     wd.set_debug(
+00011350: 290a 0a20 2020 2020 2020 2020 2020 2074  )..            t
+00011360: 6572 6d5b 312c 202e 2e2e 5d2e 7061 7273  erm[1, ...].pars
+00011370: 655f 7374 7269 6e67 2822 6162 6320 3132  e_string("abc 12
+00011380: 3320 7879 7a20 3839 3022 290a 0a20 2020  3 xyz 890")..   
+00011390: 2020 2020 2070 7269 6e74 733a 3a0a 0a20       prints::.. 
+000113a0: 2020 2020 2020 2020 2020 204d 6174 6368             Match
+000113b0: 2061 6c70 6861 776f 7264 2061 7420 6c6f   alphaword at lo
+000113c0: 6320 3028 312c 3129 0a20 2020 2020 2020  c 0(1,1).       
+000113d0: 2020 2020 204d 6174 6368 6564 2061 6c70       Matched alp
+000113e0: 6861 776f 7264 202d 3e20 5b27 6162 6327  haword -> ['abc'
+000113f0: 5d0a 2020 2020 2020 2020 2020 2020 4d61  ].            Ma
+00011400: 7463 6820 616c 7068 6177 6f72 6420 6174  tch alphaword at
+00011410: 206c 6f63 2033 2831 2c34 290a 2020 2020   loc 3(1,4).    
+00011420: 2020 2020 2020 2020 4578 6365 7074 696f          Exceptio
+00011430: 6e20 7261 6973 6564 3a45 7870 6563 7465  n raised:Expecte
+00011440: 6420 616c 7068 6177 6f72 6420 2861 7420  d alphaword (at 
+00011450: 6368 6172 2034 292c 2028 6c69 6e65 3a31  char 4), (line:1
+00011460: 2c20 636f 6c3a 3529 0a20 2020 2020 2020  , col:5).       
+00011470: 2020 2020 204d 6174 6368 2061 6c70 6861       Match alpha
+00011480: 776f 7264 2061 7420 6c6f 6320 3728 312c  word at loc 7(1,
+00011490: 3829 0a20 2020 2020 2020 2020 2020 204d  8).            M
+000114a0: 6174 6368 6564 2061 6c70 6861 776f 7264  atched alphaword
+000114b0: 202d 3e20 5b27 7879 7a27 5d0a 2020 2020   -> ['xyz'].    
+000114c0: 2020 2020 2020 2020 4d61 7463 6820 616c          Match al
+000114d0: 7068 6177 6f72 6420 6174 206c 6f63 2031  phaword at loc 1
+000114e0: 3128 312c 3132 290a 2020 2020 2020 2020  1(1,12).        
+000114f0: 2020 2020 4578 6365 7074 696f 6e20 7261      Exception ra
+00011500: 6973 6564 3a45 7870 6563 7465 6420 616c  ised:Expected al
+00011510: 7068 6177 6f72 6420 2861 7420 6368 6172  phaword (at char
+00011520: 2031 3229 2c20 286c 696e 653a 312c 2063   12), (line:1, c
+00011530: 6f6c 3a31 3329 0a20 2020 2020 2020 2020  ol:13).         
+00011540: 2020 204d 6174 6368 2061 6c70 6861 776f     Match alphawo
+00011550: 7264 2061 7420 6c6f 6320 3135 2831 2c31  rd at loc 15(1,1
+00011560: 3629 0a20 2020 2020 2020 2020 2020 2045  6).            E
+00011570: 7863 6570 7469 6f6e 2072 6169 7365 643a  xception raised:
+00011580: 4578 7065 6374 6564 2061 6c70 6861 776f  Expected alphawo
+00011590: 7264 2028 6174 2063 6861 7220 3135 292c  rd (at char 15),
+000115a0: 2028 6c69 6e65 3a31 2c20 636f 6c3a 3136   (line:1, col:16
+000115b0: 290a 0a20 2020 2020 2020 2054 6865 206f  )..        The o
+000115c0: 7574 7075 7420 7368 6f77 6e20 6973 2074  utput shown is t
+000115d0: 6861 7420 7072 6f64 7563 6564 2062 7920  hat produced by 
+000115e0: 7468 6520 6465 6661 756c 7420 6465 6275  the default debu
+000115f0: 6720 6163 7469 6f6e 7320 2d20 6375 7374  g actions - cust
+00011600: 6f6d 2064 6562 7567 2061 6374 696f 6e73  om debug actions
+00011610: 2063 616e 2062 650a 2020 2020 2020 2020   can be.        
+00011620: 7370 6563 6966 6965 6420 7573 696e 6720  specified using 
+00011630: 3a63 6c61 7373 3a60 7365 745f 6465 6275  :class:`set_debu
+00011640: 675f 6163 7469 6f6e 7360 2e20 5072 696f  g_actions`. Prio
+00011650: 7220 746f 2061 7474 656d 7074 696e 670a  r to attempting.
+00011660: 2020 2020 2020 2020 746f 206d 6174 6368          to match
+00011670: 2074 6865 2060 6077 6460 6020 6578 7072   the ``wd`` expr
+00011680: 6573 7369 6f6e 2c20 7468 6520 6465 6275  ession, the debu
+00011690: 6767 696e 6720 6d65 7373 6167 6520 6060  gging message ``
+000116a0: 224d 6174 6368 203c 6578 7072 6e61 6d65  "Match <exprname
+000116b0: 3e20 6174 206c 6f63 203c 6e3e 283c 6c69  > at loc <n>(<li
+000116c0: 6e65 3e2c 3c63 6f6c 3e29 2260 600a 2020  ne>,<col>)"``.  
+000116d0: 2020 2020 2020 6973 2073 686f 776e 2e20        is shown. 
+000116e0: 5468 656e 2069 6620 7468 6520 7061 7273  Then if the pars
+000116f0: 6520 7375 6363 6565 6473 2c20 6120 6060  e succeeds, a ``
+00011700: 224d 6174 6368 6564 2260 6020 6d65 7373  "Matched"`` mess
+00011710: 6167 6520 6973 2073 686f 776e 2c20 6f72  age is shown, or
+00011720: 2061 6e20 6060 2245 7863 6570 7469 6f6e   an ``"Exception
+00011730: 2072 6169 7365 6422 6060 0a20 2020 2020   raised"``.     
+00011740: 2020 206d 6573 7361 6765 2069 7320 7368     message is sh
+00011750: 6f77 6e2e 2041 6c73 6f20 6e6f 7465 2074  own. Also note t
+00011760: 6865 2075 7365 206f 6620 3a63 6c61 7373  he use of :class
+00011770: 3a60 7365 745f 6e61 6d65 6020 746f 2061  :`set_name` to a
+00011780: 7373 6967 6e20 6120 6875 6d61 6e2d 7265  ssign a human-re
+00011790: 6164 6162 6c65 206e 616d 6520 746f 2074  adable name to t
+000117a0: 6865 2065 7870 7265 7373 696f 6e2c 0a20  he expression,. 
+000117b0: 2020 2020 2020 2077 6869 6368 206d 616b         which mak
+000117c0: 6573 2064 6562 7567 6769 6e67 2061 6e64  es debugging and
+000117d0: 2065 7863 6570 7469 6f6e 206d 6573 7361   exception messa
+000117e0: 6765 7320 6561 7369 6572 2074 6f20 756e  ges easier to un
+000117f0: 6465 7273 7461 6e64 202d 2066 6f72 2069  derstand - for i
+00011800: 6e73 7461 6e63 652c 2074 6865 2064 6566  nstance, the def
+00011810: 6175 6c74 0a20 2020 2020 2020 206e 616d  ault.        nam
+00011820: 6520 6372 6561 7465 6420 666f 7220 7468  e created for th
+00011830: 6520 3a63 6c61 7373 3a60 576f 7264 6020  e :class:`Word` 
+00011840: 6578 7072 6573 7369 6f6e 2077 6974 686f  expression witho
+00011850: 7574 2063 616c 6c69 6e67 2060 6073 6574  ut calling ``set
+00011860: 5f6e 616d 6560 6020 6973 2060 6022 573a  _name`` is ``"W:
+00011870: 2841 2d5a 612d 7a29 2260 602e 0a20 2020  (A-Za-z)"``..   
+00011880: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00011890: 2069 6620 7265 6375 7273 653a 0a20 2020   if recurse:.   
+000118a0: 2020 2020 2020 2020 2066 6f72 2065 7870           for exp
+000118b0: 7220 696e 2073 656c 662e 7669 7369 745f  r in self.visit_
+000118c0: 616c 6c28 293a 0a20 2020 2020 2020 2020  all():.         
+000118d0: 2020 2020 2020 2065 7870 722e 7365 745f         expr.set_
+000118e0: 6465 6275 6728 666c 6167 2c20 7265 6375  debug(flag, recu
+000118f0: 7273 653d 4661 6c73 6529 0a20 2020 2020  rse=False).     
+00011900: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00011910: 6c66 0a0a 2020 2020 2020 2020 6966 2066  lf..        if f
+00011920: 6c61 673a 0a20 2020 2020 2020 2020 2020  lag:.           
+00011930: 2073 656c 662e 7365 745f 6465 6275 675f   self.set_debug_
+00011940: 6163 7469 6f6e 7328 0a20 2020 2020 2020  actions(.       
+00011950: 2020 2020 2020 2020 205f 6465 6661 756c           _defaul
+00011960: 745f 7374 6172 745f 6465 6275 675f 6163  t_start_debug_ac
+00011970: 7469 6f6e 2c0a 2020 2020 2020 2020 2020  tion,.          
+00011980: 2020 2020 2020 5f64 6566 6175 6c74 5f73        _default_s
+00011990: 7563 6365 7373 5f64 6562 7567 5f61 6374  uccess_debug_act
+000119a0: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
+000119b0: 2020 2020 205f 6465 6661 756c 745f 6578       _default_ex
+000119c0: 6365 7074 696f 6e5f 6465 6275 675f 6163  ception_debug_ac
+000119d0: 7469 6f6e 2c0a 2020 2020 2020 2020 2020  tion,.          
+000119e0: 2020 290a 2020 2020 2020 2020 656c 7365    ).        else
+000119f0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00011a00: 6c66 2e64 6562 7567 203d 2046 616c 7365  lf.debug = False
+00011a10: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00011a20: 7365 6c66 0a0a 2020 2020 4070 726f 7065  self..    @prope
+00011a30: 7274 790a 2020 2020 6465 6620 6465 6661  rty.    def defa
+00011a40: 756c 745f 6e61 6d65 2873 656c 6629 202d  ult_name(self) -
+00011a50: 3e20 7374 723a 0a20 2020 2020 2020 2069  > str:.        i
+00011a60: 6620 7365 6c66 2e5f 6465 6661 756c 744e  f self._defaultN
+00011a70: 616d 6520 6973 204e 6f6e 653a 0a20 2020  ame is None:.   
+00011a80: 2020 2020 2020 2020 2073 656c 662e 5f64           self._d
+00011a90: 6566 6175 6c74 4e61 6d65 203d 2073 656c  efaultName = sel
+00011aa0: 662e 5f67 656e 6572 6174 6544 6566 6175  f._generateDefau
+00011ab0: 6c74 4e61 6d65 2829 0a20 2020 2020 2020  ltName().       
+00011ac0: 2072 6574 7572 6e20 7365 6c66 2e5f 6465   return self._de
+00011ad0: 6661 756c 744e 616d 650a 0a20 2020 2040  faultName..    @
+00011ae0: 6162 7374 7261 6374 6d65 7468 6f64 0a20  abstractmethod. 
+00011af0: 2020 2064 6566 205f 6765 6e65 7261 7465     def _generate
+00011b00: 4465 6661 756c 744e 616d 6528 7365 6c66  DefaultName(self
+00011b10: 2920 2d3e 2073 7472 3a0a 2020 2020 2020  ) -> str:.      
+00011b20: 2020 2222 220a 2020 2020 2020 2020 4368    """.        Ch
+00011b30: 696c 6420 636c 6173 7365 7320 6d75 7374  ild classes must
+00011b40: 2064 6566 696e 6520 7468 6973 206d 6574   define this met
+00011b50: 686f 642c 2077 6869 6368 2064 6566 696e  hod, which defin
+00011b60: 6573 2068 6f77 2074 6865 2060 6064 6566  es how the ``def
+00011b70: 6175 6c74 5f6e 616d 6560 6020 6973 2073  ault_name`` is s
+00011b80: 6574 2e0a 2020 2020 2020 2020 2222 220a  et..        """.
+00011b90: 0a20 2020 2064 6566 2073 6574 5f6e 616d  .    def set_nam
+00011ba0: 6528 7365 6c66 2c20 6e61 6d65 3a20 7374  e(self, name: st
+00011bb0: 7229 202d 3e20 2250 6172 7365 7245 6c65  r) -> "ParserEle
+00011bc0: 6d65 6e74 223a 0a20 2020 2020 2020 2022  ment":.        "
+00011bd0: 2222 0a20 2020 2020 2020 2044 6566 696e  "".        Defin
+00011be0: 6520 6e61 6d65 2066 6f72 2074 6869 7320  e name for this 
+00011bf0: 6578 7072 6573 7369 6f6e 2c20 6d61 6b65  expression, make
+00011c00: 7320 6465 6275 6767 696e 6720 616e 6420  s debugging and 
+00011c10: 6578 6365 7074 696f 6e20 6d65 7373 6167  exception messag
+00011c20: 6573 2063 6c65 6172 6572 2e0a 0a20 2020  es clearer...   
+00011c30: 2020 2020 2045 7861 6d70 6c65 3a3a 0a0a       Example::..
+00011c40: 2020 2020 2020 2020 2020 2020 576f 7264              Word
+00011c50: 286e 756d 7329 2e70 6172 7365 5f73 7472  (nums).parse_str
+00011c60: 696e 6728 2241 4243 2229 2020 2320 2d3e  ing("ABC")  # ->
+00011c70: 2045 7863 6570 7469 6f6e 3a20 4578 7065   Exception: Expe
+00011c80: 6374 6564 2057 3a28 302d 3929 2028 6174  cted W:(0-9) (at
+00011c90: 2063 6861 7220 3029 2c20 286c 696e 653a   char 0), (line:
+00011ca0: 312c 2063 6f6c 3a31 290a 2020 2020 2020  1, col:1).      
+00011cb0: 2020 2020 2020 576f 7264 286e 756d 7329        Word(nums)
+00011cc0: 2e73 6574 5f6e 616d 6528 2269 6e74 6567  .set_name("integ
+00011cd0: 6572 2229 2e70 6172 7365 5f73 7472 696e  er").parse_strin
+00011ce0: 6728 2241 4243 2229 2020 2320 2d3e 2045  g("ABC")  # -> E
+00011cf0: 7863 6570 7469 6f6e 3a20 4578 7065 6374  xception: Expect
+00011d00: 6564 2069 6e74 6567 6572 2028 6174 2063  ed integer (at c
+00011d10: 6861 7220 3029 2c20 286c 696e 653a 312c  har 0), (line:1,
+00011d20: 2063 6f6c 3a31 290a 2020 2020 2020 2020   col:1).        
+00011d30: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
+00011d40: 2e63 7573 746f 6d4e 616d 6520 3d20 6e61  .customName = na
+00011d50: 6d65 0a20 2020 2020 2020 2073 656c 662e  me.        self.
+00011d60: 6572 726d 7367 203d 2022 4578 7065 6374  errmsg = "Expect
+00011d70: 6564 2022 202b 2073 656c 662e 6e61 6d65  ed " + self.name
+00011d80: 0a20 2020 2020 2020 2069 6620 5f5f 6469  .        if __di
+00011d90: 6167 5f5f 2e65 6e61 626c 655f 6465 6275  ag__.enable_debu
+00011da0: 675f 6f6e 5f6e 616d 6564 5f65 7870 7265  g_on_named_expre
+00011db0: 7373 696f 6e73 3a0a 2020 2020 2020 2020  ssions:.        
+00011dc0: 2020 2020 7365 6c66 2e73 6574 5f64 6562      self.set_deb
+00011dd0: 7567 2829 0a20 2020 2020 2020 2072 6574  ug().        ret
+00011de0: 7572 6e20 7365 6c66 0a0a 2020 2020 4070  urn self..    @p
+00011df0: 726f 7065 7274 790a 2020 2020 6465 6620  roperty.    def 
+00011e00: 6e61 6d65 2873 656c 6629 202d 3e20 7374  name(self) -> st
+00011e10: 723a 0a20 2020 2020 2020 2023 2054 6869  r:.        # Thi
+00011e20: 7320 7769 6c6c 2075 7365 2061 2075 7365  s will use a use
+00011e30: 722d 6465 6669 6e65 6420 6e61 6d65 2069  r-defined name i
+00011e40: 6620 6176 6169 6c61 626c 652c 2062 7574  f available, but
+00011e50: 206f 7468 6572 7769 7365 2064 6566 6175   otherwise defau
+00011e60: 6c74 7320 6261 636b 2074 6f20 7468 6520  lts back to the 
+00011e70: 6175 746f 2d67 656e 6572 6174 6564 206e  auto-generated n
+00011e80: 616d 650a 2020 2020 2020 2020 7265 7475  ame.        retu
+00011e90: 726e 2073 656c 662e 6375 7374 6f6d 4e61  rn self.customNa
+00011ea0: 6d65 2069 6620 7365 6c66 2e63 7573 746f  me if self.custo
+00011eb0: 6d4e 616d 6520 6973 206e 6f74 204e 6f6e  mName is not Non
+00011ec0: 6520 656c 7365 2073 656c 662e 6465 6661  e else self.defa
+00011ed0: 756c 745f 6e61 6d65 0a0a 2020 2020 6465  ult_name..    de
+00011ee0: 6620 5f5f 7374 725f 5f28 7365 6c66 2920  f __str__(self) 
+00011ef0: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
+00011f00: 7265 7475 726e 2073 656c 662e 6e61 6d65  return self.name
+00011f10: 0a0a 2020 2020 6465 6620 5f5f 7265 7072  ..    def __repr
+00011f20: 5f5f 2873 656c 6629 202d 3e20 7374 723a  __(self) -> str:
+00011f30: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00011f40: 7374 7228 7365 6c66 290a 0a20 2020 2064  str(self)..    d
+00011f50: 6566 2073 7472 6561 6d6c 696e 6528 7365  ef streamline(se
+00011f60: 6c66 2920 2d3e 2022 5061 7273 6572 456c  lf) -> "ParserEl
+00011f70: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
+00011f80: 7365 6c66 2e73 7472 6561 6d6c 696e 6564  self.streamlined
+00011f90: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+00011fa0: 7365 6c66 2e5f 6465 6661 756c 744e 616d  self._defaultNam
+00011fb0: 6520 3d20 4e6f 6e65 0a20 2020 2020 2020  e = None.       
+00011fc0: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+00011fd0: 2020 6465 6620 7265 6375 7273 6528 7365    def recurse(se
+00011fe0: 6c66 2920 2d3e 204c 6973 745b 2250 6172  lf) -> List["Par
+00011ff0: 7365 7245 6c65 6d65 6e74 225d 3a0a 2020  serElement"]:.  
+00012000: 2020 2020 2020 7265 7475 726e 205b 5d0a        return [].
+00012010: 0a20 2020 2064 6566 205f 6368 6563 6b52  .    def _checkR
+00012020: 6563 7572 7369 6f6e 2873 656c 662c 2070  ecursion(self, p
+00012030: 6172 7365 456c 656d 656e 744c 6973 7429  arseElementList)
+00012040: 3a0a 2020 2020 2020 2020 7375 6252 6563  :.        subRec
+00012050: 4368 6563 6b4c 6973 7420 3d20 7061 7273  CheckList = pars
+00012060: 6545 6c65 6d65 6e74 4c69 7374 5b3a 5d20  eElementList[:] 
+00012070: 2b20 5b73 656c 665d 0a20 2020 2020 2020  + [self].       
+00012080: 2066 6f72 2065 2069 6e20 7365 6c66 2e72   for e in self.r
+00012090: 6563 7572 7365 2829 3a0a 2020 2020 2020  ecurse():.      
+000120a0: 2020 2020 2020 652e 5f63 6865 636b 5265        e._checkRe
+000120b0: 6375 7273 696f 6e28 7375 6252 6563 4368  cursion(subRecCh
+000120c0: 6563 6b4c 6973 7429 0a0a 2020 2020 6465  eckList)..    de
+000120d0: 6620 7661 6c69 6461 7465 2873 656c 662c  f validate(self,
+000120e0: 2076 616c 6964 6174 6554 7261 6365 3d4e   validateTrace=N
+000120f0: 6f6e 6529 202d 3e20 4e6f 6e65 3a0a 2020  one) -> None:.  
+00012100: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00012110: 2020 4368 6563 6b20 6465 6669 6e65 6420    Check defined 
+00012120: 6578 7072 6573 7369 6f6e 7320 666f 7220  expressions for 
+00012130: 7661 6c69 6420 7374 7275 6374 7572 652c  valid structure,
+00012140: 2063 6865 636b 2066 6f72 2069 6e66 696e   check for infin
+00012150: 6974 6520 7265 6375 7273 6976 6520 6465  ite recursive de
+00012160: 6669 6e69 7469 6f6e 732e 0a20 2020 2020  finitions..     
+00012170: 2020 2022 2222 0a20 2020 2020 2020 2077     """.        w
+00012180: 6172 6e69 6e67 732e 7761 726e 280a 2020  arnings.warn(.  
+00012190: 2020 2020 2020 2020 2020 2250 6172 7365            "Parse
+000121a0: 7245 6c65 6d65 6e74 2e76 616c 6964 6174  rElement.validat
+000121b0: 6528 2920 6973 2064 6570 7265 6361 7465  e() is deprecate
+000121c0: 642c 2061 6e64 2073 686f 756c 6420 6e6f  d, and should no
+000121d0: 7420 6265 2075 7365 6420 746f 2063 6865  t be used to che
+000121e0: 636b 2066 6f72 206c 6566 7420 7265 6375  ck for left recu
+000121f0: 7273 696f 6e22 2c0a 2020 2020 2020 2020  rsion",.        
+00012200: 2020 2020 4465 7072 6563 6174 696f 6e57      DeprecationW
+00012210: 6172 6e69 6e67 2c0a 2020 2020 2020 2020  arning,.        
+00012220: 2020 2020 7374 6163 6b6c 6576 656c 3d32      stacklevel=2
+00012230: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+00012240: 2020 2020 7365 6c66 2e5f 6368 6563 6b52      self._checkR
+00012250: 6563 7572 7369 6f6e 285b 5d29 0a0a 2020  ecursion([])..  
+00012260: 2020 6465 6620 7061 7273 655f 6669 6c65    def parse_file
+00012270: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+00012280: 2020 2020 2020 2020 6669 6c65 5f6f 725f          file_or_
+00012290: 6669 6c65 6e61 6d65 3a20 556e 696f 6e5b  filename: Union[
+000122a0: 7374 722c 2050 6174 682c 2054 6578 7449  str, Path, TextI
+000122b0: 4f5d 2c0a 2020 2020 2020 2020 656e 636f  O],.        enco
+000122c0: 6469 6e67 3a20 7374 7220 3d20 2275 7466  ding: str = "utf
+000122d0: 2d38 222c 0a20 2020 2020 2020 2070 6172  -8",.        par
+000122e0: 7365 5f61 6c6c 3a20 626f 6f6c 203d 2046  se_all: bool = F
+000122f0: 616c 7365 2c0a 2020 2020 2020 2020 2a2c  alse,.        *,
+00012300: 0a20 2020 2020 2020 2070 6172 7365 416c  .        parseAl
+00012310: 6c3a 2062 6f6f 6c20 3d20 4661 6c73 652c  l: bool = False,
+00012320: 0a20 2020 2029 202d 3e20 5061 7273 6552  .    ) -> ParseR
+00012330: 6573 756c 7473 3a0a 2020 2020 2020 2020  esults:.        
+00012340: 2222 220a 2020 2020 2020 2020 4578 6563  """.        Exec
+00012350: 7574 6520 7468 6520 7061 7273 6520 6578  ute the parse ex
+00012360: 7072 6573 7369 6f6e 206f 6e20 7468 6520  pression on the 
+00012370: 6769 7665 6e20 6669 6c65 206f 7220 6669  given file or fi
+00012380: 6c65 6e61 6d65 2e0a 2020 2020 2020 2020  lename..        
+00012390: 4966 2061 2066 696c 656e 616d 6520 6973  If a filename is
+000123a0: 2073 7065 6369 6669 6564 2028 696e 7374   specified (inst
+000123b0: 6561 6420 6f66 2061 2066 696c 6520 6f62  ead of a file ob
+000123c0: 6a65 6374 292c 0a20 2020 2020 2020 2074  ject),.        t
+000123d0: 6865 2065 6e74 6972 6520 6669 6c65 2069  he entire file i
+000123e0: 7320 6f70 656e 6564 2c20 7265 6164 2c20  s opened, read, 
+000123f0: 616e 6420 636c 6f73 6564 2062 6566 6f72  and closed befor
+00012400: 6520 7061 7273 696e 672e 0a20 2020 2020  e parsing..     
+00012410: 2020 2022 2222 0a20 2020 2020 2020 2070     """.        p
+00012420: 6172 7365 416c 6c20 3d20 7061 7273 6541  arseAll = parseA
+00012430: 6c6c 206f 7220 7061 7273 655f 616c 6c0a  ll or parse_all.
+00012440: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00012450: 2020 2020 2020 2020 2066 696c 655f 6f72           file_or
+00012460: 5f66 696c 656e 616d 6520 3d20 7479 7069  _filename = typi
+00012470: 6e67 2e63 6173 7428 5465 7874 494f 2c20  ng.cast(TextIO, 
+00012480: 6669 6c65 5f6f 725f 6669 6c65 6e61 6d65  file_or_filename
+00012490: 290a 2020 2020 2020 2020 2020 2020 6669  ).            fi
+000124a0: 6c65 5f63 6f6e 7465 6e74 7320 3d20 6669  le_contents = fi
+000124b0: 6c65 5f6f 725f 6669 6c65 6e61 6d65 2e72  le_or_filename.r
+000124c0: 6561 6428 290a 2020 2020 2020 2020 6578  ead().        ex
+000124d0: 6365 7074 2041 7474 7269 6275 7465 4572  cept AttributeEr
+000124e0: 726f 723a 0a20 2020 2020 2020 2020 2020  ror:.           
+000124f0: 2066 696c 655f 6f72 5f66 696c 656e 616d   file_or_filenam
+00012500: 6520 3d20 7479 7069 6e67 2e63 6173 7428  e = typing.cast(
+00012510: 7374 722c 2066 696c 655f 6f72 5f66 696c  str, file_or_fil
+00012520: 656e 616d 6529 0a20 2020 2020 2020 2020  ename).         
+00012530: 2020 2077 6974 6820 6f70 656e 2866 696c     with open(fil
+00012540: 655f 6f72 5f66 696c 656e 616d 652c 2022  e_or_filename, "
+00012550: 7222 2c20 656e 636f 6469 6e67 3d65 6e63  r", encoding=enc
+00012560: 6f64 696e 6729 2061 7320 663a 0a20 2020  oding) as f:.   
+00012570: 2020 2020 2020 2020 2020 2020 2066 696c               fil
+00012580: 655f 636f 6e74 656e 7473 203d 2066 2e72  e_contents = f.r
+00012590: 6561 6428 290a 2020 2020 2020 2020 7472  ead().        tr
+000125a0: 793a 0a20 2020 2020 2020 2020 2020 2072  y:.            r
+000125b0: 6574 7572 6e20 7365 6c66 2e70 6172 7365  eturn self.parse
+000125c0: 5f73 7472 696e 6728 6669 6c65 5f63 6f6e  _string(file_con
+000125d0: 7465 6e74 732c 2070 6172 7365 416c 6c29  tents, parseAll)
+000125e0: 0a20 2020 2020 2020 2065 7863 6570 7420  .        except 
+000125f0: 5061 7273 6542 6173 6545 7863 6570 7469  ParseBaseExcepti
+00012600: 6f6e 2061 7320 6578 633a 0a20 2020 2020  on as exc:.     
+00012610: 2020 2020 2020 2069 6620 5061 7273 6572         if Parser
+00012620: 456c 656d 656e 742e 7665 7262 6f73 655f  Element.verbose_
+00012630: 7374 6163 6b74 7261 6365 3a0a 2020 2020  stacktrace:.    
+00012640: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00012650: 650a 2020 2020 2020 2020 2020 2020 656c  e.            el
+00012660: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00012670: 2020 2020 2320 6361 7463 6820 616e 6420      # catch and 
+00012680: 7265 2d72 6169 7365 2065 7863 6570 7469  re-raise excepti
+00012690: 6f6e 2066 726f 6d20 6865 7265 2c20 636c  on from here, cl
+000126a0: 6561 7273 206f 7574 2070 7970 6172 7369  ears out pyparsi
+000126b0: 6e67 2069 6e74 6572 6e61 6c20 7374 6163  ng internal stac
+000126c0: 6b20 7472 6163 650a 2020 2020 2020 2020  k trace.        
+000126d0: 2020 2020 2020 2020 7261 6973 6520 6578          raise ex
+000126e0: 632e 7769 7468 5f74 7261 6365 6261 636b  c.with_traceback
+000126f0: 284e 6f6e 6529 0a0a 2020 2020 6465 6620  (None)..    def 
+00012700: 5f5f 6571 5f5f 2873 656c 662c 206f 7468  __eq__(self, oth
+00012710: 6572 293a 0a20 2020 2020 2020 2069 6620  er):.        if 
+00012720: 7365 6c66 2069 7320 6f74 6865 723a 0a20  self is other:. 
+00012730: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00012740: 6e20 5472 7565 0a20 2020 2020 2020 2065  n True.        e
+00012750: 6c69 6620 6973 696e 7374 616e 6365 286f  lif isinstance(o
+00012760: 7468 6572 2c20 7374 725f 7479 7065 293a  ther, str_type):
+00012770: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00012780: 7572 6e20 7365 6c66 2e6d 6174 6368 6573  urn self.matches
+00012790: 286f 7468 6572 2c20 7061 7273 655f 616c  (other, parse_al
+000127a0: 6c3d 5472 7565 290a 2020 2020 2020 2020  l=True).        
+000127b0: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
+000127c0: 6f74 6865 722c 2050 6172 7365 7245 6c65  other, ParserEle
+000127d0: 6d65 6e74 293a 0a20 2020 2020 2020 2020  ment):.         
+000127e0: 2020 2072 6574 7572 6e20 7661 7273 2873     return vars(s
+000127f0: 656c 6629 203d 3d20 7661 7273 286f 7468  elf) == vars(oth
+00012800: 6572 290a 2020 2020 2020 2020 7265 7475  er).        retu
+00012810: 726e 2046 616c 7365 0a0a 2020 2020 6465  rn False..    de
+00012820: 6620 5f5f 6861 7368 5f5f 2873 656c 6629  f __hash__(self)
+00012830: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+00012840: 2069 6428 7365 6c66 290a 0a20 2020 2064   id(self)..    d
+00012850: 6566 206d 6174 6368 6573 280a 2020 2020  ef matches(.    
+00012860: 2020 2020 7365 6c66 2c20 7465 7374 5f73      self, test_s
+00012870: 7472 696e 673a 2073 7472 2c20 7061 7273  tring: str, pars
+00012880: 655f 616c 6c3a 2062 6f6f 6c20 3d20 5472  e_all: bool = Tr
+00012890: 7565 2c20 2a2c 2070 6172 7365 416c 6c3a  ue, *, parseAll:
+000128a0: 2062 6f6f 6c20 3d20 5472 7565 0a20 2020   bool = True.   
+000128b0: 2029 202d 3e20 626f 6f6c 3a0a 2020 2020   ) -> bool:.    
+000128c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000128d0: 4d65 7468 6f64 2066 6f72 2071 7569 636b  Method for quick
+000128e0: 2074 6573 7469 6e67 206f 6620 6120 7061   testing of a pa
+000128f0: 7273 6572 2061 6761 696e 7374 2061 2074  rser against a t
+00012900: 6573 7420 7374 7269 6e67 2e20 476f 6f64  est string. Good
+00012910: 2066 6f72 2073 696d 706c 650a 2020 2020   for simple.    
+00012920: 2020 2020 696e 6c69 6e65 206d 6963 726f      inline micro
+00012930: 7465 7374 7320 6f66 2073 7562 2065 7870  tests of sub exp
+00012940: 7265 7373 696f 6e73 2077 6869 6c65 2062  ressions while b
+00012950: 7569 6c64 696e 6720 7570 206c 6172 6765  uilding up large
+00012960: 7220 7061 7273 6572 2e0a 0a20 2020 2020  r parser...     
+00012970: 2020 2050 6172 616d 6574 6572 733a 0a0a     Parameters:..
+00012980: 2020 2020 2020 2020 2d20 6060 7465 7374          - ``test
+00012990: 5f73 7472 696e 6760 6020 2d20 746f 2074  _string`` - to t
+000129a0: 6573 7420 6167 6169 6e73 7420 7468 6973  est against this
+000129b0: 2065 7870 7265 7373 696f 6e20 666f 7220   expression for 
+000129c0: 6120 6d61 7463 680a 2020 2020 2020 2020  a match.        
+000129d0: 2d20 6060 7061 7273 655f 616c 6c60 6020  - ``parse_all`` 
+000129e0: 2d20 2864 6566 6175 6c74 3d20 6060 5472  - (default= ``Tr
+000129f0: 7565 6060 2920 2d20 666c 6167 2074 6f20  ue``) - flag to 
+00012a00: 7061 7373 2074 6f20 3a63 6c61 7373 3a60  pass to :class:`
+00012a10: 7061 7273 655f 7374 7269 6e67 6020 7768  parse_string` wh
+00012a20: 656e 2072 756e 6e69 6e67 2074 6573 7473  en running tests
+00012a30: 0a0a 2020 2020 2020 2020 4578 616d 706c  ..        Exampl
+00012a40: 653a 3a0a 0a20 2020 2020 2020 2020 2020  e::..           
+00012a50: 2065 7870 7220 3d20 576f 7264 286e 756d   expr = Word(num
+00012a60: 7329 0a20 2020 2020 2020 2020 2020 2061  s).            a
+00012a70: 7373 6572 7420 6578 7072 2e6d 6174 6368  ssert expr.match
+00012a80: 6573 2822 3130 3022 290a 2020 2020 2020  es("100").      
+00012a90: 2020 2222 220a 2020 2020 2020 2020 7061    """.        pa
+00012aa0: 7273 6541 6c6c 203d 2070 6172 7365 416c  rseAll = parseAl
+00012ab0: 6c20 616e 6420 7061 7273 655f 616c 6c0a  l and parse_all.
+00012ac0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00012ad0: 2020 2020 2020 2020 2073 656c 662e 7061           self.pa
+00012ae0: 7273 655f 7374 7269 6e67 2873 7472 2874  rse_string(str(t
+00012af0: 6573 745f 7374 7269 6e67 292c 2070 6172  est_string), par
+00012b00: 7365 5f61 6c6c 3d70 6172 7365 416c 6c29  se_all=parseAll)
+00012b10: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00012b20: 7572 6e20 5472 7565 0a20 2020 2020 2020  urn True.       
+00012b30: 2065 7863 6570 7420 5061 7273 6542 6173   except ParseBas
+00012b40: 6545 7863 6570 7469 6f6e 3a0a 2020 2020  eException:.    
+00012b50: 2020 2020 2020 2020 7265 7475 726e 2046          return F
+00012b60: 616c 7365 0a0a 2020 2020 6465 6620 7275  alse..    def ru
+00012b70: 6e5f 7465 7374 7328 0a20 2020 2020 2020  n_tests(.       
+00012b80: 2073 656c 662c 0a20 2020 2020 2020 2074   self,.        t
+00012b90: 6573 7473 3a20 556e 696f 6e5b 7374 722c  ests: Union[str,
+00012ba0: 204c 6973 745b 7374 725d 5d2c 0a20 2020   List[str]],.   
+00012bb0: 2020 2020 2070 6172 7365 5f61 6c6c 3a20       parse_all: 
+00012bc0: 626f 6f6c 203d 2054 7275 652c 0a20 2020  bool = True,.   
+00012bd0: 2020 2020 2063 6f6d 6d65 6e74 3a20 7479       comment: ty
+00012be0: 7069 6e67 2e4f 7074 696f 6e61 6c5b 556e  ping.Optional[Un
+00012bf0: 696f 6e5b 2250 6172 7365 7245 6c65 6d65  ion["ParserEleme
+00012c00: 6e74 222c 2073 7472 5d5d 203d 2022 2322  nt", str]] = "#"
+00012c10: 2c0a 2020 2020 2020 2020 6675 6c6c 5f64  ,.        full_d
+00012c20: 756d 703a 2062 6f6f 6c20 3d20 5472 7565  ump: bool = True
+00012c30: 2c0a 2020 2020 2020 2020 7072 696e 745f  ,.        print_
+00012c40: 7265 7375 6c74 733a 2062 6f6f 6c20 3d20  results: bool = 
+00012c50: 5472 7565 2c0a 2020 2020 2020 2020 6661  True,.        fa
+00012c60: 696c 7572 655f 7465 7374 733a 2062 6f6f  ilure_tests: boo
+00012c70: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
+00012c80: 2020 2070 6f73 745f 7061 7273 653a 2074     post_parse: t
+00012c90: 7970 696e 672e 4f70 7469 6f6e 616c 5b43  yping.Optional[C
+00012ca0: 616c 6c61 626c 655b 5b73 7472 2c20 5061  allable[[str, Pa
+00012cb0: 7273 6552 6573 756c 7473 5d2c 2073 7472  rseResults], str
+00012cc0: 5d5d 203d 204e 6f6e 652c 0a20 2020 2020  ]] = None,.     
+00012cd0: 2020 2066 696c 653a 2074 7970 696e 672e     file: typing.
+00012ce0: 4f70 7469 6f6e 616c 5b54 6578 7449 4f5d  Optional[TextIO]
+00012cf0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00012d00: 2077 6974 685f 6c69 6e65 5f6e 756d 6265   with_line_numbe
+00012d10: 7273 3a20 626f 6f6c 203d 2046 616c 7365  rs: bool = False
+00012d20: 2c0a 2020 2020 2020 2020 2a2c 0a20 2020  ,.        *,.   
+00012d30: 2020 2020 2070 6172 7365 416c 6c3a 2062       parseAll: b
+00012d40: 6f6f 6c20 3d20 5472 7565 2c0a 2020 2020  ool = True,.    
+00012d50: 2020 2020 6675 6c6c 4475 6d70 3a20 626f      fullDump: bo
+00012d60: 6f6c 203d 2054 7275 652c 0a20 2020 2020  ol = True,.     
+00012d70: 2020 2070 7269 6e74 5265 7375 6c74 733a     printResults:
+00012d80: 2062 6f6f 6c20 3d20 5472 7565 2c0a 2020   bool = True,.  
+00012d90: 2020 2020 2020 6661 696c 7572 6554 6573        failureTes
+00012da0: 7473 3a20 626f 6f6c 203d 2046 616c 7365  ts: bool = False
+00012db0: 2c0a 2020 2020 2020 2020 706f 7374 5061  ,.        postPa
+00012dc0: 7273 653a 2074 7970 696e 672e 4f70 7469  rse: typing.Opti
+00012dd0: 6f6e 616c 5b43 616c 6c61 626c 655b 5b73  onal[Callable[[s
+00012de0: 7472 2c20 5061 7273 6552 6573 756c 7473  tr, ParseResults
+00012df0: 5d2c 2073 7472 5d5d 203d 204e 6f6e 652c  ], str]] = None,
+00012e00: 0a20 2020 2029 202d 3e20 5475 706c 655b  .    ) -> Tuple[
+00012e10: 626f 6f6c 2c20 4c69 7374 5b54 7570 6c65  bool, List[Tuple
+00012e20: 5b73 7472 2c20 556e 696f 6e5b 5061 7273  [str, Union[Pars
+00012e30: 6552 6573 756c 7473 2c20 4578 6365 7074  eResults, Except
+00012e40: 696f 6e5d 5d5d 5d3a 0a20 2020 2020 2020  ion]]]]:.       
+00012e50: 2022 2222 0a20 2020 2020 2020 2045 7865   """.        Exe
+00012e60: 6375 7465 2074 6865 2070 6172 7365 2065  cute the parse e
+00012e70: 7870 7265 7373 696f 6e20 6f6e 2061 2073  xpression on a s
+00012e80: 6572 6965 7320 6f66 2074 6573 7420 7374  eries of test st
+00012e90: 7269 6e67 732c 2073 686f 7769 6e67 2065  rings, showing e
+00012ea0: 6163 680a 2020 2020 2020 2020 7465 7374  ach.        test
+00012eb0: 2c20 7468 6520 7061 7273 6564 2072 6573  , the parsed res
+00012ec0: 756c 7473 206f 7220 7768 6572 6520 7468  ults or where th
+00012ed0: 6520 7061 7273 6520 6661 696c 6564 2e20  e parse failed. 
+00012ee0: 5175 6963 6b20 616e 6420 6561 7379 2077  Quick and easy w
+00012ef0: 6179 2074 6f0a 2020 2020 2020 2020 7275  ay to.        ru
+00012f00: 6e20 6120 7061 7273 6520 6578 7072 6573  n a parse expres
+00012f10: 7369 6f6e 2061 6761 696e 7374 2061 206c  sion against a l
+00012f20: 6973 7420 6f66 2073 616d 706c 6520 7374  ist of sample st
+00012f30: 7269 6e67 732e 0a0a 2020 2020 2020 2020  rings...        
+00012f40: 5061 7261 6d65 7465 7273 3a0a 0a20 2020  Parameters:..   
+00012f50: 2020 2020 202d 2060 6074 6573 7473 6060       - ``tests``
+00012f60: 202d 2061 206c 6973 7420 6f66 2073 6570   - a list of sep
+00012f70: 6172 6174 6520 7465 7374 2073 7472 696e  arate test strin
+00012f80: 6773 2c20 6f72 2061 206d 756c 7469 6c69  gs, or a multili
+00012f90: 6e65 2073 7472 696e 6720 6f66 2074 6573  ne string of tes
+00012fa0: 7420 7374 7269 6e67 730a 2020 2020 2020  t strings.      
+00012fb0: 2020 2d20 6060 7061 7273 655f 616c 6c60    - ``parse_all`
+00012fc0: 6020 2d20 2864 6566 6175 6c74 3d20 6060  ` - (default= ``
+00012fd0: 5472 7565 6060 2920 2d20 666c 6167 2074  True``) - flag t
+00012fe0: 6f20 7061 7373 2074 6f20 3a63 6c61 7373  o pass to :class
+00012ff0: 3a60 7061 7273 655f 7374 7269 6e67 6020  :`parse_string` 
+00013000: 7768 656e 2072 756e 6e69 6e67 2074 6573  when running tes
+00013010: 7473 0a20 2020 2020 2020 202d 2060 6063  ts.        - ``c
+00013020: 6f6d 6d65 6e74 6060 202d 2028 6465 6661  omment`` - (defa
+00013030: 756c 743d 2060 6027 2327 6060 2920 2d20  ult= ``'#'``) - 
+00013040: 6578 7072 6573 7369 6f6e 2066 6f72 2069  expression for i
+00013050: 6e64 6963 6174 696e 6720 656d 6265 6464  ndicating embedd
+00013060: 6564 2063 6f6d 6d65 6e74 7320 696e 2074  ed comments in t
+00013070: 6865 2074 6573 740a 2020 2020 2020 2020  he test.        
+00013080: 2020 7374 7269 6e67 3b20 7061 7373 204e    string; pass N
+00013090: 6f6e 6520 746f 2064 6973 6162 6c65 2063  one to disable c
+000130a0: 6f6d 6d65 6e74 2066 696c 7465 7269 6e67  omment filtering
+000130b0: 0a20 2020 2020 2020 202d 2060 6066 756c  .        - ``ful
+000130c0: 6c5f 6475 6d70 6060 202d 2028 6465 6661  l_dump`` - (defa
+000130d0: 756c 743d 2060 6054 7275 6560 6029 202d  ult= ``True``) -
+000130e0: 2064 756d 7020 7265 7375 6c74 7320 6173   dump results as
+000130f0: 206c 6973 7420 666f 6c6c 6f77 6564 2062   list followed b
+00013100: 7920 7265 7375 6c74 7320 6e61 6d65 7320  y results names 
+00013110: 696e 206e 6573 7465 6420 6f75 746c 696e  in nested outlin
+00013120: 653b 0a20 2020 2020 2020 2020 2069 6620  e;.          if 
+00013130: 4661 6c73 652c 206f 6e6c 7920 6475 6d70  False, only dump
+00013140: 206e 6573 7465 6420 6c69 7374 0a20 2020   nested list.   
+00013150: 2020 2020 202d 2060 6070 7269 6e74 5f72       - ``print_r
+00013160: 6573 756c 7473 6060 202d 2028 6465 6661  esults`` - (defa
+00013170: 756c 743d 2060 6054 7275 6560 6029 2070  ult= ``True``) p
+00013180: 7269 6e74 7320 7465 7374 206f 7574 7075  rints test outpu
+00013190: 7420 746f 2073 7464 6f75 740a 2020 2020  t to stdout.    
+000131a0: 2020 2020 2d20 6060 6661 696c 7572 655f      - ``failure_
+000131b0: 7465 7374 7360 6020 2d20 2864 6566 6175  tests`` - (defau
+000131c0: 6c74 3d20 6060 4661 6c73 6560 6029 2069  lt= ``False``) i
+000131d0: 6e64 6963 6174 6573 2069 6620 7468 6573  ndicates if thes
+000131e0: 6520 7465 7374 7320 6172 6520 6578 7065  e tests are expe
+000131f0: 6374 6564 2074 6f20 6661 696c 2070 6172  cted to fail par
+00013200: 7369 6e67 0a20 2020 2020 2020 202d 2060  sing.        - `
+00013210: 6070 6f73 745f 7061 7273 6560 6020 2d20  `post_parse`` - 
+00013220: 2864 6566 6175 6c74 3d20 6060 4e6f 6e65  (default= ``None
+00013230: 6060 2920 6f70 7469 6f6e 616c 2063 616c  ``) optional cal
+00013240: 6c62 6163 6b20 666f 7220 7375 6363 6573  lback for succes
+00013250: 7366 756c 2070 6172 7365 2072 6573 756c  sful parse resul
+00013260: 7473 3b20 6361 6c6c 6564 2061 730a 2020  ts; called as.  
+00013270: 2020 2020 2020 2020 6066 6e28 7465 7374          `fn(test
+00013280: 5f73 7472 696e 672c 2070 6172 7365 5f72  _string, parse_r
+00013290: 6573 756c 7473 2960 2061 6e64 2072 6574  esults)` and ret
+000132a0: 7572 6e73 2061 2073 7472 696e 6720 746f  urns a string to
+000132b0: 2062 6520 6164 6465 6420 746f 2074 6865   be added to the
+000132c0: 2074 6573 7420 6f75 7470 7574 0a20 2020   test output.   
+000132d0: 2020 2020 202d 2060 6066 696c 6560 6020       - ``file`` 
+000132e0: 2d20 2864 6566 6175 6c74 3d20 6060 4e6f  - (default= ``No
+000132f0: 6e65 6060 2920 6f70 7469 6f6e 616c 2066  ne``) optional f
+00013300: 696c 652d 6c69 6b65 206f 626a 6563 7420  ile-like object 
+00013310: 746f 2077 6869 6368 2074 6573 7420 6f75  to which test ou
+00013320: 7470 7574 2077 696c 6c20 6265 2077 7269  tput will be wri
+00013330: 7474 656e 3b0a 2020 2020 2020 2020 2020  tten;.          
+00013340: 6966 204e 6f6e 652c 2077 696c 6c20 6465  if None, will de
+00013350: 6661 756c 7420 746f 2060 6073 7973 2e73  fault to ``sys.s
+00013360: 7464 6f75 7460 600a 2020 2020 2020 2020  tdout``.        
+00013370: 2d20 6060 7769 7468 5f6c 696e 655f 6e75  - ``with_line_nu
+00013380: 6d62 6572 7360 6020 2d20 6465 6661 756c  mbers`` - defaul
+00013390: 743d 2060 6046 616c 7365 6060 2920 7368  t= ``False``) sh
+000133a0: 6f77 2074 6573 7420 7374 7269 6e67 7320  ow test strings 
+000133b0: 7769 7468 206c 696e 6520 616e 6420 636f  with line and co
+000133c0: 6c75 6d6e 206e 756d 6265 7273 0a0a 2020  lumn numbers..  
+000133d0: 2020 2020 2020 5265 7475 726e 733a 2061        Returns: a
+000133e0: 2028 7375 6363 6573 732c 2072 6573 756c   (success, resul
+000133f0: 7473 2920 7475 706c 652c 2077 6865 7265  ts) tuple, where
+00013400: 2073 7563 6365 7373 2069 6e64 6963 6174   success indicat
+00013410: 6573 2074 6861 7420 616c 6c20 7465 7374  es that all test
+00013420: 7320 7375 6363 6565 6465 640a 2020 2020  s succeeded.    
+00013430: 2020 2020 286f 7220 6661 696c 6564 2069      (or failed i
+00013440: 6620 6060 6661 696c 7572 655f 7465 7374  f ``failure_test
+00013450: 7360 6020 6973 2054 7275 6529 2c20 616e  s`` is True), an
+00013460: 6420 7468 6520 7265 7375 6c74 7320 636f  d the results co
+00013470: 6e74 6169 6e20 6120 6c69 7374 206f 6620  ntain a list of 
+00013480: 6c69 6e65 7320 6f66 2065 6163 680a 2020  lines of each.  
+00013490: 2020 2020 2020 7465 7374 2773 206f 7574        test's out
+000134a0: 7075 740a 0a20 2020 2020 2020 2045 7861  put..        Exa
+000134b0: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
+000134c0: 2020 2020 6e75 6d62 6572 5f65 7870 7220      number_expr 
+000134d0: 3d20 7079 7061 7273 696e 675f 636f 6d6d  = pyparsing_comm
+000134e0: 6f6e 2e6e 756d 6265 722e 636f 7079 2829  on.number.copy()
+000134f0: 0a0a 2020 2020 2020 2020 2020 2020 7265  ..            re
+00013500: 7375 6c74 203d 206e 756d 6265 725f 6578  sult = number_ex
+00013510: 7072 2e72 756e 5f74 6573 7473 2827 2727  pr.run_tests('''
+00013520: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013530: 2023 2075 6e73 6967 6e65 6420 696e 7465   # unsigned inte
+00013540: 6765 720a 2020 2020 2020 2020 2020 2020  ger.            
+00013550: 2020 2020 3130 300a 2020 2020 2020 2020      100.        
+00013560: 2020 2020 2020 2020 2320 6e65 6761 7469          # negati
+00013570: 7665 2069 6e74 6567 6572 0a20 2020 2020  ve integer.     
+00013580: 2020 2020 2020 2020 2020 202d 3130 300a             -100.
+00013590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000135a0: 2320 666c 6f61 7420 7769 7468 2073 6369  # float with sci
+000135b0: 656e 7469 6669 6320 6e6f 7461 7469 6f6e  entific notation
+000135c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000135d0: 2036 2e30 3265 3233 0a20 2020 2020 2020   6.02e23.       
+000135e0: 2020 2020 2020 2020 2023 2069 6e74 6567           # integ
+000135f0: 6572 2077 6974 6820 7363 6965 6e74 6966  er with scientif
+00013600: 6963 206e 6f74 6174 696f 6e0a 2020 2020  ic notation.    
+00013610: 2020 2020 2020 2020 2020 2020 3165 2d31              1e-1
+00013620: 320a 2020 2020 2020 2020 2020 2020 2020  2.              
+00013630: 2020 2727 2729 0a20 2020 2020 2020 2020    ''').         
+00013640: 2020 2070 7269 6e74 2822 5375 6363 6573     print("Succes
+00013650: 7322 2069 6620 7265 7375 6c74 5b30 5d20  s" if result[0] 
+00013660: 656c 7365 2022 4661 696c 6564 2122 290a  else "Failed!").
+00013670: 0a20 2020 2020 2020 2020 2020 2072 6573  .            res
+00013680: 756c 7420 3d20 6e75 6d62 6572 5f65 7870  ult = number_exp
+00013690: 722e 7275 6e5f 7465 7374 7328 2727 270a  r.run_tests('''.
+000136a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000136b0: 2320 7374 7261 7920 6368 6172 6163 7465  # stray characte
+000136c0: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
+000136d0: 2020 3130 305a 0a20 2020 2020 2020 2020    100Z.         
+000136e0: 2020 2020 2020 2023 206d 6973 7369 6e67         # missing
+000136f0: 206c 6561 6469 6e67 2064 6967 6974 2062   leading digit b
+00013700: 6566 6f72 6520 272e 270a 2020 2020 2020  efore '.'.      
+00013710: 2020 2020 2020 2020 2020 2d2e 3130 300a            -.100.
+00013720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013730: 2320 746f 6f20 6d61 6e79 2027 2e27 0a20  # too many '.'. 
+00013740: 2020 2020 2020 2020 2020 2020 2020 2033                 3
+00013750: 2e31 342e 3135 390a 2020 2020 2020 2020  .14.159.        
+00013760: 2020 2020 2020 2020 2727 272c 2066 6169          ''', fai
+00013770: 6c75 7265 5f74 6573 7473 3d54 7275 6529  lure_tests=True)
+00013780: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
+00013790: 6e74 2822 5375 6363 6573 7322 2069 6620  nt("Success" if 
+000137a0: 7265 7375 6c74 5b30 5d20 656c 7365 2022  result[0] else "
+000137b0: 4661 696c 6564 2122 290a 0a20 2020 2020  Failed!")..     
+000137c0: 2020 2070 7269 6e74 733a 3a0a 0a20 2020     prints::..   
+000137d0: 2020 2020 2020 2020 2023 2075 6e73 6967           # unsig
+000137e0: 6e65 6420 696e 7465 6765 720a 2020 2020  ned integer.    
+000137f0: 2020 2020 2020 2020 3130 300a 2020 2020          100.    
+00013800: 2020 2020 2020 2020 5b31 3030 5d0a 0a20          [100].. 
+00013810: 2020 2020 2020 2020 2020 2023 206e 6567             # neg
+00013820: 6174 6976 6520 696e 7465 6765 720a 2020  ative integer.  
+00013830: 2020 2020 2020 2020 2020 2d31 3030 0a20            -100. 
+00013840: 2020 2020 2020 2020 2020 205b 2d31 3030             [-100
+00013850: 5d0a 0a20 2020 2020 2020 2020 2020 2023  ]..            #
+00013860: 2066 6c6f 6174 2077 6974 6820 7363 6965   float with scie
+00013870: 6e74 6966 6963 206e 6f74 6174 696f 6e0a  ntific notation.
+00013880: 2020 2020 2020 2020 2020 2020 362e 3032              6.02
+00013890: 6532 330a 2020 2020 2020 2020 2020 2020  e23.            
+000138a0: 5b36 2e30 3265 2b32 335d 0a0a 2020 2020  [6.02e+23]..    
+000138b0: 2020 2020 2020 2020 2320 696e 7465 6765          # intege
+000138c0: 7220 7769 7468 2073 6369 656e 7469 6669  r with scientifi
+000138d0: 6320 6e6f 7461 7469 6f6e 0a20 2020 2020  c notation.     
+000138e0: 2020 2020 2020 2031 652d 3132 0a20 2020         1e-12.   
+000138f0: 2020 2020 2020 2020 205b 3165 2d31 325d           [1e-12]
+00013900: 0a0a 2020 2020 2020 2020 2020 2020 5375  ..            Su
+00013910: 6363 6573 730a 0a20 2020 2020 2020 2020  ccess..         
+00013920: 2020 2023 2073 7472 6179 2063 6861 7261     # stray chara
+00013930: 6374 6572 0a20 2020 2020 2020 2020 2020  cter.           
+00013940: 2031 3030 5a0a 2020 2020 2020 2020 2020   100Z.          
+00013950: 2020 2020 205e 0a20 2020 2020 2020 2020       ^.         
+00013960: 2020 2046 4149 4c3a 2045 7870 6563 7465     FAIL: Expecte
+00013970: 6420 656e 6420 6f66 2074 6578 7420 2861  d end of text (a
+00013980: 7420 6368 6172 2033 292c 2028 6c69 6e65  t char 3), (line
+00013990: 3a31 2c20 636f 6c3a 3429 0a0a 2020 2020  :1, col:4)..    
+000139a0: 2020 2020 2020 2020 2320 6d69 7373 696e          # missin
+000139b0: 6720 6c65 6164 696e 6720 6469 6769 7420  g leading digit 
+000139c0: 6265 666f 7265 2027 2e27 0a20 2020 2020  before '.'.     
+000139d0: 2020 2020 2020 202d 2e31 3030 0a20 2020         -.100.   
+000139e0: 2020 2020 2020 2020 205e 0a20 2020 2020           ^.     
+000139f0: 2020 2020 2020 2046 4149 4c3a 2045 7870         FAIL: Exp
+00013a00: 6563 7465 6420 7b72 6561 6c20 6e75 6d62  ected {real numb
+00013a10: 6572 2077 6974 6820 7363 6965 6e74 6966  er with scientif
+00013a20: 6963 206e 6f74 6174 696f 6e20 7c20 7265  ic notation | re
+00013a30: 616c 206e 756d 6265 7220 7c20 7369 676e  al number | sign
+00013a40: 6564 2069 6e74 6567 6572 7d20 2861 7420  ed integer} (at 
+00013a50: 6368 6172 2030 292c 2028 6c69 6e65 3a31  char 0), (line:1
+00013a60: 2c20 636f 6c3a 3129 0a0a 2020 2020 2020  , col:1)..      
+00013a70: 2020 2020 2020 2320 746f 6f20 6d61 6e79        # too many
+00013a80: 2027 2e27 0a20 2020 2020 2020 2020 2020   '.'.           
+00013a90: 2033 2e31 342e 3135 390a 2020 2020 2020   3.14.159.      
+00013aa0: 2020 2020 2020 2020 2020 5e0a 2020 2020            ^.    
+00013ab0: 2020 2020 2020 2020 4641 494c 3a20 4578          FAIL: Ex
+00013ac0: 7065 6374 6564 2065 6e64 206f 6620 7465  pected end of te
+00013ad0: 7874 2028 6174 2063 6861 7220 3429 2c20  xt (at char 4), 
+00013ae0: 286c 696e 653a 312c 2063 6f6c 3a35 290a  (line:1, col:5).
+00013af0: 0a20 2020 2020 2020 2020 2020 2053 7563  .            Suc
+00013b00: 6365 7373 0a0a 2020 2020 2020 2020 4561  cess..        Ea
+00013b10: 6368 2074 6573 7420 7374 7269 6e67 206d  ch test string m
+00013b20: 7573 7420 6265 206f 6e20 6120 7369 6e67  ust be on a sing
+00013b30: 6c65 206c 696e 652e 2049 6620 796f 7520  le line. If you 
+00013b40: 7761 6e74 2074 6f20 7465 7374 2061 2073  want to test a s
+00013b50: 7472 696e 6720 7468 6174 2073 7061 6e73  tring that spans
+00013b60: 206d 756c 7469 706c 650a 2020 2020 2020   multiple.      
+00013b70: 2020 6c69 6e65 732c 2063 7265 6174 6520    lines, create 
+00013b80: 6120 7465 7374 206c 696b 6520 7468 6973  a test like this
+00013b90: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
+00013ba0: 6578 7072 2e72 756e 5f74 6573 7473 2872  expr.run_tests(r
+00013bb0: 2274 6869 7320 6973 2061 2074 6573 745c  "this is a test\
+00013bc0: 5c6e 206f 6620 7374 7269 6e67 7320 7468  \n of strings th
+00013bd0: 6174 2073 7061 6e73 205c 5c6e 2033 206c  at spans \\n 3 l
+00013be0: 696e 6573 2229 0a0a 2020 2020 2020 2020  ines")..        
+00013bf0: 284e 6f74 6520 7468 6174 2074 6869 7320  (Note that this 
+00013c00: 6973 2061 2072 6177 2073 7472 696e 6720  is a raw string 
+00013c10: 6c69 7465 7261 6c2c 2079 6f75 206d 7573  literal, you mus
+00013c20: 7420 696e 636c 7564 6520 7468 6520 6c65  t include the le
+00013c30: 6164 696e 6720 6060 2772 2760 602e 290a  ading ``'r'``.).
+00013c40: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00013c50: 2020 2020 6672 6f6d 202e 7465 7374 696e      from .testin
+00013c60: 6720 696d 706f 7274 2070 7970 6172 7369  g import pyparsi
+00013c70: 6e67 5f74 6573 740a 0a20 2020 2020 2020  ng_test..       
+00013c80: 2070 6172 7365 416c 6c20 3d20 7061 7273   parseAll = pars
+00013c90: 6541 6c6c 2061 6e64 2070 6172 7365 5f61  eAll and parse_a
+00013ca0: 6c6c 0a20 2020 2020 2020 2066 756c 6c44  ll.        fullD
+00013cb0: 756d 7020 3d20 6675 6c6c 4475 6d70 2061  ump = fullDump a
+00013cc0: 6e64 2066 756c 6c5f 6475 6d70 0a20 2020  nd full_dump.   
+00013cd0: 2020 2020 2070 7269 6e74 5265 7375 6c74       printResult
+00013ce0: 7320 3d20 7072 696e 7452 6573 756c 7473  s = printResults
+00013cf0: 2061 6e64 2070 7269 6e74 5f72 6573 756c   and print_resul
+00013d00: 7473 0a20 2020 2020 2020 2066 6169 6c75  ts.        failu
+00013d10: 7265 5465 7374 7320 3d20 6661 696c 7572  reTests = failur
+00013d20: 6554 6573 7473 206f 7220 6661 696c 7572  eTests or failur
+00013d30: 655f 7465 7374 730a 2020 2020 2020 2020  e_tests.        
+00013d40: 706f 7374 5061 7273 6520 3d20 706f 7374  postParse = post
+00013d50: 5061 7273 6520 6f72 2070 6f73 745f 7061  Parse or post_pa
+00013d60: 7273 650a 2020 2020 2020 2020 6966 2069  rse.        if i
+00013d70: 7369 6e73 7461 6e63 6528 7465 7374 732c  sinstance(tests,
+00013d80: 2073 7472 5f74 7970 6529 3a0a 2020 2020   str_type):.    
+00013d90: 2020 2020 2020 2020 7465 7374 7320 3d20          tests = 
+00013da0: 7479 7069 6e67 2e63 6173 7428 7374 722c  typing.cast(str,
+00013db0: 2074 6573 7473 290a 2020 2020 2020 2020   tests).        
+00013dc0: 2020 2020 6c69 6e65 5f73 7472 6970 203d      line_strip =
+00013dd0: 2074 7970 6528 7465 7374 7329 2e73 7472   type(tests).str
+00013de0: 6970 0a20 2020 2020 2020 2020 2020 2074  ip.            t
+00013df0: 6573 7473 203d 205b 6c69 6e65 5f73 7472  ests = [line_str
+00013e00: 6970 2874 6573 745f 6c69 6e65 2920 666f  ip(test_line) fo
+00013e10: 7220 7465 7374 5f6c 696e 6520 696e 2074  r test_line in t
+00013e20: 6573 7473 2e72 7374 7269 7028 292e 7370  ests.rstrip().sp
+00013e30: 6c69 746c 696e 6573 2829 5d0a 2020 2020  litlines()].    
+00013e40: 2020 2020 636f 6d6d 656e 745f 7370 6563      comment_spec
+00013e50: 6966 6965 6420 3d20 636f 6d6d 656e 7420  ified = comment 
+00013e60: 6973 206e 6f74 204e 6f6e 650a 2020 2020  is not None.    
+00013e70: 2020 2020 6966 2063 6f6d 6d65 6e74 5f73      if comment_s
+00013e80: 7065 6369 6669 6564 3a0a 2020 2020 2020  pecified:.      
+00013e90: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+00013ea0: 6e63 6528 636f 6d6d 656e 742c 2073 7472  nce(comment, str
+00013eb0: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
+00013ec0: 2020 2020 2020 2020 636f 6d6d 656e 7420          comment 
+00013ed0: 3d20 7479 7069 6e67 2e63 6173 7428 7374  = typing.cast(st
+00013ee0: 722c 2063 6f6d 6d65 6e74 290a 2020 2020  r, comment).    
+00013ef0: 2020 2020 2020 2020 2020 2020 636f 6d6d              comm
+00013f00: 656e 7420 3d20 4c69 7465 7261 6c28 636f  ent = Literal(co
+00013f10: 6d6d 656e 7429 0a20 2020 2020 2020 2063  mment).        c
+00013f20: 6f6d 6d65 6e74 203d 2074 7970 696e 672e  omment = typing.
+00013f30: 6361 7374 2850 6172 7365 7245 6c65 6d65  cast(ParserEleme
+00013f40: 6e74 2c20 636f 6d6d 656e 7429 0a20 2020  nt, comment).   
+00013f50: 2020 2020 2069 6620 6669 6c65 2069 7320       if file is 
+00013f60: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00013f70: 2020 6669 6c65 203d 2073 7973 2e73 7464    file = sys.std
+00013f80: 6f75 740a 2020 2020 2020 2020 7072 696e  out.        prin
+00013f90: 745f 203d 2066 696c 652e 7772 6974 650a  t_ = file.write.
+00013fa0: 0a20 2020 2020 2020 2072 6573 756c 743a  .        result:
+00013fb0: 2055 6e69 6f6e 5b50 6172 7365 5265 7375   Union[ParseResu
+00013fc0: 6c74 732c 2045 7863 6570 7469 6f6e 5d0a  lts, Exception].
+00013fd0: 2020 2020 2020 2020 616c 6c52 6573 756c          allResul
+00013fe0: 7473 3a20 4c69 7374 5b54 7570 6c65 5b73  ts: List[Tuple[s
+00013ff0: 7472 2c20 556e 696f 6e5b 5061 7273 6552  tr, Union[ParseR
+00014000: 6573 756c 7473 2c20 4578 6365 7074 696f  esults, Exceptio
+00014010: 6e5d 5d5d 203d 205b 5d0a 2020 2020 2020  n]]] = [].      
+00014020: 2020 636f 6d6d 656e 7473 3a20 4c69 7374    comments: List
+00014030: 5b73 7472 5d20 3d20 5b5d 0a20 2020 2020  [str] = [].     
+00014040: 2020 2073 7563 6365 7373 203d 2054 7275     success = Tru
+00014050: 650a 2020 2020 2020 2020 4e4c 203d 204c  e.        NL = L
+00014060: 6974 6572 616c 2872 225c 6e22 292e 6164  iteral(r"\n").ad
+00014070: 645f 7061 7273 655f 6163 7469 6f6e 2872  d_parse_action(r
+00014080: 6570 6c61 6365 5f77 6974 6828 225c 6e22  eplace_with("\n"
+00014090: 2929 2e69 676e 6f72 6528 7175 6f74 6564  )).ignore(quoted
+000140a0: 5f73 7472 696e 6729 0a20 2020 2020 2020  _string).       
+000140b0: 2042 4f4d 203d 2022 5c75 6665 6666 220a   BOM = "\ufeff".
+000140c0: 2020 2020 2020 2020 666f 7220 7420 696e          for t in
+000140d0: 2074 6573 7473 3a0a 2020 2020 2020 2020   tests:.        
+000140e0: 2020 2020 6966 2063 6f6d 6d65 6e74 5f73      if comment_s
+000140f0: 7065 6369 6669 6564 2061 6e64 2063 6f6d  pecified and com
+00014100: 6d65 6e74 2e6d 6174 6368 6573 2874 2c20  ment.matches(t, 
+00014110: 4661 6c73 6529 206f 7220 636f 6d6d 656e  False) or commen
+00014120: 7473 2061 6e64 206e 6f74 2074 3a0a 2020  ts and not t:.  
+00014130: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00014140: 6d6d 656e 7473 2e61 7070 656e 6428 0a20  mments.append(. 
+00014150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014160: 2020 2070 7970 6172 7369 6e67 5f74 6573     pyparsing_tes
+00014170: 742e 7769 7468 5f6c 696e 655f 6e75 6d62  t.with_line_numb
+00014180: 6572 7328 7429 2069 6620 7769 7468 5f6c  ers(t) if with_l
+00014190: 696e 655f 6e75 6d62 6572 7320 656c 7365  ine_numbers else
+000141a0: 2074 0a20 2020 2020 2020 2020 2020 2020   t.             
+000141b0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+000141c0: 2020 2020 2063 6f6e 7469 6e75 650a 2020       continue.  
+000141d0: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
+000141e0: 2074 3a0a 2020 2020 2020 2020 2020 2020   t:.            
+000141f0: 2020 2020 636f 6e74 696e 7565 0a20 2020      continue.   
+00014200: 2020 2020 2020 2020 206f 7574 203d 205b           out = [
+00014210: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014220: 2022 5c6e 2220 2b20 225c 6e22 2e6a 6f69   "\n" + "\n".joi
+00014230: 6e28 636f 6d6d 656e 7473 2920 6966 2063  n(comments) if c
+00014240: 6f6d 6d65 6e74 7320 656c 7365 2022 222c  omments else "",
+00014250: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014260: 2070 7970 6172 7369 6e67 5f74 6573 742e   pyparsing_test.
+00014270: 7769 7468 5f6c 696e 655f 6e75 6d62 6572  with_line_number
+00014280: 7328 7429 2069 6620 7769 7468 5f6c 696e  s(t) if with_lin
+00014290: 655f 6e75 6d62 6572 7320 656c 7365 2074  e_numbers else t
+000142a0: 2c0a 2020 2020 2020 2020 2020 2020 5d0a  ,.            ].
+000142b0: 2020 2020 2020 2020 2020 2020 636f 6d6d              comm
+000142c0: 656e 7473 203d 205b 5d0a 2020 2020 2020  ents = [].      
+000142d0: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+000142e0: 2020 2020 2020 2020 2020 2023 2063 6f6e             # con
+000142f0: 7665 7274 206e 6577 6c69 6e65 206d 6172  vert newline mar
+00014300: 6b73 2074 6f20 6163 7475 616c 206e 6577  ks to actual new
+00014310: 6c69 6e65 732c 2061 6e64 2073 7472 6970  lines, and strip
+00014320: 206c 6561 6469 6e67 2042 4f4d 2069 6620   leading BOM if 
+00014330: 7072 6573 656e 740a 2020 2020 2020 2020  present.        
+00014340: 2020 2020 2020 2020 7420 3d20 4e4c 2e74          t = NL.t
+00014350: 7261 6e73 666f 726d 5f73 7472 696e 6728  ransform_string(
+00014360: 742e 6c73 7472 6970 2842 4f4d 2929 0a20  t.lstrip(BOM)). 
+00014370: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00014380: 6573 756c 7420 3d20 7365 6c66 2e70 6172  esult = self.par
+00014390: 7365 5f73 7472 696e 6728 742c 2070 6172  se_string(t, par
+000143a0: 7365 5f61 6c6c 3d70 6172 7365 416c 6c29  se_all=parseAll)
+000143b0: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+000143c0: 6570 7420 5061 7273 6542 6173 6545 7863  ept ParseBaseExc
+000143d0: 6570 7469 6f6e 2061 7320 7065 3a0a 2020  eption as pe:.  
+000143e0: 2020 2020 2020 2020 2020 2020 2020 6661                fa
+000143f0: 7461 6c20 3d20 2228 4641 5441 4c29 2220  tal = "(FATAL)" 
+00014400: 6966 2069 7369 6e73 7461 6e63 6528 7065  if isinstance(pe
+00014410: 2c20 5061 7273 6546 6174 616c 4578 6365  , ParseFatalExce
+00014420: 7074 696f 6e29 2065 6c73 6520 2222 0a20  ption) else "". 
+00014430: 2020 2020 2020 2020 2020 2020 2020 206f                 o
+00014440: 7574 2e61 7070 656e 6428 7065 2e65 7870  ut.append(pe.exp
+00014450: 6c61 696e 2829 290a 2020 2020 2020 2020  lain()).        
+00014460: 2020 2020 2020 2020 6f75 742e 6170 7065          out.appe
+00014470: 6e64 2822 4641 494c 3a20 2220 2b20 7374  nd("FAIL: " + st
+00014480: 7228 7065 2929 0a20 2020 2020 2020 2020  r(pe)).         
+00014490: 2020 2020 2020 2069 6620 5061 7273 6572         if Parser
+000144a0: 456c 656d 656e 742e 7665 7262 6f73 655f  Element.verbose_
+000144b0: 7374 6163 6b74 7261 6365 3a0a 2020 2020  stacktrace:.    
+000144c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000144d0: 6f75 742e 6578 7465 6e64 2874 7261 6365  out.extend(trace
+000144e0: 6261 636b 2e66 6f72 6d61 745f 7462 2870  back.format_tb(p
+000144f0: 652e 5f5f 7472 6163 6562 6163 6b5f 5f29  e.__traceback__)
+00014500: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00014510: 2020 7375 6363 6573 7320 3d20 7375 6363    success = succ
+00014520: 6573 7320 616e 6420 6661 696c 7572 6554  ess and failureT
+00014530: 6573 7473 0a20 2020 2020 2020 2020 2020  ests.           
+00014540: 2020 2020 2072 6573 756c 7420 3d20 7065       result = pe
+00014550: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+00014560: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
+00014570: 2065 7863 3a0a 2020 2020 2020 2020 2020   exc:.          
+00014580: 2020 2020 2020 6f75 742e 6170 7065 6e64        out.append
+00014590: 2866 2246 4149 4c2d 4558 4345 5054 494f  (f"FAIL-EXCEPTIO
+000145a0: 4e3a 207b 7479 7065 2865 7863 292e 5f5f  N: {type(exc).__
+000145b0: 6e61 6d65 5f5f 7d3a 207b 6578 637d 2229  name__}: {exc}")
+000145c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000145d0: 2069 6620 5061 7273 6572 456c 656d 656e   if ParserElemen
+000145e0: 742e 7665 7262 6f73 655f 7374 6163 6b74  t.verbose_stackt
+000145f0: 7261 6365 3a0a 2020 2020 2020 2020 2020  race:.          
+00014600: 2020 2020 2020 2020 2020 6f75 742e 6578            out.ex
+00014610: 7465 6e64 2874 7261 6365 6261 636b 2e66  tend(traceback.f
+00014620: 6f72 6d61 745f 7462 2865 7863 2e5f 5f74  ormat_tb(exc.__t
+00014630: 7261 6365 6261 636b 5f5f 2929 0a20 2020  raceback__)).   
+00014640: 2020 2020 2020 2020 2020 2020 2073 7563               suc
+00014650: 6365 7373 203d 2073 7563 6365 7373 2061  cess = success a
+00014660: 6e64 2066 6169 6c75 7265 5465 7374 730a  nd failureTests.
+00014670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014680: 7265 7375 6c74 203d 2065 7863 0a20 2020  result = exc.   
+00014690: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+000146a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000146b0: 7563 6365 7373 203d 2073 7563 6365 7373  uccess = success
+000146c0: 2061 6e64 206e 6f74 2066 6169 6c75 7265   and not failure
+000146d0: 5465 7374 730a 2020 2020 2020 2020 2020  Tests.          
+000146e0: 2020 2020 2020 6966 2070 6f73 7450 6172        if postPar
+000146f0: 7365 2069 7320 6e6f 7420 4e6f 6e65 3a0a  se is not None:.
+00014700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014710: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+00014720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014730: 2070 705f 7661 6c75 6520 3d20 706f 7374   pp_value = post
+00014740: 5061 7273 6528 742c 2072 6573 756c 7429  Parse(t, result)
 00014750: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014770: 206f 7574 2e61 7070 656e 6428 7070 5f76   out.append(pp_v
-00014780: 616c 7565 2e64 756d 7028 2929 0a20 2020  alue.dump()).   
-00014790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000147a0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-000147b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000147c0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-000147d0: 7574 2e61 7070 656e 6428 7374 7228 7070  ut.append(str(pp
-000147e0: 5f76 616c 7565 2929 0a20 2020 2020 2020  _value)).       
-000147f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014800: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00014810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014820: 2020 206f 7574 2e61 7070 656e 6428 7265     out.append(re
-00014830: 7375 6c74 2e64 756d 7028 2929 0a20 2020  sult.dump()).   
-00014840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014850: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-00014860: 6e20 6173 2065 3a0a 2020 2020 2020 2020  n as e:.        
-00014870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014880: 6f75 742e 6170 7065 6e64 2872 6573 756c  out.append(resul
-00014890: 742e 6475 6d70 2866 756c 6c3d 6675 6c6c  t.dump(full=full
-000148a0: 4475 6d70 2929 0a20 2020 2020 2020 2020  Dump)).         
-000148b0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-000148c0: 7574 2e61 7070 656e 6428 0a20 2020 2020  ut.append(.     
-000148d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000148e0: 2020 2020 2020 2066 227b 706f 7374 5061         f"{postPa
-000148f0: 7273 652e 5f5f 6e61 6d65 5f5f 7d20 6661  rse.__name__} fa
-00014900: 696c 6564 3a20 7b74 7970 6528 6529 2e5f  iled: {type(e)._
-00014910: 5f6e 616d 655f 5f7d 3a20 7b65 7d22 0a20  _name__}: {e}". 
+00014760: 2020 2020 2020 2020 2069 6620 7070 5f76           if pp_v
+00014770: 616c 7565 2069 7320 6e6f 7420 4e6f 6e65  alue is not None
+00014780: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00014790: 2020 2020 2020 2020 2020 2020 2020 6966                if
+000147a0: 2069 7369 6e73 7461 6e63 6528 7070 5f76   isinstance(pp_v
+000147b0: 616c 7565 2c20 5061 7273 6552 6573 756c  alue, ParseResul
+000147c0: 7473 293a 0a20 2020 2020 2020 2020 2020  ts):.           
+000147d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000147e0: 2020 2020 206f 7574 2e61 7070 656e 6428       out.append(
+000147f0: 7070 5f76 616c 7565 2e64 756d 7028 2929  pp_value.dump())
+00014800: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014810: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00014820: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00014830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014840: 2020 206f 7574 2e61 7070 656e 6428 7374     out.append(st
+00014850: 7228 7070 5f76 616c 7565 2929 0a20 2020  r(pp_value)).   
+00014860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014870: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00014880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014890: 2020 2020 2020 206f 7574 2e61 7070 656e         out.appen
+000148a0: 6428 7265 7375 6c74 2e64 756d 7028 2929  d(result.dump())
+000148b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000148c0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+000148d0: 7074 696f 6e20 6173 2065 3a0a 2020 2020  ption as e:.    
+000148e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000148f0: 2020 2020 6f75 742e 6170 7065 6e64 2872      out.append(r
+00014900: 6573 756c 742e 6475 6d70 2866 756c 6c3d  esult.dump(full=
+00014910: 6675 6c6c 4475 6d70 2929 0a20 2020 2020  fullDump)).     
 00014920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014930: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00014940: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00014950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014960: 2020 206f 7574 2e61 7070 656e 6428 7265     out.append(re
-00014970: 7375 6c74 2e64 756d 7028 6675 6c6c 3d66  sult.dump(full=f
-00014980: 756c 6c44 756d 7029 290a 2020 2020 2020  ullDump)).      
-00014990: 2020 2020 2020 6f75 742e 6170 7065 6e64        out.append
-000149a0: 2822 2229 0a0a 2020 2020 2020 2020 2020  ("")..          
-000149b0: 2020 6966 2070 7269 6e74 5265 7375 6c74    if printResult
-000149c0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-000149d0: 2020 2070 7269 6e74 5f28 225c 6e22 2e6a     print_("\n".j
-000149e0: 6f69 6e28 6f75 7429 290a 0a20 2020 2020  oin(out))..     
-000149f0: 2020 2020 2020 2061 6c6c 5265 7375 6c74         allResult
-00014a00: 732e 6170 7065 6e64 2828 742c 2072 6573  s.append((t, res
-00014a10: 756c 7429 290a 0a20 2020 2020 2020 2072  ult))..        r
-00014a20: 6574 7572 6e20 7375 6363 6573 732c 2061  eturn success, a
-00014a30: 6c6c 5265 7375 6c74 730a 0a20 2020 2064  llResults..    d
-00014a40: 6566 2063 7265 6174 655f 6469 6167 7261  ef create_diagra
-00014a50: 6d28 0a20 2020 2020 2020 2073 656c 662c  m(.        self,
-00014a60: 0a20 2020 2020 2020 206f 7574 7075 745f  .        output_
-00014a70: 6874 6d6c 3a20 556e 696f 6e5b 5465 7874  html: Union[Text
-00014a80: 494f 2c20 5061 7468 2c20 7374 725d 2c0a  IO, Path, str],.
-00014a90: 2020 2020 2020 2020 7665 7274 6963 616c          vertical
-00014aa0: 3a20 696e 7420 3d20 332c 0a20 2020 2020  : int = 3,.     
-00014ab0: 2020 2073 686f 775f 7265 7375 6c74 735f     show_results_
-00014ac0: 6e61 6d65 733a 2062 6f6f 6c20 3d20 4661  names: bool = Fa
-00014ad0: 6c73 652c 0a20 2020 2020 2020 2073 686f  lse,.        sho
-00014ae0: 775f 6772 6f75 7073 3a20 626f 6f6c 203d  w_groups: bool =
-00014af0: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
-00014b00: 656d 6265 643a 2062 6f6f 6c20 3d20 4661  embed: bool = Fa
-00014b10: 6c73 652c 0a20 2020 2020 2020 202a 2a6b  lse,.        **k
-00014b20: 7761 7267 732c 0a20 2020 2029 202d 3e20  wargs,.    ) -> 
-00014b30: 4e6f 6e65 3a0a 2020 2020 2020 2020 2222  None:.        ""
-00014b40: 220a 2020 2020 2020 2020 4372 6561 7465  ".        Create
-00014b50: 2061 2072 6169 6c72 6f61 6420 6469 6167   a railroad diag
-00014b60: 7261 6d20 666f 7220 7468 6520 7061 7273  ram for the pars
-00014b70: 6572 2e0a 0a20 2020 2020 2020 2050 6172  er...        Par
-00014b80: 616d 6574 6572 733a 0a0a 2020 2020 2020  ameters:..      
-00014b90: 2020 2d20 6060 6f75 7470 7574 5f68 746d    - ``output_htm
-00014ba0: 6c60 6020 2873 7472 206f 7220 6669 6c65  l`` (str or file
-00014bb0: 2d6c 696b 6520 6f62 6a65 6374 2920 2d20  -like object) - 
-00014bc0: 6f75 7470 7574 2074 6172 6765 7420 666f  output target fo
-00014bd0: 7220 6765 6e65 7261 7465 640a 2020 2020  r generated.    
-00014be0: 2020 2020 2020 6469 6167 7261 6d20 4854        diagram HT
-00014bf0: 4d4c 0a20 2020 2020 2020 202d 2060 6076  ML.        - ``v
-00014c00: 6572 7469 6361 6c60 6020 2869 6e74 2920  ertical`` (int) 
-00014c10: 2d20 7468 7265 7368 6f6c 6420 666f 7220  - threshold for 
-00014c20: 666f 726d 6174 7469 6e67 206d 756c 7469  formatting multi
-00014c30: 706c 6520 616c 7465 726e 6174 6976 6573  ple alternatives
-00014c40: 2076 6572 7469 6361 6c6c 790a 2020 2020   vertically.    
-00014c50: 2020 2020 2020 696e 7374 6561 6420 6f66        instead of
-00014c60: 2068 6f72 697a 6f6e 7461 6c6c 7920 2864   horizontally (d
-00014c70: 6566 6175 6c74 3d33 290a 2020 2020 2020  efault=3).      
-00014c80: 2020 2d20 6060 7368 6f77 5f72 6573 756c    - ``show_resul
-00014c90: 7473 5f6e 616d 6573 6060 202d 2062 6f6f  ts_names`` - boo
-00014ca0: 6c20 666c 6167 2077 6865 7468 6572 2064  l flag whether d
-00014cb0: 6961 6772 616d 2073 686f 756c 6420 7368  iagram should sh
-00014cc0: 6f77 2061 6e6e 6f74 6174 696f 6e73 2066  ow annotations f
-00014cd0: 6f72 0a20 2020 2020 2020 2020 2064 6566  or.          def
-00014ce0: 696e 6564 2072 6573 756c 7473 206e 616d  ined results nam
-00014cf0: 6573 0a20 2020 2020 2020 202d 2060 6073  es.        - ``s
-00014d00: 686f 775f 6772 6f75 7073 6060 202d 2062  how_groups`` - b
-00014d10: 6f6f 6c20 666c 6167 2077 6865 7468 6572  ool flag whether
-00014d20: 2067 726f 7570 7320 7368 6f75 6c64 2062   groups should b
-00014d30: 6520 6869 6768 6c69 6768 7465 6420 7769  e highlighted wi
-00014d40: 7468 2061 6e20 756e 6c61 6265 6c65 6420  th an unlabeled 
-00014d50: 7375 7272 6f75 6e64 696e 6720 626f 780a  surrounding box.
-00014d60: 2020 2020 2020 2020 2d20 6060 656d 6265          - ``embe
-00014d70: 6460 6020 2d20 626f 6f6c 2066 6c61 6720  d`` - bool flag 
-00014d80: 7768 6574 6865 7220 6765 6e65 7261 7465  whether generate
-00014d90: 6420 4854 4d4c 2073 686f 756c 6420 6f6d  d HTML should om
-00014da0: 6974 203c 4845 4144 3e2c 203c 424f 4459  it <HEAD>, <BODY
-00014db0: 3e2c 2061 6e64 203c 444f 4354 5950 453e  >, and <DOCTYPE>
-00014dc0: 2074 6167 7320 746f 2065 6d62 6564 0a20   tags to embed. 
-00014dd0: 2020 2020 2020 2020 2074 6865 2072 6573           the res
-00014de0: 756c 7469 6e67 2048 544d 4c20 696e 2061  ulting HTML in a
-00014df0: 6e20 656e 636c 6f73 696e 6720 4854 4d4c  n enclosing HTML
-00014e00: 2073 6f75 7263 650a 2020 2020 2020 2020   source.        
-00014e10: 2d20 6060 6865 6164 6060 202d 2073 7472  - ``head`` - str
-00014e20: 2063 6f6e 7461 696e 696e 6720 6164 6469   containing addi
-00014e30: 7469 6f6e 616c 2048 544d 4c20 746f 2069  tional HTML to i
-00014e40: 6e73 6572 7420 696e 746f 2074 6865 203c  nsert into the <
-00014e50: 4845 4144 3e20 7365 6374 696f 6e20 6f66  HEAD> section of
-00014e60: 2074 6865 2067 656e 6572 6174 6564 2063   the generated c
-00014e70: 6f64 653b 0a20 2020 2020 2020 2020 2063  ode;.          c
-00014e80: 616e 2062 6520 7573 6564 2074 6f20 696e  an be used to in
-00014e90: 7365 7274 2063 7573 746f 6d20 4353 5320  sert custom CSS 
-00014ea0: 7374 796c 696e 670a 2020 2020 2020 2020  styling.        
-00014eb0: 2d20 6060 626f 6479 6060 202d 2073 7472  - ``body`` - str
-00014ec0: 2063 6f6e 7461 696e 696e 6720 6164 6469   containing addi
-00014ed0: 7469 6f6e 616c 2048 544d 4c20 746f 2069  tional HTML to i
-00014ee0: 6e73 6572 7420 6174 2074 6865 2062 6567  nsert at the beg
-00014ef0: 696e 6e69 6e67 206f 6620 7468 6520 3c42  inning of the <B
-00014f00: 4f44 593e 2073 6563 7469 6f6e 206f 6620  ODY> section of 
-00014f10: 7468 650a 2020 2020 2020 2020 2020 6765  the.          ge
-00014f20: 6e65 7261 7465 6420 636f 6465 0a0a 2020  nerated code..  
-00014f30: 2020 2020 2020 4164 6469 7469 6f6e 616c        Additional
-00014f40: 2064 6961 6772 616d 2d66 6f72 6d61 7474   diagram-formatt
-00014f50: 696e 6720 6b65 7977 6f72 6420 6172 6775  ing keyword argu
-00014f60: 6d65 6e74 7320 6361 6e20 616c 736f 2062  ments can also b
-00014f70: 6520 696e 636c 7564 6564 3b0a 2020 2020  e included;.    
-00014f80: 2020 2020 7365 6520 7261 696c 726f 6164      see railroad
-00014f90: 2e44 6961 6772 616d 2063 6c61 7373 2e0a  .Diagram class..
-00014fa0: 2020 2020 2020 2020 2222 220a 0a20 2020          """..   
-00014fb0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00014fc0: 2020 2020 2020 6672 6f6d 202e 6469 6167        from .diag
-00014fd0: 7261 6d20 696d 706f 7274 2074 6f5f 7261  ram import to_ra
-00014fe0: 696c 726f 6164 2c20 7261 696c 726f 6164  ilroad, railroad
-00014ff0: 5f74 6f5f 6874 6d6c 0a20 2020 2020 2020  _to_html.       
-00015000: 2065 7863 6570 7420 496d 706f 7274 4572   except ImportEr
-00015010: 726f 7220 6173 2069 653a 0a20 2020 2020  ror as ie:.     
-00015020: 2020 2020 2020 2072 6169 7365 2045 7863         raise Exc
-00015030: 6570 7469 6f6e 280a 2020 2020 2020 2020  eption(.        
-00015040: 2020 2020 2020 2020 226d 7573 7420 6060          "must ``
-00015050: 7069 7020 696e 7374 616c 6c20 7079 7061  pip install pypa
-00015060: 7273 696e 675b 6469 6167 7261 6d73 5d60  rsing[diagrams]`
-00015070: 6020 746f 2067 656e 6572 6174 6520 7061  ` to generate pa
-00015080: 7273 6572 2072 6169 6c72 6f61 6420 6469  rser railroad di
-00015090: 6167 7261 6d73 220a 2020 2020 2020 2020  agrams".        
-000150a0: 2020 2020 2920 6672 6f6d 2069 650a 0a20      ) from ie.. 
-000150b0: 2020 2020 2020 2073 656c 662e 7374 7265         self.stre
-000150c0: 616d 6c69 6e65 2829 0a0a 2020 2020 2020  amline()..      
-000150d0: 2020 7261 696c 726f 6164 203d 2074 6f5f    railroad = to_
-000150e0: 7261 696c 726f 6164 280a 2020 2020 2020  railroad(.      
-000150f0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00015100: 2020 2020 2020 2020 7665 7274 6963 616c          vertical
-00015110: 3d76 6572 7469 6361 6c2c 0a20 2020 2020  =vertical,.     
-00015120: 2020 2020 2020 2073 686f 775f 7265 7375         show_resu
-00015130: 6c74 735f 6e61 6d65 733d 7368 6f77 5f72  lts_names=show_r
-00015140: 6573 756c 7473 5f6e 616d 6573 2c0a 2020  esults_names,.  
-00015150: 2020 2020 2020 2020 2020 7368 6f77 5f67            show_g
-00015160: 726f 7570 733d 7368 6f77 5f67 726f 7570  roups=show_group
-00015170: 732c 0a20 2020 2020 2020 2020 2020 2064  s,.            d
-00015180: 6961 6772 616d 5f6b 7761 7267 733d 6b77  iagram_kwargs=kw
-00015190: 6172 6773 2c0a 2020 2020 2020 2020 290a  args,.        ).
-000151a0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-000151b0: 7461 6e63 6528 6f75 7470 7574 5f68 746d  tance(output_htm
-000151c0: 6c2c 2028 7374 722c 2050 6174 6829 293a  l, (str, Path)):
-000151d0: 0a20 2020 2020 2020 2020 2020 2077 6974  .            wit
-000151e0: 6820 6f70 656e 286f 7574 7075 745f 6874  h open(output_ht
-000151f0: 6d6c 2c20 2277 222c 2065 6e63 6f64 696e  ml, "w", encodin
-00015200: 673d 2275 7466 2d38 2229 2061 7320 6469  g="utf-8") as di
-00015210: 6167 5f66 696c 653a 0a20 2020 2020 2020  ag_file:.       
-00015220: 2020 2020 2020 2020 2064 6961 675f 6669           diag_fi
-00015230: 6c65 2e77 7269 7465 2872 6169 6c72 6f61  le.write(railroa
-00015240: 645f 746f 5f68 746d 6c28 7261 696c 726f  d_to_html(railro
-00015250: 6164 2c20 656d 6265 643d 656d 6265 6429  ad, embed=embed)
-00015260: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-00015270: 2020 2020 2020 2020 2020 2020 2320 7765              # we
-00015280: 2077 6572 6520 7061 7373 6564 2061 2066   were passed a f
-00015290: 696c 652d 6c69 6b65 206f 626a 6563 742c  ile-like object,
-000152a0: 206a 7573 7420 7772 6974 6520 746f 2069   just write to i
-000152b0: 740a 2020 2020 2020 2020 2020 2020 6f75  t.            ou
-000152c0: 7470 7574 5f68 746d 6c2e 7772 6974 6528  tput_html.write(
-000152d0: 7261 696c 726f 6164 5f74 6f5f 6874 6d6c  railroad_to_html
-000152e0: 2872 6169 6c72 6f61 642c 2065 6d62 6564  (railroad, embed
-000152f0: 3d65 6d62 6564 2929 0a0a 2020 2020 2320  =embed))..    # 
-00015300: 436f 6d70 6174 6962 696c 6974 7920 7379  Compatibility sy
-00015310: 6e6f 6e79 6d73 0a20 2020 2023 2066 6d74  nonyms.    # fmt
-00015320: 3a20 6f66 660a 2020 2020 4073 7461 7469  : off.    @stati
-00015330: 636d 6574 686f 640a 2020 2020 4072 6570  cmethod.    @rep
-00015340: 6c61 6365 645f 6279 5f70 6570 3828 696e  laced_by_pep8(in
-00015350: 6c69 6e65 5f6c 6974 6572 616c 735f 7573  line_literals_us
-00015360: 696e 6729 0a20 2020 2064 6566 2069 6e6c  ing).    def inl
-00015370: 696e 654c 6974 6572 616c 7355 7369 6e67  ineLiteralsUsing
-00015380: 2829 3a20 2e2e 2e0a 0a20 2020 2040 7374  (): .....    @st
-00015390: 6174 6963 6d65 7468 6f64 0a20 2020 2040  aticmethod.    @
-000153a0: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
-000153b0: 2873 6574 5f64 6566 6175 6c74 5f77 6869  (set_default_whi
-000153c0: 7465 7370 6163 655f 6368 6172 7329 0a20  tespace_chars). 
-000153d0: 2020 2064 6566 2073 6574 4465 6661 756c     def setDefaul
-000153e0: 7457 6869 7465 7370 6163 6543 6861 7273  tWhitespaceChars
-000153f0: 2829 3a20 2e2e 2e0a 0a20 2020 2040 7265  (): .....    @re
-00015400: 706c 6163 6564 5f62 795f 7065 7038 2873  placed_by_pep8(s
-00015410: 6574 5f72 6573 756c 7473 5f6e 616d 6529  et_results_name)
-00015420: 0a20 2020 2064 6566 2073 6574 5265 7375  .    def setResu
-00015430: 6c74 734e 616d 6528 7365 6c66 293a 202e  ltsName(self): .
-00015440: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
-00015450: 645f 6279 5f70 6570 3828 7365 745f 6272  d_by_pep8(set_br
-00015460: 6561 6b29 0a20 2020 2064 6566 2073 6574  eak).    def set
-00015470: 4272 6561 6b28 7365 6c66 293a 202e 2e2e  Break(self): ...
-00015480: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
-00015490: 6279 5f70 6570 3828 7365 745f 7061 7273  by_pep8(set_pars
-000154a0: 655f 6163 7469 6f6e 290a 2020 2020 6465  e_action).    de
-000154b0: 6620 7365 7450 6172 7365 4163 7469 6f6e  f setParseAction
-000154c0: 2873 656c 6629 3a20 2e2e 2e0a 0a20 2020  (self): .....   
-000154d0: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
-000154e0: 7038 2861 6464 5f70 6172 7365 5f61 6374  p8(add_parse_act
-000154f0: 696f 6e29 0a20 2020 2064 6566 2061 6464  ion).    def add
-00015500: 5061 7273 6541 6374 696f 6e28 7365 6c66  ParseAction(self
-00015510: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
-00015520: 6c61 6365 645f 6279 5f70 6570 3828 6164  laced_by_pep8(ad
-00015530: 645f 636f 6e64 6974 696f 6e29 0a20 2020  d_condition).   
-00015540: 2064 6566 2061 6464 436f 6e64 6974 696f   def addConditio
-00015550: 6e28 7365 6c66 293a 202e 2e2e 0a0a 2020  n(self): .....  
-00015560: 2020 4072 6570 6c61 6365 645f 6279 5f70    @replaced_by_p
-00015570: 6570 3828 7365 745f 6661 696c 5f61 6374  ep8(set_fail_act
-00015580: 696f 6e29 0a20 2020 2064 6566 2073 6574  ion).    def set
-00015590: 4661 696c 4163 7469 6f6e 2873 656c 6629  FailAction(self)
-000155a0: 3a20 2e2e 2e0a 0a20 2020 2040 7265 706c  : .....    @repl
-000155b0: 6163 6564 5f62 795f 7065 7038 2874 7279  aced_by_pep8(try
-000155c0: 5f70 6172 7365 290a 2020 2020 6465 6620  _parse).    def 
-000155d0: 7472 7950 6172 7365 2873 656c 6629 3a20  tryParse(self): 
-000155e0: 2e2e 2e0a 0a20 2020 2040 7374 6174 6963  .....    @static
-000155f0: 6d65 7468 6f64 0a20 2020 2040 7265 706c  method.    @repl
-00015600: 6163 6564 5f62 795f 7065 7038 2865 6e61  aced_by_pep8(ena
-00015610: 626c 655f 6c65 6674 5f72 6563 7572 7369  ble_left_recursi
-00015620: 6f6e 290a 2020 2020 6465 6620 656e 6162  on).    def enab
-00015630: 6c65 4c65 6674 5265 6375 7273 696f 6e28  leLeftRecursion(
-00015640: 293a 202e 2e2e 0a0a 2020 2020 4073 7461  ): .....    @sta
-00015650: 7469 636d 6574 686f 640a 2020 2020 4072  ticmethod.    @r
-00015660: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
-00015670: 656e 6162 6c65 5f70 6163 6b72 6174 290a  enable_packrat).
-00015680: 2020 2020 6465 6620 656e 6162 6c65 5061      def enablePa
-00015690: 636b 7261 7428 293a 202e 2e2e 0a0a 2020  ckrat(): .....  
-000156a0: 2020 4072 6570 6c61 6365 645f 6279 5f70    @replaced_by_p
-000156b0: 6570 3828 7061 7273 655f 7374 7269 6e67  ep8(parse_string
-000156c0: 290a 2020 2020 6465 6620 7061 7273 6553  ).    def parseS
-000156d0: 7472 696e 6728 7365 6c66 293a 202e 2e2e  tring(self): ...
-000156e0: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
-000156f0: 6279 5f70 6570 3828 7363 616e 5f73 7472  by_pep8(scan_str
-00015700: 696e 6729 0a20 2020 2064 6566 2073 6361  ing).    def sca
-00015710: 6e53 7472 696e 6728 7365 6c66 293a 202e  nString(self): .
-00015720: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
-00015730: 645f 6279 5f70 6570 3828 7472 616e 7366  d_by_pep8(transf
-00015740: 6f72 6d5f 7374 7269 6e67 290a 2020 2020  orm_string).    
-00015750: 6465 6620 7472 616e 7366 6f72 6d53 7472  def transformStr
-00015760: 696e 6728 7365 6c66 293a 202e 2e2e 0a0a  ing(self): .....
-00015770: 2020 2020 4072 6570 6c61 6365 645f 6279      @replaced_by
-00015780: 5f70 6570 3828 7365 6172 6368 5f73 7472  _pep8(search_str
-00015790: 696e 6729 0a20 2020 2064 6566 2073 6561  ing).    def sea
-000157a0: 7263 6853 7472 696e 6728 7365 6c66 293a  rchString(self):
-000157b0: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
-000157c0: 6365 645f 6279 5f70 6570 3828 6967 6e6f  ced_by_pep8(igno
-000157d0: 7265 5f77 6869 7465 7370 6163 6529 0a20  re_whitespace). 
-000157e0: 2020 2064 6566 2069 676e 6f72 6557 6869     def ignoreWhi
-000157f0: 7465 7370 6163 6528 7365 6c66 293a 202e  tespace(self): .
-00015800: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
-00015810: 645f 6279 5f70 6570 3828 6c65 6176 655f  d_by_pep8(leave_
-00015820: 7768 6974 6573 7061 6365 290a 2020 2020  whitespace).    
-00015830: 6465 6620 6c65 6176 6557 6869 7465 7370  def leaveWhitesp
-00015840: 6163 6528 7365 6c66 293a 202e 2e2e 0a0a  ace(self): .....
-00015850: 2020 2020 4072 6570 6c61 6365 645f 6279      @replaced_by
-00015860: 5f70 6570 3828 7365 745f 7768 6974 6573  _pep8(set_whites
-00015870: 7061 6365 5f63 6861 7273 290a 2020 2020  pace_chars).    
-00015880: 6465 6620 7365 7457 6869 7465 7370 6163  def setWhitespac
-00015890: 6543 6861 7273 2873 656c 6629 3a20 2e2e  eChars(self): ..
-000158a0: 2e0a 0a20 2020 2040 7265 706c 6163 6564  ...    @replaced
-000158b0: 5f62 795f 7065 7038 2870 6172 7365 5f77  _by_pep8(parse_w
-000158c0: 6974 685f 7461 6273 290a 2020 2020 6465  ith_tabs).    de
-000158d0: 6620 7061 7273 6557 6974 6854 6162 7328  f parseWithTabs(
-000158e0: 7365 6c66 293a 202e 2e2e 0a0a 2020 2020  self): .....    
-000158f0: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
-00015900: 3828 7365 745f 6465 6275 675f 6163 7469  8(set_debug_acti
-00015910: 6f6e 7329 0a20 2020 2064 6566 2073 6574  ons).    def set
-00015920: 4465 6275 6741 6374 696f 6e73 2873 656c  DebugActions(sel
-00015930: 6629 3a20 2e2e 2e0a 0a20 2020 2040 7265  f): .....    @re
-00015940: 706c 6163 6564 5f62 795f 7065 7038 2873  placed_by_pep8(s
-00015950: 6574 5f64 6562 7567 290a 2020 2020 6465  et_debug).    de
-00015960: 6620 7365 7444 6562 7567 2873 656c 6629  f setDebug(self)
-00015970: 3a20 2e2e 2e0a 0a20 2020 2040 7265 706c  : .....    @repl
-00015980: 6163 6564 5f62 795f 7065 7038 2873 6574  aced_by_pep8(set
-00015990: 5f6e 616d 6529 0a20 2020 2064 6566 2073  _name).    def s
-000159a0: 6574 4e61 6d65 2873 656c 6629 3a20 2e2e  etName(self): ..
-000159b0: 2e0a 0a20 2020 2040 7265 706c 6163 6564  ...    @replaced
-000159c0: 5f62 795f 7065 7038 2870 6172 7365 5f66  _by_pep8(parse_f
-000159d0: 696c 6529 0a20 2020 2064 6566 2070 6172  ile).    def par
-000159e0: 7365 4669 6c65 2873 656c 6629 3a20 2e2e  seFile(self): ..
-000159f0: 2e0a 0a20 2020 2040 7265 706c 6163 6564  ...    @replaced
-00015a00: 5f62 795f 7065 7038 2872 756e 5f74 6573  _by_pep8(run_tes
-00015a10: 7473 290a 2020 2020 6465 6620 7275 6e54  ts).    def runT
-00015a20: 6573 7473 2873 656c 6629 3a20 2e2e 2e0a  ests(self): ....
-00015a30: 0a20 2020 2063 616e 5061 7273 654e 6578  .    canParseNex
-00015a40: 7420 3d20 6361 6e5f 7061 7273 655f 6e65  t = can_parse_ne
-00015a50: 7874 0a20 2020 2072 6573 6574 4361 6368  xt.    resetCach
-00015a60: 6520 3d20 7265 7365 745f 6361 6368 650a  e = reset_cache.
-00015a70: 2020 2020 6465 6661 756c 744e 616d 6520      defaultName 
-00015a80: 3d20 6465 6661 756c 745f 6e61 6d65 0a20  = default_name. 
-00015a90: 2020 2023 2066 6d74 3a20 6f6e 0a0a 0a63     # fmt: on...c
-00015aa0: 6c61 7373 205f 5065 6e64 696e 6753 6b69  lass _PendingSki
-00015ab0: 7028 5061 7273 6572 456c 656d 656e 7429  p(ParserElement)
-00015ac0: 3a0a 2020 2020 2320 696e 7465 726e 616c  :.    # internal
-00015ad0: 2070 6c61 6365 686f 6c64 6572 2063 6c61   placeholder cla
-00015ae0: 7373 2074 6f20 686f 6c64 2061 2070 6c61  ss to hold a pla
-00015af0: 6365 2077 6572 6520 272e 2e2e 2720 6973  ce were '...' is
-00015b00: 2061 6464 6564 2074 6f20 6120 7061 7273   added to a pars
-00015b10: 6572 2065 6c65 6d65 6e74 2c0a 2020 2020  er element,.    
-00015b20: 2320 6f6e 6365 2061 6e6f 7468 6572 2050  # once another P
-00015b30: 6172 7365 7245 6c65 6d65 6e74 2069 7320  arserElement is 
-00015b40: 6164 6465 642c 2074 6869 7320 706c 6163  added, this plac
-00015b50: 6568 6f6c 6465 7220 7769 6c6c 2062 6520  eholder will be 
-00015b60: 7265 706c 6163 6564 2077 6974 6820 6120  replaced with a 
-00015b70: 536b 6970 546f 0a20 2020 2064 6566 205f  SkipTo.    def _
-00015b80: 5f69 6e69 745f 5f28 7365 6c66 2c20 6578  _init__(self, ex
-00015b90: 7072 3a20 5061 7273 6572 456c 656d 656e  pr: ParserElemen
-00015ba0: 742c 206d 7573 745f 736b 6970 3a20 626f  t, must_skip: bo
-00015bb0: 6f6c 203d 2046 616c 7365 293a 0a20 2020  ol = False):.   
-00015bc0: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-00015bd0: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
-00015be0: 7365 6c66 2e61 6e63 686f 7220 3d20 6578  self.anchor = ex
-00015bf0: 7072 0a20 2020 2020 2020 2073 656c 662e  pr.        self.
-00015c00: 6d75 7374 5f73 6b69 7020 3d20 6d75 7374  must_skip = must
-00015c10: 5f73 6b69 700a 0a20 2020 2064 6566 205f  _skip..    def _
-00015c20: 6765 6e65 7261 7465 4465 6661 756c 744e  generateDefaultN
-00015c30: 616d 6528 7365 6c66 2920 2d3e 2073 7472  ame(self) -> str
-00015c40: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-00015c50: 2073 7472 2873 656c 662e 616e 6368 6f72   str(self.anchor
-00015c60: 202b 2045 6d70 7479 2829 292e 7265 706c   + Empty()).repl
-00015c70: 6163 6528 2245 6d70 7479 222c 2022 2e2e  ace("Empty", "..
-00015c80: 2e22 290a 0a20 2020 2064 6566 205f 5f61  .")..    def __a
-00015c90: 6464 5f5f 2873 656c 662c 206f 7468 6572  dd__(self, other
-00015ca0: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
-00015cb0: 656e 7422 3a0a 2020 2020 2020 2020 736b  ent":.        sk
-00015cc0: 6970 7065 7220 3d20 536b 6970 546f 286f  ipper = SkipTo(o
-00015cd0: 7468 6572 292e 7365 745f 6e61 6d65 2822  ther).set_name("
-00015ce0: 2e2e 2e22 2928 225f 736b 6970 7065 642a  ...")("_skipped*
-00015cf0: 2229 0a20 2020 2020 2020 2069 6620 7365  ").        if se
-00015d00: 6c66 2e6d 7573 745f 736b 6970 3a0a 0a20  lf.must_skip:.. 
-00015d10: 2020 2020 2020 2020 2020 2064 6566 206d             def m
-00015d20: 7573 745f 736b 6970 2874 293a 0a20 2020  ust_skip(t):.   
-00015d30: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00015d40: 6e6f 7420 742e 5f73 6b69 7070 6564 206f  not t._skipped o
-00015d50: 7220 742e 5f73 6b69 7070 6564 2e61 735f  r t._skipped.as_
-00015d60: 6c69 7374 2829 203d 3d20 5b22 225d 3a0a  list() == [""]:.
-00015d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015d80: 2020 2020 6465 6c20 745b 305d 0a20 2020      del t[0].   
-00015d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015da0: 2074 2e70 6f70 2822 5f73 6b69 7070 6564   t.pop("_skipped
-00015db0: 222c 204e 6f6e 6529 0a0a 2020 2020 2020  ", None)..      
-00015dc0: 2020 2020 2020 6465 6620 7368 6f77 5f73        def show_s
-00015dd0: 6b69 7028 7429 3a0a 2020 2020 2020 2020  kip(t):.        
-00015de0: 2020 2020 2020 2020 6966 2074 2e5f 736b          if t._sk
-00015df0: 6970 7065 642e 6173 5f6c 6973 7428 295b  ipped.as_list()[
-00015e00: 2d31 3a5d 203d 3d20 5b22 225d 3a0a 2020  -1:] == [""]:.  
-00015e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015e20: 2020 742e 706f 7028 225f 736b 6970 7065    t.pop("_skippe
-00015e30: 6422 290a 2020 2020 2020 2020 2020 2020  d").            
-00015e40: 2020 2020 2020 2020 745b 225f 736b 6970          t["_skip
-00015e50: 7065 6422 5d20 3d20 226d 6973 7369 6e67  ped"] = "missing
-00015e60: 203c 2220 2b20 7265 7072 2873 656c 662e   <" + repr(self.
-00015e70: 616e 6368 6f72 2920 2b20 223e 220a 0a20  anchor) + ">".. 
-00015e80: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00015e90: 6e20 280a 2020 2020 2020 2020 2020 2020  n (.            
-00015ea0: 2020 2020 7365 6c66 2e61 6e63 686f 7220      self.anchor 
-00015eb0: 2b20 736b 6970 7065 7228 292e 6164 645f  + skipper().add_
-00015ec0: 7061 7273 655f 6163 7469 6f6e 286d 7573  parse_action(mus
-00015ed0: 745f 736b 6970 290a 2020 2020 2020 2020  t_skip).        
-00015ee0: 2020 2020 2020 2020 7c20 736b 6970 7065          | skippe
-00015ef0: 7228 292e 6164 645f 7061 7273 655f 6163  r().add_parse_ac
-00015f00: 7469 6f6e 2873 686f 775f 736b 6970 290a  tion(show_skip).
-00015f10: 2020 2020 2020 2020 2020 2020 2920 2b20              ) + 
-00015f20: 6f74 6865 720a 0a20 2020 2020 2020 2072  other..        r
-00015f30: 6574 7572 6e20 7365 6c66 2e61 6e63 686f  eturn self.ancho
-00015f40: 7220 2b20 736b 6970 7065 7220 2b20 6f74  r + skipper + ot
-00015f50: 6865 720a 0a20 2020 2064 6566 205f 5f72  her..    def __r
-00015f60: 6570 725f 5f28 7365 6c66 293a 0a20 2020  epr__(self):.   
-00015f70: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00015f80: 2e64 6566 6175 6c74 4e61 6d65 0a0a 2020  .defaultName..  
-00015f90: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-00015fa0: 7365 6c66 2c20 2a61 7267 7329 3a0a 2020  self, *args):.  
-00015fb0: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
-00015fc0: 7074 696f 6e28 0a20 2020 2020 2020 2020  ption(.         
-00015fd0: 2020 2022 7573 6520 6f66 2060 2e2e 2e60     "use of `...`
-00015fe0: 2065 7870 7265 7373 696f 6e20 7769 7468   expression with
-00015ff0: 6f75 7420 666f 6c6c 6f77 696e 6720 536b  out following Sk
-00016000: 6970 546f 2074 6172 6765 7420 6578 7072  ipTo target expr
-00016010: 6573 7369 6f6e 220a 2020 2020 2020 2020  ession".        
-00016020: 290a 0a0a 636c 6173 7320 546f 6b65 6e28  )...class Token(
-00016030: 5061 7273 6572 456c 656d 656e 7429 3a0a  ParserElement):.
-00016040: 2020 2020 2222 2241 6273 7472 6163 7420      """Abstract 
-00016050: 3a63 6c61 7373 3a60 5061 7273 6572 456c  :class:`ParserEl
-00016060: 656d 656e 7460 2073 7562 636c 6173 732c  ement` subclass,
-00016070: 2066 6f72 2064 6566 696e 696e 6720 6174   for defining at
-00016080: 6f6d 6963 0a20 2020 206d 6174 6368 696e  omic.    matchin
-00016090: 6720 7061 7474 6572 6e73 2e0a 2020 2020  g patterns..    
-000160a0: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
-000160b0: 6e69 745f 5f28 7365 6c66 293a 0a20 2020  nit__(self):.   
-000160c0: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-000160d0: 6e69 745f 5f28 7361 7665 6c69 7374 3d46  nit__(savelist=F
-000160e0: 616c 7365 290a 0a20 2020 2064 6566 205f  alse)..    def _
-000160f0: 6765 6e65 7261 7465 4465 6661 756c 744e  generateDefaultN
-00016100: 616d 6528 7365 6c66 2920 2d3e 2073 7472  ame(self) -> str
-00016110: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-00016120: 2074 7970 6528 7365 6c66 292e 5f5f 6e61   type(self).__na
-00016130: 6d65 5f5f 0a0a 0a63 6c61 7373 204e 6f4d  me__...class NoM
-00016140: 6174 6368 2854 6f6b 656e 293a 0a20 2020  atch(Token):.   
-00016150: 2022 2222 0a20 2020 2041 2074 6f6b 656e   """.    A token
-00016160: 2074 6861 7420 7769 6c6c 206e 6576 6572   that will never
-00016170: 206d 6174 6368 2e0a 2020 2020 2222 220a   match..    """.
-00016180: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
-00016190: 5f28 7365 6c66 293a 0a20 2020 2020 2020  _(self):.       
-000161a0: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
-000161b0: 5f28 290a 2020 2020 2020 2020 7365 6c66  _().        self
-000161c0: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
-000161d0: 3d20 5472 7565 0a20 2020 2020 2020 2073  = True.        s
-000161e0: 656c 662e 6d61 7949 6e64 6578 4572 726f  elf.mayIndexErro
-000161f0: 7220 3d20 4661 6c73 650a 2020 2020 2020  r = False.      
-00016200: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
-00016210: 2255 6e6d 6174 6368 6162 6c65 2074 6f6b  "Unmatchable tok
-00016220: 656e 220a 0a20 2020 2064 6566 2070 6172  en"..    def par
-00016230: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
-00016240: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-00016250: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
-00016260: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
-00016270: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
-00016280: 6e67 2c20 6c6f 632c 2073 656c 662e 6572  ng, loc, self.er
-00016290: 726d 7367 2c20 7365 6c66 290a 0a0a 636c  rmsg, self)...cl
-000162a0: 6173 7320 4c69 7465 7261 6c28 546f 6b65  ass Literal(Toke
-000162b0: 6e29 3a0a 2020 2020 2222 220a 2020 2020  n):.    """.    
-000162c0: 546f 6b65 6e20 746f 2065 7861 6374 6c79  Token to exactly
-000162d0: 206d 6174 6368 2061 2073 7065 6369 6669   match a specifi
-000162e0: 6564 2073 7472 696e 672e 0a0a 2020 2020  ed string...    
-000162f0: 4578 616d 706c 653a 3a0a 0a20 2020 2020  Example::..     
-00016300: 2020 204c 6974 6572 616c 2827 626c 6168     Literal('blah
-00016310: 2729 2e70 6172 7365 5f73 7472 696e 6728  ').parse_string(
-00016320: 2762 6c61 6827 2920 2023 202d 3e20 5b27  'blah')  # -> ['
-00016330: 626c 6168 275d 0a20 2020 2020 2020 204c  blah'].        L
-00016340: 6974 6572 616c 2827 626c 6168 2729 2e70  iteral('blah').p
-00016350: 6172 7365 5f73 7472 696e 6728 2762 6c61  arse_string('bla
-00016360: 6866 6f6f 626c 6168 2729 2020 2320 2d3e  hfooblah')  # ->
-00016370: 205b 2762 6c61 6827 5d0a 2020 2020 2020   ['blah'].      
-00016380: 2020 4c69 7465 7261 6c28 2762 6c61 6827    Literal('blah'
-00016390: 292e 7061 7273 655f 7374 7269 6e67 2827  ).parse_string('
-000163a0: 626c 6127 2920 2023 202d 3e20 4578 6365  bla')  # -> Exce
-000163b0: 7074 696f 6e3a 2045 7870 6563 7465 6420  ption: Expected 
-000163c0: 2262 6c61 6822 0a0a 2020 2020 466f 7220  "blah"..    For 
-000163d0: 6361 7365 2d69 6e73 656e 7369 7469 7665  case-insensitive
-000163e0: 206d 6174 6368 696e 672c 2075 7365 203a   matching, use :
-000163f0: 636c 6173 733a 6043 6173 656c 6573 734c  class:`CaselessL
-00016400: 6974 6572 616c 602e 0a0a 2020 2020 466f  iteral`...    Fo
-00016410: 7220 6b65 7977 6f72 6420 6d61 7463 6869  r keyword matchi
-00016420: 6e67 2028 666f 7263 6520 776f 7264 2062  ng (force word b
-00016430: 7265 616b 2062 6566 6f72 6520 616e 6420  reak before and 
-00016440: 6166 7465 7220 7468 6520 6d61 7463 6865  after the matche
-00016450: 6420 7374 7269 6e67 292c 0a20 2020 2075  d string),.    u
-00016460: 7365 203a 636c 6173 733a 604b 6579 776f  se :class:`Keywo
-00016470: 7264 6020 6f72 203a 636c 6173 733a 6043  rd` or :class:`C
-00016480: 6173 656c 6573 734b 6579 776f 7264 602e  aselessKeyword`.
-00016490: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
-000164a0: 6620 5f5f 6e65 775f 5f28 636c 732c 206d  f __new__(cls, m
-000164b0: 6174 6368 5f73 7472 696e 673a 2073 7472  atch_string: str
-000164c0: 203d 2022 222c 202a 2c20 6d61 7463 6853   = "", *, matchS
-000164d0: 7472 696e 673a 2073 7472 203d 2022 2229  tring: str = "")
-000164e0: 3a0a 2020 2020 2020 2020 2320 5065 7266  :.        # Perf
-000164f0: 6f72 6d61 6e63 6520 7475 6e69 6e67 3a20  ormance tuning: 
-00016500: 7365 6c65 6374 2061 2073 7562 636c 6173  select a subclas
-00016510: 7320 7769 7468 206f 7074 696d 697a 6564  s with optimized
-00016520: 2070 6172 7365 496d 706c 0a20 2020 2020   parseImpl.     
-00016530: 2020 2069 6620 636c 7320 6973 204c 6974     if cls is Lit
-00016540: 6572 616c 3a0a 2020 2020 2020 2020 2020  eral:.          
-00016550: 2020 6d61 7463 685f 7374 7269 6e67 203d    match_string =
-00016560: 206d 6174 6368 5374 7269 6e67 206f 7220   matchString or 
-00016570: 6d61 7463 685f 7374 7269 6e67 0a20 2020  match_string.   
-00016580: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-00016590: 6d61 7463 685f 7374 7269 6e67 3a0a 2020  match_string:.  
-000165a0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-000165b0: 7475 726e 2073 7570 6572 2829 2e5f 5f6e  turn super().__n
-000165c0: 6577 5f5f 2845 6d70 7479 290a 2020 2020  ew__(Empty).    
-000165d0: 2020 2020 2020 2020 6966 206c 656e 286d          if len(m
-000165e0: 6174 6368 5f73 7472 696e 6729 203d 3d20  atch_string) == 
-000165f0: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
-00016600: 2020 2072 6574 7572 6e20 7375 7065 7228     return super(
-00016610: 292e 5f5f 6e65 775f 5f28 5f53 696e 676c  ).__new__(_Singl
-00016620: 6543 6861 724c 6974 6572 616c 290a 0a20  eCharLiteral).. 
-00016630: 2020 2020 2020 2023 2044 6566 6175 6c74         # Default
-00016640: 2062 6568 6176 696f 720a 2020 2020 2020   behavior.      
-00016650: 2020 7265 7475 726e 2073 7570 6572 2829    return super()
-00016660: 2e5f 5f6e 6577 5f5f 2863 6c73 290a 0a20  .__new__(cls).. 
-00016670: 2020 2023 204e 6565 6465 6420 746f 206d     # Needed to m
-00016680: 616b 6520 636f 7079 2e63 6f70 7928 2920  ake copy.copy() 
-00016690: 776f 726b 2063 6f72 7265 6374 6c79 2069  work correctly i
-000166a0: 6620 7765 2063 7573 746f 6d69 7a65 205f  f we customize _
-000166b0: 5f6e 6577 5f5f 0a20 2020 2064 6566 205f  _new__.    def _
-000166c0: 5f67 6574 6e65 7761 7267 735f 5f28 7365  _getnewargs__(se
-000166d0: 6c66 293a 0a20 2020 2020 2020 2072 6574  lf):.        ret
-000166e0: 7572 6e20 2873 656c 662e 6d61 7463 682c  urn (self.match,
-000166f0: 290a 0a20 2020 2064 6566 205f 5f69 6e69  )..    def __ini
-00016700: 745f 5f28 7365 6c66 2c20 6d61 7463 685f  t__(self, match_
-00016710: 7374 7269 6e67 3a20 7374 7220 3d20 2222  string: str = ""
-00016720: 2c20 2a2c 206d 6174 6368 5374 7269 6e67  , *, matchString
-00016730: 3a20 7374 7220 3d20 2222 293a 0a20 2020  : str = ""):.   
-00016740: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-00016750: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
-00016760: 6d61 7463 685f 7374 7269 6e67 203d 206d  match_string = m
-00016770: 6174 6368 5374 7269 6e67 206f 7220 6d61  atchString or ma
-00016780: 7463 685f 7374 7269 6e67 0a20 2020 2020  tch_string.     
-00016790: 2020 2073 656c 662e 6d61 7463 6820 3d20     self.match = 
-000167a0: 6d61 7463 685f 7374 7269 6e67 0a20 2020  match_string.   
-000167b0: 2020 2020 2073 656c 662e 6d61 7463 684c       self.matchL
-000167c0: 656e 203d 206c 656e 286d 6174 6368 5f73  en = len(match_s
-000167d0: 7472 696e 6729 0a20 2020 2020 2020 2073  tring).        s
-000167e0: 656c 662e 6669 7273 744d 6174 6368 4368  elf.firstMatchCh
-000167f0: 6172 203d 206d 6174 6368 5f73 7472 696e  ar = match_strin
-00016800: 675b 3a31 5d0a 2020 2020 2020 2020 7365  g[:1].        se
-00016810: 6c66 2e65 7272 6d73 6720 3d20 2245 7870  lf.errmsg = "Exp
-00016820: 6563 7465 6420 2220 2b20 7365 6c66 2e6e  ected " + self.n
-00016830: 616d 650a 2020 2020 2020 2020 7365 6c66  ame.        self
-00016840: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
-00016850: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
-00016860: 7365 6c66 2e6d 6179 496e 6465 7845 7272  self.mayIndexErr
-00016870: 6f72 203d 2046 616c 7365 0a0a 2020 2020  or = False..    
-00016880: 6465 6620 5f67 656e 6572 6174 6544 6566  def _generateDef
-00016890: 6175 6c74 4e61 6d65 2873 656c 6629 202d  aultName(self) -
-000168a0: 3e20 7374 723a 0a20 2020 2020 2020 2072  > str:.        r
-000168b0: 6574 7572 6e20 7265 7072 2873 656c 662e  eturn repr(self.
-000168c0: 6d61 7463 6829 0a0a 2020 2020 6465 6620  match)..    def 
-000168d0: 7061 7273 6549 6d70 6c28 7365 6c66 2c20  parseImpl(self, 
-000168e0: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
-000168f0: 6f41 6374 696f 6e73 3d54 7275 6529 3a0a  oActions=True):.
-00016900: 2020 2020 2020 2020 6966 2069 6e73 7472          if instr
-00016910: 696e 675b 6c6f 635d 203d 3d20 7365 6c66  ing[loc] == self
-00016920: 2e66 6972 7374 4d61 7463 6843 6861 7220  .firstMatchChar 
-00016930: 616e 6420 696e 7374 7269 6e67 2e73 7461  and instring.sta
-00016940: 7274 7377 6974 6828 0a20 2020 2020 2020  rtswith(.       
-00016950: 2020 2020 2073 656c 662e 6d61 7463 682c       self.match,
-00016960: 206c 6f63 0a20 2020 2020 2020 2029 3a0a   loc.        ):.
-00016970: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00016980: 726e 206c 6f63 202b 2073 656c 662e 6d61  rn loc + self.ma
-00016990: 7463 684c 656e 2c20 7365 6c66 2e6d 6174  tchLen, self.mat
-000169a0: 6368 0a20 2020 2020 2020 2072 6169 7365  ch.        raise
-000169b0: 2050 6172 7365 4578 6365 7074 696f 6e28   ParseException(
-000169c0: 696e 7374 7269 6e67 2c20 6c6f 632c 2073  instring, loc, s
-000169d0: 656c 662e 6572 726d 7367 2c20 7365 6c66  elf.errmsg, self
-000169e0: 290a 0a0a 636c 6173 7320 456d 7074 7928  )...class Empty(
-000169f0: 4c69 7465 7261 6c29 3a0a 2020 2020 2222  Literal):.    ""
-00016a00: 220a 2020 2020 416e 2065 6d70 7479 2074  ".    An empty t
-00016a10: 6f6b 656e 2c20 7769 6c6c 2061 6c77 6179  oken, will alway
-00016a20: 7320 6d61 7463 682e 0a20 2020 2022 2222  s match..    """
-00016a30: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
-00016a40: 5f5f 2873 656c 662c 206d 6174 6368 5f73  __(self, match_s
-00016a50: 7472 696e 673d 2222 2c20 2a2c 206d 6174  tring="", *, mat
-00016a60: 6368 5374 7269 6e67 3d22 2229 3a0a 2020  chString=""):.  
-00016a70: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
-00016a80: 696e 6974 5f5f 2822 2229 0a20 2020 2020  init__("").     
-00016a90: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
-00016aa0: 6e45 6d70 7479 203d 2054 7275 650a 2020  nEmpty = True.  
-00016ab0: 2020 2020 2020 7365 6c66 2e6d 6179 496e        self.mayIn
-00016ac0: 6465 7845 7272 6f72 203d 2046 616c 7365  dexError = False
-00016ad0: 0a0a 2020 2020 6465 6620 5f67 656e 6572  ..    def _gener
-00016ae0: 6174 6544 6566 6175 6c74 4e61 6d65 2873  ateDefaultName(s
-00016af0: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
-00016b00: 2020 2020 2072 6574 7572 6e20 2245 6d70       return "Emp
-00016b10: 7479 220a 0a20 2020 2064 6566 2070 6172  ty"..    def par
-00016b20: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
-00016b30: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-00016b40: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
-00016b50: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
-00016b60: 7228 4c69 7465 7261 6c2c 2073 656c 6629  r(Literal, self)
-00016b70: 2e70 6172 7365 496d 706c 2869 6e73 7472  .parseImpl(instr
-00016b80: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
-00016b90: 6f6e 7329 0a0a 0a63 6c61 7373 205f 5369  ons)...class _Si
-00016ba0: 6e67 6c65 4368 6172 4c69 7465 7261 6c28  ngleCharLiteral(
-00016bb0: 4c69 7465 7261 6c29 3a0a 2020 2020 6465  Literal):.    de
-00016bc0: 6620 7061 7273 6549 6d70 6c28 7365 6c66  f parseImpl(self
-00016bd0: 2c20 696e 7374 7269 6e67 2c20 6c6f 632c  , instring, loc,
-00016be0: 2064 6f41 6374 696f 6e73 3d54 7275 6529   doActions=True)
-00016bf0: 3a0a 2020 2020 2020 2020 6966 2069 6e73  :.        if ins
-00016c00: 7472 696e 675b 6c6f 635d 203d 3d20 7365  tring[loc] == se
-00016c10: 6c66 2e66 6972 7374 4d61 7463 6843 6861  lf.firstMatchCha
-00016c20: 723a 0a20 2020 2020 2020 2020 2020 2072  r:.            r
-00016c30: 6574 7572 6e20 6c6f 6320 2b20 312c 2073  eturn loc + 1, s
-00016c40: 656c 662e 6d61 7463 680a 2020 2020 2020  elf.match.      
-00016c50: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
-00016c60: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
-00016c70: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
-00016c80: 672c 2073 656c 6629 0a0a 0a50 6172 7365  g, self)...Parse
-00016c90: 7245 6c65 6d65 6e74 2e5f 6c69 7465 7261  rElement._litera
-00016ca0: 6c53 7472 696e 6743 6c61 7373 203d 204c  lStringClass = L
-00016cb0: 6974 6572 616c 0a0a 0a63 6c61 7373 204b  iteral...class K
-00016cc0: 6579 776f 7264 2854 6f6b 656e 293a 0a20  eyword(Token):. 
-00016cd0: 2020 2022 2222 0a20 2020 2054 6f6b 656e     """.    Token
-00016ce0: 2074 6f20 6578 6163 746c 7920 6d61 7463   to exactly matc
-00016cf0: 6820 6120 7370 6563 6966 6965 6420 7374  h a specified st
-00016d00: 7269 6e67 2061 7320 6120 6b65 7977 6f72  ring as a keywor
-00016d10: 642c 2074 6861 7420 6973 2c0a 2020 2020  d, that is,.    
-00016d20: 6974 206d 7573 7420 6265 2069 6d6d 6564  it must be immed
-00016d30: 6961 7465 6c79 2070 7265 6365 6465 6420  iately preceded 
-00016d40: 616e 6420 666f 6c6c 6f77 6564 2062 7920  and followed by 
-00016d50: 7768 6974 6573 7061 6365 206f 720a 2020  whitespace or.  
-00016d60: 2020 6e6f 6e2d 6b65 7977 6f72 6420 6368    non-keyword ch
-00016d70: 6172 6163 7465 7273 2e20 436f 6d70 6172  aracters. Compar
-00016d80: 6520 7769 7468 203a 636c 6173 733a 604c  e with :class:`L
-00016d90: 6974 6572 616c 603a 0a0a 2020 2020 2d20  iteral`:..    - 
-00016da0: 6060 4c69 7465 7261 6c28 2269 6622 2960  ``Literal("if")`
-00016db0: 6020 7769 6c6c 206d 6174 6368 2074 6865  ` will match the
-00016dc0: 206c 6561 6469 6e67 2060 6027 6966 2760   leading ``'if'`
-00016dd0: 6020 696e 0a20 2020 2020 2060 6027 6966  ` in.      ``'if
-00016de0: 416e 644f 6e6c 7949 6627 6060 2e0a 2020  AndOnlyIf'``..  
-00016df0: 2020 2d20 6060 4b65 7977 6f72 6428 2269    - ``Keyword("i
-00016e00: 6622 2960 6020 7769 6c6c 206e 6f74 3b20  f")`` will not; 
-00016e10: 6974 2077 696c 6c20 6f6e 6c79 206d 6174  it will only mat
-00016e20: 6368 2074 6865 206c 6561 6469 6e67 0a20  ch the leading. 
-00016e30: 2020 2020 2060 6027 6966 2760 6020 696e       ``'if'`` in
-00016e40: 2060 6027 6966 2078 3d31 2760 602c 206f   ``'if x=1'``, o
-00016e50: 7220 6060 2769 6628 793d 3d32 2927 6060  r ``'if(y==2)'``
-00016e60: 0a0a 2020 2020 4163 6365 7074 7320 7477  ..    Accepts tw
-00016e70: 6f20 6f70 7469 6f6e 616c 2063 6f6e 7374  o optional const
-00016e80: 7275 6374 6f72 2061 7267 756d 656e 7473  ructor arguments
-00016e90: 2069 6e20 6164 6469 7469 6f6e 2074 6f20   in addition to 
-00016ea0: 7468 650a 2020 2020 6b65 7977 6f72 6420  the.    keyword 
-00016eb0: 7374 7269 6e67 3a0a 0a20 2020 202d 2060  string:..    - `
-00016ec0: 6069 6465 6e74 5f63 6861 7273 6060 2069  `ident_chars`` i
-00016ed0: 7320 6120 7374 7269 6e67 206f 6620 6368  s a string of ch
-00016ee0: 6172 6163 7465 7273 2074 6861 7420 776f  aracters that wo
-00016ef0: 756c 6420 6265 2076 616c 6964 0a20 2020  uld be valid.   
-00016f00: 2020 2069 6465 6e74 6966 6965 7220 6368     identifier ch
-00016f10: 6172 6163 7465 7273 2c20 6465 6661 756c  aracters, defaul
-00016f20: 7469 6e67 2074 6f20 616c 6c20 616c 7068  ting to all alph
-00016f30: 616e 756d 6572 6963 7320 2b20 225f 2220  anumerics + "_" 
-00016f40: 616e 640a 2020 2020 2020 2224 220a 2020  and.      "$".  
-00016f50: 2020 2d20 6060 6361 7365 6c65 7373 6060    - ``caseless``
-00016f60: 2061 6c6c 6f77 7320 6361 7365 2d69 6e73   allows case-ins
-00016f70: 656e 7369 7469 7665 206d 6174 6368 696e  ensitive matchin
-00016f80: 672c 2064 6566 6175 6c74 2069 7320 6060  g, default is ``
-00016f90: 4661 6c73 6560 602e 0a0a 2020 2020 4578  False``...    Ex
-00016fa0: 616d 706c 653a 3a0a 0a20 2020 2020 2020  ample::..       
-00016fb0: 204b 6579 776f 7264 2822 7374 6172 7422   Keyword("start"
-00016fc0: 292e 7061 7273 655f 7374 7269 6e67 2822  ).parse_string("
-00016fd0: 7374 6172 7422 2920 2023 202d 3e20 5b27  start")  # -> ['
-00016fe0: 7374 6172 7427 5d0a 2020 2020 2020 2020  start'].        
-00016ff0: 4b65 7977 6f72 6428 2273 7461 7274 2229  Keyword("start")
-00017000: 2e70 6172 7365 5f73 7472 696e 6728 2273  .parse_string("s
-00017010: 7461 7274 696e 6722 2920 2023 202d 3e20  tarting")  # -> 
-00017020: 4578 6365 7074 696f 6e0a 0a20 2020 2046  Exception..    F
-00017030: 6f72 2063 6173 652d 696e 7365 6e73 6974  or case-insensit
-00017040: 6976 6520 6d61 7463 6869 6e67 2c20 7573  ive matching, us
-00017050: 6520 3a63 6c61 7373 3a60 4361 7365 6c65  e :class:`Casele
-00017060: 7373 4b65 7977 6f72 6460 2e0a 2020 2020  ssKeyword`..    
-00017070: 2222 220a 0a20 2020 2044 4546 4155 4c54  """..    DEFAULT
-00017080: 5f4b 4559 574f 5244 5f43 4841 5253 203d  _KEYWORD_CHARS =
-00017090: 2061 6c70 6861 6e75 6d73 202b 2022 5f24   alphanums + "_$
-000170a0: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-000170b0: 745f 5f28 0a20 2020 2020 2020 2073 656c  t__(.        sel
-000170c0: 662c 0a20 2020 2020 2020 206d 6174 6368  f,.        match
-000170d0: 5f73 7472 696e 673a 2073 7472 203d 2022  _string: str = "
-000170e0: 222c 0a20 2020 2020 2020 2069 6465 6e74  ",.        ident
-000170f0: 5f63 6861 7273 3a20 7479 7069 6e67 2e4f  _chars: typing.O
-00017100: 7074 696f 6e61 6c5b 7374 725d 203d 204e  ptional[str] = N
-00017110: 6f6e 652c 0a20 2020 2020 2020 2063 6173  one,.        cas
-00017120: 656c 6573 733a 2062 6f6f 6c20 3d20 4661  eless: bool = Fa
-00017130: 6c73 652c 0a20 2020 2020 2020 202a 2c0a  lse,.        *,.
-00017140: 2020 2020 2020 2020 6d61 7463 6853 7472          matchStr
-00017150: 696e 673a 2073 7472 203d 2022 222c 0a20  ing: str = "",. 
-00017160: 2020 2020 2020 2069 6465 6e74 4368 6172         identChar
-00017170: 733a 2074 7970 696e 672e 4f70 7469 6f6e  s: typing.Option
-00017180: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  al[str] = None,.
-00017190: 2020 2020 293a 0a20 2020 2020 2020 2073      ):.        s
-000171a0: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
-000171b0: 290a 2020 2020 2020 2020 6964 656e 7443  ).        identC
-000171c0: 6861 7273 203d 2069 6465 6e74 4368 6172  hars = identChar
-000171d0: 7320 6f72 2069 6465 6e74 5f63 6861 7273  s or ident_chars
-000171e0: 0a20 2020 2020 2020 2069 6620 6964 656e  .        if iden
-000171f0: 7443 6861 7273 2069 7320 4e6f 6e65 3a0a  tChars is None:.
-00017200: 2020 2020 2020 2020 2020 2020 6964 656e              iden
-00017210: 7443 6861 7273 203d 204b 6579 776f 7264  tChars = Keyword
-00017220: 2e44 4546 4155 4c54 5f4b 4559 574f 5244  .DEFAULT_KEYWORD
-00017230: 5f43 4841 5253 0a20 2020 2020 2020 206d  _CHARS.        m
-00017240: 6174 6368 5f73 7472 696e 6720 3d20 6d61  atch_string = ma
-00017250: 7463 6853 7472 696e 6720 6f72 206d 6174  tchString or mat
-00017260: 6368 5f73 7472 696e 670a 2020 2020 2020  ch_string.      
-00017270: 2020 7365 6c66 2e6d 6174 6368 203d 206d    self.match = m
-00017280: 6174 6368 5f73 7472 696e 670a 2020 2020  atch_string.    
-00017290: 2020 2020 7365 6c66 2e6d 6174 6368 4c65      self.matchLe
-000172a0: 6e20 3d20 6c65 6e28 6d61 7463 685f 7374  n = len(match_st
-000172b0: 7269 6e67 290a 2020 2020 2020 2020 7472  ring).        tr
-000172c0: 793a 0a20 2020 2020 2020 2020 2020 2073  y:.            s
-000172d0: 656c 662e 6669 7273 744d 6174 6368 4368  elf.firstMatchCh
-000172e0: 6172 203d 206d 6174 6368 5f73 7472 696e  ar = match_strin
-000172f0: 675b 305d 0a20 2020 2020 2020 2065 7863  g[0].        exc
-00017300: 6570 7420 496e 6465 7845 7272 6f72 3a0a  ept IndexError:.
-00017310: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00017320: 6520 5661 6c75 6545 7272 6f72 2822 6e75  e ValueError("nu
-00017330: 6c6c 2073 7472 696e 6720 7061 7373 6564  ll string passed
-00017340: 2074 6f20 4b65 7977 6f72 643b 2075 7365   to Keyword; use
-00017350: 2045 6d70 7479 2829 2069 6e73 7465 6164   Empty() instead
-00017360: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
-00017370: 6572 726d 7367 203d 2066 2245 7870 6563  errmsg = f"Expec
-00017380: 7465 6420 7b74 7970 6528 7365 6c66 292e  ted {type(self).
-00017390: 5f5f 6e61 6d65 5f5f 7d20 7b73 656c 662e  __name__} {self.
-000173a0: 6e61 6d65 7d22 0a20 2020 2020 2020 2073  name}".        s
-000173b0: 656c 662e 6d61 7952 6574 7572 6e45 6d70  elf.mayReturnEmp
-000173c0: 7479 203d 2046 616c 7365 0a20 2020 2020  ty = False.     
-000173d0: 2020 2073 656c 662e 6d61 7949 6e64 6578     self.mayIndex
-000173e0: 4572 726f 7220 3d20 4661 6c73 650a 2020  Error = False.  
-000173f0: 2020 2020 2020 7365 6c66 2e63 6173 656c        self.casel
-00017400: 6573 7320 3d20 6361 7365 6c65 7373 0a20  ess = caseless. 
-00017410: 2020 2020 2020 2069 6620 6361 7365 6c65         if casele
-00017420: 7373 3a0a 2020 2020 2020 2020 2020 2020  ss:.            
-00017430: 7365 6c66 2e63 6173 656c 6573 736d 6174  self.caselessmat
-00017440: 6368 203d 206d 6174 6368 5f73 7472 696e  ch = match_strin
-00017450: 672e 7570 7065 7228 290a 2020 2020 2020  g.upper().      
-00017460: 2020 2020 2020 6964 656e 7443 6861 7273        identChars
-00017470: 203d 2069 6465 6e74 4368 6172 732e 7570   = identChars.up
-00017480: 7065 7228 290a 2020 2020 2020 2020 7365  per().        se
-00017490: 6c66 2e69 6465 6e74 4368 6172 7320 3d20  lf.identChars = 
-000174a0: 7365 7428 6964 656e 7443 6861 7273 290a  set(identChars).
-000174b0: 0a20 2020 2064 6566 205f 6765 6e65 7261  .    def _genera
-000174c0: 7465 4465 6661 756c 744e 616d 6528 7365  teDefaultName(se
-000174d0: 6c66 2920 2d3e 2073 7472 3a0a 2020 2020  lf) -> str:.    
-000174e0: 2020 2020 7265 7475 726e 2072 6570 7228      return repr(
-000174f0: 7365 6c66 2e6d 6174 6368 290a 0a20 2020  self.match)..   
-00017500: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
-00017510: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
-00017520: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
-00017530: 7565 293a 0a20 2020 2020 2020 2065 7272  ue):.        err
-00017540: 6d73 6720 3d20 7365 6c66 2e65 7272 6d73  msg = self.errms
-00017550: 670a 2020 2020 2020 2020 6572 726c 6f63  g.        errloc
-00017560: 203d 206c 6f63 0a20 2020 2020 2020 2069   = loc.        i
-00017570: 6620 7365 6c66 2e63 6173 656c 6573 733a  f self.caseless:
-00017580: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00017590: 696e 7374 7269 6e67 5b6c 6f63 203a 206c  instring[loc : l
-000175a0: 6f63 202b 2073 656c 662e 6d61 7463 684c  oc + self.matchL
-000175b0: 656e 5d2e 7570 7065 7228 2920 3d3d 2073  en].upper() == s
-000175c0: 656c 662e 6361 7365 6c65 7373 6d61 7463  elf.caselessmatc
-000175d0: 683a 0a20 2020 2020 2020 2020 2020 2020  h:.             
-000175e0: 2020 2069 6620 6c6f 6320 3d3d 2030 206f     if loc == 0 o
-000175f0: 7220 696e 7374 7269 6e67 5b6c 6f63 202d  r instring[loc -
-00017600: 2031 5d2e 7570 7065 7228 2920 6e6f 7420   1].upper() not 
-00017610: 696e 2073 656c 662e 6964 656e 7443 6861  in self.identCha
-00017620: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
-00017630: 2020 2020 2020 2020 6966 2028 0a20 2020          if (.   
-00017640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017650: 2020 2020 206c 6f63 203e 3d20 6c65 6e28       loc >= len(
-00017660: 696e 7374 7269 6e67 2920 2d20 7365 6c66  instring) - self
-00017670: 2e6d 6174 6368 4c65 6e0a 2020 2020 2020  .matchLen.      
-00017680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017690: 2020 6f72 2069 6e73 7472 696e 675b 6c6f    or instring[lo
-000176a0: 6320 2b20 7365 6c66 2e6d 6174 6368 4c65  c + self.matchLe
-000176b0: 6e5d 2e75 7070 6572 2829 206e 6f74 2069  n].upper() not i
-000176c0: 6e20 7365 6c66 2e69 6465 6e74 4368 6172  n self.identChar
-000176d0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-000176e0: 2020 2020 2020 293a 0a20 2020 2020 2020        ):.       
+00014930: 2020 206f 7574 2e61 7070 656e 6428 0a20     out.append(. 
+00014940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014950: 2020 2020 2020 2020 2020 2066 227b 706f             f"{po
+00014960: 7374 5061 7273 652e 5f5f 6e61 6d65 5f5f  stParse.__name__
+00014970: 7d20 6661 696c 6564 3a20 7b74 7970 6528  } failed: {type(
+00014980: 6529 2e5f 5f6e 616d 655f 5f7d 3a20 7b65  e).__name__}: {e
+00014990: 7d22 0a20 2020 2020 2020 2020 2020 2020  }".             
+000149a0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+000149b0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+000149c0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+000149d0: 2020 2020 2020 206f 7574 2e61 7070 656e         out.appen
+000149e0: 6428 7265 7375 6c74 2e64 756d 7028 6675  d(result.dump(fu
+000149f0: 6c6c 3d66 756c 6c44 756d 7029 290a 2020  ll=fullDump)).  
+00014a00: 2020 2020 2020 2020 2020 6f75 742e 6170            out.ap
+00014a10: 7065 6e64 2822 2229 0a0a 2020 2020 2020  pend("")..      
+00014a20: 2020 2020 2020 6966 2070 7269 6e74 5265        if printRe
+00014a30: 7375 6c74 733a 0a20 2020 2020 2020 2020  sults:.         
+00014a40: 2020 2020 2020 2070 7269 6e74 5f28 225c         print_("\
+00014a50: 6e22 2e6a 6f69 6e28 6f75 7429 290a 0a20  n".join(out)).. 
+00014a60: 2020 2020 2020 2020 2020 2061 6c6c 5265             allRe
+00014a70: 7375 6c74 732e 6170 7065 6e64 2828 742c  sults.append((t,
+00014a80: 2072 6573 756c 7429 290a 0a20 2020 2020   result))..     
+00014a90: 2020 2072 6574 7572 6e20 7375 6363 6573     return succes
+00014aa0: 732c 2061 6c6c 5265 7375 6c74 730a 0a20  s, allResults.. 
+00014ab0: 2020 2064 6566 2063 7265 6174 655f 6469     def create_di
+00014ac0: 6167 7261 6d28 0a20 2020 2020 2020 2073  agram(.        s
+00014ad0: 656c 662c 0a20 2020 2020 2020 206f 7574  elf,.        out
+00014ae0: 7075 745f 6874 6d6c 3a20 556e 696f 6e5b  put_html: Union[
+00014af0: 5465 7874 494f 2c20 5061 7468 2c20 7374  TextIO, Path, st
+00014b00: 725d 2c0a 2020 2020 2020 2020 7665 7274  r],.        vert
+00014b10: 6963 616c 3a20 696e 7420 3d20 332c 0a20  ical: int = 3,. 
+00014b20: 2020 2020 2020 2073 686f 775f 7265 7375         show_resu
+00014b30: 6c74 735f 6e61 6d65 733a 2062 6f6f 6c20  lts_names: bool 
+00014b40: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
+00014b50: 2073 686f 775f 6772 6f75 7073 3a20 626f   show_groups: bo
+00014b60: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
+00014b70: 2020 2020 656d 6265 643a 2062 6f6f 6c20      embed: bool 
+00014b80: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
+00014b90: 202a 2a6b 7761 7267 732c 0a20 2020 2029   **kwargs,.    )
+00014ba0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
+00014bb0: 2020 2222 220a 2020 2020 2020 2020 4372    """.        Cr
+00014bc0: 6561 7465 2061 2072 6169 6c72 6f61 6420  eate a railroad 
+00014bd0: 6469 6167 7261 6d20 666f 7220 7468 6520  diagram for the 
+00014be0: 7061 7273 6572 2e0a 0a20 2020 2020 2020  parser...       
+00014bf0: 2050 6172 616d 6574 6572 733a 0a0a 2020   Parameters:..  
+00014c00: 2020 2020 2020 2d20 6060 6f75 7470 7574        - ``output
+00014c10: 5f68 746d 6c60 6020 2873 7472 206f 7220  _html`` (str or 
+00014c20: 6669 6c65 2d6c 696b 6520 6f62 6a65 6374  file-like object
+00014c30: 2920 2d20 6f75 7470 7574 2074 6172 6765  ) - output targe
+00014c40: 7420 666f 7220 6765 6e65 7261 7465 640a  t for generated.
+00014c50: 2020 2020 2020 2020 2020 6469 6167 7261            diagra
+00014c60: 6d20 4854 4d4c 0a20 2020 2020 2020 202d  m HTML.        -
+00014c70: 2060 6076 6572 7469 6361 6c60 6020 2869   ``vertical`` (i
+00014c80: 6e74 2920 2d20 7468 7265 7368 6f6c 6420  nt) - threshold 
+00014c90: 666f 7220 666f 726d 6174 7469 6e67 206d  for formatting m
+00014ca0: 756c 7469 706c 6520 616c 7465 726e 6174  ultiple alternat
+00014cb0: 6976 6573 2076 6572 7469 6361 6c6c 790a  ives vertically.
+00014cc0: 2020 2020 2020 2020 2020 696e 7374 6561            instea
+00014cd0: 6420 6f66 2068 6f72 697a 6f6e 7461 6c6c  d of horizontall
+00014ce0: 7920 2864 6566 6175 6c74 3d33 290a 2020  y (default=3).  
+00014cf0: 2020 2020 2020 2d20 6060 7368 6f77 5f72        - ``show_r
+00014d00: 6573 756c 7473 5f6e 616d 6573 6060 202d  esults_names`` -
+00014d10: 2062 6f6f 6c20 666c 6167 2077 6865 7468   bool flag wheth
+00014d20: 6572 2064 6961 6772 616d 2073 686f 756c  er diagram shoul
+00014d30: 6420 7368 6f77 2061 6e6e 6f74 6174 696f  d show annotatio
+00014d40: 6e73 2066 6f72 0a20 2020 2020 2020 2020  ns for.         
+00014d50: 2064 6566 696e 6564 2072 6573 756c 7473   defined results
+00014d60: 206e 616d 6573 0a20 2020 2020 2020 202d   names.        -
+00014d70: 2060 6073 686f 775f 6772 6f75 7073 6060   ``show_groups``
+00014d80: 202d 2062 6f6f 6c20 666c 6167 2077 6865   - bool flag whe
+00014d90: 7468 6572 2067 726f 7570 7320 7368 6f75  ther groups shou
+00014da0: 6c64 2062 6520 6869 6768 6c69 6768 7465  ld be highlighte
+00014db0: 6420 7769 7468 2061 6e20 756e 6c61 6265  d with an unlabe
+00014dc0: 6c65 6420 7375 7272 6f75 6e64 696e 6720  led surrounding 
+00014dd0: 626f 780a 2020 2020 2020 2020 2d20 6060  box.        - ``
+00014de0: 656d 6265 6460 6020 2d20 626f 6f6c 2066  embed`` - bool f
+00014df0: 6c61 6720 7768 6574 6865 7220 6765 6e65  lag whether gene
+00014e00: 7261 7465 6420 4854 4d4c 2073 686f 756c  rated HTML shoul
+00014e10: 6420 6f6d 6974 203c 4845 4144 3e2c 203c  d omit <HEAD>, <
+00014e20: 424f 4459 3e2c 2061 6e64 203c 444f 4354  BODY>, and <DOCT
+00014e30: 5950 453e 2074 6167 7320 746f 2065 6d62  YPE> tags to emb
+00014e40: 6564 0a20 2020 2020 2020 2020 2074 6865  ed.          the
+00014e50: 2072 6573 756c 7469 6e67 2048 544d 4c20   resulting HTML 
+00014e60: 696e 2061 6e20 656e 636c 6f73 696e 6720  in an enclosing 
+00014e70: 4854 4d4c 2073 6f75 7263 650a 2020 2020  HTML source.    
+00014e80: 2020 2020 2d20 6060 6865 6164 6060 202d      - ``head`` -
+00014e90: 2073 7472 2063 6f6e 7461 696e 696e 6720   str containing 
+00014ea0: 6164 6469 7469 6f6e 616c 2048 544d 4c20  additional HTML 
+00014eb0: 746f 2069 6e73 6572 7420 696e 746f 2074  to insert into t
+00014ec0: 6865 203c 4845 4144 3e20 7365 6374 696f  he <HEAD> sectio
+00014ed0: 6e20 6f66 2074 6865 2067 656e 6572 6174  n of the generat
+00014ee0: 6564 2063 6f64 653b 0a20 2020 2020 2020  ed code;.       
+00014ef0: 2020 2063 616e 2062 6520 7573 6564 2074     can be used t
+00014f00: 6f20 696e 7365 7274 2063 7573 746f 6d20  o insert custom 
+00014f10: 4353 5320 7374 796c 696e 670a 2020 2020  CSS styling.    
+00014f20: 2020 2020 2d20 6060 626f 6479 6060 202d      - ``body`` -
+00014f30: 2073 7472 2063 6f6e 7461 696e 696e 6720   str containing 
+00014f40: 6164 6469 7469 6f6e 616c 2048 544d 4c20  additional HTML 
+00014f50: 746f 2069 6e73 6572 7420 6174 2074 6865  to insert at the
+00014f60: 2062 6567 696e 6e69 6e67 206f 6620 7468   beginning of th
+00014f70: 6520 3c42 4f44 593e 2073 6563 7469 6f6e  e <BODY> section
+00014f80: 206f 6620 7468 650a 2020 2020 2020 2020   of the.        
+00014f90: 2020 6765 6e65 7261 7465 6420 636f 6465    generated code
+00014fa0: 0a0a 2020 2020 2020 2020 4164 6469 7469  ..        Additi
+00014fb0: 6f6e 616c 2064 6961 6772 616d 2d66 6f72  onal diagram-for
+00014fc0: 6d61 7474 696e 6720 6b65 7977 6f72 6420  matting keyword 
+00014fd0: 6172 6775 6d65 6e74 7320 6361 6e20 616c  arguments can al
+00014fe0: 736f 2062 6520 696e 636c 7564 6564 3b0a  so be included;.
+00014ff0: 2020 2020 2020 2020 7365 6520 7261 696c          see rail
+00015000: 726f 6164 2e44 6961 6772 616d 2063 6c61  road.Diagram cla
+00015010: 7373 2e0a 2020 2020 2020 2020 2222 220a  ss..        """.
+00015020: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
+00015030: 2020 2020 2020 2020 2020 6672 6f6d 202e            from .
+00015040: 6469 6167 7261 6d20 696d 706f 7274 2074  diagram import t
+00015050: 6f5f 7261 696c 726f 6164 2c20 7261 696c  o_railroad, rail
+00015060: 726f 6164 5f74 6f5f 6874 6d6c 0a20 2020  road_to_html.   
+00015070: 2020 2020 2065 7863 6570 7420 496d 706f       except Impo
+00015080: 7274 4572 726f 7220 6173 2069 653a 0a20  rtError as ie:. 
+00015090: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+000150a0: 2045 7863 6570 7469 6f6e 280a 2020 2020   Exception(.    
+000150b0: 2020 2020 2020 2020 2020 2020 226d 7573              "mus
+000150c0: 7420 6060 7069 7020 696e 7374 616c 6c20  t ``pip install 
+000150d0: 7079 7061 7273 696e 675b 6469 6167 7261  pyparsing[diagra
+000150e0: 6d73 5d60 6020 746f 2067 656e 6572 6174  ms]`` to generat
+000150f0: 6520 7061 7273 6572 2072 6169 6c72 6f61  e parser railroa
+00015100: 6420 6469 6167 7261 6d73 220a 2020 2020  d diagrams".    
+00015110: 2020 2020 2020 2020 2920 6672 6f6d 2069          ) from i
+00015120: 650a 0a20 2020 2020 2020 2073 656c 662e  e..        self.
+00015130: 7374 7265 616d 6c69 6e65 2829 0a0a 2020  streamline()..  
+00015140: 2020 2020 2020 7261 696c 726f 6164 203d        railroad =
+00015150: 2074 6f5f 7261 696c 726f 6164 280a 2020   to_railroad(.  
+00015160: 2020 2020 2020 2020 2020 7365 6c66 2c0a            self,.
+00015170: 2020 2020 2020 2020 2020 2020 7665 7274              vert
+00015180: 6963 616c 3d76 6572 7469 6361 6c2c 0a20  ical=vertical,. 
+00015190: 2020 2020 2020 2020 2020 2073 686f 775f             show_
+000151a0: 7265 7375 6c74 735f 6e61 6d65 733d 7368  results_names=sh
+000151b0: 6f77 5f72 6573 756c 7473 5f6e 616d 6573  ow_results_names
+000151c0: 2c0a 2020 2020 2020 2020 2020 2020 7368  ,.            sh
+000151d0: 6f77 5f67 726f 7570 733d 7368 6f77 5f67  ow_groups=show_g
+000151e0: 726f 7570 732c 0a20 2020 2020 2020 2020  roups,.         
+000151f0: 2020 2064 6961 6772 616d 5f6b 7761 7267     diagram_kwarg
+00015200: 733d 6b77 6172 6773 2c0a 2020 2020 2020  s=kwargs,.      
+00015210: 2020 290a 2020 2020 2020 2020 6966 2069    ).        if i
+00015220: 7369 6e73 7461 6e63 6528 6f75 7470 7574  sinstance(output
+00015230: 5f68 746d 6c2c 2028 7374 722c 2050 6174  _html, (str, Pat
+00015240: 6829 293a 0a20 2020 2020 2020 2020 2020  h)):.           
+00015250: 2077 6974 6820 6f70 656e 286f 7574 7075   with open(outpu
+00015260: 745f 6874 6d6c 2c20 2277 222c 2065 6e63  t_html, "w", enc
+00015270: 6f64 696e 673d 2275 7466 2d38 2229 2061  oding="utf-8") a
+00015280: 7320 6469 6167 5f66 696c 653a 0a20 2020  s diag_file:.   
+00015290: 2020 2020 2020 2020 2020 2020 2064 6961               dia
+000152a0: 675f 6669 6c65 2e77 7269 7465 2872 6169  g_file.write(rai
+000152b0: 6c72 6f61 645f 746f 5f68 746d 6c28 7261  lroad_to_html(ra
+000152c0: 696c 726f 6164 2c20 656d 6265 643d 656d  ilroad, embed=em
+000152d0: 6265 6429 290a 2020 2020 2020 2020 656c  bed)).        el
+000152e0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+000152f0: 2320 7765 2077 6572 6520 7061 7373 6564  # we were passed
+00015300: 2061 2066 696c 652d 6c69 6b65 206f 626a   a file-like obj
+00015310: 6563 742c 206a 7573 7420 7772 6974 6520  ect, just write 
+00015320: 746f 2069 740a 2020 2020 2020 2020 2020  to it.          
+00015330: 2020 6f75 7470 7574 5f68 746d 6c2e 7772    output_html.wr
+00015340: 6974 6528 7261 696c 726f 6164 5f74 6f5f  ite(railroad_to_
+00015350: 6874 6d6c 2872 6169 6c72 6f61 642c 2065  html(railroad, e
+00015360: 6d62 6564 3d65 6d62 6564 2929 0a0a 2020  mbed=embed))..  
+00015370: 2020 2320 436f 6d70 6174 6962 696c 6974    # Compatibilit
+00015380: 7920 7379 6e6f 6e79 6d73 0a20 2020 2023  y synonyms.    #
+00015390: 2066 6d74 3a20 6f66 660a 2020 2020 4073   fmt: off.    @s
+000153a0: 7461 7469 636d 6574 686f 640a 2020 2020  taticmethod.    
+000153b0: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
+000153c0: 3828 696e 6c69 6e65 5f6c 6974 6572 616c  8(inline_literal
+000153d0: 735f 7573 696e 6729 0a20 2020 2064 6566  s_using).    def
+000153e0: 2069 6e6c 696e 654c 6974 6572 616c 7355   inlineLiteralsU
+000153f0: 7369 6e67 2829 3a20 2e2e 2e0a 0a20 2020  sing(): .....   
+00015400: 2040 7374 6174 6963 6d65 7468 6f64 0a20   @staticmethod. 
+00015410: 2020 2040 7265 706c 6163 6564 5f62 795f     @replaced_by_
+00015420: 7065 7038 2873 6574 5f64 6566 6175 6c74  pep8(set_default
+00015430: 5f77 6869 7465 7370 6163 655f 6368 6172  _whitespace_char
+00015440: 7329 0a20 2020 2064 6566 2073 6574 4465  s).    def setDe
+00015450: 6661 756c 7457 6869 7465 7370 6163 6543  faultWhitespaceC
+00015460: 6861 7273 2829 3a20 2e2e 2e0a 0a20 2020  hars(): .....   
+00015470: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
+00015480: 7038 2873 6574 5f72 6573 756c 7473 5f6e  p8(set_results_n
+00015490: 616d 6529 0a20 2020 2064 6566 2073 6574  ame).    def set
+000154a0: 5265 7375 6c74 734e 616d 6528 7365 6c66  ResultsName(self
+000154b0: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
+000154c0: 6c61 6365 645f 6279 5f70 6570 3828 7365  laced_by_pep8(se
+000154d0: 745f 6272 6561 6b29 0a20 2020 2064 6566  t_break).    def
+000154e0: 2073 6574 4272 6561 6b28 7365 6c66 293a   setBreak(self):
+000154f0: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
+00015500: 6365 645f 6279 5f70 6570 3828 7365 745f  ced_by_pep8(set_
+00015510: 7061 7273 655f 6163 7469 6f6e 290a 2020  parse_action).  
+00015520: 2020 6465 6620 7365 7450 6172 7365 4163    def setParseAc
+00015530: 7469 6f6e 2873 656c 6629 3a20 2e2e 2e0a  tion(self): ....
+00015540: 0a20 2020 2040 7265 706c 6163 6564 5f62  .    @replaced_b
+00015550: 795f 7065 7038 2861 6464 5f70 6172 7365  y_pep8(add_parse
+00015560: 5f61 6374 696f 6e29 0a20 2020 2064 6566  _action).    def
+00015570: 2061 6464 5061 7273 6541 6374 696f 6e28   addParseAction(
+00015580: 7365 6c66 293a 202e 2e2e 0a0a 2020 2020  self): .....    
+00015590: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
+000155a0: 3828 6164 645f 636f 6e64 6974 696f 6e29  8(add_condition)
+000155b0: 0a20 2020 2064 6566 2061 6464 436f 6e64  .    def addCond
+000155c0: 6974 696f 6e28 7365 6c66 293a 202e 2e2e  ition(self): ...
+000155d0: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
+000155e0: 6279 5f70 6570 3828 7365 745f 6661 696c  by_pep8(set_fail
+000155f0: 5f61 6374 696f 6e29 0a20 2020 2064 6566  _action).    def
+00015600: 2073 6574 4661 696c 4163 7469 6f6e 2873   setFailAction(s
+00015610: 656c 6629 3a20 2e2e 2e0a 0a20 2020 2040  elf): .....    @
+00015620: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
+00015630: 2874 7279 5f70 6172 7365 290a 2020 2020  (try_parse).    
+00015640: 6465 6620 7472 7950 6172 7365 2873 656c  def tryParse(sel
+00015650: 6629 3a20 2e2e 2e0a 0a20 2020 2040 7374  f): .....    @st
+00015660: 6174 6963 6d65 7468 6f64 0a20 2020 2040  aticmethod.    @
+00015670: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
+00015680: 2865 6e61 626c 655f 6c65 6674 5f72 6563  (enable_left_rec
+00015690: 7572 7369 6f6e 290a 2020 2020 6465 6620  ursion).    def 
+000156a0: 656e 6162 6c65 4c65 6674 5265 6375 7273  enableLeftRecurs
+000156b0: 696f 6e28 293a 202e 2e2e 0a0a 2020 2020  ion(): .....    
+000156c0: 4073 7461 7469 636d 6574 686f 640a 2020  @staticmethod.  
+000156d0: 2020 4072 6570 6c61 6365 645f 6279 5f70    @replaced_by_p
+000156e0: 6570 3828 656e 6162 6c65 5f70 6163 6b72  ep8(enable_packr
+000156f0: 6174 290a 2020 2020 6465 6620 656e 6162  at).    def enab
+00015700: 6c65 5061 636b 7261 7428 293a 202e 2e2e  lePackrat(): ...
+00015710: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
+00015720: 6279 5f70 6570 3828 7061 7273 655f 7374  by_pep8(parse_st
+00015730: 7269 6e67 290a 2020 2020 6465 6620 7061  ring).    def pa
+00015740: 7273 6553 7472 696e 6728 7365 6c66 293a  rseString(self):
+00015750: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
+00015760: 6365 645f 6279 5f70 6570 3828 7363 616e  ced_by_pep8(scan
+00015770: 5f73 7472 696e 6729 0a20 2020 2064 6566  _string).    def
+00015780: 2073 6361 6e53 7472 696e 6728 7365 6c66   scanString(self
+00015790: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
+000157a0: 6c61 6365 645f 6279 5f70 6570 3828 7472  laced_by_pep8(tr
+000157b0: 616e 7366 6f72 6d5f 7374 7269 6e67 290a  ansform_string).
+000157c0: 2020 2020 6465 6620 7472 616e 7366 6f72      def transfor
+000157d0: 6d53 7472 696e 6728 7365 6c66 293a 202e  mString(self): .
+000157e0: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
+000157f0: 645f 6279 5f70 6570 3828 7365 6172 6368  d_by_pep8(search
+00015800: 5f73 7472 696e 6729 0a20 2020 2064 6566  _string).    def
+00015810: 2073 6561 7263 6853 7472 696e 6728 7365   searchString(se
+00015820: 6c66 293a 202e 2e2e 0a0a 2020 2020 4072  lf): .....    @r
+00015830: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
+00015840: 6967 6e6f 7265 5f77 6869 7465 7370 6163  ignore_whitespac
+00015850: 6529 0a20 2020 2064 6566 2069 676e 6f72  e).    def ignor
+00015860: 6557 6869 7465 7370 6163 6528 7365 6c66  eWhitespace(self
+00015870: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
+00015880: 6c61 6365 645f 6279 5f70 6570 3828 6c65  laced_by_pep8(le
+00015890: 6176 655f 7768 6974 6573 7061 6365 290a  ave_whitespace).
+000158a0: 2020 2020 6465 6620 6c65 6176 6557 6869      def leaveWhi
+000158b0: 7465 7370 6163 6528 7365 6c66 293a 202e  tespace(self): .
+000158c0: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
+000158d0: 645f 6279 5f70 6570 3828 7365 745f 7768  d_by_pep8(set_wh
+000158e0: 6974 6573 7061 6365 5f63 6861 7273 290a  itespace_chars).
+000158f0: 2020 2020 6465 6620 7365 7457 6869 7465      def setWhite
+00015900: 7370 6163 6543 6861 7273 2873 656c 6629  spaceChars(self)
+00015910: 3a20 2e2e 2e0a 0a20 2020 2040 7265 706c  : .....    @repl
+00015920: 6163 6564 5f62 795f 7065 7038 2870 6172  aced_by_pep8(par
+00015930: 7365 5f77 6974 685f 7461 6273 290a 2020  se_with_tabs).  
+00015940: 2020 6465 6620 7061 7273 6557 6974 6854    def parseWithT
+00015950: 6162 7328 7365 6c66 293a 202e 2e2e 0a0a  abs(self): .....
+00015960: 2020 2020 4072 6570 6c61 6365 645f 6279      @replaced_by
+00015970: 5f70 6570 3828 7365 745f 6465 6275 675f  _pep8(set_debug_
+00015980: 6163 7469 6f6e 7329 0a20 2020 2064 6566  actions).    def
+00015990: 2073 6574 4465 6275 6741 6374 696f 6e73   setDebugActions
+000159a0: 2873 656c 6629 3a20 2e2e 2e0a 0a20 2020  (self): .....   
+000159b0: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
+000159c0: 7038 2873 6574 5f64 6562 7567 290a 2020  p8(set_debug).  
+000159d0: 2020 6465 6620 7365 7444 6562 7567 2873    def setDebug(s
+000159e0: 656c 6629 3a20 2e2e 2e0a 0a20 2020 2040  elf): .....    @
+000159f0: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
+00015a00: 2873 6574 5f6e 616d 6529 0a20 2020 2064  (set_name).    d
+00015a10: 6566 2073 6574 4e61 6d65 2873 656c 6629  ef setName(self)
+00015a20: 3a20 2e2e 2e0a 0a20 2020 2040 7265 706c  : .....    @repl
+00015a30: 6163 6564 5f62 795f 7065 7038 2870 6172  aced_by_pep8(par
+00015a40: 7365 5f66 696c 6529 0a20 2020 2064 6566  se_file).    def
+00015a50: 2070 6172 7365 4669 6c65 2873 656c 6629   parseFile(self)
+00015a60: 3a20 2e2e 2e0a 0a20 2020 2040 7265 706c  : .....    @repl
+00015a70: 6163 6564 5f62 795f 7065 7038 2872 756e  aced_by_pep8(run
+00015a80: 5f74 6573 7473 290a 2020 2020 6465 6620  _tests).    def 
+00015a90: 7275 6e54 6573 7473 2873 656c 6629 3a20  runTests(self): 
+00015aa0: 2e2e 2e0a 0a20 2020 2063 616e 5061 7273  .....    canPars
+00015ab0: 654e 6578 7420 3d20 6361 6e5f 7061 7273  eNext = can_pars
+00015ac0: 655f 6e65 7874 0a20 2020 2072 6573 6574  e_next.    reset
+00015ad0: 4361 6368 6520 3d20 7265 7365 745f 6361  Cache = reset_ca
+00015ae0: 6368 650a 2020 2020 6465 6661 756c 744e  che.    defaultN
+00015af0: 616d 6520 3d20 6465 6661 756c 745f 6e61  ame = default_na
+00015b00: 6d65 0a20 2020 2023 2066 6d74 3a20 6f6e  me.    # fmt: on
+00015b10: 0a0a 0a63 6c61 7373 205f 5065 6e64 696e  ...class _Pendin
+00015b20: 6753 6b69 7028 5061 7273 6572 456c 656d  gSkip(ParserElem
+00015b30: 656e 7429 3a0a 2020 2020 2320 696e 7465  ent):.    # inte
+00015b40: 726e 616c 2070 6c61 6365 686f 6c64 6572  rnal placeholder
+00015b50: 2063 6c61 7373 2074 6f20 686f 6c64 2061   class to hold a
+00015b60: 2070 6c61 6365 2077 6572 6520 272e 2e2e   place were '...
+00015b70: 2720 6973 2061 6464 6564 2074 6f20 6120  ' is added to a 
+00015b80: 7061 7273 6572 2065 6c65 6d65 6e74 2c0a  parser element,.
+00015b90: 2020 2020 2320 6f6e 6365 2061 6e6f 7468      # once anoth
+00015ba0: 6572 2050 6172 7365 7245 6c65 6d65 6e74  er ParserElement
+00015bb0: 2069 7320 6164 6465 642c 2074 6869 7320   is added, this 
+00015bc0: 706c 6163 6568 6f6c 6465 7220 7769 6c6c  placeholder will
+00015bd0: 2062 6520 7265 706c 6163 6564 2077 6974   be replaced wit
+00015be0: 6820 6120 536b 6970 546f 0a20 2020 2064  h a SkipTo.    d
+00015bf0: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
+00015c00: 2c20 6578 7072 3a20 5061 7273 6572 456c  , expr: ParserEl
+00015c10: 656d 656e 742c 206d 7573 745f 736b 6970  ement, must_skip
+00015c20: 3a20 626f 6f6c 203d 2046 616c 7365 293a  : bool = False):
+00015c30: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+00015c40: 2e5f 5f69 6e69 745f 5f28 290a 2020 2020  .__init__().    
+00015c50: 2020 2020 7365 6c66 2e61 6e63 686f 7220      self.anchor 
+00015c60: 3d20 6578 7072 0a20 2020 2020 2020 2073  = expr.        s
+00015c70: 656c 662e 6d75 7374 5f73 6b69 7020 3d20  elf.must_skip = 
+00015c80: 6d75 7374 5f73 6b69 700a 0a20 2020 2064  must_skip..    d
+00015c90: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
+00015ca0: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
+00015cb0: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
+00015cc0: 7475 726e 2073 7472 2873 656c 662e 616e  turn str(self.an
+00015cd0: 6368 6f72 202b 2045 6d70 7479 2829 292e  chor + Empty()).
+00015ce0: 7265 706c 6163 6528 2245 6d70 7479 222c  replace("Empty",
+00015cf0: 2022 2e2e 2e22 290a 0a20 2020 2064 6566   "...")..    def
+00015d00: 205f 5f61 6464 5f5f 2873 656c 662c 206f   __add__(self, o
+00015d10: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
+00015d20: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
+00015d30: 2020 736b 6970 7065 7220 3d20 536b 6970    skipper = Skip
+00015d40: 546f 286f 7468 6572 292e 7365 745f 6e61  To(other).set_na
+00015d50: 6d65 2822 2e2e 2e22 2928 225f 736b 6970  me("...")("_skip
+00015d60: 7065 642a 2229 0a20 2020 2020 2020 2069  ped*").        i
+00015d70: 6620 7365 6c66 2e6d 7573 745f 736b 6970  f self.must_skip
+00015d80: 3a0a 0a20 2020 2020 2020 2020 2020 2064  :..            d
+00015d90: 6566 206d 7573 745f 736b 6970 2874 293a  ef must_skip(t):
+00015da0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015db0: 2069 6620 6e6f 7420 742e 5f73 6b69 7070   if not t._skipp
+00015dc0: 6564 206f 7220 742e 5f73 6b69 7070 6564  ed or t._skipped
+00015dd0: 2e61 735f 6c69 7374 2829 203d 3d20 5b22  .as_list() == ["
+00015de0: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
+00015df0: 2020 2020 2020 2020 6465 6c20 745b 305d          del t[0]
+00015e00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015e10: 2020 2020 2074 2e70 6f70 2822 5f73 6b69       t.pop("_ski
+00015e20: 7070 6564 222c 204e 6f6e 6529 0a0a 2020  pped", None)..  
+00015e30: 2020 2020 2020 2020 2020 6465 6620 7368            def sh
+00015e40: 6f77 5f73 6b69 7028 7429 3a0a 2020 2020  ow_skip(t):.    
+00015e50: 2020 2020 2020 2020 2020 2020 6966 2074              if t
+00015e60: 2e5f 736b 6970 7065 642e 6173 5f6c 6973  ._skipped.as_lis
+00015e70: 7428 295b 2d31 3a5d 203d 3d20 5b22 225d  t()[-1:] == [""]
+00015e80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00015e90: 2020 2020 2020 742e 706f 7028 225f 736b        t.pop("_sk
+00015ea0: 6970 7065 6422 290a 2020 2020 2020 2020  ipped").        
+00015eb0: 2020 2020 2020 2020 2020 2020 745b 225f              t["_
+00015ec0: 736b 6970 7065 6422 5d20 3d20 226d 6973  skipped"] = "mis
+00015ed0: 7369 6e67 203c 2220 2b20 7265 7072 2873  sing <" + repr(s
+00015ee0: 656c 662e 616e 6368 6f72 2920 2b20 223e  elf.anchor) + ">
+00015ef0: 220a 0a20 2020 2020 2020 2020 2020 2072  "..            r
+00015f00: 6574 7572 6e20 280a 2020 2020 2020 2020  eturn (.        
+00015f10: 2020 2020 2020 2020 7365 6c66 2e61 6e63          self.anc
+00015f20: 686f 7220 2b20 736b 6970 7065 7228 292e  hor + skipper().
+00015f30: 6164 645f 7061 7273 655f 6163 7469 6f6e  add_parse_action
+00015f40: 286d 7573 745f 736b 6970 290a 2020 2020  (must_skip).    
+00015f50: 2020 2020 2020 2020 2020 2020 7c20 736b              | sk
+00015f60: 6970 7065 7228 292e 6164 645f 7061 7273  ipper().add_pars
+00015f70: 655f 6163 7469 6f6e 2873 686f 775f 736b  e_action(show_sk
+00015f80: 6970 290a 2020 2020 2020 2020 2020 2020  ip).            
+00015f90: 2920 2b20 6f74 6865 720a 0a20 2020 2020  ) + other..     
+00015fa0: 2020 2072 6574 7572 6e20 7365 6c66 2e61     return self.a
+00015fb0: 6e63 686f 7220 2b20 736b 6970 7065 7220  nchor + skipper 
+00015fc0: 2b20 6f74 6865 720a 0a20 2020 2064 6566  + other..    def
+00015fd0: 205f 5f72 6570 725f 5f28 7365 6c66 293a   __repr__(self):
+00015fe0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00015ff0: 7365 6c66 2e64 6566 6175 6c74 4e61 6d65  self.defaultName
+00016000: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+00016010: 6d70 6c28 7365 6c66 2c20 2a61 7267 7329  mpl(self, *args)
+00016020: 3a0a 2020 2020 2020 2020 7261 6973 6520  :.        raise 
+00016030: 4578 6365 7074 696f 6e28 0a20 2020 2020  Exception(.     
+00016040: 2020 2020 2020 2022 7573 6520 6f66 2060         "use of `
+00016050: 2e2e 2e60 2065 7870 7265 7373 696f 6e20  ...` expression 
+00016060: 7769 7468 6f75 7420 666f 6c6c 6f77 696e  without followin
+00016070: 6720 536b 6970 546f 2074 6172 6765 7420  g SkipTo target 
+00016080: 6578 7072 6573 7369 6f6e 220a 2020 2020  expression".    
+00016090: 2020 2020 290a 0a0a 636c 6173 7320 546f      )...class To
+000160a0: 6b65 6e28 5061 7273 6572 456c 656d 656e  ken(ParserElemen
+000160b0: 7429 3a0a 2020 2020 2222 2241 6273 7472  t):.    """Abstr
+000160c0: 6163 7420 3a63 6c61 7373 3a60 5061 7273  act :class:`Pars
+000160d0: 6572 456c 656d 656e 7460 2073 7562 636c  erElement` subcl
+000160e0: 6173 732c 2066 6f72 2064 6566 696e 696e  ass, for definin
+000160f0: 6720 6174 6f6d 6963 0a20 2020 206d 6174  g atomic.    mat
+00016100: 6368 696e 6720 7061 7474 6572 6e73 2e0a  ching patterns..
+00016110: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
+00016120: 205f 5f69 6e69 745f 5f28 7365 6c66 293a   __init__(self):
+00016130: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+00016140: 2e5f 5f69 6e69 745f 5f28 7361 7665 6c69  .__init__(saveli
+00016150: 7374 3d46 616c 7365 290a 0a20 2020 2064  st=False)..    d
+00016160: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
+00016170: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
+00016180: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
+00016190: 7475 726e 2074 7970 6528 7365 6c66 292e  turn type(self).
+000161a0: 5f5f 6e61 6d65 5f5f 0a0a 0a63 6c61 7373  __name__...class
+000161b0: 204e 6f4d 6174 6368 2854 6f6b 656e 293a   NoMatch(Token):
+000161c0: 0a20 2020 2022 2222 0a20 2020 2041 2074  .    """.    A t
+000161d0: 6f6b 656e 2074 6861 7420 7769 6c6c 206e  oken that will n
+000161e0: 6576 6572 206d 6174 6368 2e0a 2020 2020  ever match..    
+000161f0: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
+00016200: 6e69 745f 5f28 7365 6c66 293a 0a20 2020  nit__(self):.   
+00016210: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
+00016220: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
+00016230: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
+00016240: 7074 7920 3d20 5472 7565 0a20 2020 2020  pty = True.     
+00016250: 2020 2073 656c 662e 6d61 7949 6e64 6578     self.mayIndex
+00016260: 4572 726f 7220 3d20 4661 6c73 650a 2020  Error = False.  
+00016270: 2020 2020 2020 7365 6c66 2e65 7272 6d73        self.errms
+00016280: 6720 3d20 2255 6e6d 6174 6368 6162 6c65  g = "Unmatchable
+00016290: 2074 6f6b 656e 220a 0a20 2020 2064 6566   token"..    def
+000162a0: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
+000162b0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+000162c0: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
+000162d0: 0a20 2020 2020 2020 2072 6169 7365 2050  .        raise P
+000162e0: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
+000162f0: 7374 7269 6e67 2c20 6c6f 632c 2073 656c  string, loc, sel
+00016300: 662e 6572 726d 7367 2c20 7365 6c66 290a  f.errmsg, self).
+00016310: 0a0a 636c 6173 7320 4c69 7465 7261 6c28  ..class Literal(
+00016320: 546f 6b65 6e29 3a0a 2020 2020 2222 220a  Token):.    """.
+00016330: 2020 2020 546f 6b65 6e20 746f 2065 7861      Token to exa
+00016340: 6374 6c79 206d 6174 6368 2061 2073 7065  ctly match a spe
+00016350: 6369 6669 6564 2073 7472 696e 672e 0a0a  cified string...
+00016360: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
+00016370: 2020 2020 2020 204c 6974 6572 616c 2827         Literal('
+00016380: 626c 6168 2729 2e70 6172 7365 5f73 7472  blah').parse_str
+00016390: 696e 6728 2762 6c61 6827 2920 2023 202d  ing('blah')  # -
+000163a0: 3e20 5b27 626c 6168 275d 0a20 2020 2020  > ['blah'].     
+000163b0: 2020 204c 6974 6572 616c 2827 626c 6168     Literal('blah
+000163c0: 2729 2e70 6172 7365 5f73 7472 696e 6728  ').parse_string(
+000163d0: 2762 6c61 6866 6f6f 626c 6168 2729 2020  'blahfooblah')  
+000163e0: 2320 2d3e 205b 2762 6c61 6827 5d0a 2020  # -> ['blah'].  
+000163f0: 2020 2020 2020 4c69 7465 7261 6c28 2762        Literal('b
+00016400: 6c61 6827 292e 7061 7273 655f 7374 7269  lah').parse_stri
+00016410: 6e67 2827 626c 6127 2920 2023 202d 3e20  ng('bla')  # -> 
+00016420: 4578 6365 7074 696f 6e3a 2045 7870 6563  Exception: Expec
+00016430: 7465 6420 2262 6c61 6822 0a0a 2020 2020  ted "blah"..    
+00016440: 466f 7220 6361 7365 2d69 6e73 656e 7369  For case-insensi
+00016450: 7469 7665 206d 6174 6368 696e 672c 2075  tive matching, u
+00016460: 7365 203a 636c 6173 733a 6043 6173 656c  se :class:`Casel
+00016470: 6573 734c 6974 6572 616c 602e 0a0a 2020  essLiteral`...  
+00016480: 2020 466f 7220 6b65 7977 6f72 6420 6d61    For keyword ma
+00016490: 7463 6869 6e67 2028 666f 7263 6520 776f  tching (force wo
+000164a0: 7264 2062 7265 616b 2062 6566 6f72 6520  rd break before 
+000164b0: 616e 6420 6166 7465 7220 7468 6520 6d61  and after the ma
+000164c0: 7463 6865 6420 7374 7269 6e67 292c 0a20  tched string),. 
+000164d0: 2020 2075 7365 203a 636c 6173 733a 604b     use :class:`K
+000164e0: 6579 776f 7264 6020 6f72 203a 636c 6173  eyword` or :clas
+000164f0: 733a 6043 6173 656c 6573 734b 6579 776f  s:`CaselessKeywo
+00016500: 7264 602e 0a20 2020 2022 2222 0a0a 2020  rd`..    """..  
+00016510: 2020 6465 6620 5f5f 6e65 775f 5f28 636c    def __new__(cl
+00016520: 732c 206d 6174 6368 5f73 7472 696e 673a  s, match_string:
+00016530: 2073 7472 203d 2022 222c 202a 2c20 6d61   str = "", *, ma
+00016540: 7463 6853 7472 696e 673a 2073 7472 203d  tchString: str =
+00016550: 2022 2229 3a0a 2020 2020 2020 2020 2320   ""):.        # 
+00016560: 5065 7266 6f72 6d61 6e63 6520 7475 6e69  Performance tuni
+00016570: 6e67 3a20 7365 6c65 6374 2061 2073 7562  ng: select a sub
+00016580: 636c 6173 7320 7769 7468 206f 7074 696d  class with optim
+00016590: 697a 6564 2070 6172 7365 496d 706c 0a20  ized parseImpl. 
+000165a0: 2020 2020 2020 2069 6620 636c 7320 6973         if cls is
+000165b0: 204c 6974 6572 616c 3a0a 2020 2020 2020   Literal:.      
+000165c0: 2020 2020 2020 6d61 7463 685f 7374 7269        match_stri
+000165d0: 6e67 203d 206d 6174 6368 5374 7269 6e67  ng = matchString
+000165e0: 206f 7220 6d61 7463 685f 7374 7269 6e67   or match_string
+000165f0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00016600: 6e6f 7420 6d61 7463 685f 7374 7269 6e67  not match_string
+00016610: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00016620: 2020 7265 7475 726e 2073 7570 6572 2829    return super()
+00016630: 2e5f 5f6e 6577 5f5f 2845 6d70 7479 290a  .__new__(Empty).
+00016640: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+00016650: 656e 286d 6174 6368 5f73 7472 696e 6729  en(match_string)
+00016660: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
+00016670: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
+00016680: 7065 7228 292e 5f5f 6e65 775f 5f28 5f53  per().__new__(_S
+00016690: 696e 676c 6543 6861 724c 6974 6572 616c  ingleCharLiteral
+000166a0: 290a 0a20 2020 2020 2020 2023 2044 6566  )..        # Def
+000166b0: 6175 6c74 2062 6568 6176 696f 720a 2020  ault behavior.  
+000166c0: 2020 2020 2020 7265 7475 726e 2073 7570        return sup
+000166d0: 6572 2829 2e5f 5f6e 6577 5f5f 2863 6c73  er().__new__(cls
+000166e0: 290a 0a20 2020 2023 204e 6565 6465 6420  )..    # Needed 
+000166f0: 746f 206d 616b 6520 636f 7079 2e63 6f70  to make copy.cop
+00016700: 7928 2920 776f 726b 2063 6f72 7265 6374  y() work correct
+00016710: 6c79 2069 6620 7765 2063 7573 746f 6d69  ly if we customi
+00016720: 7a65 205f 5f6e 6577 5f5f 0a20 2020 2064  ze __new__.    d
+00016730: 6566 205f 5f67 6574 6e65 7761 7267 735f  ef __getnewargs_
+00016740: 5f28 7365 6c66 293a 0a20 2020 2020 2020  _(self):.       
+00016750: 2072 6574 7572 6e20 2873 656c 662e 6d61   return (self.ma
+00016760: 7463 682c 290a 0a20 2020 2064 6566 205f  tch,)..    def _
+00016770: 5f69 6e69 745f 5f28 7365 6c66 2c20 6d61  _init__(self, ma
+00016780: 7463 685f 7374 7269 6e67 3a20 7374 7220  tch_string: str 
+00016790: 3d20 2222 2c20 2a2c 206d 6174 6368 5374  = "", *, matchSt
+000167a0: 7269 6e67 3a20 7374 7220 3d20 2222 293a  ring: str = ""):
+000167b0: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+000167c0: 2e5f 5f69 6e69 745f 5f28 290a 2020 2020  .__init__().    
+000167d0: 2020 2020 6d61 7463 685f 7374 7269 6e67      match_string
+000167e0: 203d 206d 6174 6368 5374 7269 6e67 206f   = matchString o
+000167f0: 7220 6d61 7463 685f 7374 7269 6e67 0a20  r match_string. 
+00016800: 2020 2020 2020 2073 656c 662e 6d61 7463         self.matc
+00016810: 6820 3d20 6d61 7463 685f 7374 7269 6e67  h = match_string
+00016820: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
+00016830: 7463 684c 656e 203d 206c 656e 286d 6174  tchLen = len(mat
+00016840: 6368 5f73 7472 696e 6729 0a20 2020 2020  ch_string).     
+00016850: 2020 2073 656c 662e 6669 7273 744d 6174     self.firstMat
+00016860: 6368 4368 6172 203d 206d 6174 6368 5f73  chChar = match_s
+00016870: 7472 696e 675b 3a31 5d0a 2020 2020 2020  tring[:1].      
+00016880: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
+00016890: 2245 7870 6563 7465 6420 2220 2b20 7365  "Expected " + se
+000168a0: 6c66 2e6e 616d 650a 2020 2020 2020 2020  lf.name.        
+000168b0: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
+000168c0: 7074 7920 3d20 4661 6c73 650a 2020 2020  pty = False.    
+000168d0: 2020 2020 7365 6c66 2e6d 6179 496e 6465      self.mayInde
+000168e0: 7845 7272 6f72 203d 2046 616c 7365 0a0a  xError = False..
+000168f0: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
+00016900: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
+00016910: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
+00016920: 2020 2072 6574 7572 6e20 7265 7072 2873     return repr(s
+00016930: 656c 662e 6d61 7463 6829 0a0a 2020 2020  elf.match)..    
+00016940: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
+00016950: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
+00016960: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
+00016970: 6529 3a0a 2020 2020 2020 2020 6966 2069  e):.        if i
+00016980: 6e73 7472 696e 675b 6c6f 635d 203d 3d20  nstring[loc] == 
+00016990: 7365 6c66 2e66 6972 7374 4d61 7463 6843  self.firstMatchC
+000169a0: 6861 7220 616e 6420 696e 7374 7269 6e67  har and instring
+000169b0: 2e73 7461 7274 7377 6974 6828 0a20 2020  .startswith(.   
+000169c0: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+000169d0: 7463 682c 206c 6f63 0a20 2020 2020 2020  tch, loc.       
+000169e0: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
+000169f0: 7265 7475 726e 206c 6f63 202b 2073 656c  return loc + sel
+00016a00: 662e 6d61 7463 684c 656e 2c20 7365 6c66  f.matchLen, self
+00016a10: 2e6d 6174 6368 0a20 2020 2020 2020 2072  .match.        r
+00016a20: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
+00016a30: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
+00016a40: 632c 2073 656c 662e 6572 726d 7367 2c20  c, self.errmsg, 
+00016a50: 7365 6c66 290a 0a0a 636c 6173 7320 456d  self)...class Em
+00016a60: 7074 7928 4c69 7465 7261 6c29 3a0a 2020  pty(Literal):.  
+00016a70: 2020 2222 220a 2020 2020 416e 2065 6d70    """.    An emp
+00016a80: 7479 2074 6f6b 656e 2c20 7769 6c6c 2061  ty token, will a
+00016a90: 6c77 6179 7320 6d61 7463 682e 0a20 2020  lways match..   
+00016aa0: 2022 2222 0a0a 2020 2020 6465 6620 5f5f   """..    def __
+00016ab0: 696e 6974 5f5f 2873 656c 662c 206d 6174  init__(self, mat
+00016ac0: 6368 5f73 7472 696e 673d 2222 2c20 2a2c  ch_string="", *,
+00016ad0: 206d 6174 6368 5374 7269 6e67 3d22 2229   matchString="")
+00016ae0: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
+00016af0: 292e 5f5f 696e 6974 5f5f 2822 2229 0a20  ).__init__(""). 
+00016b00: 2020 2020 2020 2073 656c 662e 6d61 7952         self.mayR
+00016b10: 6574 7572 6e45 6d70 7479 203d 2054 7275  eturnEmpty = Tru
+00016b20: 650a 2020 2020 2020 2020 7365 6c66 2e6d  e.        self.m
+00016b30: 6179 496e 6465 7845 7272 6f72 203d 2046  ayIndexError = F
+00016b40: 616c 7365 0a0a 2020 2020 6465 6620 5f67  alse..    def _g
+00016b50: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
+00016b60: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
+00016b70: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00016b80: 2245 6d70 7479 220a 0a20 2020 2064 6566  "Empty"..    def
+00016b90: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
+00016ba0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+00016bb0: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
+00016bc0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00016bd0: 7375 7065 7228 4c69 7465 7261 6c2c 2073  super(Literal, s
+00016be0: 656c 6629 2e70 6172 7365 496d 706c 2869  elf).parseImpl(i
+00016bf0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+00016c00: 4163 7469 6f6e 7329 0a0a 0a63 6c61 7373  Actions)...class
+00016c10: 205f 5369 6e67 6c65 4368 6172 4c69 7465   _SingleCharLite
+00016c20: 7261 6c28 4c69 7465 7261 6c29 3a0a 2020  ral(Literal):.  
+00016c30: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+00016c40: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+00016c50: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+00016c60: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
+00016c70: 2069 6e73 7472 696e 675b 6c6f 635d 203d   instring[loc] =
+00016c80: 3d20 7365 6c66 2e66 6972 7374 4d61 7463  = self.firstMatc
+00016c90: 6843 6861 723a 0a20 2020 2020 2020 2020  hChar:.         
+00016ca0: 2020 2072 6574 7572 6e20 6c6f 6320 2b20     return loc + 
+00016cb0: 312c 2073 656c 662e 6d61 7463 680a 2020  1, self.match.  
+00016cc0: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+00016cd0: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
+00016ce0: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
+00016cf0: 7272 6d73 672c 2073 656c 6629 0a0a 0a50  rrmsg, self)...P
+00016d00: 6172 7365 7245 6c65 6d65 6e74 2e5f 6c69  arserElement._li
+00016d10: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
+00016d20: 203d 204c 6974 6572 616c 0a0a 0a63 6c61   = Literal...cla
+00016d30: 7373 204b 6579 776f 7264 2854 6f6b 656e  ss Keyword(Token
+00016d40: 293a 0a20 2020 2022 2222 0a20 2020 2054  ):.    """.    T
+00016d50: 6f6b 656e 2074 6f20 6578 6163 746c 7920  oken to exactly 
+00016d60: 6d61 7463 6820 6120 7370 6563 6966 6965  match a specifie
+00016d70: 6420 7374 7269 6e67 2061 7320 6120 6b65  d string as a ke
+00016d80: 7977 6f72 642c 2074 6861 7420 6973 2c0a  yword, that is,.
+00016d90: 2020 2020 6974 206d 7573 7420 6265 2069      it must be i
+00016da0: 6d6d 6564 6961 7465 6c79 2070 7265 6365  mmediately prece
+00016db0: 6465 6420 616e 6420 666f 6c6c 6f77 6564  ded and followed
+00016dc0: 2062 7920 7768 6974 6573 7061 6365 206f   by whitespace o
+00016dd0: 720a 2020 2020 6e6f 6e2d 6b65 7977 6f72  r.    non-keywor
+00016de0: 6420 6368 6172 6163 7465 7273 2e20 436f  d characters. Co
+00016df0: 6d70 6172 6520 7769 7468 203a 636c 6173  mpare with :clas
+00016e00: 733a 604c 6974 6572 616c 603a 0a0a 2020  s:`Literal`:..  
+00016e10: 2020 2d20 6060 4c69 7465 7261 6c28 2269    - ``Literal("i
+00016e20: 6622 2960 6020 7769 6c6c 206d 6174 6368  f")`` will match
+00016e30: 2074 6865 206c 6561 6469 6e67 2060 6027   the leading ``'
+00016e40: 6966 2760 6020 696e 0a20 2020 2020 2060  if'`` in.      `
+00016e50: 6027 6966 416e 644f 6e6c 7949 6627 6060  `'ifAndOnlyIf'``
+00016e60: 2e0a 2020 2020 2d20 6060 4b65 7977 6f72  ..    - ``Keywor
+00016e70: 6428 2269 6622 2960 6020 7769 6c6c 206e  d("if")`` will n
+00016e80: 6f74 3b20 6974 2077 696c 6c20 6f6e 6c79  ot; it will only
+00016e90: 206d 6174 6368 2074 6865 206c 6561 6469   match the leadi
+00016ea0: 6e67 0a20 2020 2020 2060 6027 6966 2760  ng.      ``'if'`
+00016eb0: 6020 696e 2060 6027 6966 2078 3d31 2760  ` in ``'if x=1'`
+00016ec0: 602c 206f 7220 6060 2769 6628 793d 3d32  `, or ``'if(y==2
+00016ed0: 2927 6060 0a0a 2020 2020 4163 6365 7074  )'``..    Accept
+00016ee0: 7320 7477 6f20 6f70 7469 6f6e 616c 2063  s two optional c
+00016ef0: 6f6e 7374 7275 6374 6f72 2061 7267 756d  onstructor argum
+00016f00: 656e 7473 2069 6e20 6164 6469 7469 6f6e  ents in addition
+00016f10: 2074 6f20 7468 650a 2020 2020 6b65 7977   to the.    keyw
+00016f20: 6f72 6420 7374 7269 6e67 3a0a 0a20 2020  ord string:..   
+00016f30: 202d 2060 6069 6465 6e74 5f63 6861 7273   - ``ident_chars
+00016f40: 6060 2069 7320 6120 7374 7269 6e67 206f  `` is a string o
+00016f50: 6620 6368 6172 6163 7465 7273 2074 6861  f characters tha
+00016f60: 7420 776f 756c 6420 6265 2076 616c 6964  t would be valid
+00016f70: 0a20 2020 2020 2069 6465 6e74 6966 6965  .      identifie
+00016f80: 7220 6368 6172 6163 7465 7273 2c20 6465  r characters, de
+00016f90: 6661 756c 7469 6e67 2074 6f20 616c 6c20  faulting to all 
+00016fa0: 616c 7068 616e 756d 6572 6963 7320 2b20  alphanumerics + 
+00016fb0: 225f 2220 616e 640a 2020 2020 2020 2224  "_" and.      "$
+00016fc0: 220a 2020 2020 2d20 6060 6361 7365 6c65  ".    - ``casele
+00016fd0: 7373 6060 2061 6c6c 6f77 7320 6361 7365  ss`` allows case
+00016fe0: 2d69 6e73 656e 7369 7469 7665 206d 6174  -insensitive mat
+00016ff0: 6368 696e 672c 2064 6566 6175 6c74 2069  ching, default i
+00017000: 7320 6060 4661 6c73 6560 602e 0a0a 2020  s ``False``...  
+00017010: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
+00017020: 2020 2020 204b 6579 776f 7264 2822 7374       Keyword("st
+00017030: 6172 7422 292e 7061 7273 655f 7374 7269  art").parse_stri
+00017040: 6e67 2822 7374 6172 7422 2920 2023 202d  ng("start")  # -
+00017050: 3e20 5b27 7374 6172 7427 5d0a 2020 2020  > ['start'].    
+00017060: 2020 2020 4b65 7977 6f72 6428 2273 7461      Keyword("sta
+00017070: 7274 2229 2e70 6172 7365 5f73 7472 696e  rt").parse_strin
+00017080: 6728 2273 7461 7274 696e 6722 2920 2023  g("starting")  #
+00017090: 202d 3e20 4578 6365 7074 696f 6e0a 0a20   -> Exception.. 
+000170a0: 2020 2046 6f72 2063 6173 652d 696e 7365     For case-inse
+000170b0: 6e73 6974 6976 6520 6d61 7463 6869 6e67  nsitive matching
+000170c0: 2c20 7573 6520 3a63 6c61 7373 3a60 4361  , use :class:`Ca
+000170d0: 7365 6c65 7373 4b65 7977 6f72 6460 2e0a  selessKeyword`..
+000170e0: 2020 2020 2222 220a 0a20 2020 2044 4546      """..    DEF
+000170f0: 4155 4c54 5f4b 4559 574f 5244 5f43 4841  AULT_KEYWORD_CHA
+00017100: 5253 203d 2061 6c70 6861 6e75 6d73 202b  RS = alphanums +
+00017110: 2022 5f24 220a 0a20 2020 2064 6566 205f   "_$"..    def _
+00017120: 5f69 6e69 745f 5f28 0a20 2020 2020 2020  _init__(.       
+00017130: 2073 656c 662c 0a20 2020 2020 2020 206d   self,.        m
+00017140: 6174 6368 5f73 7472 696e 673a 2073 7472  atch_string: str
+00017150: 203d 2022 222c 0a20 2020 2020 2020 2069   = "",.        i
+00017160: 6465 6e74 5f63 6861 7273 3a20 7479 7069  dent_chars: typi
+00017170: 6e67 2e4f 7074 696f 6e61 6c5b 7374 725d  ng.Optional[str]
+00017180: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00017190: 2063 6173 656c 6573 733a 2062 6f6f 6c20   caseless: bool 
+000171a0: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
+000171b0: 202a 2c0a 2020 2020 2020 2020 6d61 7463   *,.        matc
+000171c0: 6853 7472 696e 673a 2073 7472 203d 2022  hString: str = "
+000171d0: 222c 0a20 2020 2020 2020 2069 6465 6e74  ",.        ident
+000171e0: 4368 6172 733a 2074 7970 696e 672e 4f70  Chars: typing.Op
+000171f0: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
+00017200: 6e65 2c0a 2020 2020 293a 0a20 2020 2020  ne,.    ):.     
+00017210: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
+00017220: 745f 5f28 290a 2020 2020 2020 2020 6964  t__().        id
+00017230: 656e 7443 6861 7273 203d 2069 6465 6e74  entChars = ident
+00017240: 4368 6172 7320 6f72 2069 6465 6e74 5f63  Chars or ident_c
+00017250: 6861 7273 0a20 2020 2020 2020 2069 6620  hars.        if 
+00017260: 6964 656e 7443 6861 7273 2069 7320 4e6f  identChars is No
+00017270: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+00017280: 6964 656e 7443 6861 7273 203d 204b 6579  identChars = Key
+00017290: 776f 7264 2e44 4546 4155 4c54 5f4b 4559  word.DEFAULT_KEY
+000172a0: 574f 5244 5f43 4841 5253 0a20 2020 2020  WORD_CHARS.     
+000172b0: 2020 206d 6174 6368 5f73 7472 696e 6720     match_string 
+000172c0: 3d20 6d61 7463 6853 7472 696e 6720 6f72  = matchString or
+000172d0: 206d 6174 6368 5f73 7472 696e 670a 2020   match_string.  
+000172e0: 2020 2020 2020 7365 6c66 2e6d 6174 6368        self.match
+000172f0: 203d 206d 6174 6368 5f73 7472 696e 670a   = match_string.
+00017300: 2020 2020 2020 2020 7365 6c66 2e6d 6174          self.mat
+00017310: 6368 4c65 6e20 3d20 6c65 6e28 6d61 7463  chLen = len(matc
+00017320: 685f 7374 7269 6e67 290a 2020 2020 2020  h_string).      
+00017330: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+00017340: 2020 2073 656c 662e 6669 7273 744d 6174     self.firstMat
+00017350: 6368 4368 6172 203d 206d 6174 6368 5f73  chChar = match_s
+00017360: 7472 696e 675b 305d 0a20 2020 2020 2020  tring[0].       
+00017370: 2065 7863 6570 7420 496e 6465 7845 7272   except IndexErr
+00017380: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
+00017390: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+000173a0: 2822 6e75 6c6c 2073 7472 696e 6720 7061  ("null string pa
+000173b0: 7373 6564 2074 6f20 4b65 7977 6f72 643b  ssed to Keyword;
+000173c0: 2075 7365 2045 6d70 7479 2829 2069 6e73   use Empty() ins
+000173d0: 7465 6164 2229 0a20 2020 2020 2020 2073  tead").        s
+000173e0: 656c 662e 6572 726d 7367 203d 2066 2245  elf.errmsg = f"E
+000173f0: 7870 6563 7465 6420 7b74 7970 6528 7365  xpected {type(se
+00017400: 6c66 292e 5f5f 6e61 6d65 5f5f 7d20 7b73  lf).__name__} {s
+00017410: 656c 662e 6e61 6d65 7d22 0a20 2020 2020  elf.name}".     
+00017420: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
+00017430: 6e45 6d70 7479 203d 2046 616c 7365 0a20  nEmpty = False. 
+00017440: 2020 2020 2020 2073 656c 662e 6d61 7949         self.mayI
+00017450: 6e64 6578 4572 726f 7220 3d20 4661 6c73  ndexError = Fals
+00017460: 650a 2020 2020 2020 2020 7365 6c66 2e63  e.        self.c
+00017470: 6173 656c 6573 7320 3d20 6361 7365 6c65  aseless = casele
+00017480: 7373 0a20 2020 2020 2020 2069 6620 6361  ss.        if ca
+00017490: 7365 6c65 7373 3a0a 2020 2020 2020 2020  seless:.        
+000174a0: 2020 2020 7365 6c66 2e63 6173 656c 6573      self.caseles
+000174b0: 736d 6174 6368 203d 206d 6174 6368 5f73  smatch = match_s
+000174c0: 7472 696e 672e 7570 7065 7228 290a 2020  tring.upper().  
+000174d0: 2020 2020 2020 2020 2020 6964 656e 7443            identC
+000174e0: 6861 7273 203d 2069 6465 6e74 4368 6172  hars = identChar
+000174f0: 732e 7570 7065 7228 290a 2020 2020 2020  s.upper().      
+00017500: 2020 7365 6c66 2e69 6465 6e74 4368 6172    self.identChar
+00017510: 7320 3d20 7365 7428 6964 656e 7443 6861  s = set(identCha
+00017520: 7273 290a 0a20 2020 2064 6566 205f 6765  rs)..    def _ge
+00017530: 6e65 7261 7465 4465 6661 756c 744e 616d  nerateDefaultNam
+00017540: 6528 7365 6c66 2920 2d3e 2073 7472 3a0a  e(self) -> str:.
+00017550: 2020 2020 2020 2020 7265 7475 726e 2072          return r
+00017560: 6570 7228 7365 6c66 2e6d 6174 6368 290a  epr(self.match).
+00017570: 0a20 2020 2064 6566 2070 6172 7365 496d  .    def parseIm
+00017580: 706c 2873 656c 662c 2069 6e73 7472 696e  pl(self, instrin
+00017590: 672c 206c 6f63 2c20 646f 4163 7469 6f6e  g, loc, doAction
+000175a0: 733d 5472 7565 293a 0a20 2020 2020 2020  s=True):.       
+000175b0: 2065 7272 6d73 6720 3d20 7365 6c66 2e65   errmsg = self.e
+000175c0: 7272 6d73 670a 2020 2020 2020 2020 6572  rrmsg.        er
+000175d0: 726c 6f63 203d 206c 6f63 0a20 2020 2020  rloc = loc.     
+000175e0: 2020 2069 6620 7365 6c66 2e63 6173 656c     if self.casel
+000175f0: 6573 733a 0a20 2020 2020 2020 2020 2020  ess:.           
+00017600: 2069 6620 696e 7374 7269 6e67 5b6c 6f63   if instring[loc
+00017610: 203a 206c 6f63 202b 2073 656c 662e 6d61   : loc + self.ma
+00017620: 7463 684c 656e 5d2e 7570 7065 7228 2920  tchLen].upper() 
+00017630: 3d3d 2073 656c 662e 6361 7365 6c65 7373  == self.caseless
+00017640: 6d61 7463 683a 0a20 2020 2020 2020 2020  match:.         
+00017650: 2020 2020 2020 2069 6620 6c6f 6320 3d3d         if loc ==
+00017660: 2030 206f 7220 696e 7374 7269 6e67 5b6c   0 or instring[l
+00017670: 6f63 202d 2031 5d2e 7570 7065 7228 2920  oc - 1].upper() 
+00017680: 6e6f 7420 696e 2073 656c 662e 6964 656e  not in self.iden
+00017690: 7443 6861 7273 3a0a 2020 2020 2020 2020  tChars:.        
+000176a0: 2020 2020 2020 2020 2020 2020 6966 2028              if (
+000176b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000176c0: 2020 2020 2020 2020 206c 6f63 203e 3d20           loc >= 
+000176d0: 6c65 6e28 696e 7374 7269 6e67 2920 2d20  len(instring) - 
+000176e0: 7365 6c66 2e6d 6174 6368 4c65 6e0a 2020  self.matchLen.  
 000176f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017700: 2072 6574 7572 6e20 6c6f 6320 2b20 7365   return loc + se
-00017710: 6c66 2e6d 6174 6368 4c65 6e2c 2073 656c  lf.matchLen, sel
-00017720: 662e 6d61 7463 680a 2020 2020 2020 2020  f.match.        
-00017730: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00017740: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00017750: 2020 2020 2020 2020 2020 2320 666f 6c6c            # foll
-00017760: 6f77 6564 2062 7920 6b65 7977 6f72 6420  owed by keyword 
-00017770: 6368 6172 0a20 2020 2020 2020 2020 2020  char.           
-00017780: 2020 2020 2020 2020 2020 2020 2065 7272               err
-00017790: 6d73 6720 2b3d 2022 2c20 7761 7320 696d  msg += ", was im
-000177a0: 6d65 6469 6174 656c 7920 666f 6c6c 6f77  mediately follow
-000177b0: 6564 2062 7920 6b65 7977 6f72 6420 6368  ed by keyword ch
-000177c0: 6172 6163 7465 7222 0a20 2020 2020 2020  aracter".       
-000177d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000177e0: 2065 7272 6c6f 6320 3d20 6c6f 6320 2b20   errloc = loc + 
-000177f0: 7365 6c66 2e6d 6174 6368 4c65 6e0a 2020  self.matchLen.  
-00017800: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00017810: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00017820: 2020 2020 2020 2020 2320 7072 6563 6564          # preced
-00017830: 6564 2062 7920 6b65 7977 6f72 6420 6368  ed by keyword ch
-00017840: 6172 0a20 2020 2020 2020 2020 2020 2020  ar.             
-00017850: 2020 2020 2020 2065 7272 6d73 6720 2b3d         errmsg +=
-00017860: 2022 2c20 6b65 7977 6f72 6420 7761 7320   ", keyword was 
-00017870: 696d 6d65 6469 6174 656c 7920 7072 6563  immediately prec
-00017880: 6564 6564 2062 7920 6b65 7977 6f72 6420  eded by keyword 
-00017890: 6368 6172 6163 7465 7222 0a20 2020 2020  character".     
-000178a0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000178b0: 7272 6c6f 6320 3d20 6c6f 6320 2d20 310a  rrloc = loc - 1.
-000178c0: 2020 2020 2020 2020 2020 2020 2320 656c              # el
-000178d0: 7365 206e 6f20 6d61 7463 6820 6a75 7374  se no match just
-000178e0: 2072 6169 7365 2070 6c61 696e 2065 7863   raise plain exc
-000178f0: 6570 7469 6f6e 0a0a 2020 2020 2020 2020  eption..        
-00017900: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00017910: 2020 6966 2028 0a20 2020 2020 2020 2020    if (.         
-00017920: 2020 2020 2020 2069 6e73 7472 696e 675b         instring[
-00017930: 6c6f 635d 203d 3d20 7365 6c66 2e66 6972  loc] == self.fir
-00017940: 7374 4d61 7463 6843 6861 720a 2020 2020  stMatchChar.    
-00017950: 2020 2020 2020 2020 2020 2020 616e 6420              and 
-00017960: 7365 6c66 2e6d 6174 6368 4c65 6e20 3d3d  self.matchLen ==
-00017970: 2031 0a20 2020 2020 2020 2020 2020 2020   1.             
-00017980: 2020 206f 7220 696e 7374 7269 6e67 2e73     or instring.s
-00017990: 7461 7274 7377 6974 6828 7365 6c66 2e6d  tartswith(self.m
-000179a0: 6174 6368 2c20 6c6f 6329 0a20 2020 2020  atch, loc).     
-000179b0: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
-000179c0: 2020 2020 2020 2020 2020 6966 206c 6f63            if loc
-000179d0: 203d 3d20 3020 6f72 2069 6e73 7472 696e   == 0 or instrin
-000179e0: 675b 6c6f 6320 2d20 315d 206e 6f74 2069  g[loc - 1] not i
-000179f0: 6e20 7365 6c66 2e69 6465 6e74 4368 6172  n self.identChar
-00017a00: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-00017a10: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
-00017a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017a30: 2020 2020 6c6f 6320 3e3d 206c 656e 2869      loc >= len(i
-00017a40: 6e73 7472 696e 6729 202d 2073 656c 662e  nstring) - self.
-00017a50: 6d61 7463 684c 656e 0a20 2020 2020 2020  matchLen.       
-00017a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017a70: 206f 7220 696e 7374 7269 6e67 5b6c 6f63   or instring[loc
-00017a80: 202b 2073 656c 662e 6d61 7463 684c 656e   + self.matchLen
-00017a90: 5d20 6e6f 7420 696e 2073 656c 662e 6964  ] not in self.id
-00017aa0: 656e 7443 6861 7273 0a20 2020 2020 2020  entChars.       
-00017ab0: 2020 2020 2020 2020 2020 2020 2029 3a0a               ):.
-00017ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ad0: 2020 2020 2020 2020 7265 7475 726e 206c          return l
-00017ae0: 6f63 202b 2073 656c 662e 6d61 7463 684c  oc + self.matchL
-00017af0: 656e 2c20 7365 6c66 2e6d 6174 6368 0a20  en, self.match. 
-00017b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b10: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00017700: 2020 2020 2020 6f72 2069 6e73 7472 696e        or instrin
+00017710: 675b 6c6f 6320 2b20 7365 6c66 2e6d 6174  g[loc + self.mat
+00017720: 6368 4c65 6e5d 2e75 7070 6572 2829 206e  chLen].upper() n
+00017730: 6f74 2069 6e20 7365 6c66 2e69 6465 6e74  ot in self.ident
+00017740: 4368 6172 730a 2020 2020 2020 2020 2020  Chars.          
+00017750: 2020 2020 2020 2020 2020 293a 0a20 2020            ):.   
+00017760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017770: 2020 2020 2072 6574 7572 6e20 6c6f 6320       return loc 
+00017780: 2b20 7365 6c66 2e6d 6174 6368 4c65 6e2c  + self.matchLen,
+00017790: 2073 656c 662e 6d61 7463 680a 2020 2020   self.match.    
+000177a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000177b0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+000177c0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+000177d0: 666f 6c6c 6f77 6564 2062 7920 6b65 7977  followed by keyw
+000177e0: 6f72 6420 6368 6172 0a20 2020 2020 2020  ord char.       
+000177f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017800: 2065 7272 6d73 6720 2b3d 2022 2c20 7761   errmsg += ", wa
+00017810: 7320 696d 6d65 6469 6174 656c 7920 666f  s immediately fo
+00017820: 6c6c 6f77 6564 2062 7920 6b65 7977 6f72  llowed by keywor
+00017830: 6420 6368 6172 6163 7465 7222 0a20 2020  d character".   
+00017840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017850: 2020 2020 2065 7272 6c6f 6320 3d20 6c6f       errloc = lo
+00017860: 6320 2b20 7365 6c66 2e6d 6174 6368 4c65  c + self.matchLe
+00017870: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
+00017880: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00017890: 2020 2020 2020 2020 2020 2020 2320 7072              # pr
+000178a0: 6563 6564 6564 2062 7920 6b65 7977 6f72  eceded by keywor
+000178b0: 6420 6368 6172 0a20 2020 2020 2020 2020  d char.         
+000178c0: 2020 2020 2020 2020 2020 2065 7272 6d73             errms
+000178d0: 6720 2b3d 2022 2c20 6b65 7977 6f72 6420  g += ", keyword 
+000178e0: 7761 7320 696d 6d65 6469 6174 656c 7920  was immediately 
+000178f0: 7072 6563 6564 6564 2062 7920 6b65 7977  preceded by keyw
+00017900: 6f72 6420 6368 6172 6163 7465 7222 0a20  ord character". 
+00017910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017920: 2020 2065 7272 6c6f 6320 3d20 6c6f 6320     errloc = loc 
+00017930: 2d20 310a 2020 2020 2020 2020 2020 2020  - 1.            
+00017940: 2320 656c 7365 206e 6f20 6d61 7463 6820  # else no match 
+00017950: 6a75 7374 2072 6169 7365 2070 6c61 696e  just raise plain
+00017960: 2065 7863 6570 7469 6f6e 0a0a 2020 2020   exception..    
+00017970: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00017980: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
+00017990: 2020 2020 2020 2020 2020 2069 6e73 7472             instr
+000179a0: 696e 675b 6c6f 635d 203d 3d20 7365 6c66  ing[loc] == self
+000179b0: 2e66 6972 7374 4d61 7463 6843 6861 720a  .firstMatchChar.
+000179c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000179d0: 616e 6420 7365 6c66 2e6d 6174 6368 4c65  and self.matchLe
+000179e0: 6e20 3d3d 2031 0a20 2020 2020 2020 2020  n == 1.         
+000179f0: 2020 2020 2020 206f 7220 696e 7374 7269         or instri
+00017a00: 6e67 2e73 7461 7274 7377 6974 6828 7365  ng.startswith(se
+00017a10: 6c66 2e6d 6174 6368 2c20 6c6f 6329 0a20  lf.match, loc). 
+00017a20: 2020 2020 2020 2020 2020 2029 3a0a 2020             ):.  
+00017a30: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00017a40: 206c 6f63 203d 3d20 3020 6f72 2069 6e73   loc == 0 or ins
+00017a50: 7472 696e 675b 6c6f 6320 2d20 315d 206e  tring[loc - 1] n
+00017a60: 6f74 2069 6e20 7365 6c66 2e69 6465 6e74  ot in self.ident
+00017a70: 4368 6172 733a 0a20 2020 2020 2020 2020  Chars:.         
+00017a80: 2020 2020 2020 2020 2020 2069 6620 280a             if (.
+00017a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017aa0: 2020 2020 2020 2020 6c6f 6320 3e3d 206c          loc >= l
+00017ab0: 656e 2869 6e73 7472 696e 6729 202d 2073  en(instring) - s
+00017ac0: 656c 662e 6d61 7463 684c 656e 0a20 2020  elf.matchLen.   
+00017ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ae0: 2020 2020 206f 7220 696e 7374 7269 6e67       or instring
+00017af0: 5b6c 6f63 202b 2073 656c 662e 6d61 7463  [loc + self.matc
+00017b00: 684c 656e 5d20 6e6f 7420 696e 2073 656c  hLen] not in sel
+00017b10: 662e 6964 656e 7443 6861 7273 0a20 2020  f.identChars.   
 00017b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b30: 2023 2066 6f6c 6c6f 7765 6420 6279 206b   # followed by k
-00017b40: 6579 776f 7264 2063 6861 720a 2020 2020  eyword char.    
-00017b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b60: 2020 2020 6572 726d 7367 202b 3d20 280a      errmsg += (.
-00017b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b80: 2020 2020 2020 2020 2020 2020 222c 206b              ", k
-00017b90: 6579 776f 7264 2077 6173 2069 6d6d 6564  eyword was immed
-00017ba0: 6961 7465 6c79 2066 6f6c 6c6f 7765 6420  iately followed 
-00017bb0: 6279 206b 6579 776f 7264 2063 6861 7261  by keyword chara
-00017bc0: 6374 6572 220a 2020 2020 2020 2020 2020  cter".          
-00017bd0: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-00017be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017bf0: 2020 2020 2020 2020 6572 726c 6f63 203d          errloc =
-00017c00: 206c 6f63 202b 2073 656c 662e 6d61 7463   loc + self.matc
-00017c10: 684c 656e 0a20 2020 2020 2020 2020 2020  hLen.           
-00017c20: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00017c30: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00017c40: 2070 7265 6365 6465 6420 6279 206b 6579   preceded by key
-00017c50: 776f 7264 2063 6861 720a 2020 2020 2020  word char.      
-00017c60: 2020 2020 2020 2020 2020 2020 2020 6572                er
-00017c70: 726d 7367 202b 3d20 222c 206b 6579 776f  rmsg += ", keywo
-00017c80: 7264 2077 6173 2069 6d6d 6564 6961 7465  rd was immediate
-00017c90: 6c79 2070 7265 6365 6465 6420 6279 206b  ly preceded by k
-00017ca0: 6579 776f 7264 2063 6861 7261 6374 6572  eyword character
-00017cb0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00017cc0: 2020 2020 2020 6572 726c 6f63 203d 206c        errloc = l
-00017cd0: 6f63 202d 2031 0a20 2020 2020 2020 2020  oc - 1.         
-00017ce0: 2020 2023 2065 6c73 6520 6e6f 206d 6174     # else no mat
-00017cf0: 6368 206a 7573 7420 7261 6973 6520 706c  ch just raise pl
-00017d00: 6169 6e20 6578 6365 7074 696f 6e0a 0a20  ain exception.. 
-00017d10: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
-00017d20: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
-00017d30: 7269 6e67 2c20 6572 726c 6f63 2c20 6572  ring, errloc, er
-00017d40: 726d 7367 2c20 7365 6c66 290a 0a20 2020  rmsg, self)..   
-00017d50: 2040 7374 6174 6963 6d65 7468 6f64 0a20   @staticmethod. 
-00017d60: 2020 2064 6566 2073 6574 5f64 6566 6175     def set_defau
-00017d70: 6c74 5f6b 6579 776f 7264 5f63 6861 7273  lt_keyword_chars
-00017d80: 2863 6861 7273 2920 2d3e 204e 6f6e 653a  (chars) -> None:
-00017d90: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00017da0: 2020 2020 204f 7665 7272 6964 6573 2074       Overrides t
-00017db0: 6865 2064 6566 6175 6c74 2063 6861 7261  he default chara
-00017dc0: 6374 6572 7320 7573 6564 2062 7920 3a63  cters used by :c
-00017dd0: 6c61 7373 3a60 4b65 7977 6f72 6460 2065  lass:`Keyword` e
-00017de0: 7870 7265 7373 696f 6e73 2e0a 2020 2020  xpressions..    
-00017df0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00017e00: 4b65 7977 6f72 642e 4445 4641 554c 545f  Keyword.DEFAULT_
-00017e10: 4b45 5957 4f52 445f 4348 4152 5320 3d20  KEYWORD_CHARS = 
-00017e20: 6368 6172 730a 0a20 2020 2073 6574 4465  chars..    setDe
-00017e30: 6661 756c 744b 6579 776f 7264 4368 6172  faultKeywordChar
-00017e40: 7320 3d20 7365 745f 6465 6661 756c 745f  s = set_default_
-00017e50: 6b65 7977 6f72 645f 6368 6172 730a 0a0a  keyword_chars...
-00017e60: 636c 6173 7320 4361 7365 6c65 7373 4c69  class CaselessLi
-00017e70: 7465 7261 6c28 4c69 7465 7261 6c29 3a0a  teral(Literal):.
-00017e80: 2020 2020 2222 220a 2020 2020 546f 6b65      """.    Toke
-00017e90: 6e20 746f 206d 6174 6368 2061 2073 7065  n to match a spe
-00017ea0: 6369 6669 6564 2073 7472 696e 672c 2069  cified string, i
-00017eb0: 676e 6f72 696e 6720 6361 7365 206f 6620  gnoring case of 
-00017ec0: 6c65 7474 6572 732e 0a20 2020 204e 6f74  letters..    Not
-00017ed0: 653a 2074 6865 206d 6174 6368 6564 2072  e: the matched r
-00017ee0: 6573 756c 7473 2077 696c 6c20 616c 7761  esults will alwa
-00017ef0: 7973 2062 6520 696e 2074 6865 2063 6173  ys be in the cas
-00017f00: 6520 6f66 2074 6865 2067 6976 656e 0a20  e of the given. 
-00017f10: 2020 206d 6174 6368 2073 7472 696e 672c     match string,
-00017f20: 204e 4f54 2074 6865 2063 6173 6520 6f66   NOT the case of
-00017f30: 2074 6865 2069 6e70 7574 2074 6578 742e   the input text.
-00017f40: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
-00017f50: 0a20 2020 2020 2020 2043 6173 656c 6573  .        Caseles
-00017f60: 734c 6974 6572 616c 2822 434d 4422 295b  sLiteral("CMD")[
-00017f70: 312c 202e 2e2e 5d2e 7061 7273 655f 7374  1, ...].parse_st
-00017f80: 7269 6e67 2822 636d 6420 434d 4420 436d  ring("cmd CMD Cm
-00017f90: 6431 3022 290a 2020 2020 2020 2020 2320  d10").        # 
-00017fa0: 2d3e 205b 2743 4d44 272c 2027 434d 4427  -> ['CMD', 'CMD'
-00017fb0: 2c20 2743 4d44 275d 0a0a 2020 2020 2843  , 'CMD']..    (C
-00017fc0: 6f6e 7472 6173 7420 7769 7468 2065 7861  ontrast with exa
-00017fd0: 6d70 6c65 2066 6f72 203a 636c 6173 733a  mple for :class:
-00017fe0: 6043 6173 656c 6573 734b 6579 776f 7264  `CaselessKeyword
-00017ff0: 602e 290a 2020 2020 2222 220a 0a20 2020  `.).    """..   
-00018000: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
-00018010: 6c66 2c20 6d61 7463 685f 7374 7269 6e67  lf, match_string
-00018020: 3a20 7374 7220 3d20 2222 2c20 2a2c 206d  : str = "", *, m
-00018030: 6174 6368 5374 7269 6e67 3a20 7374 7220  atchString: str 
-00018040: 3d20 2222 293a 0a20 2020 2020 2020 206d  = ""):.        m
-00018050: 6174 6368 5f73 7472 696e 6720 3d20 6d61  atch_string = ma
-00018060: 7463 6853 7472 696e 6720 6f72 206d 6174  tchString or mat
-00018070: 6368 5f73 7472 696e 670a 2020 2020 2020  ch_string.      
-00018080: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-00018090: 5f5f 286d 6174 6368 5f73 7472 696e 672e  __(match_string.
-000180a0: 7570 7065 7228 2929 0a20 2020 2020 2020  upper()).       
-000180b0: 2023 2050 7265 7365 7276 6520 7468 6520   # Preserve the 
-000180c0: 6465 6669 6e69 6e67 206c 6974 6572 616c  defining literal
-000180d0: 2e0a 2020 2020 2020 2020 7365 6c66 2e72  ..        self.r
-000180e0: 6574 7572 6e53 7472 696e 6720 3d20 6d61  eturnString = ma
-000180f0: 7463 685f 7374 7269 6e67 0a20 2020 2020  tch_string.     
-00018100: 2020 2073 656c 662e 6572 726d 7367 203d     self.errmsg =
-00018110: 2022 4578 7065 6374 6564 2022 202b 2073   "Expected " + s
-00018120: 656c 662e 6e61 6d65 0a0a 2020 2020 6465  elf.name..    de
-00018130: 6620 7061 7273 6549 6d70 6c28 7365 6c66  f parseImpl(self
-00018140: 2c20 696e 7374 7269 6e67 2c20 6c6f 632c  , instring, loc,
-00018150: 2064 6f41 6374 696f 6e73 3d54 7275 6529   doActions=True)
-00018160: 3a0a 2020 2020 2020 2020 6966 2069 6e73  :.        if ins
-00018170: 7472 696e 675b 6c6f 6320 3a20 6c6f 6320  tring[loc : loc 
-00018180: 2b20 7365 6c66 2e6d 6174 6368 4c65 6e5d  + self.matchLen]
-00018190: 2e75 7070 6572 2829 203d 3d20 7365 6c66  .upper() == self
-000181a0: 2e6d 6174 6368 3a0a 2020 2020 2020 2020  .match:.        
-000181b0: 2020 2020 7265 7475 726e 206c 6f63 202b      return loc +
-000181c0: 2073 656c 662e 6d61 7463 684c 656e 2c20   self.matchLen, 
-000181d0: 7365 6c66 2e72 6574 7572 6e53 7472 696e  self.returnStrin
-000181e0: 670a 2020 2020 2020 2020 7261 6973 6520  g.        raise 
-000181f0: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
-00018200: 6e73 7472 696e 672c 206c 6f63 2c20 7365  nstring, loc, se
-00018210: 6c66 2e65 7272 6d73 672c 2073 656c 6629  lf.errmsg, self)
-00018220: 0a0a 0a63 6c61 7373 2043 6173 656c 6573  ...class Caseles
-00018230: 734b 6579 776f 7264 284b 6579 776f 7264  sKeyword(Keyword
-00018240: 293a 0a20 2020 2022 2222 0a20 2020 2043  ):.    """.    C
-00018250: 6173 656c 6573 7320 7665 7273 696f 6e20  aseless version 
-00018260: 6f66 203a 636c 6173 733a 604b 6579 776f  of :class:`Keywo
-00018270: 7264 602e 0a0a 2020 2020 4578 616d 706c  rd`...    Exampl
-00018280: 653a 3a0a 0a20 2020 2020 2020 2043 6173  e::..        Cas
-00018290: 656c 6573 734b 6579 776f 7264 2822 434d  elessKeyword("CM
-000182a0: 4422 295b 312c 202e 2e2e 5d2e 7061 7273  D")[1, ...].pars
-000182b0: 655f 7374 7269 6e67 2822 636d 6420 434d  e_string("cmd CM
-000182c0: 4420 436d 6431 3022 290a 2020 2020 2020  D Cmd10").      
-000182d0: 2020 2320 2d3e 205b 2743 4d44 272c 2027    # -> ['CMD', '
-000182e0: 434d 4427 5d0a 0a20 2020 2028 436f 6e74  CMD']..    (Cont
-000182f0: 7261 7374 2077 6974 6820 6578 616d 706c  rast with exampl
-00018300: 6520 666f 7220 3a63 6c61 7373 3a60 4361  e for :class:`Ca
-00018310: 7365 6c65 7373 4c69 7465 7261 6c60 2e29  selessLiteral`.)
-00018320: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
-00018330: 6620 5f5f 696e 6974 5f5f 280a 2020 2020  f __init__(.    
-00018340: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00018350: 2020 6d61 7463 685f 7374 7269 6e67 3a20    match_string: 
-00018360: 7374 7220 3d20 2222 2c0a 2020 2020 2020  str = "",.      
-00018370: 2020 6964 656e 745f 6368 6172 733a 2074    ident_chars: t
-00018380: 7970 696e 672e 4f70 7469 6f6e 616c 5b73  yping.Optional[s
-00018390: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
-000183a0: 2020 2020 2a2c 0a20 2020 2020 2020 206d      *,.        m
-000183b0: 6174 6368 5374 7269 6e67 3a20 7374 7220  atchString: str 
-000183c0: 3d20 2222 2c0a 2020 2020 2020 2020 6964  = "",.        id
-000183d0: 656e 7443 6861 7273 3a20 7479 7069 6e67  entChars: typing
-000183e0: 2e4f 7074 696f 6e61 6c5b 7374 725d 203d  .Optional[str] =
-000183f0: 204e 6f6e 652c 0a20 2020 2029 3a0a 2020   None,.    ):.  
-00018400: 2020 2020 2020 6964 656e 7443 6861 7273        identChars
-00018410: 203d 2069 6465 6e74 4368 6172 7320 6f72   = identChars or
-00018420: 2069 6465 6e74 5f63 6861 7273 0a20 2020   ident_chars.   
-00018430: 2020 2020 206d 6174 6368 5f73 7472 696e       match_strin
-00018440: 6720 3d20 6d61 7463 6853 7472 696e 6720  g = matchString 
-00018450: 6f72 206d 6174 6368 5f73 7472 696e 670a  or match_string.
-00018460: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-00018470: 5f5f 696e 6974 5f5f 286d 6174 6368 5f73  __init__(match_s
-00018480: 7472 696e 672c 2069 6465 6e74 4368 6172  tring, identChar
-00018490: 732c 2063 6173 656c 6573 733d 5472 7565  s, caseless=True
-000184a0: 290a 0a0a 636c 6173 7320 436c 6f73 654d  )...class CloseM
-000184b0: 6174 6368 2854 6f6b 656e 293a 0a20 2020  atch(Token):.   
-000184c0: 2022 2222 4120 7661 7269 6174 696f 6e20   """A variation 
-000184d0: 6f6e 203a 636c 6173 733a 604c 6974 6572  on :class:`Liter
-000184e0: 616c 6020 7768 6963 6820 6d61 7463 6865  al` which matche
-000184f0: 7320 2263 6c6f 7365 2220 6d61 7463 6865  s "close" matche
-00018500: 732c 0a20 2020 2074 6861 7420 6973 2c20  s,.    that is, 
-00018510: 7374 7269 6e67 7320 7769 7468 2061 7420  strings with at 
-00018520: 6d6f 7374 2027 6e27 206d 6973 6d61 7463  most 'n' mismatc
-00018530: 6869 6e67 2063 6861 7261 6374 6572 732e  hing characters.
-00018540: 0a20 2020 203a 636c 6173 733a 6043 6c6f  .    :class:`Clo
-00018550: 7365 4d61 7463 6860 2074 616b 6573 2070  seMatch` takes p
-00018560: 6172 616d 6574 6572 733a 0a0a 2020 2020  arameters:..    
-00018570: 2d20 6060 6d61 7463 685f 7374 7269 6e67  - ``match_string
-00018580: 6060 202d 2073 7472 696e 6720 746f 2062  `` - string to b
-00018590: 6520 6d61 7463 6865 640a 2020 2020 2d20  e matched.    - 
-000185a0: 6060 6361 7365 6c65 7373 6060 202d 2061  ``caseless`` - a
-000185b0: 2062 6f6f 6c65 616e 2069 6e64 6963 6174   boolean indicat
-000185c0: 696e 6720 7768 6574 6865 7220 746f 2069  ing whether to i
-000185d0: 676e 6f72 6520 6361 7369 6e67 2077 6865  gnore casing whe
-000185e0: 6e20 636f 6d70 6172 696e 6720 6368 6172  n comparing char
-000185f0: 6163 7465 7273 0a20 2020 202d 2060 606d  acters.    - ``m
-00018600: 6178 5f6d 6973 6d61 7463 6865 7360 6020  ax_mismatches`` 
-00018610: 2d20 2860 6064 6566 6175 6c74 3d31 6060  - (``default=1``
-00018620: 2920 6d61 7869 6d75 6d20 6e75 6d62 6572  ) maximum number
-00018630: 206f 660a 2020 2020 2020 6d69 736d 6174   of.      mismat
-00018640: 6368 6573 2061 6c6c 6f77 6564 2074 6f20  ches allowed to 
-00018650: 636f 756e 7420 6173 2061 206d 6174 6368  count as a match
-00018660: 0a0a 2020 2020 5468 6520 7265 7375 6c74  ..    The result
-00018670: 7320 6672 6f6d 2061 2073 7563 6365 7373  s from a success
-00018680: 6675 6c20 7061 7273 6520 7769 6c6c 2063  ful parse will c
-00018690: 6f6e 7461 696e 2074 6865 206d 6174 6368  ontain the match
-000186a0: 6564 2074 6578 740a 2020 2020 6672 6f6d  ed text.    from
-000186b0: 2074 6865 2069 6e70 7574 2073 7472 696e   the input strin
-000186c0: 6720 616e 6420 7468 6520 666f 6c6c 6f77  g and the follow
-000186d0: 696e 6720 6e61 6d65 6420 7265 7375 6c74  ing named result
-000186e0: 733a 0a0a 2020 2020 2d20 6060 6d69 736d  s:..    - ``mism
-000186f0: 6174 6368 6573 6060 202d 2061 206c 6973  atches`` - a lis
-00018700: 7420 6f66 2074 6865 2070 6f73 6974 696f  t of the positio
-00018710: 6e73 2077 6974 6869 6e20 7468 650a 2020  ns within the.  
-00018720: 2020 2020 6d61 7463 685f 7374 7269 6e67      match_string
-00018730: 2077 6865 7265 206d 6973 6d61 7463 6865   where mismatche
-00018740: 7320 7765 7265 2066 6f75 6e64 0a20 2020  s were found.   
-00018750: 202d 2060 606f 7269 6769 6e61 6c60 6020   - ``original`` 
-00018760: 2d20 7468 6520 6f72 6967 696e 616c 206d  - the original m
-00018770: 6174 6368 5f73 7472 696e 6720 7573 6564  atch_string used
-00018780: 2074 6f20 636f 6d70 6172 650a 2020 2020   to compare.    
-00018790: 2020 6167 6169 6e73 7420 7468 6520 696e    against the in
-000187a0: 7075 7420 7374 7269 6e67 0a0a 2020 2020  put string..    
-000187b0: 4966 2060 606d 6973 6d61 7463 6865 7360  If ``mismatches`
-000187c0: 6020 6973 2061 6e20 656d 7074 7920 6c69  ` is an empty li
-000187d0: 7374 2c20 7468 656e 2074 6865 206d 6174  st, then the mat
-000187e0: 6368 2077 6173 2061 6e20 6578 6163 740a  ch was an exact.
-000187f0: 2020 2020 6d61 7463 682e 0a0a 2020 2020      match...    
-00018800: 4578 616d 706c 653a 3a0a 0a20 2020 2020  Example::..     
-00018810: 2020 2070 6174 7420 3d20 436c 6f73 654d     patt = CloseM
-00018820: 6174 6368 2822 4154 4341 5443 4741 4154  atch("ATCATCGAAT
-00018830: 4747 4122 290a 2020 2020 2020 2020 7061  GGA").        pa
-00018840: 7474 2e70 6172 7365 5f73 7472 696e 6728  tt.parse_string(
-00018850: 2241 5443 4154 4347 4141 5847 4741 2229  "ATCATCGAAXGGA")
-00018860: 2023 202d 3e20 285b 2741 5443 4154 4347   # -> (['ATCATCG
-00018870: 4141 5847 4741 275d 2c20 7b27 6d69 736d  AAXGGA'], {'mism
-00018880: 6174 6368 6573 273a 205b 5b39 5d5d 2c20  atches': [[9]], 
-00018890: 276f 7269 6769 6e61 6c27 3a20 5b27 4154  'original': ['AT
-000188a0: 4341 5443 4741 4154 4747 4127 5d7d 290a  CATCGAATGGA']}).
-000188b0: 2020 2020 2020 2020 7061 7474 2e70 6172          patt.par
-000188c0: 7365 5f73 7472 696e 6728 2241 5443 4158  se_string("ATCAX
-000188d0: 4347 4141 5847 4741 2229 2023 202d 3e20  CGAAXGGA") # -> 
-000188e0: 4578 6365 7074 696f 6e3a 2045 7870 6563  Exception: Expec
-000188f0: 7465 6420 2741 5443 4154 4347 4141 5447  ted 'ATCATCGAATG
-00018900: 4741 2720 2877 6974 6820 7570 2074 6f20  GA' (with up to 
-00018910: 3120 6d69 736d 6174 6368 6573 2920 2861  1 mismatches) (a
-00018920: 7420 6368 6172 2030 292c 2028 6c69 6e65  t char 0), (line
-00018930: 3a31 2c20 636f 6c3a 3129 0a0a 2020 2020  :1, col:1)..    
-00018940: 2020 2020 2320 6578 6163 7420 6d61 7463      # exact matc
-00018950: 680a 2020 2020 2020 2020 7061 7474 2e70  h.        patt.p
-00018960: 6172 7365 5f73 7472 696e 6728 2241 5443  arse_string("ATC
-00018970: 4154 4347 4141 5447 4741 2229 2023 202d  ATCGAATGGA") # -
-00018980: 3e20 285b 2741 5443 4154 4347 4141 5447  > (['ATCATCGAATG
-00018990: 4741 275d 2c20 7b27 6d69 736d 6174 6368  GA'], {'mismatch
-000189a0: 6573 273a 205b 5b5d 5d2c 2027 6f72 6967  es': [[]], 'orig
-000189b0: 696e 616c 273a 205b 2741 5443 4154 4347  inal': ['ATCATCG
-000189c0: 4141 5447 4741 275d 7d29 0a0a 2020 2020  AATGGA']})..    
-000189d0: 2020 2020 2320 636c 6f73 6520 6d61 7463      # close matc
-000189e0: 6820 616c 6c6f 7769 6e67 2075 7020 746f  h allowing up to
-000189f0: 2032 206d 6973 6d61 7463 6865 730a 2020   2 mismatches.  
-00018a00: 2020 2020 2020 7061 7474 203d 2043 6c6f        patt = Clo
-00018a10: 7365 4d61 7463 6828 2241 5443 4154 4347  seMatch("ATCATCG
-00018a20: 4141 5447 4741 222c 206d 6178 5f6d 6973  AATGGA", max_mis
-00018a30: 6d61 7463 6865 733d 3229 0a20 2020 2020  matches=2).     
-00018a40: 2020 2070 6174 742e 7061 7273 655f 7374     patt.parse_st
-00018a50: 7269 6e67 2822 4154 4341 5843 4741 4158  ring("ATCAXCGAAX
-00018a60: 4747 4122 2920 2320 2d3e 2028 5b27 4154  GGA") # -> (['AT
-00018a70: 4341 5843 4741 4158 4747 4127 5d2c 207b  CAXCGAAXGGA'], {
-00018a80: 276d 6973 6d61 7463 6865 7327 3a20 5b5b  'mismatches': [[
-00018a90: 342c 2039 5d5d 2c20 276f 7269 6769 6e61  4, 9]], 'origina
-00018aa0: 6c27 3a20 5b27 4154 4341 5443 4741 4154  l': ['ATCATCGAAT
-00018ab0: 4747 4127 5d7d 290a 2020 2020 2222 220a  GGA']}).    """.
-00018ac0: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
-00018ad0: 5f28 0a20 2020 2020 2020 2073 656c 662c  _(.        self,
-00018ae0: 0a20 2020 2020 2020 206d 6174 6368 5f73  .        match_s
-00018af0: 7472 696e 673a 2073 7472 2c0a 2020 2020  tring: str,.    
-00018b00: 2020 2020 6d61 785f 6d69 736d 6174 6368      max_mismatch
-00018b10: 6573 3a20 7479 7069 6e67 2e4f 7074 696f  es: typing.Optio
-00018b20: 6e61 6c5b 696e 745d 203d 204e 6f6e 652c  nal[int] = None,
-00018b30: 0a20 2020 2020 2020 202a 2c0a 2020 2020  .        *,.    
-00018b40: 2020 2020 6d61 784d 6973 6d61 7463 6865      maxMismatche
-00018b50: 733a 2069 6e74 203d 2031 2c0a 2020 2020  s: int = 1,.    
-00018b60: 2020 2020 6361 7365 6c65 7373 3d46 616c      caseless=Fal
-00018b70: 7365 2c0a 2020 2020 293a 0a20 2020 2020  se,.    ):.     
-00018b80: 2020 206d 6178 4d69 736d 6174 6368 6573     maxMismatches
-00018b90: 203d 206d 6178 5f6d 6973 6d61 7463 6865   = max_mismatche
-00018ba0: 7320 6966 206d 6178 5f6d 6973 6d61 7463  s if max_mismatc
-00018bb0: 6865 7320 6973 206e 6f74 204e 6f6e 6520  hes is not None 
-00018bc0: 656c 7365 206d 6178 4d69 736d 6174 6368  else maxMismatch
-00018bd0: 6573 0a20 2020 2020 2020 2073 7570 6572  es.        super
-00018be0: 2829 2e5f 5f69 6e69 745f 5f28 290a 2020  ().__init__().  
-00018bf0: 2020 2020 2020 7365 6c66 2e6d 6174 6368        self.match
-00018c00: 5f73 7472 696e 6720 3d20 6d61 7463 685f  _string = match_
-00018c10: 7374 7269 6e67 0a20 2020 2020 2020 2073  string.        s
-00018c20: 656c 662e 6d61 784d 6973 6d61 7463 6865  elf.maxMismatche
-00018c30: 7320 3d20 6d61 784d 6973 6d61 7463 6865  s = maxMismatche
-00018c40: 730a 2020 2020 2020 2020 7365 6c66 2e65  s.        self.e
-00018c50: 7272 6d73 6720 3d20 6622 4578 7065 6374  rrmsg = f"Expect
-00018c60: 6564 207b 7365 6c66 2e6d 6174 6368 5f73  ed {self.match_s
-00018c70: 7472 696e 6721 727d 2028 7769 7468 2075  tring!r} (with u
-00018c80: 7020 746f 207b 7365 6c66 2e6d 6178 4d69  p to {self.maxMi
-00018c90: 736d 6174 6368 6573 7d20 6d69 736d 6174  smatches} mismat
-00018ca0: 6368 6573 2922 0a20 2020 2020 2020 2073  ches)".        s
-00018cb0: 656c 662e 6361 7365 6c65 7373 203d 2063  elf.caseless = c
-00018cc0: 6173 656c 6573 730a 2020 2020 2020 2020  aseless.        
-00018cd0: 7365 6c66 2e6d 6179 496e 6465 7845 7272  self.mayIndexErr
-00018ce0: 6f72 203d 2046 616c 7365 0a20 2020 2020  or = False.     
-00018cf0: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
-00018d00: 6e45 6d70 7479 203d 2046 616c 7365 0a0a  nEmpty = False..
-00018d10: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
-00018d20: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
-00018d30: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
-00018d40: 2020 2072 6574 7572 6e20 6622 7b74 7970     return f"{typ
-00018d50: 6528 7365 6c66 292e 5f5f 6e61 6d65 5f5f  e(self).__name__
-00018d60: 7d3a 7b73 656c 662e 6d61 7463 685f 7374  }:{self.match_st
-00018d70: 7269 6e67 2172 7d22 0a0a 2020 2020 6465  ring!r}"..    de
-00018d80: 6620 7061 7273 6549 6d70 6c28 7365 6c66  f parseImpl(self
-00018d90: 2c20 696e 7374 7269 6e67 2c20 6c6f 632c  , instring, loc,
-00018da0: 2064 6f41 6374 696f 6e73 3d54 7275 6529   doActions=True)
-00018db0: 3a0a 2020 2020 2020 2020 7374 6172 7420  :.        start 
-00018dc0: 3d20 6c6f 630a 2020 2020 2020 2020 696e  = loc.        in
-00018dd0: 7374 726c 656e 203d 206c 656e 2869 6e73  strlen = len(ins
-00018de0: 7472 696e 6729 0a20 2020 2020 2020 206d  tring).        m
-00018df0: 6178 6c6f 6320 3d20 7374 6172 7420 2b20  axloc = start + 
-00018e00: 6c65 6e28 7365 6c66 2e6d 6174 6368 5f73  len(self.match_s
-00018e10: 7472 696e 6729 0a0a 2020 2020 2020 2020  tring)..        
-00018e20: 6966 206d 6178 6c6f 6320 3c3d 2069 6e73  if maxloc <= ins
-00018e30: 7472 6c65 6e3a 0a20 2020 2020 2020 2020  trlen:.         
-00018e40: 2020 206d 6174 6368 5f73 7472 696e 6720     match_string 
-00018e50: 3d20 7365 6c66 2e6d 6174 6368 5f73 7472  = self.match_str
-00018e60: 696e 670a 2020 2020 2020 2020 2020 2020  ing.            
-00018e70: 6d61 7463 685f 7374 7269 6e67 6c6f 6320  match_stringloc 
-00018e80: 3d20 300a 2020 2020 2020 2020 2020 2020  = 0.            
-00018e90: 6d69 736d 6174 6368 6573 203d 205b 5d0a  mismatches = [].
-00018ea0: 2020 2020 2020 2020 2020 2020 6d61 784d              maxM
-00018eb0: 6973 6d61 7463 6865 7320 3d20 7365 6c66  ismatches = self
-00018ec0: 2e6d 6178 4d69 736d 6174 6368 6573 0a0a  .maxMismatches..
-00018ed0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00018ee0: 6d61 7463 685f 7374 7269 6e67 6c6f 632c  match_stringloc,
-00018ef0: 2073 5f6d 2069 6e20 656e 756d 6572 6174   s_m in enumerat
-00018f00: 6528 0a20 2020 2020 2020 2020 2020 2020  e(.             
-00018f10: 2020 207a 6970 2869 6e73 7472 696e 675b     zip(instring[
-00018f20: 6c6f 633a 6d61 786c 6f63 5d2c 206d 6174  loc:maxloc], mat
-00018f30: 6368 5f73 7472 696e 6729 0a20 2020 2020  ch_string).     
-00018f40: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
-00018f50: 2020 2020 2020 2020 2020 7372 632c 206d            src, m
-00018f60: 6174 203d 2073 5f6d 0a20 2020 2020 2020  at = s_m.       
-00018f70: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
-00018f80: 2e63 6173 656c 6573 733a 0a20 2020 2020  .caseless:.     
-00018f90: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00018fa0: 7263 2c20 6d61 7420 3d20 7372 632e 6c6f  rc, mat = src.lo
-00018fb0: 7765 7228 292c 206d 6174 2e6c 6f77 6572  wer(), mat.lower
-00018fc0: 2829 0a0a 2020 2020 2020 2020 2020 2020  ()..            
-00018fd0: 2020 2020 6966 2073 7263 2021 3d20 6d61      if src != ma
-00018fe0: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-00018ff0: 2020 2020 2020 206d 6973 6d61 7463 6865         mismatche
-00019000: 732e 6170 7065 6e64 286d 6174 6368 5f73  s.append(match_s
-00019010: 7472 696e 676c 6f63 290a 2020 2020 2020  tringloc).      
-00019020: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00019030: 206c 656e 286d 6973 6d61 7463 6865 7329   len(mismatches)
-00019040: 203e 206d 6178 4d69 736d 6174 6368 6573   > maxMismatches
-00019050: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00019060: 2020 2020 2020 2020 2020 6272 6561 6b0a            break.
-00019070: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00019080: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00019090: 2020 6c6f 6320 3d20 7374 6172 7420 2b20    loc = start + 
-000190a0: 6d61 7463 685f 7374 7269 6e67 6c6f 6320  match_stringloc 
-000190b0: 2b20 310a 2020 2020 2020 2020 2020 2020  + 1.            
-000190c0: 2020 2020 7265 7375 6c74 7320 3d20 5061      results = Pa
-000190d0: 7273 6552 6573 756c 7473 285b 696e 7374  rseResults([inst
-000190e0: 7269 6e67 5b73 7461 7274 3a6c 6f63 5d5d  ring[start:loc]]
-000190f0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00019100: 2020 7265 7375 6c74 735b 226f 7269 6769    results["origi
-00019110: 6e61 6c22 5d20 3d20 6d61 7463 685f 7374  nal"] = match_st
-00019120: 7269 6e67 0a20 2020 2020 2020 2020 2020  ring.           
-00019130: 2020 2020 2072 6573 756c 7473 5b22 6d69       results["mi
-00019140: 736d 6174 6368 6573 225d 203d 206d 6973  smatches"] = mis
-00019150: 6d61 7463 6865 730a 2020 2020 2020 2020  matches.        
-00019160: 2020 2020 2020 2020 7265 7475 726e 206c          return l
-00019170: 6f63 2c20 7265 7375 6c74 730a 0a20 2020  oc, results..   
-00019180: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
-00019190: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
-000191a0: 6e67 2c20 6c6f 632c 2073 656c 662e 6572  ng, loc, self.er
-000191b0: 726d 7367 2c20 7365 6c66 290a 0a0a 636c  rmsg, self)...cl
-000191c0: 6173 7320 576f 7264 2854 6f6b 656e 293a  ass Word(Token):
-000191d0: 0a20 2020 2022 2222 546f 6b65 6e20 666f  .    """Token fo
-000191e0: 7220 6d61 7463 6869 6e67 2077 6f72 6473  r matching words
-000191f0: 2063 6f6d 706f 7365 6420 6f66 2061 6c6c   composed of all
-00019200: 6f77 6564 2063 6861 7261 6374 6572 2073  owed character s
-00019210: 6574 732e 0a0a 2020 2020 5061 7261 6d65  ets...    Parame
-00019220: 7465 7273 3a0a 0a20 2020 202d 2060 6069  ters:..    - ``i
-00019230: 6e69 745f 6368 6172 7360 6020 2d20 7374  nit_chars`` - st
-00019240: 7269 6e67 206f 6620 616c 6c20 6368 6172  ring of all char
-00019250: 6163 7465 7273 2074 6861 7420 7368 6f75  acters that shou
-00019260: 6c64 2062 6520 7573 6564 2074 6f0a 2020  ld be used to.  
-00019270: 2020 2020 6d61 7463 6820 6173 2061 2077      match as a w
-00019280: 6f72 643b 2022 4142 4322 2077 696c 6c20  ord; "ABC" will 
-00019290: 6d61 7463 6820 2241 4141 222c 2022 4142  match "AAA", "AB
-000192a0: 4142 222c 2022 4342 4143 222c 2065 7463  AB", "CBAC", etc
-000192b0: 2e3b 0a20 2020 2020 2069 6620 6060 626f  .;.      if ``bo
-000192c0: 6479 5f63 6861 7273 6060 2069 7320 616c  dy_chars`` is al
-000192d0: 736f 2073 7065 6369 6669 6564 2c20 7468  so specified, th
-000192e0: 656e 2074 6869 7320 6973 2074 6865 2073  en this is the s
-000192f0: 7472 696e 6720 6f66 0a20 2020 2020 2069  tring of.      i
-00019300: 6e69 7469 616c 2063 6861 7261 6374 6572  nitial character
-00019310: 730a 2020 2020 2d20 6060 626f 6479 5f63  s.    - ``body_c
-00019320: 6861 7273 6060 202d 2073 7472 696e 6720  hars`` - string 
-00019330: 6f66 2063 6861 7261 6374 6572 7320 7468  of characters th
-00019340: 6174 0a20 2020 2020 2063 616e 2062 6520  at.      can be 
-00019350: 7573 6564 2066 6f72 206d 6174 6368 696e  used for matchin
-00019360: 6720 6166 7465 7220 6120 6d61 7463 6865  g after a matche
-00019370: 6420 696e 6974 6961 6c20 6368 6172 6163  d initial charac
-00019380: 7465 7220 6173 0a20 2020 2020 2067 6976  ter as.      giv
-00019390: 656e 2069 6e20 6060 696e 6974 5f63 6861  en in ``init_cha
-000193a0: 7273 6060 3b20 6966 206f 6d69 7474 6564  rs``; if omitted
-000193b0: 2c20 7361 6d65 2061 7320 7468 6520 696e  , same as the in
-000193c0: 6974 6961 6c20 6368 6172 6163 7465 7273  itial characters
-000193d0: 0a20 2020 2020 2028 6465 6661 756c 743d  .      (default=
-000193e0: 6060 4e6f 6e65 6060 290a 2020 2020 2d20  ``None``).    - 
-000193f0: 6060 6d69 6e60 6020 2d20 6d69 6e69 6d75  ``min`` - minimu
-00019400: 6d20 6e75 6d62 6572 206f 6620 6368 6172  m number of char
-00019410: 6163 7465 7273 2074 6f20 6d61 7463 6820  acters to match 
-00019420: 2864 6566 6175 6c74 3d31 290a 2020 2020  (default=1).    
-00019430: 2d20 6060 6d61 7860 6020 2d20 6d61 7869  - ``max`` - maxi
-00019440: 6d75 6d20 6e75 6d62 6572 206f 6620 6368  mum number of ch
-00019450: 6172 6163 7465 7273 2074 6f20 6d61 7463  aracters to matc
-00019460: 6820 2864 6566 6175 6c74 3d30 290a 2020  h (default=0).  
-00019470: 2020 2d20 6060 6578 6163 7460 6020 2d20    - ``exact`` - 
-00019480: 6578 6163 7420 6e75 6d62 6572 206f 6620  exact number of 
-00019490: 6368 6172 6163 7465 7273 2074 6f20 6d61  characters to ma
-000194a0: 7463 6820 2864 6566 6175 6c74 3d30 290a  tch (default=0).
-000194b0: 2020 2020 2d20 6060 6173 5f6b 6579 776f      - ``as_keywo
-000194c0: 7264 6060 202d 206d 6174 6368 2061 7320  rd`` - match as 
-000194d0: 6120 6b65 7977 6f72 6420 2864 6566 6175  a keyword (defau
-000194e0: 6c74 3d60 6046 616c 7365 6060 290a 2020  lt=``False``).  
-000194f0: 2020 2d20 6060 6578 636c 7564 655f 6368    - ``exclude_ch
-00019500: 6172 7360 6020 2d20 6368 6172 6163 7465  ars`` - characte
-00019510: 7273 2074 6861 7420 6d69 6768 7420 6265  rs that might be
-00019520: 0a20 2020 2020 2066 6f75 6e64 2069 6e20  .      found in 
-00019530: 7468 6520 696e 7075 7420 6060 626f 6479  the input ``body
-00019540: 5f63 6861 7273 6060 2073 7472 696e 6720  _chars`` string 
-00019550: 6275 7420 7768 6963 6820 7368 6f75 6c64  but which should
-00019560: 206e 6f74 2062 650a 2020 2020 2020 6163   not be.      ac
-00019570: 6365 7074 6564 2066 6f72 206d 6174 6368  cepted for match
-00019580: 696e 6720 3b75 7365 6675 6c20 746f 2064  ing ;useful to d
-00019590: 6566 696e 6520 6120 776f 7264 206f 6620  efine a word of 
-000195a0: 616c 6c0a 2020 2020 2020 7072 696e 7461  all.      printa
-000195b0: 626c 6573 2065 7863 6570 7420 666f 7220  bles except for 
-000195c0: 6f6e 6520 6f72 2074 776f 2063 6861 7261  one or two chara
-000195d0: 6374 6572 732c 2066 6f72 2069 6e73 7461  cters, for insta
-000195e0: 6e63 650a 2020 2020 2020 2864 6566 6175  nce.      (defau
-000195f0: 6c74 3d60 604e 6f6e 6560 6029 0a0a 2020  lt=``None``)..  
-00019600: 2020 3a63 6c61 7373 3a60 7372 616e 6765    :class:`srange
-00019610: 6020 6973 2075 7365 6675 6c20 666f 7220  ` is useful for 
-00019620: 6465 6669 6e69 6e67 2063 7573 746f 6d20  defining custom 
-00019630: 6368 6172 6163 7465 7220 7365 7420 7374  character set st
-00019640: 7269 6e67 730a 2020 2020 666f 7220 6465  rings.    for de
-00019650: 6669 6e69 6e67 203a 636c 6173 733a 6057  fining :class:`W
-00019660: 6f72 6460 2065 7870 7265 7373 696f 6e73  ord` expressions
-00019670: 2c20 7573 696e 6720 7261 6e67 6520 6e6f  , using range no
-00019680: 7461 7469 6f6e 2066 726f 6d0a 2020 2020  tation from.    
-00019690: 7265 6775 6c61 7220 6578 7072 6573 7369  regular expressi
-000196a0: 6f6e 2063 6861 7261 6374 6572 2073 6574  on character set
-000196b0: 732e 0a0a 2020 2020 4120 636f 6d6d 6f6e  s...    A common
-000196c0: 206d 6973 7461 6b65 2069 7320 746f 2075   mistake is to u
-000196d0: 7365 203a 636c 6173 733a 6057 6f72 6460  se :class:`Word`
-000196e0: 2074 6f20 6d61 7463 6820 6120 7370 6563   to match a spec
-000196f0: 6966 6963 206c 6974 6572 616c 0a20 2020  ific literal.   
-00019700: 2073 7472 696e 672c 2061 7320 696e 2060   string, as in `
-00019710: 6057 6f72 6428 2241 6464 7265 7373 2229  `Word("Address")
-00019720: 6060 2e20 5265 6d65 6d62 6572 2074 6861  ``. Remember tha
-00019730: 7420 3a63 6c61 7373 3a60 576f 7264 600a  t :class:`Word`.
-00019740: 2020 2020 7573 6573 2074 6865 2073 7472      uses the str
-00019750: 696e 6720 6172 6775 6d65 6e74 2074 6f20  ing argument to 
-00019760: 6465 6669 6e65 202a 7365 7473 2a20 6f66  define *sets* of
-00019770: 206d 6174 6368 6162 6c65 2063 6861 7261   matchable chara
-00019780: 6374 6572 732e 0a20 2020 2054 6869 7320  cters..    This 
-00019790: 6578 7072 6573 7369 6f6e 2077 6f75 6c64  expression would
-000197a0: 206d 6174 6368 2022 4164 6422 2c20 2241   match "Add", "A
-000197b0: 4141 222c 2022 6441 7265 6422 2c20 6f72  AA", "dAred", or
-000197c0: 2061 6e79 206f 7468 6572 2077 6f72 640a   any other word.
-000197d0: 2020 2020 6d61 6465 2075 7020 6f66 2074      made up of t
-000197e0: 6865 2063 6861 7261 6374 6572 7320 2741  he characters 'A
-000197f0: 272c 2027 6427 2c20 2772 272c 2027 6527  ', 'd', 'r', 'e'
-00019800: 2c20 616e 6420 2773 272e 2054 6f20 6d61  , and 's'. To ma
-00019810: 7463 6820 616e 0a20 2020 2065 7861 6374  tch an.    exact
-00019820: 206c 6974 6572 616c 2073 7472 696e 672c   literal string,
-00019830: 2075 7365 203a 636c 6173 733a 604c 6974   use :class:`Lit
-00019840: 6572 616c 6020 6f72 203a 636c 6173 733a  eral` or :class:
-00019850: 604b 6579 776f 7264 602e 0a0a 2020 2020  `Keyword`...    
-00019860: 7079 7061 7273 696e 6720 696e 636c 7564  pyparsing includ
-00019870: 6573 2068 656c 7065 7220 7374 7269 6e67  es helper string
-00019880: 7320 666f 7220 6275 696c 6469 6e67 2057  s for building W
-00019890: 6f72 6473 3a0a 0a20 2020 202d 203a 636c  ords:..    - :cl
-000198a0: 6173 733a 6061 6c70 6861 7360 0a20 2020  ass:`alphas`.   
-000198b0: 202d 203a 636c 6173 733a 606e 756d 7360   - :class:`nums`
-000198c0: 0a20 2020 202d 203a 636c 6173 733a 6061  .    - :class:`a
-000198d0: 6c70 6861 6e75 6d73 600a 2020 2020 2d20  lphanums`.    - 
-000198e0: 3a63 6c61 7373 3a60 6865 786e 756d 7360  :class:`hexnums`
-000198f0: 0a20 2020 202d 203a 636c 6173 733a 6061  .    - :class:`a
-00019900: 6c70 6861 7338 6269 7460 2028 616c 7068  lphas8bit` (alph
-00019910: 6162 6574 6963 2063 6861 7261 6374 6572  abetic character
-00019920: 7320 696e 2041 5343 4949 2072 616e 6765  s in ASCII range
-00019930: 2031 3238 2d32 3535 0a20 2020 2020 202d   128-255.      -
-00019940: 2061 6363 656e 7465 642c 2074 696c 6465   accented, tilde
-00019950: 642c 2075 6d6c 6175 7465 642c 2065 7463  d, umlauted, etc
-00019960: 2e29 0a20 2020 202d 203a 636c 6173 733a  .).    - :class:
-00019970: 6070 756e 6338 6269 7460 2028 6e6f 6e2d  `punc8bit` (non-
+00017b30: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
+00017b40: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00017b50: 726e 206c 6f63 202b 2073 656c 662e 6d61  rn loc + self.ma
+00017b60: 7463 684c 656e 2c20 7365 6c66 2e6d 6174  tchLen, self.mat
+00017b70: 6368 0a20 2020 2020 2020 2020 2020 2020  ch.             
+00017b80: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00017b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ba0: 2020 2020 2023 2066 6f6c 6c6f 7765 6420       # followed 
+00017bb0: 6279 206b 6579 776f 7264 2063 6861 720a  by keyword char.
+00017bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017bd0: 2020 2020 2020 2020 6572 726d 7367 202b          errmsg +
+00017be0: 3d20 280a 2020 2020 2020 2020 2020 2020  = (.            
+00017bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017c00: 222c 206b 6579 776f 7264 2077 6173 2069  ", keyword was i
+00017c10: 6d6d 6564 6961 7465 6c79 2066 6f6c 6c6f  mmediately follo
+00017c20: 7765 6420 6279 206b 6579 776f 7264 2063  wed by keyword c
+00017c30: 6861 7261 6374 6572 220a 2020 2020 2020  haracter".      
+00017c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017c50: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+00017c60: 2020 2020 2020 2020 2020 2020 6572 726c              errl
+00017c70: 6f63 203d 206c 6f63 202b 2073 656c 662e  oc = loc + self.
+00017c80: 6d61 7463 684c 656e 0a20 2020 2020 2020  matchLen.       
+00017c90: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00017ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017cb0: 2020 2023 2070 7265 6365 6465 6420 6279     # preceded by
+00017cc0: 206b 6579 776f 7264 2063 6861 720a 2020   keyword char.  
+00017cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ce0: 2020 6572 726d 7367 202b 3d20 222c 206b    errmsg += ", k
+00017cf0: 6579 776f 7264 2077 6173 2069 6d6d 6564  eyword was immed
+00017d00: 6961 7465 6c79 2070 7265 6365 6465 6420  iately preceded 
+00017d10: 6279 206b 6579 776f 7264 2063 6861 7261  by keyword chara
+00017d20: 6374 6572 220a 2020 2020 2020 2020 2020  cter".          
+00017d30: 2020 2020 2020 2020 2020 6572 726c 6f63            errloc
+00017d40: 203d 206c 6f63 202d 2031 0a20 2020 2020   = loc - 1.     
+00017d50: 2020 2020 2020 2023 2065 6c73 6520 6e6f         # else no
+00017d60: 206d 6174 6368 206a 7573 7420 7261 6973   match just rais
+00017d70: 6520 706c 6169 6e20 6578 6365 7074 696f  e plain exceptio
+00017d80: 6e0a 0a20 2020 2020 2020 2072 6169 7365  n..        raise
+00017d90: 2050 6172 7365 4578 6365 7074 696f 6e28   ParseException(
+00017da0: 696e 7374 7269 6e67 2c20 6572 726c 6f63  instring, errloc
+00017db0: 2c20 6572 726d 7367 2c20 7365 6c66 290a  , errmsg, self).
+00017dc0: 0a20 2020 2040 7374 6174 6963 6d65 7468  .    @staticmeth
+00017dd0: 6f64 0a20 2020 2064 6566 2073 6574 5f64  od.    def set_d
+00017de0: 6566 6175 6c74 5f6b 6579 776f 7264 5f63  efault_keyword_c
+00017df0: 6861 7273 2863 6861 7273 2920 2d3e 204e  hars(chars) -> N
+00017e00: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
+00017e10: 0a20 2020 2020 2020 204f 7665 7272 6964  .        Overrid
+00017e20: 6573 2074 6865 2064 6566 6175 6c74 2063  es the default c
+00017e30: 6861 7261 6374 6572 7320 7573 6564 2062  haracters used b
+00017e40: 7920 3a63 6c61 7373 3a60 4b65 7977 6f72  y :class:`Keywor
+00017e50: 6460 2065 7870 7265 7373 696f 6e73 2e0a  d` expressions..
+00017e60: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00017e70: 2020 2020 4b65 7977 6f72 642e 4445 4641      Keyword.DEFA
+00017e80: 554c 545f 4b45 5957 4f52 445f 4348 4152  ULT_KEYWORD_CHAR
+00017e90: 5320 3d20 6368 6172 730a 0a20 2020 2073  S = chars..    s
+00017ea0: 6574 4465 6661 756c 744b 6579 776f 7264  etDefaultKeyword
+00017eb0: 4368 6172 7320 3d20 7365 745f 6465 6661  Chars = set_defa
+00017ec0: 756c 745f 6b65 7977 6f72 645f 6368 6172  ult_keyword_char
+00017ed0: 730a 0a0a 636c 6173 7320 4361 7365 6c65  s...class Casele
+00017ee0: 7373 4c69 7465 7261 6c28 4c69 7465 7261  ssLiteral(Litera
+00017ef0: 6c29 3a0a 2020 2020 2222 220a 2020 2020  l):.    """.    
+00017f00: 546f 6b65 6e20 746f 206d 6174 6368 2061  Token to match a
+00017f10: 2073 7065 6369 6669 6564 2073 7472 696e   specified strin
+00017f20: 672c 2069 676e 6f72 696e 6720 6361 7365  g, ignoring case
+00017f30: 206f 6620 6c65 7474 6572 732e 0a20 2020   of letters..   
+00017f40: 204e 6f74 653a 2074 6865 206d 6174 6368   Note: the match
+00017f50: 6564 2072 6573 756c 7473 2077 696c 6c20  ed results will 
+00017f60: 616c 7761 7973 2062 6520 696e 2074 6865  always be in the
+00017f70: 2063 6173 6520 6f66 2074 6865 2067 6976   case of the giv
+00017f80: 656e 0a20 2020 206d 6174 6368 2073 7472  en.    match str
+00017f90: 696e 672c 204e 4f54 2074 6865 2063 6173  ing, NOT the cas
+00017fa0: 6520 6f66 2074 6865 2069 6e70 7574 2074  e of the input t
+00017fb0: 6578 742e 0a0a 2020 2020 4578 616d 706c  ext...    Exampl
+00017fc0: 653a 3a0a 0a20 2020 2020 2020 2043 6173  e::..        Cas
+00017fd0: 656c 6573 734c 6974 6572 616c 2822 434d  elessLiteral("CM
+00017fe0: 4422 295b 312c 202e 2e2e 5d2e 7061 7273  D")[1, ...].pars
+00017ff0: 655f 7374 7269 6e67 2822 636d 6420 434d  e_string("cmd CM
+00018000: 4420 436d 6431 3022 290a 2020 2020 2020  D Cmd10").      
+00018010: 2020 2320 2d3e 205b 2743 4d44 272c 2027    # -> ['CMD', '
+00018020: 434d 4427 2c20 2743 4d44 275d 0a0a 2020  CMD', 'CMD']..  
+00018030: 2020 2843 6f6e 7472 6173 7420 7769 7468    (Contrast with
+00018040: 2065 7861 6d70 6c65 2066 6f72 203a 636c   example for :cl
+00018050: 6173 733a 6043 6173 656c 6573 734b 6579  ass:`CaselessKey
+00018060: 776f 7264 602e 290a 2020 2020 2222 220a  word`.).    """.
+00018070: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
+00018080: 5f28 7365 6c66 2c20 6d61 7463 685f 7374  _(self, match_st
+00018090: 7269 6e67 3a20 7374 7220 3d20 2222 2c20  ring: str = "", 
+000180a0: 2a2c 206d 6174 6368 5374 7269 6e67 3a20  *, matchString: 
+000180b0: 7374 7220 3d20 2222 293a 0a20 2020 2020  str = ""):.     
+000180c0: 2020 206d 6174 6368 5f73 7472 696e 6720     match_string 
+000180d0: 3d20 6d61 7463 6853 7472 696e 6720 6f72  = matchString or
+000180e0: 206d 6174 6368 5f73 7472 696e 670a 2020   match_string.  
+000180f0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
+00018100: 696e 6974 5f5f 286d 6174 6368 5f73 7472  init__(match_str
+00018110: 696e 672e 7570 7065 7228 2929 0a20 2020  ing.upper()).   
+00018120: 2020 2020 2023 2050 7265 7365 7276 6520       # Preserve 
+00018130: 7468 6520 6465 6669 6e69 6e67 206c 6974  the defining lit
+00018140: 6572 616c 2e0a 2020 2020 2020 2020 7365  eral..        se
+00018150: 6c66 2e72 6574 7572 6e53 7472 696e 6720  lf.returnString 
+00018160: 3d20 6d61 7463 685f 7374 7269 6e67 0a20  = match_string. 
+00018170: 2020 2020 2020 2073 656c 662e 6572 726d         self.errm
+00018180: 7367 203d 2022 4578 7065 6374 6564 2022  sg = "Expected "
+00018190: 202b 2073 656c 662e 6e61 6d65 0a0a 2020   + self.name..  
+000181a0: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+000181b0: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+000181c0: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+000181d0: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
+000181e0: 2069 6e73 7472 696e 675b 6c6f 6320 3a20   instring[loc : 
+000181f0: 6c6f 6320 2b20 7365 6c66 2e6d 6174 6368  loc + self.match
+00018200: 4c65 6e5d 2e75 7070 6572 2829 203d 3d20  Len].upper() == 
+00018210: 7365 6c66 2e6d 6174 6368 3a0a 2020 2020  self.match:.    
+00018220: 2020 2020 2020 2020 7265 7475 726e 206c          return l
+00018230: 6f63 202b 2073 656c 662e 6d61 7463 684c  oc + self.matchL
+00018240: 656e 2c20 7365 6c66 2e72 6574 7572 6e53  en, self.returnS
+00018250: 7472 696e 670a 2020 2020 2020 2020 7261  tring.        ra
+00018260: 6973 6520 5061 7273 6545 7863 6570 7469  ise ParseExcepti
+00018270: 6f6e 2869 6e73 7472 696e 672c 206c 6f63  on(instring, loc
+00018280: 2c20 7365 6c66 2e65 7272 6d73 672c 2073  , self.errmsg, s
+00018290: 656c 6629 0a0a 0a63 6c61 7373 2043 6173  elf)...class Cas
+000182a0: 656c 6573 734b 6579 776f 7264 284b 6579  elessKeyword(Key
+000182b0: 776f 7264 293a 0a20 2020 2022 2222 0a20  word):.    """. 
+000182c0: 2020 2043 6173 656c 6573 7320 7665 7273     Caseless vers
+000182d0: 696f 6e20 6f66 203a 636c 6173 733a 604b  ion of :class:`K
+000182e0: 6579 776f 7264 602e 0a0a 2020 2020 4578  eyword`...    Ex
+000182f0: 616d 706c 653a 3a0a 0a20 2020 2020 2020  ample::..       
+00018300: 2043 6173 656c 6573 734b 6579 776f 7264   CaselessKeyword
+00018310: 2822 434d 4422 295b 312c 202e 2e2e 5d2e  ("CMD")[1, ...].
+00018320: 7061 7273 655f 7374 7269 6e67 2822 636d  parse_string("cm
+00018330: 6420 434d 4420 436d 6431 3022 290a 2020  d CMD Cmd10").  
+00018340: 2020 2020 2020 2320 2d3e 205b 2743 4d44        # -> ['CMD
+00018350: 272c 2027 434d 4427 5d0a 0a20 2020 2028  ', 'CMD']..    (
+00018360: 436f 6e74 7261 7374 2077 6974 6820 6578  Contrast with ex
+00018370: 616d 706c 6520 666f 7220 3a63 6c61 7373  ample for :class
+00018380: 3a60 4361 7365 6c65 7373 4c69 7465 7261  :`CaselessLitera
+00018390: 6c60 2e29 0a20 2020 2022 2222 0a0a 2020  l`.).    """..  
+000183a0: 2020 6465 6620 5f5f 696e 6974 5f5f 280a    def __init__(.
+000183b0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+000183c0: 2020 2020 2020 6d61 7463 685f 7374 7269        match_stri
+000183d0: 6e67 3a20 7374 7220 3d20 2222 2c0a 2020  ng: str = "",.  
+000183e0: 2020 2020 2020 6964 656e 745f 6368 6172        ident_char
+000183f0: 733a 2074 7970 696e 672e 4f70 7469 6f6e  s: typing.Option
+00018400: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  al[str] = None,.
+00018410: 2020 2020 2020 2020 2a2c 0a20 2020 2020          *,.     
+00018420: 2020 206d 6174 6368 5374 7269 6e67 3a20     matchString: 
+00018430: 7374 7220 3d20 2222 2c0a 2020 2020 2020  str = "",.      
+00018440: 2020 6964 656e 7443 6861 7273 3a20 7479    identChars: ty
+00018450: 7069 6e67 2e4f 7074 696f 6e61 6c5b 7374  ping.Optional[st
+00018460: 725d 203d 204e 6f6e 652c 0a20 2020 2029  r] = None,.    )
+00018470: 3a0a 2020 2020 2020 2020 6964 656e 7443  :.        identC
+00018480: 6861 7273 203d 2069 6465 6e74 4368 6172  hars = identChar
+00018490: 7320 6f72 2069 6465 6e74 5f63 6861 7273  s or ident_chars
+000184a0: 0a20 2020 2020 2020 206d 6174 6368 5f73  .        match_s
+000184b0: 7472 696e 6720 3d20 6d61 7463 6853 7472  tring = matchStr
+000184c0: 696e 6720 6f72 206d 6174 6368 5f73 7472  ing or match_str
+000184d0: 696e 670a 2020 2020 2020 2020 7375 7065  ing.        supe
+000184e0: 7228 292e 5f5f 696e 6974 5f5f 286d 6174  r().__init__(mat
+000184f0: 6368 5f73 7472 696e 672c 2069 6465 6e74  ch_string, ident
+00018500: 4368 6172 732c 2063 6173 656c 6573 733d  Chars, caseless=
+00018510: 5472 7565 290a 0a0a 636c 6173 7320 436c  True)...class Cl
+00018520: 6f73 654d 6174 6368 2854 6f6b 656e 293a  oseMatch(Token):
+00018530: 0a20 2020 2022 2222 4120 7661 7269 6174  .    """A variat
+00018540: 696f 6e20 6f6e 203a 636c 6173 733a 604c  ion on :class:`L
+00018550: 6974 6572 616c 6020 7768 6963 6820 6d61  iteral` which ma
+00018560: 7463 6865 7320 2263 6c6f 7365 2220 6d61  tches "close" ma
+00018570: 7463 6865 732c 0a20 2020 2074 6861 7420  tches,.    that 
+00018580: 6973 2c20 7374 7269 6e67 7320 7769 7468  is, strings with
+00018590: 2061 7420 6d6f 7374 2027 6e27 206d 6973   at most 'n' mis
+000185a0: 6d61 7463 6869 6e67 2063 6861 7261 6374  matching charact
+000185b0: 6572 732e 0a20 2020 203a 636c 6173 733a  ers..    :class:
+000185c0: 6043 6c6f 7365 4d61 7463 6860 2074 616b  `CloseMatch` tak
+000185d0: 6573 2070 6172 616d 6574 6572 733a 0a0a  es parameters:..
+000185e0: 2020 2020 2d20 6060 6d61 7463 685f 7374      - ``match_st
+000185f0: 7269 6e67 6060 202d 2073 7472 696e 6720  ring`` - string 
+00018600: 746f 2062 6520 6d61 7463 6865 640a 2020  to be matched.  
+00018610: 2020 2d20 6060 6361 7365 6c65 7373 6060    - ``caseless``
+00018620: 202d 2061 2062 6f6f 6c65 616e 2069 6e64   - a boolean ind
+00018630: 6963 6174 696e 6720 7768 6574 6865 7220  icating whether 
+00018640: 746f 2069 676e 6f72 6520 6361 7369 6e67  to ignore casing
+00018650: 2077 6865 6e20 636f 6d70 6172 696e 6720   when comparing 
+00018660: 6368 6172 6163 7465 7273 0a20 2020 202d  characters.    -
+00018670: 2060 606d 6178 5f6d 6973 6d61 7463 6865   ``max_mismatche
+00018680: 7360 6020 2d20 2860 6064 6566 6175 6c74  s`` - (``default
+00018690: 3d31 6060 2920 6d61 7869 6d75 6d20 6e75  =1``) maximum nu
+000186a0: 6d62 6572 206f 660a 2020 2020 2020 6d69  mber of.      mi
+000186b0: 736d 6174 6368 6573 2061 6c6c 6f77 6564  smatches allowed
+000186c0: 2074 6f20 636f 756e 7420 6173 2061 206d   to count as a m
+000186d0: 6174 6368 0a0a 2020 2020 5468 6520 7265  atch..    The re
+000186e0: 7375 6c74 7320 6672 6f6d 2061 2073 7563  sults from a suc
+000186f0: 6365 7373 6675 6c20 7061 7273 6520 7769  cessful parse wi
+00018700: 6c6c 2063 6f6e 7461 696e 2074 6865 206d  ll contain the m
+00018710: 6174 6368 6564 2074 6578 740a 2020 2020  atched text.    
+00018720: 6672 6f6d 2074 6865 2069 6e70 7574 2073  from the input s
+00018730: 7472 696e 6720 616e 6420 7468 6520 666f  tring and the fo
+00018740: 6c6c 6f77 696e 6720 6e61 6d65 6420 7265  llowing named re
+00018750: 7375 6c74 733a 0a0a 2020 2020 2d20 6060  sults:..    - ``
+00018760: 6d69 736d 6174 6368 6573 6060 202d 2061  mismatches`` - a
+00018770: 206c 6973 7420 6f66 2074 6865 2070 6f73   list of the pos
+00018780: 6974 696f 6e73 2077 6974 6869 6e20 7468  itions within th
+00018790: 650a 2020 2020 2020 6d61 7463 685f 7374  e.      match_st
+000187a0: 7269 6e67 2077 6865 7265 206d 6973 6d61  ring where misma
+000187b0: 7463 6865 7320 7765 7265 2066 6f75 6e64  tches were found
+000187c0: 0a20 2020 202d 2060 606f 7269 6769 6e61  .    - ``origina
+000187d0: 6c60 6020 2d20 7468 6520 6f72 6967 696e  l`` - the origin
+000187e0: 616c 206d 6174 6368 5f73 7472 696e 6720  al match_string 
+000187f0: 7573 6564 2074 6f20 636f 6d70 6172 650a  used to compare.
+00018800: 2020 2020 2020 6167 6169 6e73 7420 7468        against th
+00018810: 6520 696e 7075 7420 7374 7269 6e67 0a0a  e input string..
+00018820: 2020 2020 4966 2060 606d 6973 6d61 7463      If ``mismatc
+00018830: 6865 7360 6020 6973 2061 6e20 656d 7074  hes`` is an empt
+00018840: 7920 6c69 7374 2c20 7468 656e 2074 6865  y list, then the
+00018850: 206d 6174 6368 2077 6173 2061 6e20 6578   match was an ex
+00018860: 6163 740a 2020 2020 6d61 7463 682e 0a0a  act.    match...
+00018870: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
+00018880: 2020 2020 2020 2070 6174 7420 3d20 436c         patt = Cl
+00018890: 6f73 654d 6174 6368 2822 4154 4341 5443  oseMatch("ATCATC
+000188a0: 4741 4154 4747 4122 290a 2020 2020 2020  GAATGGA").      
+000188b0: 2020 7061 7474 2e70 6172 7365 5f73 7472    patt.parse_str
+000188c0: 696e 6728 2241 5443 4154 4347 4141 5847  ing("ATCATCGAAXG
+000188d0: 4741 2229 2023 202d 3e20 285b 2741 5443  GA") # -> (['ATC
+000188e0: 4154 4347 4141 5847 4741 275d 2c20 7b27  ATCGAAXGGA'], {'
+000188f0: 6d69 736d 6174 6368 6573 273a 205b 5b39  mismatches': [[9
+00018900: 5d5d 2c20 276f 7269 6769 6e61 6c27 3a20  ]], 'original': 
+00018910: 5b27 4154 4341 5443 4741 4154 4747 4127  ['ATCATCGAATGGA'
+00018920: 5d7d 290a 2020 2020 2020 2020 7061 7474  ]}).        patt
+00018930: 2e70 6172 7365 5f73 7472 696e 6728 2241  .parse_string("A
+00018940: 5443 4158 4347 4141 5847 4741 2229 2023  TCAXCGAAXGGA") #
+00018950: 202d 3e20 4578 6365 7074 696f 6e3a 2045   -> Exception: E
+00018960: 7870 6563 7465 6420 2741 5443 4154 4347  xpected 'ATCATCG
+00018970: 4141 5447 4741 2720 2877 6974 6820 7570  AATGGA' (with up
+00018980: 2074 6f20 3120 6d69 736d 6174 6368 6573   to 1 mismatches
+00018990: 2920 2861 7420 6368 6172 2030 292c 2028  ) (at char 0), (
+000189a0: 6c69 6e65 3a31 2c20 636f 6c3a 3129 0a0a  line:1, col:1)..
+000189b0: 2020 2020 2020 2020 2320 6578 6163 7420          # exact 
+000189c0: 6d61 7463 680a 2020 2020 2020 2020 7061  match.        pa
+000189d0: 7474 2e70 6172 7365 5f73 7472 696e 6728  tt.parse_string(
+000189e0: 2241 5443 4154 4347 4141 5447 4741 2229  "ATCATCGAATGGA")
+000189f0: 2023 202d 3e20 285b 2741 5443 4154 4347   # -> (['ATCATCG
+00018a00: 4141 5447 4741 275d 2c20 7b27 6d69 736d  AATGGA'], {'mism
+00018a10: 6174 6368 6573 273a 205b 5b5d 5d2c 2027  atches': [[]], '
+00018a20: 6f72 6967 696e 616c 273a 205b 2741 5443  original': ['ATC
+00018a30: 4154 4347 4141 5447 4741 275d 7d29 0a0a  ATCGAATGGA']})..
+00018a40: 2020 2020 2020 2020 2320 636c 6f73 6520          # close 
+00018a50: 6d61 7463 6820 616c 6c6f 7769 6e67 2075  match allowing u
+00018a60: 7020 746f 2032 206d 6973 6d61 7463 6865  p to 2 mismatche
+00018a70: 730a 2020 2020 2020 2020 7061 7474 203d  s.        patt =
+00018a80: 2043 6c6f 7365 4d61 7463 6828 2241 5443   CloseMatch("ATC
+00018a90: 4154 4347 4141 5447 4741 222c 206d 6178  ATCGAATGGA", max
+00018aa0: 5f6d 6973 6d61 7463 6865 733d 3229 0a20  _mismatches=2). 
+00018ab0: 2020 2020 2020 2070 6174 742e 7061 7273         patt.pars
+00018ac0: 655f 7374 7269 6e67 2822 4154 4341 5843  e_string("ATCAXC
+00018ad0: 4741 4158 4747 4122 2920 2320 2d3e 2028  GAAXGGA") # -> (
+00018ae0: 5b27 4154 4341 5843 4741 4158 4747 4127  ['ATCAXCGAAXGGA'
+00018af0: 5d2c 207b 276d 6973 6d61 7463 6865 7327  ], {'mismatches'
+00018b00: 3a20 5b5b 342c 2039 5d5d 2c20 276f 7269  : [[4, 9]], 'ori
+00018b10: 6769 6e61 6c27 3a20 5b27 4154 4341 5443  ginal': ['ATCATC
+00018b20: 4741 4154 4747 4127 5d7d 290a 2020 2020  GAATGGA']}).    
+00018b30: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
+00018b40: 6e69 745f 5f28 0a20 2020 2020 2020 2073  nit__(.        s
+00018b50: 656c 662c 0a20 2020 2020 2020 206d 6174  elf,.        mat
+00018b60: 6368 5f73 7472 696e 673a 2073 7472 2c0a  ch_string: str,.
+00018b70: 2020 2020 2020 2020 6d61 785f 6d69 736d          max_mism
+00018b80: 6174 6368 6573 3a20 7479 7069 6e67 2e4f  atches: typing.O
+00018b90: 7074 696f 6e61 6c5b 696e 745d 203d 204e  ptional[int] = N
+00018ba0: 6f6e 652c 0a20 2020 2020 2020 202a 2c0a  one,.        *,.
+00018bb0: 2020 2020 2020 2020 6d61 784d 6973 6d61          maxMisma
+00018bc0: 7463 6865 733a 2069 6e74 203d 2031 2c0a  tches: int = 1,.
+00018bd0: 2020 2020 2020 2020 6361 7365 6c65 7373          caseless
+00018be0: 3d46 616c 7365 2c0a 2020 2020 293a 0a20  =False,.    ):. 
+00018bf0: 2020 2020 2020 206d 6178 4d69 736d 6174         maxMismat
+00018c00: 6368 6573 203d 206d 6178 5f6d 6973 6d61  ches = max_misma
+00018c10: 7463 6865 7320 6966 206d 6178 5f6d 6973  tches if max_mis
+00018c20: 6d61 7463 6865 7320 6973 206e 6f74 204e  matches is not N
+00018c30: 6f6e 6520 656c 7365 206d 6178 4d69 736d  one else maxMism
+00018c40: 6174 6368 6573 0a20 2020 2020 2020 2073  atches.        s
+00018c50: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
+00018c60: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
+00018c70: 6174 6368 5f73 7472 696e 6720 3d20 6d61  atch_string = ma
+00018c80: 7463 685f 7374 7269 6e67 0a20 2020 2020  tch_string.     
+00018c90: 2020 2073 656c 662e 6d61 784d 6973 6d61     self.maxMisma
+00018ca0: 7463 6865 7320 3d20 6d61 784d 6973 6d61  tches = maxMisma
+00018cb0: 7463 6865 730a 2020 2020 2020 2020 7365  tches.        se
+00018cc0: 6c66 2e65 7272 6d73 6720 3d20 6622 4578  lf.errmsg = f"Ex
+00018cd0: 7065 6374 6564 207b 7365 6c66 2e6d 6174  pected {self.mat
+00018ce0: 6368 5f73 7472 696e 6721 727d 2028 7769  ch_string!r} (wi
+00018cf0: 7468 2075 7020 746f 207b 7365 6c66 2e6d  th up to {self.m
+00018d00: 6178 4d69 736d 6174 6368 6573 7d20 6d69  axMismatches} mi
+00018d10: 736d 6174 6368 6573 2922 0a20 2020 2020  smatches)".     
+00018d20: 2020 2073 656c 662e 6361 7365 6c65 7373     self.caseless
+00018d30: 203d 2063 6173 656c 6573 730a 2020 2020   = caseless.    
+00018d40: 2020 2020 7365 6c66 2e6d 6179 496e 6465      self.mayInde
+00018d50: 7845 7272 6f72 203d 2046 616c 7365 0a20  xError = False. 
+00018d60: 2020 2020 2020 2073 656c 662e 6d61 7952         self.mayR
+00018d70: 6574 7572 6e45 6d70 7479 203d 2046 616c  eturnEmpty = Fal
+00018d80: 7365 0a0a 2020 2020 6465 6620 5f67 656e  se..    def _gen
+00018d90: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
+00018da0: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
+00018db0: 2020 2020 2020 2072 6574 7572 6e20 6622         return f"
+00018dc0: 7b74 7970 6528 7365 6c66 292e 5f5f 6e61  {type(self).__na
+00018dd0: 6d65 5f5f 7d3a 7b73 656c 662e 6d61 7463  me__}:{self.matc
+00018de0: 685f 7374 7269 6e67 2172 7d22 0a0a 2020  h_string!r}"..  
+00018df0: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+00018e00: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+00018e10: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+00018e20: 7275 6529 3a0a 2020 2020 2020 2020 7374  rue):.        st
+00018e30: 6172 7420 3d20 6c6f 630a 2020 2020 2020  art = loc.      
+00018e40: 2020 696e 7374 726c 656e 203d 206c 656e    instrlen = len
+00018e50: 2869 6e73 7472 696e 6729 0a20 2020 2020  (instring).     
+00018e60: 2020 206d 6178 6c6f 6320 3d20 7374 6172     maxloc = star
+00018e70: 7420 2b20 6c65 6e28 7365 6c66 2e6d 6174  t + len(self.mat
+00018e80: 6368 5f73 7472 696e 6729 0a0a 2020 2020  ch_string)..    
+00018e90: 2020 2020 6966 206d 6178 6c6f 6320 3c3d      if maxloc <=
+00018ea0: 2069 6e73 7472 6c65 6e3a 0a20 2020 2020   instrlen:.     
+00018eb0: 2020 2020 2020 206d 6174 6368 5f73 7472         match_str
+00018ec0: 696e 6720 3d20 7365 6c66 2e6d 6174 6368  ing = self.match
+00018ed0: 5f73 7472 696e 670a 2020 2020 2020 2020  _string.        
+00018ee0: 2020 2020 6d61 7463 685f 7374 7269 6e67      match_string
+00018ef0: 6c6f 6320 3d20 300a 2020 2020 2020 2020  loc = 0.        
+00018f00: 2020 2020 6d69 736d 6174 6368 6573 203d      mismatches =
+00018f10: 205b 5d0a 2020 2020 2020 2020 2020 2020   [].            
+00018f20: 6d61 784d 6973 6d61 7463 6865 7320 3d20  maxMismatches = 
+00018f30: 7365 6c66 2e6d 6178 4d69 736d 6174 6368  self.maxMismatch
+00018f40: 6573 0a0a 2020 2020 2020 2020 2020 2020  es..            
+00018f50: 666f 7220 6d61 7463 685f 7374 7269 6e67  for match_string
+00018f60: 6c6f 632c 2073 5f6d 2069 6e20 656e 756d  loc, s_m in enum
+00018f70: 6572 6174 6528 0a20 2020 2020 2020 2020  erate(.         
+00018f80: 2020 2020 2020 207a 6970 2869 6e73 7472         zip(instr
+00018f90: 696e 675b 6c6f 633a 6d61 786c 6f63 5d2c  ing[loc:maxloc],
+00018fa0: 206d 6174 6368 5f73 7472 696e 6729 0a20   match_string). 
+00018fb0: 2020 2020 2020 2020 2020 2029 3a0a 2020             ):.  
+00018fc0: 2020 2020 2020 2020 2020 2020 2020 7372                sr
+00018fd0: 632c 206d 6174 203d 2073 5f6d 0a20 2020  c, mat = s_m.   
+00018fe0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00018ff0: 7365 6c66 2e63 6173 656c 6573 733a 0a20  self.caseless:. 
+00019000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019010: 2020 2073 7263 2c20 6d61 7420 3d20 7372     src, mat = sr
+00019020: 632e 6c6f 7765 7228 292c 206d 6174 2e6c  c.lower(), mat.l
+00019030: 6f77 6572 2829 0a0a 2020 2020 2020 2020  ower()..        
+00019040: 2020 2020 2020 2020 6966 2073 7263 2021          if src !
+00019050: 3d20 6d61 743a 0a20 2020 2020 2020 2020  = mat:.         
+00019060: 2020 2020 2020 2020 2020 206d 6973 6d61             misma
+00019070: 7463 6865 732e 6170 7065 6e64 286d 6174  tches.append(mat
+00019080: 6368 5f73 7472 696e 676c 6f63 290a 2020  ch_stringloc).  
+00019090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000190a0: 2020 6966 206c 656e 286d 6973 6d61 7463    if len(mismatc
+000190b0: 6865 7329 203e 206d 6178 4d69 736d 6174  hes) > maxMismat
+000190c0: 6368 6573 3a0a 2020 2020 2020 2020 2020  ches:.          
+000190d0: 2020 2020 2020 2020 2020 2020 2020 6272                br
+000190e0: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
+000190f0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00019100: 2020 2020 2020 6c6f 6320 3d20 7374 6172        loc = star
+00019110: 7420 2b20 6d61 7463 685f 7374 7269 6e67  t + match_string
+00019120: 6c6f 6320 2b20 310a 2020 2020 2020 2020  loc + 1.        
+00019130: 2020 2020 2020 2020 7265 7375 6c74 7320          results 
+00019140: 3d20 5061 7273 6552 6573 756c 7473 285b  = ParseResults([
+00019150: 696e 7374 7269 6e67 5b73 7461 7274 3a6c  instring[start:l
+00019160: 6f63 5d5d 290a 2020 2020 2020 2020 2020  oc]]).          
+00019170: 2020 2020 2020 7265 7375 6c74 735b 226f        results["o
+00019180: 7269 6769 6e61 6c22 5d20 3d20 6d61 7463  riginal"] = matc
+00019190: 685f 7374 7269 6e67 0a20 2020 2020 2020  h_string.       
+000191a0: 2020 2020 2020 2020 2072 6573 756c 7473           results
+000191b0: 5b22 6d69 736d 6174 6368 6573 225d 203d  ["mismatches"] =
+000191c0: 206d 6973 6d61 7463 6865 730a 2020 2020   mismatches.    
+000191d0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000191e0: 726e 206c 6f63 2c20 7265 7375 6c74 730a  rn loc, results.
+000191f0: 0a20 2020 2020 2020 2072 6169 7365 2050  .        raise P
+00019200: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
+00019210: 7374 7269 6e67 2c20 6c6f 632c 2073 656c  string, loc, sel
+00019220: 662e 6572 726d 7367 2c20 7365 6c66 290a  f.errmsg, self).
+00019230: 0a0a 636c 6173 7320 576f 7264 2854 6f6b  ..class Word(Tok
+00019240: 656e 293a 0a20 2020 2022 2222 546f 6b65  en):.    """Toke
+00019250: 6e20 666f 7220 6d61 7463 6869 6e67 2077  n for matching w
+00019260: 6f72 6473 2063 6f6d 706f 7365 6420 6f66  ords composed of
+00019270: 2061 6c6c 6f77 6564 2063 6861 7261 6374   allowed charact
+00019280: 6572 2073 6574 732e 0a0a 2020 2020 5061  er sets...    Pa
+00019290: 7261 6d65 7465 7273 3a0a 0a20 2020 202d  rameters:..    -
+000192a0: 2060 6069 6e69 745f 6368 6172 7360 6020   ``init_chars`` 
+000192b0: 2d20 7374 7269 6e67 206f 6620 616c 6c20  - string of all 
+000192c0: 6368 6172 6163 7465 7273 2074 6861 7420  characters that 
+000192d0: 7368 6f75 6c64 2062 6520 7573 6564 2074  should be used t
+000192e0: 6f0a 2020 2020 2020 6d61 7463 6820 6173  o.      match as
+000192f0: 2061 2077 6f72 643b 2022 4142 4322 2077   a word; "ABC" w
+00019300: 696c 6c20 6d61 7463 6820 2241 4141 222c  ill match "AAA",
+00019310: 2022 4142 4142 222c 2022 4342 4143 222c   "ABAB", "CBAC",
+00019320: 2065 7463 2e3b 0a20 2020 2020 2069 6620   etc.;.      if 
+00019330: 6060 626f 6479 5f63 6861 7273 6060 2069  ``body_chars`` i
+00019340: 7320 616c 736f 2073 7065 6369 6669 6564  s also specified
+00019350: 2c20 7468 656e 2074 6869 7320 6973 2074  , then this is t
+00019360: 6865 2073 7472 696e 6720 6f66 0a20 2020  he string of.   
+00019370: 2020 2069 6e69 7469 616c 2063 6861 7261     initial chara
+00019380: 6374 6572 730a 2020 2020 2d20 6060 626f  cters.    - ``bo
+00019390: 6479 5f63 6861 7273 6060 202d 2073 7472  dy_chars`` - str
+000193a0: 696e 6720 6f66 2063 6861 7261 6374 6572  ing of character
+000193b0: 7320 7468 6174 0a20 2020 2020 2063 616e  s that.      can
+000193c0: 2062 6520 7573 6564 2066 6f72 206d 6174   be used for mat
+000193d0: 6368 696e 6720 6166 7465 7220 6120 6d61  ching after a ma
+000193e0: 7463 6865 6420 696e 6974 6961 6c20 6368  tched initial ch
+000193f0: 6172 6163 7465 7220 6173 0a20 2020 2020  aracter as.     
+00019400: 2067 6976 656e 2069 6e20 6060 696e 6974   given in ``init
+00019410: 5f63 6861 7273 6060 3b20 6966 206f 6d69  _chars``; if omi
+00019420: 7474 6564 2c20 7361 6d65 2061 7320 7468  tted, same as th
+00019430: 6520 696e 6974 6961 6c20 6368 6172 6163  e initial charac
+00019440: 7465 7273 0a20 2020 2020 2028 6465 6661  ters.      (defa
+00019450: 756c 743d 6060 4e6f 6e65 6060 290a 2020  ult=``None``).  
+00019460: 2020 2d20 6060 6d69 6e60 6020 2d20 6d69    - ``min`` - mi
+00019470: 6e69 6d75 6d20 6e75 6d62 6572 206f 6620  nimum number of 
+00019480: 6368 6172 6163 7465 7273 2074 6f20 6d61  characters to ma
+00019490: 7463 6820 2864 6566 6175 6c74 3d31 290a  tch (default=1).
+000194a0: 2020 2020 2d20 6060 6d61 7860 6020 2d20      - ``max`` - 
+000194b0: 6d61 7869 6d75 6d20 6e75 6d62 6572 206f  maximum number o
+000194c0: 6620 6368 6172 6163 7465 7273 2074 6f20  f characters to 
+000194d0: 6d61 7463 6820 2864 6566 6175 6c74 3d30  match (default=0
+000194e0: 290a 2020 2020 2d20 6060 6578 6163 7460  ).    - ``exact`
+000194f0: 6020 2d20 6578 6163 7420 6e75 6d62 6572  ` - exact number
+00019500: 206f 6620 6368 6172 6163 7465 7273 2074   of characters t
+00019510: 6f20 6d61 7463 6820 2864 6566 6175 6c74  o match (default
+00019520: 3d30 290a 2020 2020 2d20 6060 6173 5f6b  =0).    - ``as_k
+00019530: 6579 776f 7264 6060 202d 206d 6174 6368  eyword`` - match
+00019540: 2061 7320 6120 6b65 7977 6f72 6420 2864   as a keyword (d
+00019550: 6566 6175 6c74 3d60 6046 616c 7365 6060  efault=``False``
+00019560: 290a 2020 2020 2d20 6060 6578 636c 7564  ).    - ``exclud
+00019570: 655f 6368 6172 7360 6020 2d20 6368 6172  e_chars`` - char
+00019580: 6163 7465 7273 2074 6861 7420 6d69 6768  acters that migh
+00019590: 7420 6265 0a20 2020 2020 2066 6f75 6e64  t be.      found
+000195a0: 2069 6e20 7468 6520 696e 7075 7420 6060   in the input ``
+000195b0: 626f 6479 5f63 6861 7273 6060 2073 7472  body_chars`` str
+000195c0: 696e 6720 6275 7420 7768 6963 6820 7368  ing but which sh
+000195d0: 6f75 6c64 206e 6f74 2062 650a 2020 2020  ould not be.    
+000195e0: 2020 6163 6365 7074 6564 2066 6f72 206d    accepted for m
+000195f0: 6174 6368 696e 6720 3b75 7365 6675 6c20  atching ;useful 
+00019600: 746f 2064 6566 696e 6520 6120 776f 7264  to define a word
+00019610: 206f 6620 616c 6c0a 2020 2020 2020 7072   of all.      pr
+00019620: 696e 7461 626c 6573 2065 7863 6570 7420  intables except 
+00019630: 666f 7220 6f6e 6520 6f72 2074 776f 2063  for one or two c
+00019640: 6861 7261 6374 6572 732c 2066 6f72 2069  haracters, for i
+00019650: 6e73 7461 6e63 650a 2020 2020 2020 2864  nstance.      (d
+00019660: 6566 6175 6c74 3d60 604e 6f6e 6560 6029  efault=``None``)
+00019670: 0a0a 2020 2020 3a63 6c61 7373 3a60 7372  ..    :class:`sr
+00019680: 616e 6765 6020 6973 2075 7365 6675 6c20  ange` is useful 
+00019690: 666f 7220 6465 6669 6e69 6e67 2063 7573  for defining cus
+000196a0: 746f 6d20 6368 6172 6163 7465 7220 7365  tom character se
+000196b0: 7420 7374 7269 6e67 730a 2020 2020 666f  t strings.    fo
+000196c0: 7220 6465 6669 6e69 6e67 203a 636c 6173  r defining :clas
+000196d0: 733a 6057 6f72 6460 2065 7870 7265 7373  s:`Word` express
+000196e0: 696f 6e73 2c20 7573 696e 6720 7261 6e67  ions, using rang
+000196f0: 6520 6e6f 7461 7469 6f6e 2066 726f 6d0a  e notation from.
+00019700: 2020 2020 7265 6775 6c61 7220 6578 7072      regular expr
+00019710: 6573 7369 6f6e 2063 6861 7261 6374 6572  ession character
+00019720: 2073 6574 732e 0a0a 2020 2020 4120 636f   sets...    A co
+00019730: 6d6d 6f6e 206d 6973 7461 6b65 2069 7320  mmon mistake is 
+00019740: 746f 2075 7365 203a 636c 6173 733a 6057  to use :class:`W
+00019750: 6f72 6460 2074 6f20 6d61 7463 6820 6120  ord` to match a 
+00019760: 7370 6563 6966 6963 206c 6974 6572 616c  specific literal
+00019770: 0a20 2020 2073 7472 696e 672c 2061 7320  .    string, as 
+00019780: 696e 2060 6057 6f72 6428 2241 6464 7265  in ``Word("Addre
+00019790: 7373 2229 6060 2e20 5265 6d65 6d62 6572  ss")``. Remember
+000197a0: 2074 6861 7420 3a63 6c61 7373 3a60 576f   that :class:`Wo
+000197b0: 7264 600a 2020 2020 7573 6573 2074 6865  rd`.    uses the
+000197c0: 2073 7472 696e 6720 6172 6775 6d65 6e74   string argument
+000197d0: 2074 6f20 6465 6669 6e65 202a 7365 7473   to define *sets
+000197e0: 2a20 6f66 206d 6174 6368 6162 6c65 2063  * of matchable c
+000197f0: 6861 7261 6374 6572 732e 0a20 2020 2054  haracters..    T
+00019800: 6869 7320 6578 7072 6573 7369 6f6e 2077  his expression w
+00019810: 6f75 6c64 206d 6174 6368 2022 4164 6422  ould match "Add"
+00019820: 2c20 2241 4141 222c 2022 6441 7265 6422  , "AAA", "dAred"
+00019830: 2c20 6f72 2061 6e79 206f 7468 6572 2077  , or any other w
+00019840: 6f72 640a 2020 2020 6d61 6465 2075 7020  ord.    made up 
+00019850: 6f66 2074 6865 2063 6861 7261 6374 6572  of the character
+00019860: 7320 2741 272c 2027 6427 2c20 2772 272c  s 'A', 'd', 'r',
+00019870: 2027 6527 2c20 616e 6420 2773 272e 2054   'e', and 's'. T
+00019880: 6f20 6d61 7463 6820 616e 0a20 2020 2065  o match an.    e
+00019890: 7861 6374 206c 6974 6572 616c 2073 7472  xact literal str
+000198a0: 696e 672c 2075 7365 203a 636c 6173 733a  ing, use :class:
+000198b0: 604c 6974 6572 616c 6020 6f72 203a 636c  `Literal` or :cl
+000198c0: 6173 733a 604b 6579 776f 7264 602e 0a0a  ass:`Keyword`...
+000198d0: 2020 2020 7079 7061 7273 696e 6720 696e      pyparsing in
+000198e0: 636c 7564 6573 2068 656c 7065 7220 7374  cludes helper st
+000198f0: 7269 6e67 7320 666f 7220 6275 696c 6469  rings for buildi
+00019900: 6e67 2057 6f72 6473 3a0a 0a20 2020 202d  ng Words:..    -
+00019910: 203a 636c 6173 733a 6061 6c70 6861 7360   :class:`alphas`
+00019920: 0a20 2020 202d 203a 636c 6173 733a 606e  .    - :class:`n
+00019930: 756d 7360 0a20 2020 202d 203a 636c 6173  ums`.    - :clas
+00019940: 733a 6061 6c70 6861 6e75 6d73 600a 2020  s:`alphanums`.  
+00019950: 2020 2d20 3a63 6c61 7373 3a60 6865 786e    - :class:`hexn
+00019960: 756d 7360 0a20 2020 202d 203a 636c 6173  ums`.    - :clas
+00019970: 733a 6061 6c70 6861 7338 6269 7460 2028  s:`alphas8bit` (
 00019980: 616c 7068 6162 6574 6963 2063 6861 7261  alphabetic chara
 00019990: 6374 6572 7320 696e 2041 5343 4949 2072  cters in ASCII r
-000199a0: 616e 6765 0a20 2020 2020 2031 3238 2d32  ange.      128-2
-000199b0: 3535 202d 2063 7572 7265 6e63 792c 2073  55 - currency, s
-000199c0: 796d 626f 6c73 2c20 7375 7065 7273 6372  ymbols, superscr
-000199d0: 6970 7473 2c20 6469 6163 7269 7469 6361  ipts, diacritica
-000199e0: 6c73 2c20 6574 632e 290a 2020 2020 2d20  ls, etc.).    - 
-000199f0: 3a63 6c61 7373 3a60 7072 696e 7461 626c  :class:`printabl
-00019a00: 6573 6020 2861 6e79 206e 6f6e 2d77 6869  es` (any non-whi
-00019a10: 7465 7370 6163 6520 6368 6172 6163 7465  tespace characte
-00019a20: 7229 0a0a 2020 2020 6060 616c 7068 6173  r)..    ``alphas
-00019a30: 6060 2c20 6060 6e75 6d73 6060 2c20 616e  ``, ``nums``, an
-00019a40: 6420 6060 7072 696e 7461 626c 6573 6060  d ``printables``
-00019a50: 2061 7265 2061 6c73 6f20 6465 6669 6e65   are also define
-00019a60: 6420 696e 2073 6576 6572 616c 0a20 2020  d in several.   
-00019a70: 2055 6e69 636f 6465 2073 6574 7320 2d20   Unicode sets - 
-00019a80: 7365 6520 3a63 6c61 7373 3a60 7079 7061  see :class:`pypa
-00019a90: 7273 696e 675f 756e 6963 6f64 6560 602e  rsing_unicode``.
-00019aa0: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
-00019ab0: 0a20 2020 2020 2020 2023 2061 2077 6f72  .        # a wor
-00019ac0: 6420 636f 6d70 6f73 6564 206f 6620 6469  d composed of di
-00019ad0: 6769 7473 0a20 2020 2020 2020 2069 6e74  gits.        int
-00019ae0: 6567 6572 203d 2057 6f72 6428 6e75 6d73  eger = Word(nums
-00019af0: 2920 2320 6571 7569 7661 6c65 6e74 2074  ) # equivalent t
-00019b00: 6f20 576f 7264 2822 3031 3233 3435 3637  o Word("01234567
-00019b10: 3839 2229 206f 7220 576f 7264 2873 7261  89") or Word(sra
-00019b20: 6e67 6528 2230 2d39 2229 290a 0a20 2020  nge("0-9"))..   
-00019b30: 2020 2020 2023 2061 2077 6f72 6420 7769       # a word wi
-00019b40: 7468 2061 206c 6561 6469 6e67 2063 6170  th a leading cap
-00019b50: 6974 616c 2c20 616e 6420 7a65 726f 206f  ital, and zero o
-00019b60: 7220 6d6f 7265 206c 6f77 6572 6361 7365  r more lowercase
-00019b70: 0a20 2020 2020 2020 2063 6170 6974 616c  .        capital
-00019b80: 5f77 6f72 6420 3d20 576f 7264 2861 6c70  _word = Word(alp
-00019b90: 6861 732e 7570 7065 7228 292c 2061 6c70  has.upper(), alp
-00019ba0: 6861 732e 6c6f 7765 7228 2929 0a0a 2020  has.lower())..  
-00019bb0: 2020 2020 2020 2320 686f 7374 6e61 6d65        # hostname
-00019bc0: 7320 6172 6520 616c 7068 616e 756d 6572  s are alphanumer
-00019bd0: 6963 2c20 7769 7468 206c 6561 6469 6e67  ic, with leading
-00019be0: 2061 6c70 6861 2c20 616e 6420 272d 270a   alpha, and '-'.
-00019bf0: 2020 2020 2020 2020 686f 7374 6e61 6d65          hostname
-00019c00: 203d 2057 6f72 6428 616c 7068 6173 2c20   = Word(alphas, 
-00019c10: 616c 7068 616e 756d 7320 2b20 272d 2729  alphanums + '-')
-00019c20: 0a0a 2020 2020 2020 2020 2320 726f 6d61  ..        # roma
-00019c30: 6e20 6e75 6d65 7261 6c20 286e 6f74 2061  n numeral (not a
-00019c40: 2073 7472 6963 7420 7061 7273 6572 2c20   strict parser, 
-00019c50: 6163 6365 7074 7320 696e 7661 6c69 6420  accepts invalid 
-00019c60: 6d69 7820 6f66 2063 6861 7261 6374 6572  mix of character
-00019c70: 7329 0a20 2020 2020 2020 2072 6f6d 616e  s).        roman
-00019c80: 203d 2057 6f72 6428 2249 5658 4c43 444d   = Word("IVXLCDM
-00019c90: 2229 0a0a 2020 2020 2020 2020 2320 616e  ")..        # an
-00019ca0: 7920 7374 7269 6e67 206f 6620 6e6f 6e2d  y string of non-
-00019cb0: 7768 6974 6573 7061 6365 2063 6861 7261  whitespace chara
-00019cc0: 6374 6572 732c 2065 7863 6570 7420 666f  cters, except fo
-00019cd0: 7220 272c 270a 2020 2020 2020 2020 6373  r ','.        cs
-00019ce0: 765f 7661 6c75 6520 3d20 576f 7264 2870  v_value = Word(p
-00019cf0: 7269 6e74 6162 6c65 732c 2065 7863 6c75  rintables, exclu
-00019d00: 6465 5f63 6861 7273 3d22 2c22 290a 2020  de_chars=",").  
-00019d10: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
-00019d20: 5f69 6e69 745f 5f28 0a20 2020 2020 2020  _init__(.       
-00019d30: 2073 656c 662c 0a20 2020 2020 2020 2069   self,.        i
-00019d40: 6e69 745f 6368 6172 733a 2073 7472 203d  nit_chars: str =
-00019d50: 2022 222c 0a20 2020 2020 2020 2062 6f64   "",.        bod
-00019d60: 795f 6368 6172 733a 2074 7970 696e 672e  y_chars: typing.
-00019d70: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
-00019d80: 4e6f 6e65 2c0a 2020 2020 2020 2020 6d69  None,.        mi
-00019d90: 6e3a 2069 6e74 203d 2031 2c0a 2020 2020  n: int = 1,.    
-00019da0: 2020 2020 6d61 783a 2069 6e74 203d 2030      max: int = 0
-00019db0: 2c0a 2020 2020 2020 2020 6578 6163 743a  ,.        exact:
-00019dc0: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
-00019dd0: 2020 6173 5f6b 6579 776f 7264 3a20 626f    as_keyword: bo
-00019de0: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
-00019df0: 2020 2020 6578 636c 7564 655f 6368 6172      exclude_char
-00019e00: 733a 2074 7970 696e 672e 4f70 7469 6f6e  s: typing.Option
-00019e10: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  al[str] = None,.
-00019e20: 2020 2020 2020 2020 2a2c 0a20 2020 2020          *,.     
-00019e30: 2020 2069 6e69 7443 6861 7273 3a20 7479     initChars: ty
-00019e40: 7069 6e67 2e4f 7074 696f 6e61 6c5b 7374  ping.Optional[st
-00019e50: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
-00019e60: 2020 2062 6f64 7943 6861 7273 3a20 7479     bodyChars: ty
-00019e70: 7069 6e67 2e4f 7074 696f 6e61 6c5b 7374  ping.Optional[st
-00019e80: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
-00019e90: 2020 2061 734b 6579 776f 7264 3a20 626f     asKeyword: bo
-00019ea0: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
-00019eb0: 2020 2020 6578 636c 7564 6543 6861 7273      excludeChars
-00019ec0: 3a20 7479 7069 6e67 2e4f 7074 696f 6e61  : typing.Optiona
-00019ed0: 6c5b 7374 725d 203d 204e 6f6e 652c 0a20  l[str] = None,. 
-00019ee0: 2020 2029 3a0a 2020 2020 2020 2020 696e     ):.        in
-00019ef0: 6974 4368 6172 7320 3d20 696e 6974 4368  itChars = initCh
-00019f00: 6172 7320 6f72 2069 6e69 745f 6368 6172  ars or init_char
-00019f10: 730a 2020 2020 2020 2020 626f 6479 4368  s.        bodyCh
-00019f20: 6172 7320 3d20 626f 6479 4368 6172 7320  ars = bodyChars 
-00019f30: 6f72 2062 6f64 795f 6368 6172 730a 2020  or body_chars.  
-00019f40: 2020 2020 2020 6173 4b65 7977 6f72 6420        asKeyword 
-00019f50: 3d20 6173 4b65 7977 6f72 6420 6f72 2061  = asKeyword or a
-00019f60: 735f 6b65 7977 6f72 640a 2020 2020 2020  s_keyword.      
-00019f70: 2020 6578 636c 7564 6543 6861 7273 203d    excludeChars =
-00019f80: 2065 7863 6c75 6465 4368 6172 7320 6f72   excludeChars or
-00019f90: 2065 7863 6c75 6465 5f63 6861 7273 0a20   exclude_chars. 
-00019fa0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
-00019fb0: 5f69 6e69 745f 5f28 290a 2020 2020 2020  _init__().      
-00019fc0: 2020 6966 206e 6f74 2069 6e69 7443 6861    if not initCha
-00019fd0: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
-00019fe0: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
-00019ff0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0001a000: 2020 6622 696e 7661 6c69 6420 7b74 7970    f"invalid {typ
-0001a010: 6528 7365 6c66 292e 5f5f 6e61 6d65 5f5f  e(self).__name__
-0001a020: 7d2c 2069 6e69 7443 6861 7273 2063 616e  }, initChars can
-0001a030: 6e6f 7420 6265 2065 6d70 7479 2073 7472  not be empty str
-0001a040: 696e 6722 0a20 2020 2020 2020 2020 2020  ing".           
-0001a050: 2029 0a0a 2020 2020 2020 2020 696e 6974   )..        init
-0001a060: 4368 6172 735f 7365 7420 3d20 7365 7428  Chars_set = set(
-0001a070: 696e 6974 4368 6172 7329 0a20 2020 2020  initChars).     
-0001a080: 2020 2069 6620 6578 636c 7564 6543 6861     if excludeCha
-0001a090: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
-0001a0a0: 6578 636c 7564 6543 6861 7273 5f73 6574  excludeChars_set
-0001a0b0: 203d 2073 6574 2865 7863 6c75 6465 4368   = set(excludeCh
-0001a0c0: 6172 7329 0a20 2020 2020 2020 2020 2020  ars).           
-0001a0d0: 2069 6e69 7443 6861 7273 5f73 6574 202d   initChars_set -
-0001a0e0: 3d20 6578 636c 7564 6543 6861 7273 5f73  = excludeChars_s
-0001a0f0: 6574 0a20 2020 2020 2020 2020 2020 2069  et.            i
-0001a100: 6620 626f 6479 4368 6172 733a 0a20 2020  f bodyChars:.   
-0001a110: 2020 2020 2020 2020 2020 2020 2062 6f64               bod
-0001a120: 7943 6861 7273 203d 2022 222e 6a6f 696e  yChars = "".join
-0001a130: 2873 6574 2862 6f64 7943 6861 7273 2920  (set(bodyChars) 
-0001a140: 2d20 6578 636c 7564 6543 6861 7273 5f73  - excludeChars_s
-0001a150: 6574 290a 2020 2020 2020 2020 7365 6c66  et).        self
-0001a160: 2e69 6e69 7443 6861 7273 203d 2069 6e69  .initChars = ini
-0001a170: 7443 6861 7273 5f73 6574 0a20 2020 2020  tChars_set.     
-0001a180: 2020 2073 656c 662e 696e 6974 4368 6172     self.initChar
-0001a190: 734f 7269 6720 3d20 2222 2e6a 6f69 6e28  sOrig = "".join(
-0001a1a0: 736f 7274 6564 2869 6e69 7443 6861 7273  sorted(initChars
-0001a1b0: 5f73 6574 2929 0a0a 2020 2020 2020 2020  _set))..        
-0001a1c0: 6966 2062 6f64 7943 6861 7273 3a0a 2020  if bodyChars:.  
-0001a1d0: 2020 2020 2020 2020 2020 7365 6c66 2e62            self.b
-0001a1e0: 6f64 7943 6861 7273 203d 2073 6574 2862  odyChars = set(b
-0001a1f0: 6f64 7943 6861 7273 290a 2020 2020 2020  odyChars).      
-0001a200: 2020 2020 2020 7365 6c66 2e62 6f64 7943        self.bodyC
-0001a210: 6861 7273 4f72 6967 203d 2022 222e 6a6f  harsOrig = "".jo
-0001a220: 696e 2873 6f72 7465 6428 626f 6479 4368  in(sorted(bodyCh
-0001a230: 6172 7329 290a 2020 2020 2020 2020 656c  ars)).        el
-0001a240: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0001a250: 7365 6c66 2e62 6f64 7943 6861 7273 203d  self.bodyChars =
-0001a260: 2069 6e69 7443 6861 7273 5f73 6574 0a20   initChars_set. 
-0001a270: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001a280: 626f 6479 4368 6172 734f 7269 6720 3d20  bodyCharsOrig = 
-0001a290: 7365 6c66 2e69 6e69 7443 6861 7273 4f72  self.initCharsOr
-0001a2a0: 6967 0a0a 2020 2020 2020 2020 7365 6c66  ig..        self
-0001a2b0: 2e6d 6178 5370 6563 6966 6965 6420 3d20  .maxSpecified = 
-0001a2c0: 6d61 7820 3e20 300a 0a20 2020 2020 2020  max > 0..       
-0001a2d0: 2069 6620 6d69 6e20 3c20 313a 0a20 2020   if min < 1:.   
-0001a2e0: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
-0001a2f0: 616c 7565 4572 726f 7228 0a20 2020 2020  alueError(.     
-0001a300: 2020 2020 2020 2020 2020 2022 6361 6e6e             "cann
-0001a310: 6f74 2073 7065 6369 6679 2061 206d 696e  ot specify a min
-0001a320: 696d 756d 206c 656e 6774 6820 3c20 313b  imum length < 1;
-0001a330: 2075 7365 204f 7074 2857 6f72 6428 2929   use Opt(Word())
-0001a340: 2069 6620 7a65 726f 2d6c 656e 6774 6820   if zero-length 
-0001a350: 776f 7264 2069 7320 7065 726d 6974 7465  word is permitte
-0001a360: 6422 0a20 2020 2020 2020 2020 2020 2029  d".            )
-0001a370: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
-0001a380: 662e 6d61 7853 7065 6369 6669 6564 2061  f.maxSpecified a
-0001a390: 6e64 206d 696e 203e 206d 6178 3a0a 2020  nd min > max:.  
-0001a3a0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0001a3b0: 5661 6c75 6545 7272 6f72 280a 2020 2020  ValueError(.    
-0001a3c0: 2020 2020 2020 2020 2020 2020 6622 696e              f"in
-0001a3d0: 7661 6c69 6420 6172 6773 2c20 6966 206d  valid args, if m
-0001a3e0: 696e 2061 6e64 206d 6178 2062 6f74 6820  in and max both 
-0001a3f0: 7370 6563 6966 6965 6420 6d69 6e20 6d75  specified min mu
-0001a400: 7374 2062 6520 3c3d 206d 6178 2028 6d69  st be <= max (mi
-0001a410: 6e3d 7b6d 696e 7d2c 206d 6178 3d7b 6d61  n={min}, max={ma
-0001a420: 787d 2922 0a20 2020 2020 2020 2020 2020  x})".           
-0001a430: 2029 0a0a 2020 2020 2020 2020 7365 6c66   )..        self
-0001a440: 2e6d 696e 4c65 6e20 3d20 6d69 6e0a 0a20  .minLen = min.. 
-0001a450: 2020 2020 2020 2069 6620 6d61 7820 3e20         if max > 
-0001a460: 303a 0a20 2020 2020 2020 2020 2020 2073  0:.            s
-0001a470: 656c 662e 6d61 784c 656e 203d 206d 6178  elf.maxLen = max
-0001a480: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0001a490: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001a4a0: 6d61 784c 656e 203d 205f 4d41 585f 494e  maxLen = _MAX_IN
-0001a4b0: 540a 0a20 2020 2020 2020 2069 6620 6578  T..        if ex
-0001a4c0: 6163 7420 3e20 303a 0a20 2020 2020 2020  act > 0:.       
-0001a4d0: 2020 2020 206d 696e 203d 206d 6178 203d       min = max =
-0001a4e0: 2065 7861 6374 0a20 2020 2020 2020 2020   exact.         
-0001a4f0: 2020 2073 656c 662e 6d61 784c 656e 203d     self.maxLen =
-0001a500: 2065 7861 6374 0a20 2020 2020 2020 2020   exact.         
-0001a510: 2020 2073 656c 662e 6d69 6e4c 656e 203d     self.minLen =
-0001a520: 2065 7861 6374 0a0a 2020 2020 2020 2020   exact..        
-0001a530: 7365 6c66 2e65 7272 6d73 6720 3d20 2245  self.errmsg = "E
-0001a540: 7870 6563 7465 6420 2220 2b20 7365 6c66  xpected " + self
-0001a550: 2e6e 616d 650a 2020 2020 2020 2020 7365  .name.        se
-0001a560: 6c66 2e6d 6179 496e 6465 7845 7272 6f72  lf.mayIndexError
-0001a570: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
-0001a580: 2073 656c 662e 6173 4b65 7977 6f72 6420   self.asKeyword 
-0001a590: 3d20 6173 4b65 7977 6f72 640a 2020 2020  = asKeyword.    
-0001a5a0: 2020 2020 6966 2073 656c 662e 6173 4b65      if self.asKe
-0001a5b0: 7977 6f72 643a 0a20 2020 2020 2020 2020  yword:.         
-0001a5c0: 2020 2073 656c 662e 6572 726d 7367 202b     self.errmsg +
-0001a5d0: 3d20 2220 6173 2061 206b 6579 776f 7264  = " as a keyword
-0001a5e0: 220a 0a20 2020 2020 2020 2023 2073 6565  "..        # see
-0001a5f0: 2069 6620 7765 2063 616e 206d 616b 6520   if we can make 
-0001a600: 6120 7265 6765 7820 666f 7220 7468 6973  a regex for this
-0001a610: 2057 6f72 640a 2020 2020 2020 2020 6966   Word.        if
-0001a620: 2022 2022 206e 6f74 2069 6e20 2873 656c   " " not in (sel
-0001a630: 662e 696e 6974 4368 6172 7320 7c20 7365  f.initChars | se
-0001a640: 6c66 2e62 6f64 7943 6861 7273 293a 0a20  lf.bodyChars):. 
-0001a650: 2020 2020 2020 2020 2020 2069 6620 6c65             if le
-0001a660: 6e28 7365 6c66 2e69 6e69 7443 6861 7273  n(self.initChars
-0001a670: 2920 3d3d 2031 3a0a 2020 2020 2020 2020  ) == 1:.        
-0001a680: 2020 2020 2020 2020 7265 5f6c 6561 6469          re_leadi
-0001a690: 6e67 5f66 7261 676d 656e 7420 3d20 7265  ng_fragment = re
-0001a6a0: 2e65 7363 6170 6528 7365 6c66 2e69 6e69  .escape(self.ini
-0001a6b0: 7443 6861 7273 4f72 6967 290a 2020 2020  tCharsOrig).    
-0001a6c0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0001a6d0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0001a6e0: 5f6c 6561 6469 6e67 5f66 7261 676d 656e  _leading_fragmen
-0001a6f0: 7420 3d20 6622 5b7b 5f63 6f6c 6c61 7073  t = f"[{_collaps
-0001a700: 655f 7374 7269 6e67 5f74 6f5f 7261 6e67  e_string_to_rang
-0001a710: 6573 2873 656c 662e 696e 6974 4368 6172  es(self.initChar
-0001a720: 7329 7d5d 220a 0a20 2020 2020 2020 2020  s)}]"..         
-0001a730: 2020 2069 6620 7365 6c66 2e62 6f64 7943     if self.bodyC
-0001a740: 6861 7273 203d 3d20 7365 6c66 2e69 6e69  hars == self.ini
-0001a750: 7443 6861 7273 3a0a 2020 2020 2020 2020  tChars:.        
-0001a760: 2020 2020 2020 2020 6966 206d 6178 203d          if max =
-0001a770: 3d20 303a 0a20 2020 2020 2020 2020 2020  = 0:.           
-0001a780: 2020 2020 2020 2020 2072 6570 6561 7420           repeat 
-0001a790: 3d20 222b 220a 2020 2020 2020 2020 2020  = "+".          
-0001a7a0: 2020 2020 2020 656c 6966 206d 6178 203d        elif max =
-0001a7b0: 3d20 313a 0a20 2020 2020 2020 2020 2020  = 1:.           
-0001a7c0: 2020 2020 2020 2020 2072 6570 6561 7420           repeat 
-0001a7d0: 3d20 2222 0a20 2020 2020 2020 2020 2020  = "".           
-0001a7e0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001a7f0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0001a800: 6620 7365 6c66 2e6d 696e 4c65 6e20 213d  f self.minLen !=
-0001a810: 2073 656c 662e 6d61 784c 656e 3a0a 2020   self.maxLen:.  
-0001a820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a830: 2020 2020 2020 7265 7065 6174 203d 2066        repeat = f
-0001a840: 227b 7b7b 7365 6c66 2e6d 696e 4c65 6e7d  "{{{self.minLen}
-0001a850: 2c7b 2727 2069 6620 7365 6c66 2e6d 6178  ,{'' if self.max
-0001a860: 4c65 6e20 3d3d 205f 4d41 585f 494e 5420  Len == _MAX_INT 
-0001a870: 656c 7365 2073 656c 662e 6d61 784c 656e  else self.maxLen
-0001a880: 7d7d 7d22 0a20 2020 2020 2020 2020 2020  }}}".           
-0001a890: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0001a8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a8b0: 2020 2020 2020 2072 6570 6561 7420 3d20         repeat = 
-0001a8c0: 6622 7b7b 7b73 656c 662e 6d69 6e4c 656e  f"{{{self.minLen
-0001a8d0: 7d7d 7d22 0a20 2020 2020 2020 2020 2020  }}}".           
-0001a8e0: 2020 2020 2073 656c 662e 7265 5374 7269       self.reStri
-0001a8f0: 6e67 203d 2066 227b 7265 5f6c 6561 6469  ng = f"{re_leadi
-0001a900: 6e67 5f66 7261 676d 656e 747d 7b72 6570  ng_fragment}{rep
-0001a910: 6561 747d 220a 2020 2020 2020 2020 2020  eat}".          
-0001a920: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0001a930: 2020 2020 2020 2020 6966 206d 6178 203d          if max =
-0001a940: 3d20 313a 0a20 2020 2020 2020 2020 2020  = 1:.           
-0001a950: 2020 2020 2020 2020 2072 655f 626f 6479           re_body
-0001a960: 5f66 7261 676d 656e 7420 3d20 2222 0a20  _fragment = "". 
-0001a970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a980: 2020 2072 6570 6561 7420 3d20 2222 0a20     repeat = "". 
-0001a990: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0001a9a0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0001a9b0: 2020 2020 2020 2020 2072 655f 626f 6479           re_body
-0001a9c0: 5f66 7261 676d 656e 7420 3d20 6622 5b7b  _fragment = f"[{
-0001a9d0: 5f63 6f6c 6c61 7073 655f 7374 7269 6e67  _collapse_string
-0001a9e0: 5f74 6f5f 7261 6e67 6573 2873 656c 662e  _to_ranges(self.
-0001a9f0: 626f 6479 4368 6172 7329 7d5d 220a 2020  bodyChars)}]".  
-0001aa00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001aa10: 2020 6966 206d 6178 203d 3d20 303a 0a20    if max == 0:. 
-0001aa20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001aa30: 2020 2020 2020 2072 6570 6561 7420 3d20         repeat = 
-0001aa40: 222a 220a 2020 2020 2020 2020 2020 2020  "*".            
-0001aa50: 2020 2020 2020 2020 656c 6966 206d 6178          elif max
-0001aa60: 203d 3d20 323a 0a20 2020 2020 2020 2020   == 2:.         
-0001aa70: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001aa80: 6570 6561 7420 3d20 223f 2220 6966 206d  epeat = "?" if m
-0001aa90: 696e 203c 3d20 3120 656c 7365 2022 220a  in <= 1 else "".
-0001aaa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001aab0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0001aac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001aad0: 2020 6966 206d 696e 2021 3d20 6d61 783a    if min != max:
-0001aae0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001aaf0: 2020 2020 2020 2020 2020 2020 2072 6570               rep
-0001ab00: 6561 7420 3d20 6622 7b7b 7b6d 696e 202d  eat = f"{{{min -
-0001ab10: 2031 2069 6620 6d69 6e20 3e20 3020 656c   1 if min > 0 el
-0001ab20: 7365 2030 7d2c 7b6d 6178 202d 2031 7d7d  se 0},{max - 1}}
-0001ab30: 7d22 0a20 2020 2020 2020 2020 2020 2020  }".             
-0001ab40: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0001ab50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001ab60: 2020 2020 2020 2020 2020 2020 2072 6570               rep
-0001ab70: 6561 7420 3d20 6622 7b7b 7b6d 696e 202d  eat = f"{{{min -
-0001ab80: 2031 2069 6620 6d69 6e20 3e20 3020 656c   1 if min > 0 el
-0001ab90: 7365 2030 7d7d 7d22 0a0a 2020 2020 2020  se 0}}}"..      
-0001aba0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
-0001abb0: 6553 7472 696e 6720 3d20 280a 2020 2020  eString = (.    
-0001abc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001abd0: 6622 7b72 655f 6c65 6164 696e 675f 6672  f"{re_leading_fr
-0001abe0: 6167 6d65 6e74 7d22 2066 227b 7265 5f62  agment}" f"{re_b
-0001abf0: 6f64 795f 6672 6167 6d65 6e74 7d22 2066  ody_fragment}" f
-0001ac00: 227b 7265 7065 6174 7d22 0a20 2020 2020  "{repeat}".     
-0001ac10: 2020 2020 2020 2020 2020 2029 0a0a 2020             )..  
-0001ac20: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-0001ac30: 662e 6173 4b65 7977 6f72 643a 0a20 2020  f.asKeyword:.   
-0001ac40: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-0001ac50: 662e 7265 5374 7269 6e67 203d 2072 6622  f.reString = rf"
-0001ac60: 5c62 7b73 656c 662e 7265 5374 7269 6e67  \b{self.reString
-0001ac70: 7d5c 6222 0a0a 2020 2020 2020 2020 2020  }\b"..          
-0001ac80: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-0001ac90: 2020 2020 2020 2073 656c 662e 7265 203d         self.re =
-0001aca0: 2072 652e 636f 6d70 696c 6528 7365 6c66   re.compile(self
-0001acb0: 2e72 6553 7472 696e 6729 0a20 2020 2020  .reString).     
-0001acc0: 2020 2020 2020 2065 7863 6570 7420 7265         except re
-0001acd0: 2e65 7272 6f72 3a0a 2020 2020 2020 2020  .error:.        
-0001ace0: 2020 2020 2020 2020 7365 6c66 2e72 6520          self.re 
-0001acf0: 3d20 4e6f 6e65 2020 2320 7479 7065 3a20  = None  # type: 
-0001ad00: 6967 6e6f 7265 5b61 7373 6967 6e6d 656e  ignore[assignmen
-0001ad10: 745d 0a20 2020 2020 2020 2020 2020 2065  t].            e
-0001ad20: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0001ad30: 2020 2020 2073 656c 662e 7265 5f6d 6174       self.re_mat
-0001ad40: 6368 203d 2073 656c 662e 7265 2e6d 6174  ch = self.re.mat
-0001ad50: 6368 0a20 2020 2020 2020 2020 2020 2020  ch.             
-0001ad60: 2020 2073 656c 662e 7061 7273 6549 6d70     self.parseImp
-0001ad70: 6c20 3d20 7365 6c66 2e70 6172 7365 496d  l = self.parseIm
-0001ad80: 706c 5f72 6567 6578 2020 2320 7479 7065  pl_regex  # type
-0001ad90: 3a20 6967 6e6f 7265 5b61 7373 6967 6e6d  : ignore[assignm
-0001ada0: 656e 745d 0a0a 2020 2020 6465 6620 5f67  ent]..    def _g
-0001adb0: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
-0001adc0: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
-0001add0: 0a20 2020 2020 2020 2064 6566 2063 6861  .        def cha
-0001ade0: 7273 4173 5374 7228 7329 3a0a 2020 2020  rsAsStr(s):.    
-0001adf0: 2020 2020 2020 2020 6d61 785f 7265 7072          max_repr
-0001ae00: 5f6c 656e 203d 2031 360a 2020 2020 2020  _len = 16.      
-0001ae10: 2020 2020 2020 7320 3d20 5f63 6f6c 6c61        s = _colla
-0001ae20: 7073 655f 7374 7269 6e67 5f74 6f5f 7261  pse_string_to_ra
-0001ae30: 6e67 6573 2873 2c20 7265 5f65 7363 6170  nges(s, re_escap
-0001ae40: 653d 4661 6c73 6529 0a20 2020 2020 2020  e=False).       
-0001ae50: 2020 2020 2069 6620 6c65 6e28 7329 203e       if len(s) >
-0001ae60: 206d 6178 5f72 6570 725f 6c65 6e3a 0a20   max_repr_len:. 
-0001ae70: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001ae80: 6574 7572 6e20 735b 3a20 6d61 785f 7265  eturn s[: max_re
-0001ae90: 7072 5f6c 656e 202d 2033 5d20 2b20 222e  pr_len - 3] + ".
-0001aea0: 2e2e 220a 2020 2020 2020 2020 2020 2020  ..".            
-0001aeb0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0001aec0: 2020 2020 2020 7265 7475 726e 2073 0a0a        return s..
-0001aed0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-0001aee0: 696e 6974 4368 6172 7320 213d 2073 656c  initChars != sel
-0001aef0: 662e 626f 6479 4368 6172 733a 0a20 2020  f.bodyChars:.   
-0001af00: 2020 2020 2020 2020 2062 6173 6520 3d20           base = 
-0001af10: 6622 573a 287b 6368 6172 7341 7353 7472  f"W:({charsAsStr
-0001af20: 2873 656c 662e 696e 6974 4368 6172 7329  (self.initChars)
-0001af30: 7d2c 207b 6368 6172 7341 7353 7472 2873  }, {charsAsStr(s
-0001af40: 656c 662e 626f 6479 4368 6172 7329 7d29  elf.bodyChars)})
-0001af50: 220a 2020 2020 2020 2020 656c 7365 3a0a  ".        else:.
-0001af60: 2020 2020 2020 2020 2020 2020 6261 7365              base
-0001af70: 203d 2066 2257 3a28 7b63 6861 7273 4173   = f"W:({charsAs
-0001af80: 5374 7228 7365 6c66 2e69 6e69 7443 6861  Str(self.initCha
-0001af90: 7273 297d 2922 0a0a 2020 2020 2020 2020  rs)})"..        
-0001afa0: 2320 6164 6420 6c65 6e67 7468 2073 7065  # add length spe
-0001afb0: 6369 6669 6361 7469 6f6e 0a20 2020 2020  cification.     
-0001afc0: 2020 2069 6620 7365 6c66 2e6d 696e 4c65     if self.minLe
-0001afd0: 6e20 3e20 3120 6f72 2073 656c 662e 6d61  n > 1 or self.ma
-0001afe0: 784c 656e 2021 3d20 5f4d 4158 5f49 4e54  xLen != _MAX_INT
-0001aff0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-0001b000: 2073 656c 662e 6d69 6e4c 656e 203d 3d20   self.minLen == 
-0001b010: 7365 6c66 2e6d 6178 4c65 6e3a 0a20 2020  self.maxLen:.   
-0001b020: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0001b030: 7365 6c66 2e6d 696e 4c65 6e20 3d3d 2031  self.minLen == 1
-0001b040: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001b050: 2020 2020 2020 7265 7475 726e 2062 6173        return bas
-0001b060: 655b 323a 5d0a 2020 2020 2020 2020 2020  e[2:].          
-0001b070: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0001b080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b090: 7265 7475 726e 2062 6173 6520 2b20 6622  return base + f"
-0001b0a0: 7b7b 7b73 656c 662e 6d69 6e4c 656e 7d7d  {{{self.minLen}}
-0001b0b0: 7d22 0a20 2020 2020 2020 2020 2020 2065  }".            e
-0001b0c0: 6c69 6620 7365 6c66 2e6d 6178 4c65 6e20  lif self.maxLen 
-0001b0d0: 3d3d 205f 4d41 585f 494e 543a 0a20 2020  == _MAX_INT:.   
-0001b0e0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0001b0f0: 7572 6e20 6261 7365 202b 2066 227b 7b7b  urn base + f"{{{
-0001b100: 7365 6c66 2e6d 696e 4c65 6e7d 2c2e 2e2e  self.minLen},...
-0001b110: 7d7d 220a 2020 2020 2020 2020 2020 2020  }}".            
-0001b120: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0001b130: 2020 2020 2020 7265 7475 726e 2062 6173        return bas
-0001b140: 6520 2b20 6622 7b7b 7b73 656c 662e 6d69  e + f"{{{self.mi
-0001b150: 6e4c 656e 7d2c 7b73 656c 662e 6d61 784c  nLen},{self.maxL
-0001b160: 656e 7d7d 7d22 0a20 2020 2020 2020 2072  en}}}".        r
-0001b170: 6574 7572 6e20 6261 7365 0a0a 2020 2020  eturn base..    
-0001b180: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
-0001b190: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
-0001b1a0: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
-0001b1b0: 6529 3a0a 2020 2020 2020 2020 6966 2069  e):.        if i
-0001b1c0: 6e73 7472 696e 675b 6c6f 635d 206e 6f74  nstring[loc] not
-0001b1d0: 2069 6e20 7365 6c66 2e69 6e69 7443 6861   in self.initCha
-0001b1e0: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
-0001b1f0: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
-0001b200: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
-0001b210: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
-0001b220: 2073 656c 6629 0a0a 2020 2020 2020 2020   self)..        
-0001b230: 7374 6172 7420 3d20 6c6f 630a 2020 2020  start = loc.    
-0001b240: 2020 2020 6c6f 6320 2b3d 2031 0a20 2020      loc += 1.   
-0001b250: 2020 2020 2069 6e73 7472 6c65 6e20 3d20       instrlen = 
-0001b260: 6c65 6e28 696e 7374 7269 6e67 290a 2020  len(instring).  
-0001b270: 2020 2020 2020 626f 6479 6368 6172 7320        bodychars 
-0001b280: 3d20 7365 6c66 2e62 6f64 7943 6861 7273  = self.bodyChars
-0001b290: 0a20 2020 2020 2020 206d 6178 6c6f 6320  .        maxloc 
-0001b2a0: 3d20 7374 6172 7420 2b20 7365 6c66 2e6d  = start + self.m
-0001b2b0: 6178 4c65 6e0a 2020 2020 2020 2020 6d61  axLen.        ma
-0001b2c0: 786c 6f63 203d 206d 696e 286d 6178 6c6f  xloc = min(maxlo
-0001b2d0: 632c 2069 6e73 7472 6c65 6e29 0a20 2020  c, instrlen).   
-0001b2e0: 2020 2020 2077 6869 6c65 206c 6f63 203c       while loc <
-0001b2f0: 206d 6178 6c6f 6320 616e 6420 696e 7374   maxloc and inst
-0001b300: 7269 6e67 5b6c 6f63 5d20 696e 2062 6f64  ring[loc] in bod
-0001b310: 7963 6861 7273 3a0a 2020 2020 2020 2020  ychars:.        
-0001b320: 2020 2020 6c6f 6320 2b3d 2031 0a0a 2020      loc += 1..  
-0001b330: 2020 2020 2020 7468 726f 7745 7863 6570        throwExcep
-0001b340: 7469 6f6e 203d 2046 616c 7365 0a20 2020  tion = False.   
-0001b350: 2020 2020 2069 6620 6c6f 6320 2d20 7374       if loc - st
-0001b360: 6172 7420 3c20 7365 6c66 2e6d 696e 4c65  art < self.minLe
-0001b370: 6e3a 0a20 2020 2020 2020 2020 2020 2074  n:.            t
-0001b380: 6872 6f77 4578 6365 7074 696f 6e20 3d20  hrowException = 
-0001b390: 5472 7565 0a20 2020 2020 2020 2065 6c69  True.        eli
-0001b3a0: 6620 7365 6c66 2e6d 6178 5370 6563 6966  f self.maxSpecif
-0001b3b0: 6965 6420 616e 6420 6c6f 6320 3c20 696e  ied and loc < in
-0001b3c0: 7374 726c 656e 2061 6e64 2069 6e73 7472  strlen and instr
-0001b3d0: 696e 675b 6c6f 635d 2069 6e20 626f 6479  ing[loc] in body
-0001b3e0: 6368 6172 733a 0a20 2020 2020 2020 2020  chars:.         
+000199a0: 616e 6765 2031 3238 2d32 3535 0a20 2020  ange 128-255.   
+000199b0: 2020 202d 2061 6363 656e 7465 642c 2074     - accented, t
+000199c0: 696c 6465 642c 2075 6d6c 6175 7465 642c  ilded, umlauted,
+000199d0: 2065 7463 2e29 0a20 2020 202d 203a 636c   etc.).    - :cl
+000199e0: 6173 733a 6070 756e 6338 6269 7460 2028  ass:`punc8bit` (
+000199f0: 6e6f 6e2d 616c 7068 6162 6574 6963 2063  non-alphabetic c
+00019a00: 6861 7261 6374 6572 7320 696e 2041 5343  haracters in ASC
+00019a10: 4949 2072 616e 6765 0a20 2020 2020 2031  II range.      1
+00019a20: 3238 2d32 3535 202d 2063 7572 7265 6e63  28-255 - currenc
+00019a30: 792c 2073 796d 626f 6c73 2c20 7375 7065  y, symbols, supe
+00019a40: 7273 6372 6970 7473 2c20 6469 6163 7269  rscripts, diacri
+00019a50: 7469 6361 6c73 2c20 6574 632e 290a 2020  ticals, etc.).  
+00019a60: 2020 2d20 3a63 6c61 7373 3a60 7072 696e    - :class:`prin
+00019a70: 7461 626c 6573 6020 2861 6e79 206e 6f6e  tables` (any non
+00019a80: 2d77 6869 7465 7370 6163 6520 6368 6172  -whitespace char
+00019a90: 6163 7465 7229 0a0a 2020 2020 6060 616c  acter)..    ``al
+00019aa0: 7068 6173 6060 2c20 6060 6e75 6d73 6060  phas``, ``nums``
+00019ab0: 2c20 616e 6420 6060 7072 696e 7461 626c  , and ``printabl
+00019ac0: 6573 6060 2061 7265 2061 6c73 6f20 6465  es`` are also de
+00019ad0: 6669 6e65 6420 696e 2073 6576 6572 616c  fined in several
+00019ae0: 0a20 2020 2055 6e69 636f 6465 2073 6574  .    Unicode set
+00019af0: 7320 2d20 7365 6520 3a63 6c61 7373 3a60  s - see :class:`
+00019b00: 7079 7061 7273 696e 675f 756e 6963 6f64  pyparsing_unicod
+00019b10: 6560 602e 0a0a 2020 2020 4578 616d 706c  e``...    Exampl
+00019b20: 653a 3a0a 0a20 2020 2020 2020 2023 2061  e::..        # a
+00019b30: 2077 6f72 6420 636f 6d70 6f73 6564 206f   word composed o
+00019b40: 6620 6469 6769 7473 0a20 2020 2020 2020  f digits.       
+00019b50: 2069 6e74 6567 6572 203d 2057 6f72 6428   integer = Word(
+00019b60: 6e75 6d73 2920 2320 6571 7569 7661 6c65  nums) # equivale
+00019b70: 6e74 2074 6f20 576f 7264 2822 3031 3233  nt to Word("0123
+00019b80: 3435 3637 3839 2229 206f 7220 576f 7264  456789") or Word
+00019b90: 2873 7261 6e67 6528 2230 2d39 2229 290a  (srange("0-9")).
+00019ba0: 0a20 2020 2020 2020 2023 2061 2077 6f72  .        # a wor
+00019bb0: 6420 7769 7468 2061 206c 6561 6469 6e67  d with a leading
+00019bc0: 2063 6170 6974 616c 2c20 616e 6420 7a65   capital, and ze
+00019bd0: 726f 206f 7220 6d6f 7265 206c 6f77 6572  ro or more lower
+00019be0: 6361 7365 0a20 2020 2020 2020 2063 6170  case.        cap
+00019bf0: 6974 616c 5f77 6f72 6420 3d20 576f 7264  ital_word = Word
+00019c00: 2861 6c70 6861 732e 7570 7065 7228 292c  (alphas.upper(),
+00019c10: 2061 6c70 6861 732e 6c6f 7765 7228 2929   alphas.lower())
+00019c20: 0a0a 2020 2020 2020 2020 2320 686f 7374  ..        # host
+00019c30: 6e61 6d65 7320 6172 6520 616c 7068 616e  names are alphan
+00019c40: 756d 6572 6963 2c20 7769 7468 206c 6561  umeric, with lea
+00019c50: 6469 6e67 2061 6c70 6861 2c20 616e 6420  ding alpha, and 
+00019c60: 272d 270a 2020 2020 2020 2020 686f 7374  '-'.        host
+00019c70: 6e61 6d65 203d 2057 6f72 6428 616c 7068  name = Word(alph
+00019c80: 6173 2c20 616c 7068 616e 756d 7320 2b20  as, alphanums + 
+00019c90: 272d 2729 0a0a 2020 2020 2020 2020 2320  '-')..        # 
+00019ca0: 726f 6d61 6e20 6e75 6d65 7261 6c20 286e  roman numeral (n
+00019cb0: 6f74 2061 2073 7472 6963 7420 7061 7273  ot a strict pars
+00019cc0: 6572 2c20 6163 6365 7074 7320 696e 7661  er, accepts inva
+00019cd0: 6c69 6420 6d69 7820 6f66 2063 6861 7261  lid mix of chara
+00019ce0: 6374 6572 7329 0a20 2020 2020 2020 2072  cters).        r
+00019cf0: 6f6d 616e 203d 2057 6f72 6428 2249 5658  oman = Word("IVX
+00019d00: 4c43 444d 2229 0a0a 2020 2020 2020 2020  LCDM")..        
+00019d10: 2320 616e 7920 7374 7269 6e67 206f 6620  # any string of 
+00019d20: 6e6f 6e2d 7768 6974 6573 7061 6365 2063  non-whitespace c
+00019d30: 6861 7261 6374 6572 732c 2065 7863 6570  haracters, excep
+00019d40: 7420 666f 7220 272c 270a 2020 2020 2020  t for ','.      
+00019d50: 2020 6373 765f 7661 6c75 6520 3d20 576f    csv_value = Wo
+00019d60: 7264 2870 7269 6e74 6162 6c65 732c 2065  rd(printables, e
+00019d70: 7863 6c75 6465 5f63 6861 7273 3d22 2c22  xclude_chars=","
+00019d80: 290a 2020 2020 2222 220a 0a20 2020 2064  ).    """..    d
+00019d90: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
+00019da0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00019db0: 2020 2069 6e69 745f 6368 6172 733a 2073     init_chars: s
+00019dc0: 7472 203d 2022 222c 0a20 2020 2020 2020  tr = "",.       
+00019dd0: 2062 6f64 795f 6368 6172 733a 2074 7970   body_chars: typ
+00019de0: 696e 672e 4f70 7469 6f6e 616c 5b73 7472  ing.Optional[str
+00019df0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
+00019e00: 2020 6d69 6e3a 2069 6e74 203d 2031 2c0a    min: int = 1,.
+00019e10: 2020 2020 2020 2020 6d61 783a 2069 6e74          max: int
+00019e20: 203d 2030 2c0a 2020 2020 2020 2020 6578   = 0,.        ex
+00019e30: 6163 743a 2069 6e74 203d 2030 2c0a 2020  act: int = 0,.  
+00019e40: 2020 2020 2020 6173 5f6b 6579 776f 7264        as_keyword
+00019e50: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
+00019e60: 2020 2020 2020 2020 6578 636c 7564 655f          exclude_
+00019e70: 6368 6172 733a 2074 7970 696e 672e 4f70  chars: typing.Op
+00019e80: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
+00019e90: 6e65 2c0a 2020 2020 2020 2020 2a2c 0a20  ne,.        *,. 
+00019ea0: 2020 2020 2020 2069 6e69 7443 6861 7273         initChars
+00019eb0: 3a20 7479 7069 6e67 2e4f 7074 696f 6e61  : typing.Optiona
+00019ec0: 6c5b 7374 725d 203d 204e 6f6e 652c 0a20  l[str] = None,. 
+00019ed0: 2020 2020 2020 2062 6f64 7943 6861 7273         bodyChars
+00019ee0: 3a20 7479 7069 6e67 2e4f 7074 696f 6e61  : typing.Optiona
+00019ef0: 6c5b 7374 725d 203d 204e 6f6e 652c 0a20  l[str] = None,. 
+00019f00: 2020 2020 2020 2061 734b 6579 776f 7264         asKeyword
+00019f10: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
+00019f20: 2020 2020 2020 2020 6578 636c 7564 6543          excludeC
+00019f30: 6861 7273 3a20 7479 7069 6e67 2e4f 7074  hars: typing.Opt
+00019f40: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
+00019f50: 652c 0a20 2020 2029 3a0a 2020 2020 2020  e,.    ):.      
+00019f60: 2020 696e 6974 4368 6172 7320 3d20 696e    initChars = in
+00019f70: 6974 4368 6172 7320 6f72 2069 6e69 745f  itChars or init_
+00019f80: 6368 6172 730a 2020 2020 2020 2020 626f  chars.        bo
+00019f90: 6479 4368 6172 7320 3d20 626f 6479 4368  dyChars = bodyCh
+00019fa0: 6172 7320 6f72 2062 6f64 795f 6368 6172  ars or body_char
+00019fb0: 730a 2020 2020 2020 2020 6173 4b65 7977  s.        asKeyw
+00019fc0: 6f72 6420 3d20 6173 4b65 7977 6f72 6420  ord = asKeyword 
+00019fd0: 6f72 2061 735f 6b65 7977 6f72 640a 2020  or as_keyword.  
+00019fe0: 2020 2020 2020 6578 636c 7564 6543 6861        excludeCha
+00019ff0: 7273 203d 2065 7863 6c75 6465 4368 6172  rs = excludeChar
+0001a000: 7320 6f72 2065 7863 6c75 6465 5f63 6861  s or exclude_cha
+0001a010: 7273 0a20 2020 2020 2020 2073 7570 6572  rs.        super
+0001a020: 2829 2e5f 5f69 6e69 745f 5f28 290a 2020  ().__init__().  
+0001a030: 2020 2020 2020 6966 206e 6f74 2069 6e69        if not ini
+0001a040: 7443 6861 7273 3a0a 2020 2020 2020 2020  tChars:.        
+0001a050: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
+0001a060: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+0001a070: 2020 2020 2020 6622 696e 7661 6c69 6420        f"invalid 
+0001a080: 7b74 7970 6528 7365 6c66 292e 5f5f 6e61  {type(self).__na
+0001a090: 6d65 5f5f 7d2c 2069 6e69 7443 6861 7273  me__}, initChars
+0001a0a0: 2063 616e 6e6f 7420 6265 2065 6d70 7479   cannot be empty
+0001a0b0: 2073 7472 696e 6722 0a20 2020 2020 2020   string".       
+0001a0c0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
+0001a0d0: 696e 6974 4368 6172 735f 7365 7420 3d20  initChars_set = 
+0001a0e0: 7365 7428 696e 6974 4368 6172 7329 0a20  set(initChars). 
+0001a0f0: 2020 2020 2020 2069 6620 6578 636c 7564         if exclud
+0001a100: 6543 6861 7273 3a0a 2020 2020 2020 2020  eChars:.        
+0001a110: 2020 2020 6578 636c 7564 6543 6861 7273      excludeChars
+0001a120: 5f73 6574 203d 2073 6574 2865 7863 6c75  _set = set(exclu
+0001a130: 6465 4368 6172 7329 0a20 2020 2020 2020  deChars).       
+0001a140: 2020 2020 2069 6e69 7443 6861 7273 5f73       initChars_s
+0001a150: 6574 202d 3d20 6578 636c 7564 6543 6861  et -= excludeCha
+0001a160: 7273 5f73 6574 0a20 2020 2020 2020 2020  rs_set.         
+0001a170: 2020 2069 6620 626f 6479 4368 6172 733a     if bodyChars:
+0001a180: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a190: 2062 6f64 7943 6861 7273 203d 2022 222e   bodyChars = "".
+0001a1a0: 6a6f 696e 2873 6574 2862 6f64 7943 6861  join(set(bodyCha
+0001a1b0: 7273 2920 2d20 6578 636c 7564 6543 6861  rs) - excludeCha
+0001a1c0: 7273 5f73 6574 290a 2020 2020 2020 2020  rs_set).        
+0001a1d0: 7365 6c66 2e69 6e69 7443 6861 7273 203d  self.initChars =
+0001a1e0: 2069 6e69 7443 6861 7273 5f73 6574 0a20   initChars_set. 
+0001a1f0: 2020 2020 2020 2073 656c 662e 696e 6974         self.init
+0001a200: 4368 6172 734f 7269 6720 3d20 2222 2e6a  CharsOrig = "".j
+0001a210: 6f69 6e28 736f 7274 6564 2869 6e69 7443  oin(sorted(initC
+0001a220: 6861 7273 5f73 6574 2929 0a0a 2020 2020  hars_set))..    
+0001a230: 2020 2020 6966 2062 6f64 7943 6861 7273      if bodyChars
+0001a240: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0001a250: 6c66 2e62 6f64 7943 6861 7273 203d 2073  lf.bodyChars = s
+0001a260: 6574 2862 6f64 7943 6861 7273 290a 2020  et(bodyChars).  
+0001a270: 2020 2020 2020 2020 2020 7365 6c66 2e62            self.b
+0001a280: 6f64 7943 6861 7273 4f72 6967 203d 2022  odyCharsOrig = "
+0001a290: 222e 6a6f 696e 2873 6f72 7465 6428 626f  ".join(sorted(bo
+0001a2a0: 6479 4368 6172 7329 290a 2020 2020 2020  dyChars)).      
+0001a2b0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001a2c0: 2020 2020 7365 6c66 2e62 6f64 7943 6861      self.bodyCha
+0001a2d0: 7273 203d 2069 6e69 7443 6861 7273 5f73  rs = initChars_s
+0001a2e0: 6574 0a20 2020 2020 2020 2020 2020 2073  et.            s
+0001a2f0: 656c 662e 626f 6479 4368 6172 734f 7269  elf.bodyCharsOri
+0001a300: 6720 3d20 7365 6c66 2e69 6e69 7443 6861  g = self.initCha
+0001a310: 7273 4f72 6967 0a0a 2020 2020 2020 2020  rsOrig..        
+0001a320: 7365 6c66 2e6d 6178 5370 6563 6966 6965  self.maxSpecifie
+0001a330: 6420 3d20 6d61 7820 3e20 300a 0a20 2020  d = max > 0..   
+0001a340: 2020 2020 2069 6620 6d69 6e20 3c20 313a       if min < 1:
+0001a350: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0001a360: 7365 2056 616c 7565 4572 726f 7228 0a20  se ValueError(. 
+0001a370: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0001a380: 6361 6e6e 6f74 2073 7065 6369 6679 2061  cannot specify a
+0001a390: 206d 696e 696d 756d 206c 656e 6774 6820   minimum length 
+0001a3a0: 3c20 313b 2075 7365 204f 7074 2857 6f72  < 1; use Opt(Wor
+0001a3b0: 6428 2929 2069 6620 7a65 726f 2d6c 656e  d()) if zero-len
+0001a3c0: 6774 6820 776f 7264 2069 7320 7065 726d  gth word is perm
+0001a3d0: 6974 7465 6422 0a20 2020 2020 2020 2020  itted".         
+0001a3e0: 2020 2029 0a0a 2020 2020 2020 2020 6966     )..        if
+0001a3f0: 2073 656c 662e 6d61 7853 7065 6369 6669   self.maxSpecifi
+0001a400: 6564 2061 6e64 206d 696e 203e 206d 6178  ed and min > max
+0001a410: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+0001a420: 6973 6520 5661 6c75 6545 7272 6f72 280a  ise ValueError(.
+0001a430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a440: 6622 696e 7661 6c69 6420 6172 6773 2c20  f"invalid args, 
+0001a450: 6966 206d 696e 2061 6e64 206d 6178 2062  if min and max b
+0001a460: 6f74 6820 7370 6563 6966 6965 6420 6d69  oth specified mi
+0001a470: 6e20 6d75 7374 2062 6520 3c3d 206d 6178  n must be <= max
+0001a480: 2028 6d69 6e3d 7b6d 696e 7d2c 206d 6178   (min={min}, max
+0001a490: 3d7b 6d61 787d 2922 0a20 2020 2020 2020  ={max})".       
+0001a4a0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
+0001a4b0: 7365 6c66 2e6d 696e 4c65 6e20 3d20 6d69  self.minLen = mi
+0001a4c0: 6e0a 0a20 2020 2020 2020 2069 6620 6d61  n..        if ma
+0001a4d0: 7820 3e20 303a 0a20 2020 2020 2020 2020  x > 0:.         
+0001a4e0: 2020 2073 656c 662e 6d61 784c 656e 203d     self.maxLen =
+0001a4f0: 206d 6178 0a20 2020 2020 2020 2065 6c73   max.        els
+0001a500: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+0001a510: 656c 662e 6d61 784c 656e 203d 205f 4d41  elf.maxLen = _MA
+0001a520: 585f 494e 540a 0a20 2020 2020 2020 2069  X_INT..        i
+0001a530: 6620 6578 6163 7420 3e20 303a 0a20 2020  f exact > 0:.   
+0001a540: 2020 2020 2020 2020 206d 696e 203d 206d           min = m
+0001a550: 6178 203d 2065 7861 6374 0a20 2020 2020  ax = exact.     
+0001a560: 2020 2020 2020 2073 656c 662e 6d61 784c         self.maxL
+0001a570: 656e 203d 2065 7861 6374 0a20 2020 2020  en = exact.     
+0001a580: 2020 2020 2020 2073 656c 662e 6d69 6e4c         self.minL
+0001a590: 656e 203d 2065 7861 6374 0a0a 2020 2020  en = exact..    
+0001a5a0: 2020 2020 7365 6c66 2e65 7272 6d73 6720      self.errmsg 
+0001a5b0: 3d20 2245 7870 6563 7465 6420 2220 2b20  = "Expected " + 
+0001a5c0: 7365 6c66 2e6e 616d 650a 2020 2020 2020  self.name.      
+0001a5d0: 2020 7365 6c66 2e6d 6179 496e 6465 7845    self.mayIndexE
+0001a5e0: 7272 6f72 203d 2046 616c 7365 0a20 2020  rror = False.   
+0001a5f0: 2020 2020 2073 656c 662e 6173 4b65 7977       self.asKeyw
+0001a600: 6f72 6420 3d20 6173 4b65 7977 6f72 640a  ord = asKeyword.
+0001a610: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+0001a620: 6173 4b65 7977 6f72 643a 0a20 2020 2020  asKeyword:.     
+0001a630: 2020 2020 2020 2073 656c 662e 6572 726d         self.errm
+0001a640: 7367 202b 3d20 2220 6173 2061 206b 6579  sg += " as a key
+0001a650: 776f 7264 220a 0a20 2020 2020 2020 2023  word"..        #
+0001a660: 2073 6565 2069 6620 7765 2063 616e 206d   see if we can m
+0001a670: 616b 6520 6120 7265 6765 7820 666f 7220  ake a regex for 
+0001a680: 7468 6973 2057 6f72 640a 2020 2020 2020  this Word.      
+0001a690: 2020 6966 2022 2022 206e 6f74 2069 6e20    if " " not in 
+0001a6a0: 2873 656c 662e 696e 6974 4368 6172 7320  (self.initChars 
+0001a6b0: 7c20 7365 6c66 2e62 6f64 7943 6861 7273  | self.bodyChars
+0001a6c0: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
+0001a6d0: 6620 6c65 6e28 7365 6c66 2e69 6e69 7443  f len(self.initC
+0001a6e0: 6861 7273 2920 3d3d 2031 3a0a 2020 2020  hars) == 1:.    
+0001a6f0: 2020 2020 2020 2020 2020 2020 7265 5f6c              re_l
+0001a700: 6561 6469 6e67 5f66 7261 676d 656e 7420  eading_fragment 
+0001a710: 3d20 7265 2e65 7363 6170 6528 7365 6c66  = re.escape(self
+0001a720: 2e69 6e69 7443 6861 7273 4f72 6967 290a  .initCharsOrig).
+0001a730: 2020 2020 2020 2020 2020 2020 656c 7365              else
+0001a740: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001a750: 2020 7265 5f6c 6561 6469 6e67 5f66 7261    re_leading_fra
+0001a760: 676d 656e 7420 3d20 6622 5b7b 5f63 6f6c  gment = f"[{_col
+0001a770: 6c61 7073 655f 7374 7269 6e67 5f74 6f5f  lapse_string_to_
+0001a780: 7261 6e67 6573 2873 656c 662e 696e 6974  ranges(self.init
+0001a790: 4368 6172 7329 7d5d 220a 0a20 2020 2020  Chars)}]"..     
+0001a7a0: 2020 2020 2020 2069 6620 7365 6c66 2e62         if self.b
+0001a7b0: 6f64 7943 6861 7273 203d 3d20 7365 6c66  odyChars == self
+0001a7c0: 2e69 6e69 7443 6861 7273 3a0a 2020 2020  .initChars:.    
+0001a7d0: 2020 2020 2020 2020 2020 2020 6966 206d              if m
+0001a7e0: 6178 203d 3d20 303a 0a20 2020 2020 2020  ax == 0:.       
+0001a7f0: 2020 2020 2020 2020 2020 2020 2072 6570               rep
+0001a800: 6561 7420 3d20 222b 220a 2020 2020 2020  eat = "+".      
+0001a810: 2020 2020 2020 2020 2020 656c 6966 206d            elif m
+0001a820: 6178 203d 3d20 313a 0a20 2020 2020 2020  ax == 1:.       
+0001a830: 2020 2020 2020 2020 2020 2020 2072 6570               rep
+0001a840: 6561 7420 3d20 2222 0a20 2020 2020 2020  eat = "".       
+0001a850: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+0001a860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a870: 2020 2069 6620 7365 6c66 2e6d 696e 4c65     if self.minLe
+0001a880: 6e20 213d 2073 656c 662e 6d61 784c 656e  n != self.maxLen
+0001a890: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001a8a0: 2020 2020 2020 2020 2020 7265 7065 6174            repeat
+0001a8b0: 203d 2066 227b 7b7b 7365 6c66 2e6d 696e   = f"{{{self.min
+0001a8c0: 4c65 6e7d 2c7b 2727 2069 6620 7365 6c66  Len},{'' if self
+0001a8d0: 2e6d 6178 4c65 6e20 3d3d 205f 4d41 585f  .maxLen == _MAX_
+0001a8e0: 494e 5420 656c 7365 2073 656c 662e 6d61  INT else self.ma
+0001a8f0: 784c 656e 7d7d 7d22 0a20 2020 2020 2020  xLen}}}".       
+0001a900: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+0001a910: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0001a920: 2020 2020 2020 2020 2020 2072 6570 6561             repea
+0001a930: 7420 3d20 6622 7b7b 7b73 656c 662e 6d69  t = f"{{{self.mi
+0001a940: 6e4c 656e 7d7d 7d22 0a20 2020 2020 2020  nLen}}}".       
+0001a950: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
+0001a960: 5374 7269 6e67 203d 2066 227b 7265 5f6c  String = f"{re_l
+0001a970: 6561 6469 6e67 5f66 7261 676d 656e 747d  eading_fragment}
+0001a980: 7b72 6570 6561 747d 220a 2020 2020 2020  {repeat}".      
+0001a990: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0001a9a0: 2020 2020 2020 2020 2020 2020 6966 206d              if m
+0001a9b0: 6178 203d 3d20 313a 0a20 2020 2020 2020  ax == 1:.       
+0001a9c0: 2020 2020 2020 2020 2020 2020 2072 655f               re_
+0001a9d0: 626f 6479 5f66 7261 676d 656e 7420 3d20  body_fragment = 
+0001a9e0: 2222 0a20 2020 2020 2020 2020 2020 2020  "".             
+0001a9f0: 2020 2020 2020 2072 6570 6561 7420 3d20         repeat = 
+0001aa00: 2222 0a20 2020 2020 2020 2020 2020 2020  "".             
+0001aa10: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0001aa20: 2020 2020 2020 2020 2020 2020 2072 655f               re_
+0001aa30: 626f 6479 5f66 7261 676d 656e 7420 3d20  body_fragment = 
+0001aa40: 6622 5b7b 5f63 6f6c 6c61 7073 655f 7374  f"[{_collapse_st
+0001aa50: 7269 6e67 5f74 6f5f 7261 6e67 6573 2873  ring_to_ranges(s
+0001aa60: 656c 662e 626f 6479 4368 6172 7329 7d5d  elf.bodyChars)}]
+0001aa70: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0001aa80: 2020 2020 2020 6966 206d 6178 203d 3d20        if max == 
+0001aa90: 303a 0a20 2020 2020 2020 2020 2020 2020  0:.             
+0001aaa0: 2020 2020 2020 2020 2020 2072 6570 6561             repea
+0001aab0: 7420 3d20 222a 220a 2020 2020 2020 2020  t = "*".        
+0001aac0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+0001aad0: 206d 6178 203d 3d20 323a 0a20 2020 2020   max == 2:.     
+0001aae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aaf0: 2020 2072 6570 6561 7420 3d20 223f 2220     repeat = "?" 
+0001ab00: 6966 206d 696e 203c 3d20 3120 656c 7365  if min <= 1 else
+0001ab10: 2022 220a 2020 2020 2020 2020 2020 2020   "".            
+0001ab20: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0001ab30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab40: 2020 2020 2020 6966 206d 696e 2021 3d20        if min != 
+0001ab50: 6d61 783a 0a20 2020 2020 2020 2020 2020  max:.           
+0001ab60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab70: 2072 6570 6561 7420 3d20 6622 7b7b 7b6d   repeat = f"{{{m
+0001ab80: 696e 202d 2031 2069 6620 6d69 6e20 3e20  in - 1 if min > 
+0001ab90: 3020 656c 7365 2030 7d2c 7b6d 6178 202d  0 else 0},{max -
+0001aba0: 2031 7d7d 7d22 0a20 2020 2020 2020 2020   1}}}".         
+0001abb0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0001abc0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0001abd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001abe0: 2072 6570 6561 7420 3d20 6622 7b7b 7b6d   repeat = f"{{{m
+0001abf0: 696e 202d 2031 2069 6620 6d69 6e20 3e20  in - 1 if min > 
+0001ac00: 3020 656c 7365 2030 7d7d 7d22 0a0a 2020  0 else 0}}}"..  
+0001ac10: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0001ac20: 6c66 2e72 6553 7472 696e 6720 3d20 280a  lf.reString = (.
+0001ac30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ac40: 2020 2020 6622 7b72 655f 6c65 6164 696e      f"{re_leadin
+0001ac50: 675f 6672 6167 6d65 6e74 7d22 2066 227b  g_fragment}" f"{
+0001ac60: 7265 5f62 6f64 795f 6672 6167 6d65 6e74  re_body_fragment
+0001ac70: 7d22 2066 227b 7265 7065 6174 7d22 0a20  }" f"{repeat}". 
+0001ac80: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+0001ac90: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+0001aca0: 2073 656c 662e 6173 4b65 7977 6f72 643a   self.asKeyword:
+0001acb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001acc0: 2073 656c 662e 7265 5374 7269 6e67 203d   self.reString =
+0001acd0: 2072 6622 5c62 7b73 656c 662e 7265 5374   rf"\b{self.reSt
+0001ace0: 7269 6e67 7d5c 6222 0a0a 2020 2020 2020  ring}\b"..      
+0001acf0: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+0001ad00: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001ad10: 7265 203d 2072 652e 636f 6d70 696c 6528  re = re.compile(
+0001ad20: 7365 6c66 2e72 6553 7472 696e 6729 0a20  self.reString). 
+0001ad30: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0001ad40: 7420 7265 2e65 7272 6f72 3a0a 2020 2020  t re.error:.    
+0001ad50: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001ad60: 2e72 6520 3d20 4e6f 6e65 2020 2320 7479  .re = None  # ty
+0001ad70: 7065 3a20 6967 6e6f 7265 5b61 7373 6967  pe: ignore[assig
+0001ad80: 6e6d 656e 745d 0a20 2020 2020 2020 2020  nment].         
+0001ad90: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0001ada0: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
+0001adb0: 5f6d 6174 6368 203d 2073 656c 662e 7265  _match = self.re
+0001adc0: 2e6d 6174 6368 0a20 2020 2020 2020 2020  .match.         
+0001add0: 2020 2020 2020 2073 656c 662e 7061 7273         self.pars
+0001ade0: 6549 6d70 6c20 3d20 7365 6c66 2e70 6172  eImpl = self.par
+0001adf0: 7365 496d 706c 5f72 6567 6578 2020 2320  seImpl_regex  # 
+0001ae00: 7479 7065 3a20 6967 6e6f 7265 5b61 7373  type: ignore[ass
+0001ae10: 6967 6e6d 656e 745d 0a0a 2020 2020 6465  ignment]..    de
+0001ae20: 6620 5f67 656e 6572 6174 6544 6566 6175  f _generateDefau
+0001ae30: 6c74 4e61 6d65 2873 656c 6629 202d 3e20  ltName(self) -> 
+0001ae40: 7374 723a 0a20 2020 2020 2020 2064 6566  str:.        def
+0001ae50: 2063 6861 7273 4173 5374 7228 7329 3a0a   charsAsStr(s):.
+0001ae60: 2020 2020 2020 2020 2020 2020 6d61 785f              max_
+0001ae70: 7265 7072 5f6c 656e 203d 2031 360a 2020  repr_len = 16.  
+0001ae80: 2020 2020 2020 2020 2020 7320 3d20 5f63            s = _c
+0001ae90: 6f6c 6c61 7073 655f 7374 7269 6e67 5f74  ollapse_string_t
+0001aea0: 6f5f 7261 6e67 6573 2873 2c20 7265 5f65  o_ranges(s, re_e
+0001aeb0: 7363 6170 653d 4661 6c73 6529 0a20 2020  scape=False).   
+0001aec0: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
+0001aed0: 7329 203e 206d 6178 5f72 6570 725f 6c65  s) > max_repr_le
+0001aee0: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
+0001aef0: 2020 2072 6574 7572 6e20 735b 3a20 6d61     return s[: ma
+0001af00: 785f 7265 7072 5f6c 656e 202d 2033 5d20  x_repr_len - 3] 
+0001af10: 2b20 222e 2e2e 220a 2020 2020 2020 2020  + "...".        
+0001af20: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001af30: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0001af40: 2073 0a0a 2020 2020 2020 2020 6966 2073   s..        if s
+0001af50: 656c 662e 696e 6974 4368 6172 7320 213d  elf.initChars !=
+0001af60: 2073 656c 662e 626f 6479 4368 6172 733a   self.bodyChars:
+0001af70: 0a20 2020 2020 2020 2020 2020 2062 6173  .            bas
+0001af80: 6520 3d20 6622 573a 287b 6368 6172 7341  e = f"W:({charsA
+0001af90: 7353 7472 2873 656c 662e 696e 6974 4368  sStr(self.initCh
+0001afa0: 6172 7329 7d2c 207b 6368 6172 7341 7353  ars)}, {charsAsS
+0001afb0: 7472 2873 656c 662e 626f 6479 4368 6172  tr(self.bodyChar
+0001afc0: 7329 7d29 220a 2020 2020 2020 2020 656c  s)})".        el
+0001afd0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001afe0: 6261 7365 203d 2066 2257 3a28 7b63 6861  base = f"W:({cha
+0001aff0: 7273 4173 5374 7228 7365 6c66 2e69 6e69  rsAsStr(self.ini
+0001b000: 7443 6861 7273 297d 2922 0a0a 2020 2020  tChars)})"..    
+0001b010: 2020 2020 2320 6164 6420 6c65 6e67 7468      # add length
+0001b020: 2073 7065 6369 6669 6361 7469 6f6e 0a20   specification. 
+0001b030: 2020 2020 2020 2069 6620 7365 6c66 2e6d         if self.m
+0001b040: 696e 4c65 6e20 3e20 3120 6f72 2073 656c  inLen > 1 or sel
+0001b050: 662e 6d61 784c 656e 2021 3d20 5f4d 4158  f.maxLen != _MAX
+0001b060: 5f49 4e54 3a0a 2020 2020 2020 2020 2020  _INT:.          
+0001b070: 2020 6966 2073 656c 662e 6d69 6e4c 656e    if self.minLen
+0001b080: 203d 3d20 7365 6c66 2e6d 6178 4c65 6e3a   == self.maxLen:
+0001b090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b0a0: 2069 6620 7365 6c66 2e6d 696e 4c65 6e20   if self.minLen 
+0001b0b0: 3d3d 2031 3a0a 2020 2020 2020 2020 2020  == 1:.          
+0001b0c0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0001b0d0: 2062 6173 655b 323a 5d0a 2020 2020 2020   base[2:].      
+0001b0e0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0001b0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b100: 2020 2020 7265 7475 726e 2062 6173 6520      return base 
+0001b110: 2b20 6622 7b7b 7b73 656c 662e 6d69 6e4c  + f"{{{self.minL
+0001b120: 656e 7d7d 7d22 0a20 2020 2020 2020 2020  en}}}".         
+0001b130: 2020 2065 6c69 6620 7365 6c66 2e6d 6178     elif self.max
+0001b140: 4c65 6e20 3d3d 205f 4d41 585f 494e 543a  Len == _MAX_INT:
+0001b150: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b160: 2072 6574 7572 6e20 6261 7365 202b 2066   return base + f
+0001b170: 227b 7b7b 7365 6c66 2e6d 696e 4c65 6e7d  "{{{self.minLen}
+0001b180: 2c2e 2e2e 7d7d 220a 2020 2020 2020 2020  ,...}}".        
+0001b190: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001b1a0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0001b1b0: 2062 6173 6520 2b20 6622 7b7b 7b73 656c   base + f"{{{sel
+0001b1c0: 662e 6d69 6e4c 656e 7d2c 7b73 656c 662e  f.minLen},{self.
+0001b1d0: 6d61 784c 656e 7d7d 7d22 0a20 2020 2020  maxLen}}}".     
+0001b1e0: 2020 2072 6574 7572 6e20 6261 7365 0a0a     return base..
+0001b1f0: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
+0001b200: 6c28 7365 6c66 2c20 696e 7374 7269 6e67  l(self, instring
+0001b210: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
+0001b220: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
+0001b230: 6966 2069 6e73 7472 696e 675b 6c6f 635d  if instring[loc]
+0001b240: 206e 6f74 2069 6e20 7365 6c66 2e69 6e69   not in self.ini
+0001b250: 7443 6861 7273 3a0a 2020 2020 2020 2020  tChars:.        
+0001b260: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
+0001b270: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
+0001b280: 672c 206c 6f63 2c20 7365 6c66 2e65 7272  g, loc, self.err
+0001b290: 6d73 672c 2073 656c 6629 0a0a 2020 2020  msg, self)..    
+0001b2a0: 2020 2020 7374 6172 7420 3d20 6c6f 630a      start = loc.
+0001b2b0: 2020 2020 2020 2020 6c6f 6320 2b3d 2031          loc += 1
+0001b2c0: 0a20 2020 2020 2020 2069 6e73 7472 6c65  .        instrle
+0001b2d0: 6e20 3d20 6c65 6e28 696e 7374 7269 6e67  n = len(instring
+0001b2e0: 290a 2020 2020 2020 2020 626f 6479 6368  ).        bodych
+0001b2f0: 6172 7320 3d20 7365 6c66 2e62 6f64 7943  ars = self.bodyC
+0001b300: 6861 7273 0a20 2020 2020 2020 206d 6178  hars.        max
+0001b310: 6c6f 6320 3d20 7374 6172 7420 2b20 7365  loc = start + se
+0001b320: 6c66 2e6d 6178 4c65 6e0a 2020 2020 2020  lf.maxLen.      
+0001b330: 2020 6d61 786c 6f63 203d 206d 696e 286d    maxloc = min(m
+0001b340: 6178 6c6f 632c 2069 6e73 7472 6c65 6e29  axloc, instrlen)
+0001b350: 0a20 2020 2020 2020 2077 6869 6c65 206c  .        while l
+0001b360: 6f63 203c 206d 6178 6c6f 6320 616e 6420  oc < maxloc and 
+0001b370: 696e 7374 7269 6e67 5b6c 6f63 5d20 696e  instring[loc] in
+0001b380: 2062 6f64 7963 6861 7273 3a0a 2020 2020   bodychars:.    
+0001b390: 2020 2020 2020 2020 6c6f 6320 2b3d 2031          loc += 1
+0001b3a0: 0a0a 2020 2020 2020 2020 7468 726f 7745  ..        throwE
+0001b3b0: 7863 6570 7469 6f6e 203d 2046 616c 7365  xception = False
+0001b3c0: 0a20 2020 2020 2020 2069 6620 6c6f 6320  .        if loc 
+0001b3d0: 2d20 7374 6172 7420 3c20 7365 6c66 2e6d  - start < self.m
+0001b3e0: 696e 4c65 6e3a 0a20 2020 2020 2020 2020  inLen:.         
 0001b3f0: 2020 2074 6872 6f77 4578 6365 7074 696f     throwExceptio
 0001b400: 6e20 3d20 5472 7565 0a20 2020 2020 2020  n = True.       
-0001b410: 2065 6c69 6620 7365 6c66 2e61 734b 6579   elif self.asKey
-0001b420: 776f 7264 3a0a 2020 2020 2020 2020 2020  word:.          
-0001b430: 2020 6966 2028 0a20 2020 2020 2020 2020    if (.         
-0001b440: 2020 2020 2020 2073 7461 7274 203e 2030         start > 0
-0001b450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001b460: 2061 6e64 2069 6e73 7472 696e 675b 7374   and instring[st
-0001b470: 6172 7420 2d20 315d 2069 6e20 626f 6479  art - 1] in body
-0001b480: 6368 6172 730a 2020 2020 2020 2020 2020  chars.          
-0001b490: 2020 2020 2020 6f72 206c 6f63 203c 2069        or loc < i
-0001b4a0: 6e73 7472 6c65 6e0a 2020 2020 2020 2020  nstrlen.        
-0001b4b0: 2020 2020 2020 2020 616e 6420 696e 7374          and inst
-0001b4c0: 7269 6e67 5b6c 6f63 5d20 696e 2062 6f64  ring[loc] in bod
-0001b4d0: 7963 6861 7273 0a20 2020 2020 2020 2020  ychars.         
-0001b4e0: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
-0001b4f0: 2020 2020 2020 7468 726f 7745 7863 6570        throwExcep
-0001b500: 7469 6f6e 203d 2054 7275 650a 0a20 2020  tion = True..   
-0001b510: 2020 2020 2069 6620 7468 726f 7745 7863       if throwExc
-0001b520: 6570 7469 6f6e 3a0a 2020 2020 2020 2020  eption:.        
-0001b530: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
-0001b540: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
-0001b550: 672c 206c 6f63 2c20 7365 6c66 2e65 7272  g, loc, self.err
-0001b560: 6d73 672c 2073 656c 6629 0a0a 2020 2020  msg, self)..    
-0001b570: 2020 2020 7265 7475 726e 206c 6f63 2c20      return loc, 
-0001b580: 696e 7374 7269 6e67 5b73 7461 7274 3a6c  instring[start:l
-0001b590: 6f63 5d0a 0a20 2020 2064 6566 2070 6172  oc]..    def par
-0001b5a0: 7365 496d 706c 5f72 6567 6578 2873 656c  seImpl_regex(sel
-0001b5b0: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
-0001b5c0: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
-0001b5d0: 293a 0a20 2020 2020 2020 2072 6573 756c  ):.        resul
-0001b5e0: 7420 3d20 7365 6c66 2e72 655f 6d61 7463  t = self.re_matc
-0001b5f0: 6828 696e 7374 7269 6e67 2c20 6c6f 6329  h(instring, loc)
-0001b600: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0001b610: 7265 7375 6c74 3a0a 2020 2020 2020 2020  result:.        
-0001b620: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
-0001b630: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
-0001b640: 672c 206c 6f63 2c20 7365 6c66 2e65 7272  g, loc, self.err
-0001b650: 6d73 672c 2073 656c 6629 0a0a 2020 2020  msg, self)..    
-0001b660: 2020 2020 6c6f 6320 3d20 7265 7375 6c74      loc = result
-0001b670: 2e65 6e64 2829 0a20 2020 2020 2020 2072  .end().        r
-0001b680: 6574 7572 6e20 6c6f 632c 2072 6573 756c  eturn loc, resul
-0001b690: 742e 6772 6f75 7028 290a 0a0a 636c 6173  t.group()...clas
-0001b6a0: 7320 4368 6172 2857 6f72 6429 3a0a 2020  s Char(Word):.  
-0001b6b0: 2020 2222 2241 2073 686f 7274 2d63 7574    """A short-cut
-0001b6c0: 2063 6c61 7373 2066 6f72 2064 6566 696e   class for defin
-0001b6d0: 696e 6720 3a63 6c61 7373 3a60 576f 7264  ing :class:`Word
-0001b6e0: 6020 6060 2863 6861 7261 6374 6572 732c  ` ``(characters,
-0001b6f0: 2065 7861 6374 3d31 2960 602c 0a20 2020   exact=1)``,.   
-0001b700: 2077 6865 6e20 6465 6669 6e69 6e67 2061   when defining a
-0001b710: 206d 6174 6368 206f 6620 616e 7920 7369   match of any si
-0001b720: 6e67 6c65 2063 6861 7261 6374 6572 2069  ngle character i
-0001b730: 6e20 6120 7374 7269 6e67 206f 660a 2020  n a string of.  
-0001b740: 2020 6368 6172 6163 7465 7273 2e0a 2020    characters..  
-0001b750: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
-0001b760: 5f69 6e69 745f 5f28 0a20 2020 2020 2020  _init__(.       
-0001b770: 2073 656c 662c 0a20 2020 2020 2020 2063   self,.        c
-0001b780: 6861 7273 6574 3a20 7374 722c 0a20 2020  harset: str,.   
-0001b790: 2020 2020 2061 735f 6b65 7977 6f72 643a       as_keyword:
-0001b7a0: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-0001b7b0: 2020 2020 2020 2065 7863 6c75 6465 5f63         exclude_c
-0001b7c0: 6861 7273 3a20 7479 7069 6e67 2e4f 7074  hars: typing.Opt
-0001b7d0: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
-0001b7e0: 652c 0a20 2020 2020 2020 202a 2c0a 2020  e,.        *,.  
-0001b7f0: 2020 2020 2020 6173 4b65 7977 6f72 643a        asKeyword:
-0001b800: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-0001b810: 2020 2020 2020 2065 7863 6c75 6465 4368         excludeCh
-0001b820: 6172 733a 2074 7970 696e 672e 4f70 7469  ars: typing.Opti
-0001b830: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-0001b840: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
-0001b850: 2061 734b 6579 776f 7264 203d 2061 734b   asKeyword = asK
-0001b860: 6579 776f 7264 206f 7220 6173 5f6b 6579  eyword or as_key
-0001b870: 776f 7264 0a20 2020 2020 2020 2065 7863  word.        exc
-0001b880: 6c75 6465 4368 6172 7320 3d20 6578 636c  ludeChars = excl
-0001b890: 7564 6543 6861 7273 206f 7220 6578 636c  udeChars or excl
-0001b8a0: 7564 655f 6368 6172 730a 2020 2020 2020  ude_chars.      
-0001b8b0: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-0001b8c0: 5f5f 280a 2020 2020 2020 2020 2020 2020  __(.            
-0001b8d0: 6368 6172 7365 742c 2065 7861 6374 3d31  charset, exact=1
-0001b8e0: 2c20 6173 5f6b 6579 776f 7264 3d61 734b  , as_keyword=asK
-0001b8f0: 6579 776f 7264 2c20 6578 636c 7564 655f  eyword, exclude_
-0001b900: 6368 6172 733d 6578 636c 7564 6543 6861  chars=excludeCha
-0001b910: 7273 0a20 2020 2020 2020 2029 0a0a 0a63  rs.        )...c
-0001b920: 6c61 7373 2052 6567 6578 2854 6f6b 656e  lass Regex(Token
-0001b930: 293a 0a20 2020 2072 2222 2254 6f6b 656e  ):.    r"""Token
-0001b940: 2066 6f72 206d 6174 6368 696e 6720 7374   for matching st
-0001b950: 7269 6e67 7320 7468 6174 206d 6174 6368  rings that match
-0001b960: 2061 2067 6976 656e 2072 6567 756c 6172   a given regular
-0001b970: 0a20 2020 2065 7870 7265 7373 696f 6e2e  .    expression.
-0001b980: 2044 6566 696e 6564 2077 6974 6820 7374   Defined with st
-0001b990: 7269 6e67 2073 7065 6369 6679 696e 6720  ring specifying 
-0001b9a0: 7468 6520 7265 6775 6c61 7220 6578 7072  the regular expr
-0001b9b0: 6573 7369 6f6e 2069 6e0a 2020 2020 6120  ession in.    a 
-0001b9c0: 666f 726d 2072 6563 6f67 6e69 7a65 6420  form recognized 
-0001b9d0: 6279 2074 6865 2073 7464 6c69 6220 5079  by the stdlib Py
-0001b9e0: 7468 6f6e 2020 6072 6520 6d6f 6475 6c65  thon  `re module
-0001b9f0: 203c 6874 7470 733a 2f2f 646f 6373 2e70   <https://docs.p
-0001ba00: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
-0001ba10: 6172 792f 7265 2e68 746d 6c3e 605f 2e0a  ary/re.html>`_..
-0001ba20: 2020 2020 4966 2074 6865 2067 6976 656e      If the given
-0001ba30: 2072 6567 6578 2063 6f6e 7461 696e 7320   regex contains 
-0001ba40: 6e61 6d65 6420 6772 6f75 7073 2028 6465  named groups (de
-0001ba50: 6669 6e65 6420 7573 696e 6720 6060 283f  fined using ``(?
-0001ba60: 503c 6e61 6d65 3e2e 2e2e 2960 6029 2c0a  P<name>...)``),.
-0001ba70: 2020 2020 7468 6573 6520 7769 6c6c 2062      these will b
-0001ba80: 6520 7072 6573 6572 7665 6420 6173 206e  e preserved as n
-0001ba90: 616d 6564 203a 636c 6173 733a 6050 6172  amed :class:`Par
-0001baa0: 7365 5265 7375 6c74 7360 2e0a 0a20 2020  seResults`...   
-0001bab0: 2049 6620 696e 7374 6561 6420 6f66 2074   If instead of t
-0001bac0: 6865 2050 7974 686f 6e20 7374 646c 6962  he Python stdlib
-0001bad0: 2060 6072 6560 6020 6d6f 6475 6c65 2079   ``re`` module y
-0001bae0: 6f75 2077 6973 6820 746f 2075 7365 2061  ou wish to use a
-0001baf0: 2064 6966 6665 7265 6e74 2052 4520 6d6f   different RE mo
-0001bb00: 6475 6c65 0a20 2020 2028 7375 6368 2061  dule.    (such a
-0001bb10: 7320 7468 6520 6060 7265 6765 7860 6020  s the ``regex`` 
-0001bb20: 6d6f 6475 6c65 292c 2079 6f75 2063 616e  module), you can
-0001bb30: 2064 6f20 736f 2062 7920 6275 696c 6469   do so by buildi
-0001bb40: 6e67 2079 6f75 7220 6060 5265 6765 7860  ng your ``Regex`
-0001bb50: 6020 6f62 6a65 6374 2077 6974 680a 2020  ` object with.  
-0001bb60: 2020 6120 636f 6d70 696c 6564 2052 4520    a compiled RE 
-0001bb70: 7468 6174 2077 6173 2063 6f6d 7069 6c65  that was compile
-0001bb80: 6420 7573 696e 6720 6060 7265 6765 7860  d using ``regex`
-0001bb90: 602e 0a0a 2020 2020 4578 616d 706c 653a  `...    Example:
-0001bba0: 3a0a 0a20 2020 2020 2020 2072 6561 6c6e  :..        realn
-0001bbb0: 756d 203d 2052 6567 6578 2872 225b 2b2d  um = Regex(r"[+-
-0001bbc0: 5d3f 5c64 2b5c 2e5c 642a 2229 0a20 2020  ]?\d+\.\d*").   
-0001bbd0: 2020 2020 2023 2072 6566 3a20 6874 7470       # ref: http
-0001bbe0: 733a 2f2f 7374 6163 6b6f 7665 7266 6c6f  s://stackoverflo
-0001bbf0: 772e 636f 6d2f 7175 6573 7469 6f6e 732f  w.com/questions/
-0001bc00: 3236 3733 3939 2f68 6f77 2d64 6f2d 796f  267399/how-do-yo
-0001bc10: 752d 6d61 7463 682d 6f6e 6c79 2d76 616c  u-match-only-val
-0001bc20: 6964 2d72 6f6d 616e 2d6e 756d 6572 616c  id-roman-numeral
-0001bc30: 732d 7769 7468 2d61 2d72 6567 756c 6172  s-with-a-regular
-0001bc40: 2d65 7870 7265 7373 696f 6e0a 2020 2020  -expression.    
-0001bc50: 2020 2020 726f 6d61 6e20 3d20 5265 6765      roman = Rege
-0001bc60: 7828 7222 4d7b 302c 347d 2843 4d7c 4344  x(r"M{0,4}(CM|CD
-0001bc70: 7c44 3f7b 302c 337d 2928 5843 7c58 4c7c  |D?{0,3})(XC|XL|
-0001bc80: 4c3f 587b 302c 337d 2928 4958 7c49 567c  L?X{0,3})(IX|IV|
-0001bc90: 563f 497b 302c 337d 2922 290a 0a20 2020  V?I{0,3})")..   
-0001bca0: 2020 2020 2023 206e 616d 6564 2066 6965       # named fie
-0001bcb0: 6c64 7320 696e 2061 2072 6567 6578 2077  lds in a regex w
-0001bcc0: 696c 6c20 6265 2072 6574 7572 6e65 6420  ill be returned 
-0001bcd0: 6173 206e 616d 6564 2072 6573 756c 7473  as named results
-0001bce0: 0a20 2020 2020 2020 2064 6174 6520 3d20  .        date = 
-0001bcf0: 5265 6765 7828 7227 283f 503c 7965 6172  Regex(r'(?P<year
-0001bd00: 3e5c 647b 347d 292d 283f 503c 6d6f 6e74  >\d{4})-(?P<mont
-0001bd10: 683e 5c64 5c64 3f29 2d28 3f50 3c64 6179  h>\d\d?)-(?P<day
-0001bd20: 3e5c 645c 643f 2927 290a 0a20 2020 2020  >\d\d?)')..     
-0001bd30: 2020 2023 2074 6865 2052 6567 6578 2063     # the Regex c
-0001bd40: 6c61 7373 2077 696c 6c20 6163 6365 7074  lass will accept
-0001bd50: 2072 6527 7320 636f 6d70 696c 6564 2075   re's compiled u
-0001bd60: 7369 6e67 2074 6865 2072 6567 6578 206d  sing the regex m
-0001bd70: 6f64 756c 650a 2020 2020 2020 2020 696d  odule.        im
-0001bd80: 706f 7274 2072 6567 6578 0a20 2020 2020  port regex.     
-0001bd90: 2020 2070 6172 7365 7220 3d20 7070 2e52     parser = pp.R
-0001bda0: 6567 6578 2872 6567 6578 2e63 6f6d 7069  egex(regex.compi
-0001bdb0: 6c65 2872 275b 302d 395d 2729 290a 2020  le(r'[0-9]')).  
-0001bdc0: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
-0001bdd0: 5f69 6e69 745f 5f28 0a20 2020 2020 2020  _init__(.       
-0001bde0: 2073 656c 662c 0a20 2020 2020 2020 2070   self,.        p
-0001bdf0: 6174 7465 726e 3a20 416e 792c 0a20 2020  attern: Any,.   
-0001be00: 2020 2020 2066 6c61 6773 3a20 556e 696f       flags: Unio
-0001be10: 6e5b 7265 2e52 6567 6578 466c 6167 2c20  n[re.RegexFlag, 
-0001be20: 696e 745d 203d 2030 2c0a 2020 2020 2020  int] = 0,.      
-0001be30: 2020 6173 5f67 726f 7570 5f6c 6973 743a    as_group_list:
-0001be40: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-0001be50: 2020 2020 2020 2061 735f 6d61 7463 683a         as_match:
-0001be60: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-0001be70: 2020 2020 2020 202a 2c0a 2020 2020 2020         *,.      
-0001be80: 2020 6173 4772 6f75 704c 6973 743a 2062    asGroupList: b
-0001be90: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-0001bea0: 2020 2020 2061 734d 6174 6368 3a20 626f       asMatch: bo
-0001beb0: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
-0001bec0: 293a 0a20 2020 2020 2020 2022 2222 5468  ):.        """Th
-0001bed0: 6520 7061 7261 6d65 7465 7273 2060 6070  e parameters ``p
-0001bee0: 6174 7465 726e 6060 2061 6e64 2060 6066  attern`` and ``f
-0001bef0: 6c61 6773 6060 2061 7265 2070 6173 7365  lags`` are passe
-0001bf00: 640a 2020 2020 2020 2020 746f 2074 6865  d.        to the
-0001bf10: 2060 6072 652e 636f 6d70 696c 6528 2960   ``re.compile()`
-0001bf20: 6020 6675 6e63 7469 6f6e 2061 732d 6973  ` function as-is
-0001bf30: 2e20 5365 6520 7468 6520 5079 7468 6f6e  . See the Python
-0001bf40: 0a20 2020 2020 2020 2060 7265 206d 6f64  .        `re mod
-0001bf50: 756c 6520 3c68 7474 7073 3a2f 2f64 6f63  ule <https://doc
-0001bf60: 732e 7079 7468 6f6e 2e6f 7267 2f33 2f6c  s.python.org/3/l
-0001bf70: 6962 7261 7279 2f72 652e 6874 6d6c 3e60  ibrary/re.html>`
-0001bf80: 5f20 6d6f 6475 6c65 2066 6f72 2061 6e0a  _ module for an.
-0001bf90: 2020 2020 2020 2020 6578 706c 616e 6174          explanat
-0001bfa0: 696f 6e20 6f66 2074 6865 2061 6363 6570  ion of the accep
-0001bfb0: 7461 626c 6520 7061 7474 6572 6e73 2061  table patterns a
-0001bfc0: 6e64 2066 6c61 6773 2e0a 2020 2020 2020  nd flags..      
-0001bfd0: 2020 2222 220a 2020 2020 2020 2020 7375    """.        su
-0001bfe0: 7065 7228 292e 5f5f 696e 6974 5f5f 2829  per().__init__()
-0001bff0: 0a20 2020 2020 2020 2061 7347 726f 7570  .        asGroup
-0001c000: 4c69 7374 203d 2061 7347 726f 7570 4c69  List = asGroupLi
-0001c010: 7374 206f 7220 6173 5f67 726f 7570 5f6c  st or as_group_l
-0001c020: 6973 740a 2020 2020 2020 2020 6173 4d61  ist.        asMa
-0001c030: 7463 6820 3d20 6173 4d61 7463 6820 6f72  tch = asMatch or
-0001c040: 2061 735f 6d61 7463 680a 0a20 2020 2020   as_match..     
-0001c050: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-0001c060: 2870 6174 7465 726e 2c20 7374 725f 7479  (pattern, str_ty
-0001c070: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
-0001c080: 2069 6620 6e6f 7420 7061 7474 6572 6e3a   if not pattern:
-0001c090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001c0a0: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
-0001c0b0: 7228 226e 756c 6c20 7374 7269 6e67 2070  r("null string p
-0001c0c0: 6173 7365 6420 746f 2052 6567 6578 3b20  assed to Regex; 
-0001c0d0: 7573 6520 456d 7074 7928 2920 696e 7374  use Empty() inst
-0001c0e0: 6561 6422 290a 0a20 2020 2020 2020 2020  ead")..         
-0001c0f0: 2020 2073 656c 662e 5f72 6520 3d20 4e6f     self._re = No
-0001c100: 6e65 0a20 2020 2020 2020 2020 2020 2073  ne.            s
-0001c110: 656c 662e 7265 5374 7269 6e67 203d 2073  elf.reString = s
-0001c120: 656c 662e 7061 7474 6572 6e20 3d20 7061  elf.pattern = pa
-0001c130: 7474 6572 6e0a 2020 2020 2020 2020 2020  ttern.          
-0001c140: 2020 7365 6c66 2e66 6c61 6773 203d 2066    self.flags = f
-0001c150: 6c61 6773 0a0a 2020 2020 2020 2020 656c  lags..        el
-0001c160: 6966 2068 6173 6174 7472 2870 6174 7465  if hasattr(patte
-0001c170: 726e 2c20 2270 6174 7465 726e 2229 2061  rn, "pattern") a
-0001c180: 6e64 2068 6173 6174 7472 2870 6174 7465  nd hasattr(patte
-0001c190: 726e 2c20 226d 6174 6368 2229 3a0a 2020  rn, "match"):.  
-0001c1a0: 2020 2020 2020 2020 2020 7365 6c66 2e5f            self._
-0001c1b0: 7265 203d 2070 6174 7465 726e 0a20 2020  re = pattern.   
-0001c1c0: 2020 2020 2020 2020 2073 656c 662e 7061           self.pa
-0001c1d0: 7474 6572 6e20 3d20 7365 6c66 2e72 6553  ttern = self.reS
-0001c1e0: 7472 696e 6720 3d20 7061 7474 6572 6e2e  tring = pattern.
-0001c1f0: 7061 7474 6572 6e0a 2020 2020 2020 2020  pattern.        
-0001c200: 2020 2020 7365 6c66 2e66 6c61 6773 203d      self.flags =
-0001c210: 2066 6c61 6773 0a0a 2020 2020 2020 2020   flags..        
-0001c220: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0001c230: 2020 7261 6973 6520 5479 7065 4572 726f    raise TypeErro
-0001c240: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
-0001c250: 2020 2022 5265 6765 7820 6d61 7920 6f6e     "Regex may on
-0001c260: 6c79 2062 6520 636f 6e73 7472 7563 7465  ly be constructe
-0001c270: 6420 7769 7468 2061 2073 7472 696e 6720  d with a string 
-0001c280: 6f72 2061 2063 6f6d 7069 6c65 6420 5245  or a compiled RE
-0001c290: 206f 626a 6563 7422 0a20 2020 2020 2020   object".       
-0001c2a0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-0001c2b0: 7365 6c66 2e65 7272 6d73 6720 3d20 2245  self.errmsg = "E
-0001c2c0: 7870 6563 7465 6420 2220 2b20 7365 6c66  xpected " + self
-0001c2d0: 2e6e 616d 650a 2020 2020 2020 2020 7365  .name.        se
-0001c2e0: 6c66 2e6d 6179 496e 6465 7845 7272 6f72  lf.mayIndexError
-0001c2f0: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
-0001c300: 2073 656c 662e 6173 4772 6f75 704c 6973   self.asGroupLis
-0001c310: 7420 3d20 6173 4772 6f75 704c 6973 740a  t = asGroupList.
-0001c320: 2020 2020 2020 2020 7365 6c66 2e61 734d          self.asM
-0001c330: 6174 6368 203d 2061 734d 6174 6368 0a20  atch = asMatch. 
-0001c340: 2020 2020 2020 2069 6620 7365 6c66 2e61         if self.a
-0001c350: 7347 726f 7570 4c69 7374 3a0a 2020 2020  sGroupList:.    
-0001c360: 2020 2020 2020 2020 7365 6c66 2e70 6172          self.par
-0001c370: 7365 496d 706c 203d 2073 656c 662e 7061  seImpl = self.pa
-0001c380: 7273 6549 6d70 6c41 7347 726f 7570 4c69  rseImplAsGroupLi
-0001c390: 7374 2020 2320 7479 7065 3a20 6967 6e6f  st  # type: igno
-0001c3a0: 7265 205b 6173 7369 676e 6d65 6e74 5d0a  re [assignment].
-0001c3b0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-0001c3c0: 6173 4d61 7463 683a 0a20 2020 2020 2020  asMatch:.       
-0001c3d0: 2020 2020 2073 656c 662e 7061 7273 6549       self.parseI
-0001c3e0: 6d70 6c20 3d20 7365 6c66 2e70 6172 7365  mpl = self.parse
-0001c3f0: 496d 706c 4173 4d61 7463 6820 2023 2074  ImplAsMatch  # t
-0001c400: 7970 653a 2069 676e 6f72 6520 5b61 7373  ype: ignore [ass
-0001c410: 6967 6e6d 656e 745d 0a0a 2020 2020 4063  ignment]..    @c
-0001c420: 6163 6865 645f 7072 6f70 6572 7479 0a20  ached_property. 
-0001c430: 2020 2064 6566 2072 6528 7365 6c66 293a     def re(self):
-0001c440: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-0001c450: 2e5f 7265 3a0a 2020 2020 2020 2020 2020  ._re:.          
-0001c460: 2020 7265 7475 726e 2073 656c 662e 5f72    return self._r
-0001c470: 650a 2020 2020 2020 2020 656c 7365 3a0a  e.        else:.
-0001c480: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-0001c490: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001c4a0: 2072 6574 7572 6e20 7265 2e63 6f6d 7069   return re.compi
-0001c4b0: 6c65 2873 656c 662e 7061 7474 6572 6e2c  le(self.pattern,
-0001c4c0: 2073 656c 662e 666c 6167 7329 0a20 2020   self.flags).   
-0001c4d0: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-0001c4e0: 7265 2e65 7272 6f72 3a0a 2020 2020 2020  re.error:.      
-0001c4f0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0001c500: 5661 6c75 6545 7272 6f72 2866 2269 6e76  ValueError(f"inv
-0001c510: 616c 6964 2070 6174 7465 726e 2028 7b73  alid pattern ({s
-0001c520: 656c 662e 7061 7474 6572 6e21 727d 2920  elf.pattern!r}) 
-0001c530: 7061 7373 6564 2074 6f20 5265 6765 7822  passed to Regex"
-0001c540: 290a 0a20 2020 2040 6361 6368 6564 5f70  )..    @cached_p
-0001c550: 726f 7065 7274 790a 2020 2020 6465 6620  roperty.    def 
-0001c560: 7265 5f6d 6174 6368 2873 656c 6629 3a0a  re_match(self):.
-0001c570: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0001c580: 656c 662e 7265 2e6d 6174 6368 0a0a 2020  elf.re.match..  
-0001c590: 2020 4063 6163 6865 645f 7072 6f70 6572    @cached_proper
-0001c5a0: 7479 0a20 2020 2064 6566 206d 6179 5265  ty.    def mayRe
-0001c5b0: 7475 726e 456d 7074 7928 7365 6c66 293a  turnEmpty(self):
-0001c5c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0001c5d0: 7365 6c66 2e72 655f 6d61 7463 6828 2222  self.re_match(""
-0001c5e0: 2920 6973 206e 6f74 204e 6f6e 650a 0a20  ) is not None.. 
-0001c5f0: 2020 2064 6566 205f 6765 6e65 7261 7465     def _generate
-0001c600: 4465 6661 756c 744e 616d 6528 7365 6c66  DefaultName(self
-0001c610: 2920 2d3e 2073 7472 3a0a 2020 2020 2020  ) -> str:.      
-0001c620: 2020 7265 7475 726e 2022 5265 3a28 7b7d    return "Re:({}
-0001c630: 2922 2e66 6f72 6d61 7428 7265 7072 2873  )".format(repr(s
-0001c640: 656c 662e 7061 7474 6572 6e29 2e72 6570  elf.pattern).rep
-0001c650: 6c61 6365 2822 5c5c 5c5c 222c 2022 5c5c  lace("\\\\", "\\
-0001c660: 2229 290a 0a20 2020 2064 6566 2070 6172  "))..    def par
-0001c670: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
-0001c680: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-0001c690: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
-0001c6a0: 2020 2020 2072 6573 756c 7420 3d20 7365       result = se
-0001c6b0: 6c66 2e72 655f 6d61 7463 6828 696e 7374  lf.re_match(inst
-0001c6c0: 7269 6e67 2c20 6c6f 6329 0a20 2020 2020  ring, loc).     
-0001c6d0: 2020 2069 6620 6e6f 7420 7265 7375 6c74     if not result
-0001c6e0: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-0001c6f0: 6973 6520 5061 7273 6545 7863 6570 7469  ise ParseExcepti
-0001c700: 6f6e 2869 6e73 7472 696e 672c 206c 6f63  on(instring, loc
-0001c710: 2c20 7365 6c66 2e65 7272 6d73 672c 2073  , self.errmsg, s
-0001c720: 656c 6629 0a0a 2020 2020 2020 2020 6c6f  elf)..        lo
-0001c730: 6320 3d20 7265 7375 6c74 2e65 6e64 2829  c = result.end()
-0001c740: 0a20 2020 2020 2020 2072 6574 203d 2050  .        ret = P
-0001c750: 6172 7365 5265 7375 6c74 7328 7265 7375  arseResults(resu
-0001c760: 6c74 2e67 726f 7570 2829 290a 2020 2020  lt.group()).    
-0001c770: 2020 2020 6420 3d20 7265 7375 6c74 2e67      d = result.g
-0001c780: 726f 7570 6469 6374 2829 0a20 2020 2020  roupdict().     
-0001c790: 2020 2069 6620 643a 0a20 2020 2020 2020     if d:.       
-0001c7a0: 2020 2020 2066 6f72 206b 2c20 7620 696e       for k, v in
-0001c7b0: 2064 2e69 7465 6d73 2829 3a0a 2020 2020   d.items():.    
-0001c7c0: 2020 2020 2020 2020 2020 2020 7265 745b              ret[
-0001c7d0: 6b5d 203d 2076 0a20 2020 2020 2020 2072  k] = v.        r
-0001c7e0: 6574 7572 6e20 6c6f 632c 2072 6574 0a0a  eturn loc, ret..
-0001c7f0: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
-0001c800: 6c41 7347 726f 7570 4c69 7374 2873 656c  lAsGroupList(sel
-0001c810: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
-0001c820: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
-0001c830: 293a 0a20 2020 2020 2020 2072 6573 756c  ):.        resul
-0001c840: 7420 3d20 7365 6c66 2e72 655f 6d61 7463  t = self.re_matc
-0001c850: 6828 696e 7374 7269 6e67 2c20 6c6f 6329  h(instring, loc)
-0001c860: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0001c870: 7265 7375 6c74 3a0a 2020 2020 2020 2020  result:.        
-0001c880: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
-0001c890: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
-0001c8a0: 672c 206c 6f63 2c20 7365 6c66 2e65 7272  g, loc, self.err
-0001c8b0: 6d73 672c 2073 656c 6629 0a0a 2020 2020  msg, self)..    
-0001c8c0: 2020 2020 6c6f 6320 3d20 7265 7375 6c74      loc = result
-0001c8d0: 2e65 6e64 2829 0a20 2020 2020 2020 2072  .end().        r
-0001c8e0: 6574 203d 2072 6573 756c 742e 6772 6f75  et = result.grou
-0001c8f0: 7073 2829 0a20 2020 2020 2020 2072 6574  ps().        ret
-0001c900: 7572 6e20 6c6f 632c 2072 6574 0a0a 2020  urn loc, ret..  
-0001c910: 2020 6465 6620 7061 7273 6549 6d70 6c41    def parseImplA
-0001c920: 734d 6174 6368 2873 656c 662c 2069 6e73  sMatch(self, ins
-0001c930: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-0001c940: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
-0001c950: 2020 2020 2072 6573 756c 7420 3d20 7365       result = se
-0001c960: 6c66 2e72 655f 6d61 7463 6828 696e 7374  lf.re_match(inst
-0001c970: 7269 6e67 2c20 6c6f 6329 0a20 2020 2020  ring, loc).     
-0001c980: 2020 2069 6620 6e6f 7420 7265 7375 6c74     if not result
-0001c990: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-0001c9a0: 6973 6520 5061 7273 6545 7863 6570 7469  ise ParseExcepti
-0001c9b0: 6f6e 2869 6e73 7472 696e 672c 206c 6f63  on(instring, loc
-0001c9c0: 2c20 7365 6c66 2e65 7272 6d73 672c 2073  , self.errmsg, s
-0001c9d0: 656c 6629 0a0a 2020 2020 2020 2020 6c6f  elf)..        lo
-0001c9e0: 6320 3d20 7265 7375 6c74 2e65 6e64 2829  c = result.end()
-0001c9f0: 0a20 2020 2020 2020 2072 6574 203d 2072  .        ret = r
-0001ca00: 6573 756c 740a 2020 2020 2020 2020 7265  esult.        re
-0001ca10: 7475 726e 206c 6f63 2c20 7265 740a 0a20  turn loc, ret.. 
-0001ca20: 2020 2064 6566 2073 7562 2873 656c 662c     def sub(self,
-0001ca30: 2072 6570 6c3a 2073 7472 2920 2d3e 2050   repl: str) -> P
-0001ca40: 6172 7365 7245 6c65 6d65 6e74 3a0a 2020  arserElement:.  
-0001ca50: 2020 2020 2020 7222 2222 0a20 2020 2020        r""".     
-0001ca60: 2020 2052 6574 7572 6e20 3a63 6c61 7373     Return :class
-0001ca70: 3a60 5265 6765 7860 2077 6974 6820 616e  :`Regex` with an
-0001ca80: 2061 7474 6163 6865 6420 7061 7273 6520   attached parse 
-0001ca90: 6163 7469 6f6e 2074 6f20 7472 616e 7366  action to transf
-0001caa0: 6f72 6d20 7468 6520 7061 7273 6564 0a20  orm the parsed. 
-0001cab0: 2020 2020 2020 2072 6573 756c 7420 6173         result as
-0001cac0: 2069 6620 6361 6c6c 6564 2075 7369 6e67   if called using
-0001cad0: 2060 7265 2e73 7562 2865 7870 722c 2072   `re.sub(expr, r
-0001cae0: 6570 6c2c 2073 7472 696e 6729 203c 6874  epl, string) <ht
-0001caf0: 7470 733a 2f2f 646f 6373 2e70 7974 686f  tps://docs.pytho
-0001cb00: 6e2e 6f72 672f 332f 6c69 6272 6172 792f  n.org/3/library/
-0001cb10: 7265 2e68 746d 6c23 7265 2e73 7562 3e60  re.html#re.sub>`
-0001cb20: 5f2e 0a0a 2020 2020 2020 2020 4578 616d  _...        Exam
-0001cb30: 706c 653a 3a0a 0a20 2020 2020 2020 2020  ple::..         
-0001cb40: 2020 206d 616b 655f 6874 6d6c 203d 2052     make_html = R
-0001cb50: 6567 6578 2872 2228 5c77 2b29 3a28 2e2a  egex(r"(\w+):(.*
-0001cb60: 3f29 3a22 292e 7375 6228 7222 3c5c 313e  ?):").sub(r"<\1>
-0001cb70: 5c32 3c2f 5c31 3e22 290a 2020 2020 2020  \2</\1>").      
-0001cb80: 2020 2020 2020 7072 696e 7428 6d61 6b65        print(make
-0001cb90: 5f68 746d 6c2e 7472 616e 7366 6f72 6d5f  _html.transform_
-0001cba0: 7374 7269 6e67 2822 6831 3a6d 6169 6e20  string("h1:main 
-0001cbb0: 7469 746c 653a 2229 290a 2020 2020 2020  title:")).      
-0001cbc0: 2020 2020 2020 2320 7072 696e 7473 2022        # prints "
-0001cbd0: 3c68 313e 6d61 696e 2074 6974 6c65 3c2f  <h1>main title</
-0001cbe0: 6831 3e22 0a20 2020 2020 2020 2022 2222  h1>".        """
-0001cbf0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-0001cc00: 2e61 7347 726f 7570 4c69 7374 3a0a 2020  .asGroupList:.  
-0001cc10: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0001cc20: 5479 7065 4572 726f 7228 2263 616e 6e6f  TypeError("canno
-0001cc30: 7420 7573 6520 7375 6228 2920 7769 7468  t use sub() with
-0001cc40: 2052 6567 6578 2861 735f 6772 6f75 705f   Regex(as_group_
-0001cc50: 6c69 7374 3d54 7275 6529 2229 0a0a 2020  list=True)")..  
-0001cc60: 2020 2020 2020 6966 2073 656c 662e 6173        if self.as
-0001cc70: 4d61 7463 6820 616e 6420 6361 6c6c 6162  Match and callab
-0001cc80: 6c65 2872 6570 6c29 3a0a 2020 2020 2020  le(repl):.      
-0001cc90: 2020 2020 2020 7261 6973 6520 5479 7065        raise Type
-0001cca0: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-0001ccb0: 2020 2020 2020 2022 6361 6e6e 6f74 2075         "cannot u
-0001ccc0: 7365 2073 7562 2829 2077 6974 6820 6120  se sub() with a 
-0001ccd0: 6361 6c6c 6162 6c65 2077 6974 6820 5265  callable with Re
-0001cce0: 6765 7828 6173 5f6d 6174 6368 3d54 7275  gex(as_match=Tru
-0001ccf0: 6529 220a 2020 2020 2020 2020 2020 2020  e)".            
-0001cd00: 290a 0a20 2020 2020 2020 2069 6620 7365  )..        if se
-0001cd10: 6c66 2e61 734d 6174 6368 3a0a 0a20 2020  lf.asMatch:..   
-0001cd20: 2020 2020 2020 2020 2064 6566 2070 6128           def pa(
-0001cd30: 746f 6b65 6e73 293a 0a20 2020 2020 2020  tokens):.       
-0001cd40: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-0001cd50: 746f 6b65 6e73 5b30 5d2e 6578 7061 6e64  tokens[0].expand
-0001cd60: 2872 6570 6c29 0a0a 2020 2020 2020 2020  (repl)..        
-0001cd70: 656c 7365 3a0a 0a20 2020 2020 2020 2020  else:..         
-0001cd80: 2020 2064 6566 2070 6128 746f 6b65 6e73     def pa(tokens
-0001cd90: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-0001cda0: 2020 2072 6574 7572 6e20 7365 6c66 2e72     return self.r
-0001cdb0: 652e 7375 6228 7265 706c 2c20 746f 6b65  e.sub(repl, toke
-0001cdc0: 6e73 5b30 5d29 0a0a 2020 2020 2020 2020  ns[0])..        
-0001cdd0: 7265 7475 726e 2073 656c 662e 6164 645f  return self.add_
-0001cde0: 7061 7273 655f 6163 7469 6f6e 2870 6129  parse_action(pa)
-0001cdf0: 0a0a 0a63 6c61 7373 2051 756f 7465 6453  ...class QuotedS
-0001ce00: 7472 696e 6728 546f 6b65 6e29 3a0a 2020  tring(Token):.  
-0001ce10: 2020 7222 2222 0a20 2020 2054 6f6b 656e    r""".    Token
-0001ce20: 2066 6f72 206d 6174 6368 696e 6720 7374   for matching st
-0001ce30: 7269 6e67 7320 7468 6174 2061 7265 2064  rings that are d
-0001ce40: 656c 696d 6974 6564 2062 7920 7175 6f74  elimited by quot
-0001ce50: 696e 6720 6368 6172 6163 7465 7273 2e0a  ing characters..
-0001ce60: 0a20 2020 2044 6566 696e 6564 2077 6974  .    Defined wit
-0001ce70: 6820 7468 6520 666f 6c6c 6f77 696e 6720  h the following 
-0001ce80: 7061 7261 6d65 7465 7273 3a0a 0a20 2020  parameters:..   
-0001ce90: 202d 2060 6071 756f 7465 5f63 6861 7260   - ``quote_char`
-0001cea0: 6020 2d20 7374 7269 6e67 206f 6620 6f6e  ` - string of on
-0001ceb0: 6520 6f72 206d 6f72 6520 6368 6172 6163  e or more charac
-0001cec0: 7465 7273 2064 6566 696e 696e 6720 7468  ters defining th
-0001ced0: 650a 2020 2020 2020 7175 6f74 6520 6465  e.      quote de
-0001cee0: 6c69 6d69 7469 6e67 2073 7472 696e 670a  limiting string.
-0001cef0: 2020 2020 2d20 6060 6573 635f 6368 6172      - ``esc_char
-0001cf00: 6060 202d 2063 6861 7261 6374 6572 2074  `` - character t
-0001cf10: 6f20 7265 5f65 7363 6170 6520 7175 6f74  o re_escape quot
-0001cf20: 6573 2c20 7479 7069 6361 6c6c 7920 6261  es, typically ba
-0001cf30: 636b 736c 6173 680a 2020 2020 2020 2864  ckslash.      (d
-0001cf40: 6566 6175 6c74 3d20 6060 4e6f 6e65 6060  efault= ``None``
-0001cf50: 290a 2020 2020 2d20 6060 6573 635f 7175  ).    - ``esc_qu
-0001cf60: 6f74 6560 6020 2d20 7370 6563 6961 6c20  ote`` - special 
-0001cf70: 7175 6f74 6520 7365 7175 656e 6365 2074  quote sequence t
-0001cf80: 6f20 7265 5f65 7363 6170 6520 616e 2065  o re_escape an e
-0001cf90: 6d62 6564 6465 6420 7175 6f74 650a 2020  mbedded quote.  
-0001cfa0: 2020 2020 7374 7269 6e67 2028 7375 6368      string (such
-0001cfb0: 2061 7320 5351 4c27 7320 6060 2222 6060   as SQL's ``""``
-0001cfc0: 2074 6f20 7265 5f65 7363 6170 6520 616e   to re_escape an
-0001cfd0: 2065 6d62 6564 6465 6420 6060 2260 6029   embedded ``"``)
-0001cfe0: 0a20 2020 2020 2028 6465 6661 756c 743d  .      (default=
-0001cff0: 2060 604e 6f6e 6560 6029 0a20 2020 202d   ``None``).    -
-0001d000: 2060 606d 756c 7469 6c69 6e65 6060 202d   ``multiline`` -
-0001d010: 2062 6f6f 6c65 616e 2069 6e64 6963 6174   boolean indicat
-0001d020: 696e 6720 7768 6574 6865 7220 7175 6f74  ing whether quot
-0001d030: 6573 2063 616e 2073 7061 6e0a 2020 2020  es can span.    
-0001d040: 2020 6d75 6c74 6970 6c65 206c 696e 6573    multiple lines
-0001d050: 2028 6465 6661 756c 743d 2060 6046 616c   (default= ``Fal
-0001d060: 7365 6060 290a 2020 2020 2d20 6060 756e  se``).    - ``un
-0001d070: 7175 6f74 655f 7265 7375 6c74 7360 6020  quote_results`` 
-0001d080: 2d20 626f 6f6c 6561 6e20 696e 6469 6361  - boolean indica
-0001d090: 7469 6e67 2077 6865 7468 6572 2074 6865  ting whether the
-0001d0a0: 206d 6174 6368 6564 2074 6578 740a 2020   matched text.  
-0001d0b0: 2020 2020 7368 6f75 6c64 2062 6520 756e      should be un
-0001d0c0: 7175 6f74 6564 2028 6465 6661 756c 743d  quoted (default=
-0001d0d0: 2060 6054 7275 6560 6029 0a20 2020 202d   ``True``).    -
-0001d0e0: 2060 6065 6e64 5f71 756f 7465 5f63 6861   ``end_quote_cha
-0001d0f0: 7260 6020 2d20 7374 7269 6e67 206f 6620  r`` - string of 
-0001d100: 6f6e 6520 6f72 206d 6f72 6520 6368 6172  one or more char
-0001d110: 6163 7465 7273 2064 6566 696e 696e 6720  acters defining 
-0001d120: 7468 650a 2020 2020 2020 656e 6420 6f66  the.      end of
-0001d130: 2074 6865 2071 756f 7465 2064 656c 696d   the quote delim
-0001d140: 6974 6564 2073 7472 696e 6720 2864 6566  ited string (def
-0001d150: 6175 6c74 3d20 6060 4e6f 6e65 6060 2020  ault= ``None``  
-0001d160: 3d3e 2073 616d 6520 6173 0a20 2020 2020  => same as.     
-0001d170: 2071 756f 7465 5f63 6861 7229 0a20 2020   quote_char).   
-0001d180: 202d 2060 6063 6f6e 7665 7274 5f77 6869   - ``convert_whi
-0001d190: 7465 7370 6163 655f 6573 6361 7065 7360  tespace_escapes`
-0001d1a0: 6020 2d20 636f 6e76 6572 7420 6573 6361  ` - convert esca
-0001d1b0: 7065 6420 7768 6974 6573 7061 6365 0a20  ped whitespace. 
-0001d1c0: 2020 2020 2028 6060 275c 7427 6060 2c20       (``'\t'``, 
-0001d1d0: 6060 275c 6e27 6060 2c20 6574 632e 2920  ``'\n'``, etc.) 
-0001d1e0: 746f 2061 6374 7561 6c20 7768 6974 6573  to actual whites
-0001d1f0: 7061 6365 0a20 2020 2020 2028 6465 6661  pace.      (defa
-0001d200: 756c 743d 2060 6054 7275 6560 6029 0a0a  ult= ``True``)..
-0001d210: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
-0001d220: 2020 2020 2020 2071 7320 3d20 5175 6f74         qs = Quot
-0001d230: 6564 5374 7269 6e67 2827 2227 290a 2020  edString('"').  
-0001d240: 2020 2020 2020 7072 696e 7428 7173 2e73        print(qs.s
-0001d250: 6561 7263 685f 7374 7269 6e67 2827 6c73  earch_string('ls
-0001d260: 6a64 6620 2254 6869 7320 6973 2074 6865  jdf "This is the
-0001d270: 2071 756f 7465 2220 736c 646a 6627 2929   quote" sldjf'))
-0001d280: 0a20 2020 2020 2020 2063 6f6d 706c 6578  .        complex
-0001d290: 5f71 7320 3d20 5175 6f74 6564 5374 7269  _qs = QuotedStri
-0001d2a0: 6e67 2827 7b7b 272c 2065 6e64 5f71 756f  ng('{{', end_quo
-0001d2b0: 7465 5f63 6861 723d 277d 7d27 290a 2020  te_char='}}').  
-0001d2c0: 2020 2020 2020 7072 696e 7428 636f 6d70        print(comp
-0001d2d0: 6c65 785f 7173 2e73 6561 7263 685f 7374  lex_qs.search_st
-0001d2e0: 7269 6e67 2827 6c73 6a64 6620 7b7b 5468  ring('lsjdf {{Th
-0001d2f0: 6973 2069 7320 7468 6520 2271 756f 7465  is is the "quote
-0001d300: 227d 7d20 736c 646a 6627 2929 0a20 2020  "}} sldjf')).   
-0001d310: 2020 2020 2073 716c 5f71 7320 3d20 5175       sql_qs = Qu
-0001d320: 6f74 6564 5374 7269 6e67 2827 2227 2c20  otedString('"', 
-0001d330: 6573 635f 7175 6f74 653d 2722 2227 290a  esc_quote='""').
-0001d340: 2020 2020 2020 2020 7072 696e 7428 7371          print(sq
-0001d350: 6c5f 7173 2e73 6561 7263 685f 7374 7269  l_qs.search_stri
-0001d360: 6e67 2827 6c73 6a64 6620 2254 6869 7320  ng('lsjdf "This 
-0001d370: 6973 2074 6865 2071 756f 7465 2077 6974  is the quote wit
-0001d380: 6820 2222 656d 6265 6464 6564 2222 2071  h ""embedded"" q
-0001d390: 756f 7465 7322 2073 6c64 6a66 2729 290a  uotes" sldjf')).
-0001d3a0: 0a20 2020 2070 7269 6e74 733a 3a0a 0a20  .    prints::.. 
-0001d3b0: 2020 2020 2020 205b 5b27 5468 6973 2069         [['This i
-0001d3c0: 7320 7468 6520 7175 6f74 6527 5d5d 0a20  s the quote']]. 
-0001d3d0: 2020 2020 2020 205b 5b27 5468 6973 2069         [['This i
-0001d3e0: 7320 7468 6520 2271 756f 7465 2227 5d5d  s the "quote"']]
-0001d3f0: 0a20 2020 2020 2020 205b 5b27 5468 6973  .        [['This
-0001d400: 2069 7320 7468 6520 7175 6f74 6520 7769   is the quote wi
-0001d410: 7468 2022 656d 6265 6464 6564 2220 7175  th "embedded" qu
-0001d420: 6f74 6573 275d 5d0a 2020 2020 2222 220a  otes']].    """.
-0001d430: 2020 2020 7773 5f6d 6170 203d 2028 2872      ws_map = ((r
-0001d440: 225c 7422 2c20 225c 7422 292c 2028 7222  "\t", "\t"), (r"
-0001d450: 5c6e 222c 2022 5c6e 2229 2c20 2872 225c  \n", "\n"), (r"\
-0001d460: 6622 2c20 225c 6622 292c 2028 7222 5c72  f", "\f"), (r"\r
-0001d470: 222c 2022 5c72 2229 290a 0a20 2020 2064  ", "\r"))..    d
-0001d480: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
-0001d490: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0001d4a0: 2020 2071 756f 7465 5f63 6861 723a 2073     quote_char: s
-0001d4b0: 7472 203d 2022 222c 0a20 2020 2020 2020  tr = "",.       
-0001d4c0: 2065 7363 5f63 6861 723a 2074 7970 696e   esc_char: typin
-0001d4d0: 672e 4f70 7469 6f6e 616c 5b73 7472 5d20  g.Optional[str] 
-0001d4e0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0001d4f0: 6573 635f 7175 6f74 653a 2074 7970 696e  esc_quote: typin
-0001d500: 672e 4f70 7469 6f6e 616c 5b73 7472 5d20  g.Optional[str] 
-0001d510: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0001d520: 6d75 6c74 696c 696e 653a 2062 6f6f 6c20  multiline: bool 
-0001d530: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
-0001d540: 2075 6e71 756f 7465 5f72 6573 756c 7473   unquote_results
-0001d550: 3a20 626f 6f6c 203d 2054 7275 652c 0a20  : bool = True,. 
-0001d560: 2020 2020 2020 2065 6e64 5f71 756f 7465         end_quote
-0001d570: 5f63 6861 723a 2074 7970 696e 672e 4f70  _char: typing.Op
-0001d580: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
-0001d590: 6e65 2c0a 2020 2020 2020 2020 636f 6e76  ne,.        conv
-0001d5a0: 6572 745f 7768 6974 6573 7061 6365 5f65  ert_whitespace_e
-0001d5b0: 7363 6170 6573 3a20 626f 6f6c 203d 2054  scapes: bool = T
-0001d5c0: 7275 652c 0a20 2020 2020 2020 202a 2c0a  rue,.        *,.
-0001d5d0: 2020 2020 2020 2020 7175 6f74 6543 6861          quoteCha
-0001d5e0: 723a 2073 7472 203d 2022 222c 0a20 2020  r: str = "",.   
-0001d5f0: 2020 2020 2065 7363 4368 6172 3a20 7479       escChar: ty
-0001d600: 7069 6e67 2e4f 7074 696f 6e61 6c5b 7374  ping.Optional[st
-0001d610: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
-0001d620: 2020 2065 7363 5175 6f74 653a 2074 7970     escQuote: typ
-0001d630: 696e 672e 4f70 7469 6f6e 616c 5b73 7472  ing.Optional[str
-0001d640: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
-0001d650: 2020 756e 7175 6f74 6552 6573 756c 7473    unquoteResults
-0001d660: 3a20 626f 6f6c 203d 2054 7275 652c 0a20  : bool = True,. 
-0001d670: 2020 2020 2020 2065 6e64 5175 6f74 6543         endQuoteC
-0001d680: 6861 723a 2074 7970 696e 672e 4f70 7469  har: typing.Opti
-0001d690: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-0001d6a0: 2c0a 2020 2020 2020 2020 636f 6e76 6572  ,.        conver
-0001d6b0: 7457 6869 7465 7370 6163 6545 7363 6170  tWhitespaceEscap
-0001d6c0: 6573 3a20 626f 6f6c 203d 2054 7275 652c  es: bool = True,
-0001d6d0: 0a20 2020 2029 3a0a 2020 2020 2020 2020  .    ):.        
-0001d6e0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
-0001d6f0: 2829 0a20 2020 2020 2020 2065 7363 4368  ().        escCh
-0001d700: 6172 203d 2065 7363 4368 6172 206f 7220  ar = escChar or 
-0001d710: 6573 635f 6368 6172 0a20 2020 2020 2020  esc_char.       
-0001d720: 2065 7363 5175 6f74 6520 3d20 6573 6351   escQuote = escQ
-0001d730: 756f 7465 206f 7220 6573 635f 7175 6f74  uote or esc_quot
-0001d740: 650a 2020 2020 2020 2020 756e 7175 6f74  e.        unquot
-0001d750: 6552 6573 756c 7473 203d 2075 6e71 756f  eResults = unquo
-0001d760: 7465 5265 7375 6c74 7320 616e 6420 756e  teResults and un
-0001d770: 7175 6f74 655f 7265 7375 6c74 730a 2020  quote_results.  
-0001d780: 2020 2020 2020 656e 6451 756f 7465 4368        endQuoteCh
-0001d790: 6172 203d 2065 6e64 5175 6f74 6543 6861  ar = endQuoteCha
-0001d7a0: 7220 6f72 2065 6e64 5f71 756f 7465 5f63  r or end_quote_c
-0001d7b0: 6861 720a 2020 2020 2020 2020 636f 6e76  har.        conv
-0001d7c0: 6572 7457 6869 7465 7370 6163 6545 7363  ertWhitespaceEsc
-0001d7d0: 6170 6573 203d 2028 0a20 2020 2020 2020  apes = (.       
-0001d7e0: 2020 2020 2063 6f6e 7665 7274 5768 6974       convertWhit
-0001d7f0: 6573 7061 6365 4573 6361 7065 7320 616e  espaceEscapes an
-0001d800: 6420 636f 6e76 6572 745f 7768 6974 6573  d convert_whites
-0001d810: 7061 6365 5f65 7363 6170 6573 0a20 2020  pace_escapes.   
-0001d820: 2020 2020 2029 0a20 2020 2020 2020 2071       ).        q
-0001d830: 756f 7465 5f63 6861 7220 3d20 7175 6f74  uote_char = quot
-0001d840: 6543 6861 7220 6f72 2071 756f 7465 5f63  eChar or quote_c
-0001d850: 6861 720a 0a20 2020 2020 2020 2023 2072  har..        # r
-0001d860: 656d 6f76 6520 7768 6974 6520 7370 6163  emove white spac
-0001d870: 6520 6672 6f6d 2071 756f 7465 2063 6861  e from quote cha
-0001d880: 7273 202d 2077 6f6e 7420 776f 726b 2061  rs - wont work a
-0001d890: 6e79 7761 790a 2020 2020 2020 2020 7175  nyway.        qu
-0001d8a0: 6f74 655f 6368 6172 203d 2071 756f 7465  ote_char = quote
-0001d8b0: 5f63 6861 722e 7374 7269 7028 290a 2020  _char.strip().  
-0001d8c0: 2020 2020 2020 6966 206e 6f74 2071 756f        if not quo
-0001d8d0: 7465 5f63 6861 723a 0a20 2020 2020 2020  te_char:.       
-0001d8e0: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
-0001d8f0: 4572 726f 7228 2271 756f 7465 5f63 6861  Error("quote_cha
-0001d900: 7220 6361 6e6e 6f74 2062 6520 7468 6520  r cannot be the 
-0001d910: 656d 7074 7920 7374 7269 6e67 2229 0a0a  empty string")..
-0001d920: 2020 2020 2020 2020 6966 2065 6e64 5175          if endQu
-0001d930: 6f74 6543 6861 7220 6973 204e 6f6e 653a  oteChar is None:
-0001d940: 0a20 2020 2020 2020 2020 2020 2065 6e64  .            end
-0001d950: 5175 6f74 6543 6861 7220 3d20 7175 6f74  QuoteChar = quot
-0001d960: 655f 6368 6172 0a20 2020 2020 2020 2065  e_char.        e
-0001d970: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0001d980: 2065 6e64 5175 6f74 6543 6861 7220 3d20   endQuoteChar = 
-0001d990: 656e 6451 756f 7465 4368 6172 2e73 7472  endQuoteChar.str
-0001d9a0: 6970 2829 0a20 2020 2020 2020 2020 2020  ip().           
-0001d9b0: 2069 6620 6e6f 7420 656e 6451 756f 7465   if not endQuote
-0001d9c0: 4368 6172 3a0a 2020 2020 2020 2020 2020  Char:.          
-0001d9d0: 2020 2020 2020 7261 6973 6520 5661 6c75        raise Valu
-0001d9e0: 6545 7272 6f72 2822 656e 645f 7175 6f74  eError("end_quot
-0001d9f0: 655f 6368 6172 2063 616e 6e6f 7420 6265  e_char cannot be
-0001da00: 2074 6865 2065 6d70 7479 2073 7472 696e   the empty strin
-0001da10: 6722 290a 0a20 2020 2020 2020 2073 656c  g")..        sel
-0001da20: 662e 7175 6f74 6543 6861 723a 2073 7472  f.quoteChar: str
-0001da30: 203d 2071 756f 7465 5f63 6861 720a 2020   = quote_char.  
-0001da40: 2020 2020 2020 7365 6c66 2e71 756f 7465        self.quote
-0001da50: 4368 6172 4c65 6e3a 2069 6e74 203d 206c  CharLen: int = l
-0001da60: 656e 2871 756f 7465 5f63 6861 7229 0a20  en(quote_char). 
-0001da70: 2020 2020 2020 2073 656c 662e 6669 7273         self.firs
-0001da80: 7451 756f 7465 4368 6172 3a20 7374 7220  tQuoteChar: str 
-0001da90: 3d20 7175 6f74 655f 6368 6172 5b30 5d0a  = quote_char[0].
-0001daa0: 2020 2020 2020 2020 7365 6c66 2e65 6e64          self.end
-0001dab0: 5175 6f74 6543 6861 723a 2073 7472 203d  QuoteChar: str =
-0001dac0: 2065 6e64 5175 6f74 6543 6861 720a 2020   endQuoteChar.  
-0001dad0: 2020 2020 2020 7365 6c66 2e65 6e64 5175        self.endQu
-0001dae0: 6f74 6543 6861 724c 656e 3a20 696e 7420  oteCharLen: int 
-0001daf0: 3d20 6c65 6e28 656e 6451 756f 7465 4368  = len(endQuoteCh
-0001db00: 6172 290a 2020 2020 2020 2020 7365 6c66  ar).        self
-0001db10: 2e65 7363 4368 6172 3a20 7374 7220 3d20  .escChar: str = 
-0001db20: 6573 6343 6861 7220 6f72 2022 220a 2020  escChar or "".  
-0001db30: 2020 2020 2020 7365 6c66 2e65 7363 5175        self.escQu
-0001db40: 6f74 653a 2073 7472 203d 2065 7363 5175  ote: str = escQu
-0001db50: 6f74 6520 6f72 2022 220a 2020 2020 2020  ote or "".      
-0001db60: 2020 7365 6c66 2e75 6e71 756f 7465 5265    self.unquoteRe
-0001db70: 7375 6c74 733a 2062 6f6f 6c20 3d20 756e  sults: bool = un
-0001db80: 7175 6f74 6552 6573 756c 7473 0a20 2020  quoteResults.   
-0001db90: 2020 2020 2073 656c 662e 636f 6e76 6572       self.conver
-0001dba0: 7457 6869 7465 7370 6163 6545 7363 6170  tWhitespaceEscap
-0001dbb0: 6573 3a20 626f 6f6c 203d 2063 6f6e 7665  es: bool = conve
-0001dbc0: 7274 5768 6974 6573 7061 6365 4573 6361  rtWhitespaceEsca
-0001dbd0: 7065 730a 0a20 2020 2020 2020 2073 6570  pes..        sep
-0001dbe0: 203d 2022 220a 2020 2020 2020 2020 696e   = "".        in
-0001dbf0: 6e65 725f 7061 7474 6572 6e20 3d20 2222  ner_pattern = ""
-0001dc00: 0a0a 2020 2020 2020 2020 6966 2065 7363  ..        if esc
-0001dc10: 5175 6f74 653a 0a20 2020 2020 2020 2020  Quote:.         
-0001dc20: 2020 2069 6e6e 6572 5f70 6174 7465 726e     inner_pattern
-0001dc30: 202b 3d20 7266 227b 7365 707d 283f 3a7b   += rf"{sep}(?:{
-0001dc40: 7265 2e65 7363 6170 6528 6573 6351 756f  re.escape(escQuo
-0001dc50: 7465 297d 2922 0a20 2020 2020 2020 2020  te)})".         
-0001dc60: 2020 2073 6570 203d 2022 7c22 0a0a 2020     sep = "|"..  
-0001dc70: 2020 2020 2020 6966 2065 7363 4368 6172        if escChar
-0001dc80: 3a0a 2020 2020 2020 2020 2020 2020 696e  :.            in
-0001dc90: 6e65 725f 7061 7474 6572 6e20 2b3d 2072  ner_pattern += r
-0001dca0: 6622 7b73 6570 7d28 3f3a 7b72 652e 6573  f"{sep}(?:{re.es
-0001dcb0: 6361 7065 2865 7363 4368 6172 297d 2e29  cape(escChar)}.)
-0001dcc0: 220a 2020 2020 2020 2020 2020 2020 7365  ".            se
-0001dcd0: 7020 3d20 227c 220a 2020 2020 2020 2020  p = "|".        
-0001dce0: 2020 2020 7365 6c66 2e65 7363 4368 6172      self.escChar
-0001dcf0: 5265 706c 6163 6550 6174 7465 726e 203d  ReplacePattern =
-0001dd00: 2072 652e 6573 6361 7065 2865 7363 4368   re.escape(escCh
-0001dd10: 6172 2920 2b20 2228 2e29 220a 0a20 2020  ar) + "(.)"..   
-0001dd20: 2020 2020 2069 6620 6c65 6e28 7365 6c66       if len(self
-0001dd30: 2e65 6e64 5175 6f74 6543 6861 7229 203e  .endQuoteChar) >
-0001dd40: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
-0001dd50: 696e 6e65 725f 7061 7474 6572 6e20 2b3d  inner_pattern +=
-0001dd60: 2028 0a20 2020 2020 2020 2020 2020 2020   (.             
-0001dd70: 2020 2066 227b 7365 707d 283f 3a22 0a20     f"{sep}(?:". 
-0001dd80: 2020 2020 2020 2020 2020 2020 2020 202b                 +
-0001dd90: 2022 7c22 2e6a 6f69 6e28 0a20 2020 2020   "|".join(.     
-0001dda0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0001ddb0: 2228 3f3a 7b72 652e 6573 6361 7065 2873  "(?:{re.escape(s
-0001ddc0: 656c 662e 656e 6451 756f 7465 4368 6172  elf.endQuoteChar
-0001ddd0: 5b3a 695d 297d 283f 217b 7265 2e65 7363  [:i])}(?!{re.esc
-0001dde0: 6170 6528 7365 6c66 2e65 6e64 5175 6f74  ape(self.endQuot
-0001ddf0: 6543 6861 725b 693a 5d29 7d29 2922 0a20  eChar[i:])}))". 
+0001b410: 2065 6c69 6620 7365 6c66 2e6d 6178 5370   elif self.maxSp
+0001b420: 6563 6966 6965 6420 616e 6420 6c6f 6320  ecified and loc 
+0001b430: 3c20 696e 7374 726c 656e 2061 6e64 2069  < instrlen and i
+0001b440: 6e73 7472 696e 675b 6c6f 635d 2069 6e20  nstring[loc] in 
+0001b450: 626f 6479 6368 6172 733a 0a20 2020 2020  bodychars:.     
+0001b460: 2020 2020 2020 2074 6872 6f77 4578 6365         throwExce
+0001b470: 7074 696f 6e20 3d20 5472 7565 0a20 2020  ption = True.   
+0001b480: 2020 2020 2065 6c69 6620 7365 6c66 2e61       elif self.a
+0001b490: 734b 6579 776f 7264 3a0a 2020 2020 2020  sKeyword:.      
+0001b4a0: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
+0001b4b0: 2020 2020 2020 2020 2020 2073 7461 7274             start
+0001b4c0: 203e 2030 0a20 2020 2020 2020 2020 2020   > 0.           
+0001b4d0: 2020 2020 2061 6e64 2069 6e73 7472 696e       and instrin
+0001b4e0: 675b 7374 6172 7420 2d20 315d 2069 6e20  g[start - 1] in 
+0001b4f0: 626f 6479 6368 6172 730a 2020 2020 2020  bodychars.      
+0001b500: 2020 2020 2020 2020 2020 6f72 206c 6f63            or loc
+0001b510: 203c 2069 6e73 7472 6c65 6e0a 2020 2020   < instrlen.    
+0001b520: 2020 2020 2020 2020 2020 2020 616e 6420              and 
+0001b530: 696e 7374 7269 6e67 5b6c 6f63 5d20 696e  instring[loc] in
+0001b540: 2062 6f64 7963 6861 7273 0a20 2020 2020   bodychars.     
+0001b550: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
+0001b560: 2020 2020 2020 2020 2020 7468 726f 7745            throwE
+0001b570: 7863 6570 7469 6f6e 203d 2054 7275 650a  xception = True.
+0001b580: 0a20 2020 2020 2020 2069 6620 7468 726f  .        if thro
+0001b590: 7745 7863 6570 7469 6f6e 3a0a 2020 2020  wException:.    
+0001b5a0: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
+0001b5b0: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
+0001b5c0: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
+0001b5d0: 2e65 7272 6d73 672c 2073 656c 6629 0a0a  .errmsg, self)..
+0001b5e0: 2020 2020 2020 2020 7265 7475 726e 206c          return l
+0001b5f0: 6f63 2c20 696e 7374 7269 6e67 5b73 7461  oc, instring[sta
+0001b600: 7274 3a6c 6f63 5d0a 0a20 2020 2064 6566  rt:loc]..    def
+0001b610: 2070 6172 7365 496d 706c 5f72 6567 6578   parseImpl_regex
+0001b620: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
+0001b630: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
+0001b640: 5472 7565 293a 0a20 2020 2020 2020 2072  True):.        r
+0001b650: 6573 756c 7420 3d20 7365 6c66 2e72 655f  esult = self.re_
+0001b660: 6d61 7463 6828 696e 7374 7269 6e67 2c20  match(instring, 
+0001b670: 6c6f 6329 0a20 2020 2020 2020 2069 6620  loc).        if 
+0001b680: 6e6f 7420 7265 7375 6c74 3a0a 2020 2020  not result:.    
+0001b690: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
+0001b6a0: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
+0001b6b0: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
+0001b6c0: 2e65 7272 6d73 672c 2073 656c 6629 0a0a  .errmsg, self)..
+0001b6d0: 2020 2020 2020 2020 6c6f 6320 3d20 7265          loc = re
+0001b6e0: 7375 6c74 2e65 6e64 2829 0a20 2020 2020  sult.end().     
+0001b6f0: 2020 2072 6574 7572 6e20 6c6f 632c 2072     return loc, r
+0001b700: 6573 756c 742e 6772 6f75 7028 290a 0a0a  esult.group()...
+0001b710: 636c 6173 7320 4368 6172 2857 6f72 6429  class Char(Word)
+0001b720: 3a0a 2020 2020 2222 2241 2073 686f 7274  :.    """A short
+0001b730: 2d63 7574 2063 6c61 7373 2066 6f72 2064  -cut class for d
+0001b740: 6566 696e 696e 6720 3a63 6c61 7373 3a60  efining :class:`
+0001b750: 576f 7264 6020 6060 2863 6861 7261 6374  Word` ``(charact
+0001b760: 6572 732c 2065 7861 6374 3d31 2960 602c  ers, exact=1)``,
+0001b770: 0a20 2020 2077 6865 6e20 6465 6669 6e69  .    when defini
+0001b780: 6e67 2061 206d 6174 6368 206f 6620 616e  ng a match of an
+0001b790: 7920 7369 6e67 6c65 2063 6861 7261 6374  y single charact
+0001b7a0: 6572 2069 6e20 6120 7374 7269 6e67 206f  er in a string o
+0001b7b0: 660a 2020 2020 6368 6172 6163 7465 7273  f.    characters
+0001b7c0: 2e0a 2020 2020 2222 220a 0a20 2020 2064  ..    """..    d
+0001b7d0: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
+0001b7e0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+0001b7f0: 2020 2063 6861 7273 6574 3a20 7374 722c     charset: str,
+0001b800: 0a20 2020 2020 2020 2061 735f 6b65 7977  .        as_keyw
+0001b810: 6f72 643a 2062 6f6f 6c20 3d20 4661 6c73  ord: bool = Fals
+0001b820: 652c 0a20 2020 2020 2020 2065 7863 6c75  e,.        exclu
+0001b830: 6465 5f63 6861 7273 3a20 7479 7069 6e67  de_chars: typing
+0001b840: 2e4f 7074 696f 6e61 6c5b 7374 725d 203d  .Optional[str] =
+0001b850: 204e 6f6e 652c 0a20 2020 2020 2020 202a   None,.        *
+0001b860: 2c0a 2020 2020 2020 2020 6173 4b65 7977  ,.        asKeyw
+0001b870: 6f72 643a 2062 6f6f 6c20 3d20 4661 6c73  ord: bool = Fals
+0001b880: 652c 0a20 2020 2020 2020 2065 7863 6c75  e,.        exclu
+0001b890: 6465 4368 6172 733a 2074 7970 696e 672e  deChars: typing.
+0001b8a0: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
+0001b8b0: 4e6f 6e65 2c0a 2020 2020 293a 0a20 2020  None,.    ):.   
+0001b8c0: 2020 2020 2061 734b 6579 776f 7264 203d       asKeyword =
+0001b8d0: 2061 734b 6579 776f 7264 206f 7220 6173   asKeyword or as
+0001b8e0: 5f6b 6579 776f 7264 0a20 2020 2020 2020  _keyword.       
+0001b8f0: 2065 7863 6c75 6465 4368 6172 7320 3d20   excludeChars = 
+0001b900: 6578 636c 7564 6543 6861 7273 206f 7220  excludeChars or 
+0001b910: 6578 636c 7564 655f 6368 6172 730a 2020  exclude_chars.  
+0001b920: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
+0001b930: 696e 6974 5f5f 280a 2020 2020 2020 2020  init__(.        
+0001b940: 2020 2020 6368 6172 7365 742c 2065 7861      charset, exa
+0001b950: 6374 3d31 2c20 6173 5f6b 6579 776f 7264  ct=1, as_keyword
+0001b960: 3d61 734b 6579 776f 7264 2c20 6578 636c  =asKeyword, excl
+0001b970: 7564 655f 6368 6172 733d 6578 636c 7564  ude_chars=exclud
+0001b980: 6543 6861 7273 0a20 2020 2020 2020 2029  eChars.        )
+0001b990: 0a0a 0a63 6c61 7373 2052 6567 6578 2854  ...class Regex(T
+0001b9a0: 6f6b 656e 293a 0a20 2020 2072 2222 2254  oken):.    r"""T
+0001b9b0: 6f6b 656e 2066 6f72 206d 6174 6368 696e  oken for matchin
+0001b9c0: 6720 7374 7269 6e67 7320 7468 6174 206d  g strings that m
+0001b9d0: 6174 6368 2061 2067 6976 656e 2072 6567  atch a given reg
+0001b9e0: 756c 6172 0a20 2020 2065 7870 7265 7373  ular.    express
+0001b9f0: 696f 6e2e 2044 6566 696e 6564 2077 6974  ion. Defined wit
+0001ba00: 6820 7374 7269 6e67 2073 7065 6369 6679  h string specify
+0001ba10: 696e 6720 7468 6520 7265 6775 6c61 7220  ing the regular 
+0001ba20: 6578 7072 6573 7369 6f6e 2069 6e0a 2020  expression in.  
+0001ba30: 2020 6120 666f 726d 2072 6563 6f67 6e69    a form recogni
+0001ba40: 7a65 6420 6279 2074 6865 2073 7464 6c69  zed by the stdli
+0001ba50: 6220 5079 7468 6f6e 2020 6072 6520 6d6f  b Python  `re mo
+0001ba60: 6475 6c65 203c 6874 7470 733a 2f2f 646f  dule <https://do
+0001ba70: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
+0001ba80: 6c69 6272 6172 792f 7265 2e68 746d 6c3e  library/re.html>
+0001ba90: 605f 2e0a 2020 2020 4966 2074 6865 2067  `_..    If the g
+0001baa0: 6976 656e 2072 6567 6578 2063 6f6e 7461  iven regex conta
+0001bab0: 696e 7320 6e61 6d65 6420 6772 6f75 7073  ins named groups
+0001bac0: 2028 6465 6669 6e65 6420 7573 696e 6720   (defined using 
+0001bad0: 6060 283f 503c 6e61 6d65 3e2e 2e2e 2960  ``(?P<name>...)`
+0001bae0: 6029 2c0a 2020 2020 7468 6573 6520 7769  `),.    these wi
+0001baf0: 6c6c 2062 6520 7072 6573 6572 7665 6420  ll be preserved 
+0001bb00: 6173 206e 616d 6564 203a 636c 6173 733a  as named :class:
+0001bb10: 6050 6172 7365 5265 7375 6c74 7360 2e0a  `ParseResults`..
+0001bb20: 0a20 2020 2049 6620 696e 7374 6561 6420  .    If instead 
+0001bb30: 6f66 2074 6865 2050 7974 686f 6e20 7374  of the Python st
+0001bb40: 646c 6962 2060 6072 6560 6020 6d6f 6475  dlib ``re`` modu
+0001bb50: 6c65 2079 6f75 2077 6973 6820 746f 2075  le you wish to u
+0001bb60: 7365 2061 2064 6966 6665 7265 6e74 2052  se a different R
+0001bb70: 4520 6d6f 6475 6c65 0a20 2020 2028 7375  E module.    (su
+0001bb80: 6368 2061 7320 7468 6520 6060 7265 6765  ch as the ``rege
+0001bb90: 7860 6020 6d6f 6475 6c65 292c 2079 6f75  x`` module), you
+0001bba0: 2063 616e 2064 6f20 736f 2062 7920 6275   can do so by bu
+0001bbb0: 696c 6469 6e67 2079 6f75 7220 6060 5265  ilding your ``Re
+0001bbc0: 6765 7860 6020 6f62 6a65 6374 2077 6974  gex`` object wit
+0001bbd0: 680a 2020 2020 6120 636f 6d70 696c 6564  h.    a compiled
+0001bbe0: 2052 4520 7468 6174 2077 6173 2063 6f6d   RE that was com
+0001bbf0: 7069 6c65 6420 7573 696e 6720 6060 7265  piled using ``re
+0001bc00: 6765 7860 602e 0a0a 2020 2020 4578 616d  gex``...    Exam
+0001bc10: 706c 653a 3a0a 0a20 2020 2020 2020 2072  ple::..        r
+0001bc20: 6561 6c6e 756d 203d 2052 6567 6578 2872  ealnum = Regex(r
+0001bc30: 225b 2b2d 5d3f 5c64 2b5c 2e5c 642a 2229  "[+-]?\d+\.\d*")
+0001bc40: 0a20 2020 2020 2020 2023 2072 6566 3a20  .        # ref: 
+0001bc50: 6874 7470 733a 2f2f 7374 6163 6b6f 7665  https://stackove
+0001bc60: 7266 6c6f 772e 636f 6d2f 7175 6573 7469  rflow.com/questi
+0001bc70: 6f6e 732f 3236 3733 3939 2f68 6f77 2d64  ons/267399/how-d
+0001bc80: 6f2d 796f 752d 6d61 7463 682d 6f6e 6c79  o-you-match-only
+0001bc90: 2d76 616c 6964 2d72 6f6d 616e 2d6e 756d  -valid-roman-num
+0001bca0: 6572 616c 732d 7769 7468 2d61 2d72 6567  erals-with-a-reg
+0001bcb0: 756c 6172 2d65 7870 7265 7373 696f 6e0a  ular-expression.
+0001bcc0: 2020 2020 2020 2020 726f 6d61 6e20 3d20          roman = 
+0001bcd0: 5265 6765 7828 7222 4d7b 302c 347d 2843  Regex(r"M{0,4}(C
+0001bce0: 4d7c 4344 7c44 3f7b 302c 337d 2928 5843  M|CD|D?{0,3})(XC
+0001bcf0: 7c58 4c7c 4c3f 587b 302c 337d 2928 4958  |XL|L?X{0,3})(IX
+0001bd00: 7c49 567c 563f 497b 302c 337d 2922 290a  |IV|V?I{0,3})").
+0001bd10: 0a20 2020 2020 2020 2023 206e 616d 6564  .        # named
+0001bd20: 2066 6965 6c64 7320 696e 2061 2072 6567   fields in a reg
+0001bd30: 6578 2077 696c 6c20 6265 2072 6574 7572  ex will be retur
+0001bd40: 6e65 6420 6173 206e 616d 6564 2072 6573  ned as named res
+0001bd50: 756c 7473 0a20 2020 2020 2020 2064 6174  ults.        dat
+0001bd60: 6520 3d20 5265 6765 7828 7227 283f 503c  e = Regex(r'(?P<
+0001bd70: 7965 6172 3e5c 647b 347d 292d 283f 503c  year>\d{4})-(?P<
+0001bd80: 6d6f 6e74 683e 5c64 5c64 3f29 2d28 3f50  month>\d\d?)-(?P
+0001bd90: 3c64 6179 3e5c 645c 643f 2927 290a 0a20  <day>\d\d?)').. 
+0001bda0: 2020 2020 2020 2023 2074 6865 2052 6567         # the Reg
+0001bdb0: 6578 2063 6c61 7373 2077 696c 6c20 6163  ex class will ac
+0001bdc0: 6365 7074 2072 6527 7320 636f 6d70 696c  cept re's compil
+0001bdd0: 6564 2075 7369 6e67 2074 6865 2072 6567  ed using the reg
+0001bde0: 6578 206d 6f64 756c 650a 2020 2020 2020  ex module.      
+0001bdf0: 2020 696d 706f 7274 2072 6567 6578 0a20    import regex. 
+0001be00: 2020 2020 2020 2070 6172 7365 7220 3d20         parser = 
+0001be10: 7070 2e52 6567 6578 2872 6567 6578 2e63  pp.Regex(regex.c
+0001be20: 6f6d 7069 6c65 2872 275b 302d 395d 2729  ompile(r'[0-9]')
+0001be30: 290a 2020 2020 2222 220a 0a20 2020 2064  ).    """..    d
+0001be40: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
+0001be50: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+0001be60: 2020 2070 6174 7465 726e 3a20 416e 792c     pattern: Any,
+0001be70: 0a20 2020 2020 2020 2066 6c61 6773 3a20  .        flags: 
+0001be80: 556e 696f 6e5b 7265 2e52 6567 6578 466c  Union[re.RegexFl
+0001be90: 6167 2c20 696e 745d 203d 2030 2c0a 2020  ag, int] = 0,.  
+0001bea0: 2020 2020 2020 6173 5f67 726f 7570 5f6c        as_group_l
+0001beb0: 6973 743a 2062 6f6f 6c20 3d20 4661 6c73  ist: bool = Fals
+0001bec0: 652c 0a20 2020 2020 2020 2061 735f 6d61  e,.        as_ma
+0001bed0: 7463 683a 2062 6f6f 6c20 3d20 4661 6c73  tch: bool = Fals
+0001bee0: 652c 0a20 2020 2020 2020 202a 2c0a 2020  e,.        *,.  
+0001bef0: 2020 2020 2020 6173 4772 6f75 704c 6973        asGroupLis
+0001bf00: 743a 2062 6f6f 6c20 3d20 4661 6c73 652c  t: bool = False,
+0001bf10: 0a20 2020 2020 2020 2061 734d 6174 6368  .        asMatch
+0001bf20: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
+0001bf30: 2020 2020 293a 0a20 2020 2020 2020 2022      ):.        "
+0001bf40: 2222 5468 6520 7061 7261 6d65 7465 7273  ""The parameters
+0001bf50: 2060 6070 6174 7465 726e 6060 2061 6e64   ``pattern`` and
+0001bf60: 2060 6066 6c61 6773 6060 2061 7265 2070   ``flags`` are p
+0001bf70: 6173 7365 640a 2020 2020 2020 2020 746f  assed.        to
+0001bf80: 2074 6865 2060 6072 652e 636f 6d70 696c   the ``re.compil
+0001bf90: 6528 2960 6020 6675 6e63 7469 6f6e 2061  e()`` function a
+0001bfa0: 732d 6973 2e20 5365 6520 7468 6520 5079  s-is. See the Py
+0001bfb0: 7468 6f6e 0a20 2020 2020 2020 2060 7265  thon.        `re
+0001bfc0: 206d 6f64 756c 6520 3c68 7474 7073 3a2f   module <https:/
+0001bfd0: 2f64 6f63 732e 7079 7468 6f6e 2e6f 7267  /docs.python.org
+0001bfe0: 2f33 2f6c 6962 7261 7279 2f72 652e 6874  /3/library/re.ht
+0001bff0: 6d6c 3e60 5f20 6d6f 6475 6c65 2066 6f72  ml>`_ module for
+0001c000: 2061 6e0a 2020 2020 2020 2020 6578 706c   an.        expl
+0001c010: 616e 6174 696f 6e20 6f66 2074 6865 2061  anation of the a
+0001c020: 6363 6570 7461 626c 6520 7061 7474 6572  cceptable patter
+0001c030: 6e73 2061 6e64 2066 6c61 6773 2e0a 2020  ns and flags..  
+0001c040: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0001c050: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
+0001c060: 5f5f 2829 0a20 2020 2020 2020 2061 7347  __().        asG
+0001c070: 726f 7570 4c69 7374 203d 2061 7347 726f  roupList = asGro
+0001c080: 7570 4c69 7374 206f 7220 6173 5f67 726f  upList or as_gro
+0001c090: 7570 5f6c 6973 740a 2020 2020 2020 2020  up_list.        
+0001c0a0: 6173 4d61 7463 6820 3d20 6173 4d61 7463  asMatch = asMatc
+0001c0b0: 6820 6f72 2061 735f 6d61 7463 680a 0a20  h or as_match.. 
+0001c0c0: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+0001c0d0: 616e 6365 2870 6174 7465 726e 2c20 7374  ance(pattern, st
+0001c0e0: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
+0001c0f0: 2020 2020 2069 6620 6e6f 7420 7061 7474       if not patt
+0001c100: 6572 6e3a 0a20 2020 2020 2020 2020 2020  ern:.           
+0001c110: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
+0001c120: 4572 726f 7228 226e 756c 6c20 7374 7269  Error("null stri
+0001c130: 6e67 2070 6173 7365 6420 746f 2052 6567  ng passed to Reg
+0001c140: 6578 3b20 7573 6520 456d 7074 7928 2920  ex; use Empty() 
+0001c150: 696e 7374 6561 6422 290a 0a20 2020 2020  instead")..     
+0001c160: 2020 2020 2020 2073 656c 662e 5f72 6520         self._re 
+0001c170: 3d20 4e6f 6e65 0a20 2020 2020 2020 2020  = None.         
+0001c180: 2020 2073 656c 662e 7265 5374 7269 6e67     self.reString
+0001c190: 203d 2073 656c 662e 7061 7474 6572 6e20   = self.pattern 
+0001c1a0: 3d20 7061 7474 6572 6e0a 2020 2020 2020  = pattern.      
+0001c1b0: 2020 2020 2020 7365 6c66 2e66 6c61 6773        self.flags
+0001c1c0: 203d 2066 6c61 6773 0a0a 2020 2020 2020   = flags..      
+0001c1d0: 2020 656c 6966 2068 6173 6174 7472 2870    elif hasattr(p
+0001c1e0: 6174 7465 726e 2c20 2270 6174 7465 726e  attern, "pattern
+0001c1f0: 2229 2061 6e64 2068 6173 6174 7472 2870  ") and hasattr(p
+0001c200: 6174 7465 726e 2c20 226d 6174 6368 2229  attern, "match")
+0001c210: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0001c220: 6c66 2e5f 7265 203d 2070 6174 7465 726e  lf._re = pattern
+0001c230: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0001c240: 662e 7061 7474 6572 6e20 3d20 7365 6c66  f.pattern = self
+0001c250: 2e72 6553 7472 696e 6720 3d20 7061 7474  .reString = patt
+0001c260: 6572 6e2e 7061 7474 6572 6e0a 2020 2020  ern.pattern.    
+0001c270: 2020 2020 2020 2020 7365 6c66 2e66 6c61          self.fla
+0001c280: 6773 203d 2066 6c61 6773 0a0a 2020 2020  gs = flags..    
+0001c290: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001c2a0: 2020 2020 2020 7261 6973 6520 5479 7065        raise Type
+0001c2b0: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
+0001c2c0: 2020 2020 2020 2022 5265 6765 7820 6d61         "Regex ma
+0001c2d0: 7920 6f6e 6c79 2062 6520 636f 6e73 7472  y only be constr
+0001c2e0: 7563 7465 6420 7769 7468 2061 2073 7472  ucted with a str
+0001c2f0: 696e 6720 6f72 2061 2063 6f6d 7069 6c65  ing or a compile
+0001c300: 6420 5245 206f 626a 6563 7422 0a20 2020  d RE object".   
+0001c310: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+0001c320: 2020 2020 7365 6c66 2e65 7272 6d73 6720      self.errmsg 
+0001c330: 3d20 2245 7870 6563 7465 6420 2220 2b20  = "Expected " + 
+0001c340: 7365 6c66 2e6e 616d 650a 2020 2020 2020  self.name.      
+0001c350: 2020 7365 6c66 2e6d 6179 496e 6465 7845    self.mayIndexE
+0001c360: 7272 6f72 203d 2046 616c 7365 0a20 2020  rror = False.   
+0001c370: 2020 2020 2073 656c 662e 6173 4772 6f75       self.asGrou
+0001c380: 704c 6973 7420 3d20 6173 4772 6f75 704c  pList = asGroupL
+0001c390: 6973 740a 2020 2020 2020 2020 7365 6c66  ist.        self
+0001c3a0: 2e61 734d 6174 6368 203d 2061 734d 6174  .asMatch = asMat
+0001c3b0: 6368 0a20 2020 2020 2020 2069 6620 7365  ch.        if se
+0001c3c0: 6c66 2e61 7347 726f 7570 4c69 7374 3a0a  lf.asGroupList:.
+0001c3d0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001c3e0: 2e70 6172 7365 496d 706c 203d 2073 656c  .parseImpl = sel
+0001c3f0: 662e 7061 7273 6549 6d70 6c41 7347 726f  f.parseImplAsGro
+0001c400: 7570 4c69 7374 2020 2320 7479 7065 3a20  upList  # type: 
+0001c410: 6967 6e6f 7265 205b 6173 7369 676e 6d65  ignore [assignme
+0001c420: 6e74 5d0a 2020 2020 2020 2020 6966 2073  nt].        if s
+0001c430: 656c 662e 6173 4d61 7463 683a 0a20 2020  elf.asMatch:.   
+0001c440: 2020 2020 2020 2020 2073 656c 662e 7061           self.pa
+0001c450: 7273 6549 6d70 6c20 3d20 7365 6c66 2e70  rseImpl = self.p
+0001c460: 6172 7365 496d 706c 4173 4d61 7463 6820  arseImplAsMatch 
+0001c470: 2023 2074 7970 653a 2069 676e 6f72 6520   # type: ignore 
+0001c480: 5b61 7373 6967 6e6d 656e 745d 0a0a 2020  [assignment]..  
+0001c490: 2020 4063 6163 6865 645f 7072 6f70 6572    @cached_proper
+0001c4a0: 7479 0a20 2020 2064 6566 2072 6528 7365  ty.    def re(se
+0001c4b0: 6c66 293a 0a20 2020 2020 2020 2069 6620  lf):.        if 
+0001c4c0: 7365 6c66 2e5f 7265 3a0a 2020 2020 2020  self._re:.      
+0001c4d0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+0001c4e0: 662e 5f72 650a 2020 2020 2020 2020 656c  f._re.        el
+0001c4f0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001c500: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+0001c510: 2020 2020 2072 6574 7572 6e20 7265 2e63       return re.c
+0001c520: 6f6d 7069 6c65 2873 656c 662e 7061 7474  ompile(self.patt
+0001c530: 6572 6e2c 2073 656c 662e 666c 6167 7329  ern, self.flags)
+0001c540: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+0001c550: 6570 7420 7265 2e65 7272 6f72 3a0a 2020  ept re.error:.  
+0001c560: 2020 2020 2020 2020 2020 2020 2020 7261                ra
+0001c570: 6973 6520 5661 6c75 6545 7272 6f72 2866  ise ValueError(f
+0001c580: 2269 6e76 616c 6964 2070 6174 7465 726e  "invalid pattern
+0001c590: 2028 7b73 656c 662e 7061 7474 6572 6e21   ({self.pattern!
+0001c5a0: 727d 2920 7061 7373 6564 2074 6f20 5265  r}) passed to Re
+0001c5b0: 6765 7822 290a 0a20 2020 2040 6361 6368  gex")..    @cach
+0001c5c0: 6564 5f70 726f 7065 7274 790a 2020 2020  ed_property.    
+0001c5d0: 6465 6620 7265 5f6d 6174 6368 2873 656c  def re_match(sel
+0001c5e0: 6629 3a0a 2020 2020 2020 2020 7265 7475  f):.        retu
+0001c5f0: 726e 2073 656c 662e 7265 2e6d 6174 6368  rn self.re.match
+0001c600: 0a0a 2020 2020 4063 6163 6865 645f 7072  ..    @cached_pr
+0001c610: 6f70 6572 7479 0a20 2020 2064 6566 206d  operty.    def m
+0001c620: 6179 5265 7475 726e 456d 7074 7928 7365  ayReturnEmpty(se
+0001c630: 6c66 293a 0a20 2020 2020 2020 2072 6574  lf):.        ret
+0001c640: 7572 6e20 7365 6c66 2e72 655f 6d61 7463  urn self.re_matc
+0001c650: 6828 2222 2920 6973 206e 6f74 204e 6f6e  h("") is not Non
+0001c660: 650a 0a20 2020 2064 6566 205f 6765 6e65  e..    def _gene
+0001c670: 7261 7465 4465 6661 756c 744e 616d 6528  rateDefaultName(
+0001c680: 7365 6c66 2920 2d3e 2073 7472 3a0a 2020  self) -> str:.  
+0001c690: 2020 2020 2020 7265 7475 726e 2022 5265        return "Re
+0001c6a0: 3a28 7b7d 2922 2e66 6f72 6d61 7428 7265  :({})".format(re
+0001c6b0: 7072 2873 656c 662e 7061 7474 6572 6e29  pr(self.pattern)
+0001c6c0: 2e72 6570 6c61 6365 2822 5c5c 5c5c 222c  .replace("\\\\",
+0001c6d0: 2022 5c5c 2229 290a 0a20 2020 2064 6566   "\\"))..    def
+0001c6e0: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
+0001c6f0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+0001c700: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
+0001c710: 0a20 2020 2020 2020 2072 6573 756c 7420  .        result 
+0001c720: 3d20 7365 6c66 2e72 655f 6d61 7463 6828  = self.re_match(
+0001c730: 696e 7374 7269 6e67 2c20 6c6f 6329 0a20  instring, loc). 
+0001c740: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
+0001c750: 7375 6c74 3a0a 2020 2020 2020 2020 2020  sult:.          
+0001c760: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
+0001c770: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
+0001c780: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
+0001c790: 672c 2073 656c 6629 0a0a 2020 2020 2020  g, self)..      
+0001c7a0: 2020 6c6f 6320 3d20 7265 7375 6c74 2e65    loc = result.e
+0001c7b0: 6e64 2829 0a20 2020 2020 2020 2072 6574  nd().        ret
+0001c7c0: 203d 2050 6172 7365 5265 7375 6c74 7328   = ParseResults(
+0001c7d0: 7265 7375 6c74 2e67 726f 7570 2829 290a  result.group()).
+0001c7e0: 2020 2020 2020 2020 6420 3d20 7265 7375          d = resu
+0001c7f0: 6c74 2e67 726f 7570 6469 6374 2829 0a20  lt.groupdict(). 
+0001c800: 2020 2020 2020 2069 6620 643a 0a20 2020         if d:.   
+0001c810: 2020 2020 2020 2020 2066 6f72 206b 2c20           for k, 
+0001c820: 7620 696e 2064 2e69 7465 6d73 2829 3a0a  v in d.items():.
+0001c830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c840: 7265 745b 6b5d 203d 2076 0a20 2020 2020  ret[k] = v.     
+0001c850: 2020 2072 6574 7572 6e20 6c6f 632c 2072     return loc, r
+0001c860: 6574 0a0a 2020 2020 6465 6620 7061 7273  et..    def pars
+0001c870: 6549 6d70 6c41 7347 726f 7570 4c69 7374  eImplAsGroupList
+0001c880: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
+0001c890: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
+0001c8a0: 5472 7565 293a 0a20 2020 2020 2020 2072  True):.        r
+0001c8b0: 6573 756c 7420 3d20 7365 6c66 2e72 655f  esult = self.re_
+0001c8c0: 6d61 7463 6828 696e 7374 7269 6e67 2c20  match(instring, 
+0001c8d0: 6c6f 6329 0a20 2020 2020 2020 2069 6620  loc).        if 
+0001c8e0: 6e6f 7420 7265 7375 6c74 3a0a 2020 2020  not result:.    
+0001c8f0: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
+0001c900: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
+0001c910: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
+0001c920: 2e65 7272 6d73 672c 2073 656c 6629 0a0a  .errmsg, self)..
+0001c930: 2020 2020 2020 2020 6c6f 6320 3d20 7265          loc = re
+0001c940: 7375 6c74 2e65 6e64 2829 0a20 2020 2020  sult.end().     
+0001c950: 2020 2072 6574 203d 2072 6573 756c 742e     ret = result.
+0001c960: 6772 6f75 7073 2829 0a20 2020 2020 2020  groups().       
+0001c970: 2072 6574 7572 6e20 6c6f 632c 2072 6574   return loc, ret
+0001c980: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+0001c990: 6d70 6c41 734d 6174 6368 2873 656c 662c  mplAsMatch(self,
+0001c9a0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+0001c9b0: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
+0001c9c0: 0a20 2020 2020 2020 2072 6573 756c 7420  .        result 
+0001c9d0: 3d20 7365 6c66 2e72 655f 6d61 7463 6828  = self.re_match(
+0001c9e0: 696e 7374 7269 6e67 2c20 6c6f 6329 0a20  instring, loc). 
+0001c9f0: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
+0001ca00: 7375 6c74 3a0a 2020 2020 2020 2020 2020  sult:.          
+0001ca10: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
+0001ca20: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
+0001ca30: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
+0001ca40: 672c 2073 656c 6629 0a0a 2020 2020 2020  g, self)..      
+0001ca50: 2020 6c6f 6320 3d20 7265 7375 6c74 2e65    loc = result.e
+0001ca60: 6e64 2829 0a20 2020 2020 2020 2072 6574  nd().        ret
+0001ca70: 203d 2072 6573 756c 740a 2020 2020 2020   = result.      
+0001ca80: 2020 7265 7475 726e 206c 6f63 2c20 7265    return loc, re
+0001ca90: 740a 0a20 2020 2064 6566 2073 7562 2873  t..    def sub(s
+0001caa0: 656c 662c 2072 6570 6c3a 2073 7472 2920  elf, repl: str) 
+0001cab0: 2d3e 2050 6172 7365 7245 6c65 6d65 6e74  -> ParserElement
+0001cac0: 3a0a 2020 2020 2020 2020 7222 2222 0a20  :.        r""". 
+0001cad0: 2020 2020 2020 2052 6574 7572 6e20 3a63         Return :c
+0001cae0: 6c61 7373 3a60 5265 6765 7860 2077 6974  lass:`Regex` wit
+0001caf0: 6820 616e 2061 7474 6163 6865 6420 7061  h an attached pa
+0001cb00: 7273 6520 6163 7469 6f6e 2074 6f20 7472  rse action to tr
+0001cb10: 616e 7366 6f72 6d20 7468 6520 7061 7273  ansform the pars
+0001cb20: 6564 0a20 2020 2020 2020 2072 6573 756c  ed.        resul
+0001cb30: 7420 6173 2069 6620 6361 6c6c 6564 2075  t as if called u
+0001cb40: 7369 6e67 2060 7265 2e73 7562 2865 7870  sing `re.sub(exp
+0001cb50: 722c 2072 6570 6c2c 2073 7472 696e 6729  r, repl, string)
+0001cb60: 203c 6874 7470 733a 2f2f 646f 6373 2e70   <https://docs.p
+0001cb70: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
+0001cb80: 6172 792f 7265 2e68 746d 6c23 7265 2e73  ary/re.html#re.s
+0001cb90: 7562 3e60 5f2e 0a0a 2020 2020 2020 2020  ub>`_...        
+0001cba0: 4578 616d 706c 653a 3a0a 0a20 2020 2020  Example::..     
+0001cbb0: 2020 2020 2020 206d 616b 655f 6874 6d6c         make_html
+0001cbc0: 203d 2052 6567 6578 2872 2228 5c77 2b29   = Regex(r"(\w+)
+0001cbd0: 3a28 2e2a 3f29 3a22 292e 7375 6228 7222  :(.*?):").sub(r"
+0001cbe0: 3c5c 313e 5c32 3c2f 5c31 3e22 290a 2020  <\1>\2</\1>").  
+0001cbf0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+0001cc00: 6d61 6b65 5f68 746d 6c2e 7472 616e 7366  make_html.transf
+0001cc10: 6f72 6d5f 7374 7269 6e67 2822 6831 3a6d  orm_string("h1:m
+0001cc20: 6169 6e20 7469 746c 653a 2229 290a 2020  ain title:")).  
+0001cc30: 2020 2020 2020 2020 2020 2320 7072 696e            # prin
+0001cc40: 7473 2022 3c68 313e 6d61 696e 2074 6974  ts "<h1>main tit
+0001cc50: 6c65 3c2f 6831 3e22 0a20 2020 2020 2020  le</h1>".       
+0001cc60: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+0001cc70: 7365 6c66 2e61 7347 726f 7570 4c69 7374  self.asGroupList
+0001cc80: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+0001cc90: 6973 6520 5479 7065 4572 726f 7228 2263  ise TypeError("c
+0001cca0: 616e 6e6f 7420 7573 6520 7375 6228 2920  annot use sub() 
+0001ccb0: 7769 7468 2052 6567 6578 2861 735f 6772  with Regex(as_gr
+0001ccc0: 6f75 705f 6c69 7374 3d54 7275 6529 2229  oup_list=True)")
+0001ccd0: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
+0001cce0: 662e 6173 4d61 7463 6820 616e 6420 6361  f.asMatch and ca
+0001ccf0: 6c6c 6162 6c65 2872 6570 6c29 3a0a 2020  llable(repl):.  
+0001cd00: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0001cd10: 5479 7065 4572 726f 7228 0a20 2020 2020  TypeError(.     
+0001cd20: 2020 2020 2020 2020 2020 2022 6361 6e6e             "cann
+0001cd30: 6f74 2075 7365 2073 7562 2829 2077 6974  ot use sub() wit
+0001cd40: 6820 6120 6361 6c6c 6162 6c65 2077 6974  h a callable wit
+0001cd50: 6820 5265 6765 7828 6173 5f6d 6174 6368  h Regex(as_match
+0001cd60: 3d54 7275 6529 220a 2020 2020 2020 2020  =True)".        
+0001cd70: 2020 2020 290a 0a20 2020 2020 2020 2069      )..        i
+0001cd80: 6620 7365 6c66 2e61 734d 6174 6368 3a0a  f self.asMatch:.
+0001cd90: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+0001cda0: 2070 6128 746f 6b65 6e73 293a 0a20 2020   pa(tokens):.   
+0001cdb0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+0001cdc0: 7572 6e20 746f 6b65 6e73 5b30 5d2e 6578  urn tokens[0].ex
+0001cdd0: 7061 6e64 2872 6570 6c29 0a0a 2020 2020  pand(repl)..    
+0001cde0: 2020 2020 656c 7365 3a0a 0a20 2020 2020      else:..     
+0001cdf0: 2020 2020 2020 2064 6566 2070 6128 746f         def pa(to
+0001ce00: 6b65 6e73 293a 0a20 2020 2020 2020 2020  kens):.         
+0001ce10: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+0001ce20: 6c66 2e72 652e 7375 6228 7265 706c 2c20  lf.re.sub(repl, 
+0001ce30: 746f 6b65 6e73 5b30 5d29 0a0a 2020 2020  tokens[0])..    
+0001ce40: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+0001ce50: 6164 645f 7061 7273 655f 6163 7469 6f6e  add_parse_action
+0001ce60: 2870 6129 0a0a 0a63 6c61 7373 2051 756f  (pa)...class Quo
+0001ce70: 7465 6453 7472 696e 6728 546f 6b65 6e29  tedString(Token)
+0001ce80: 3a0a 2020 2020 7222 2222 0a20 2020 2054  :.    r""".    T
+0001ce90: 6f6b 656e 2066 6f72 206d 6174 6368 696e  oken for matchin
+0001cea0: 6720 7374 7269 6e67 7320 7468 6174 2061  g strings that a
+0001ceb0: 7265 2064 656c 696d 6974 6564 2062 7920  re delimited by 
+0001cec0: 7175 6f74 696e 6720 6368 6172 6163 7465  quoting characte
+0001ced0: 7273 2e0a 0a20 2020 2044 6566 696e 6564  rs...    Defined
+0001cee0: 2077 6974 6820 7468 6520 666f 6c6c 6f77   with the follow
+0001cef0: 696e 6720 7061 7261 6d65 7465 7273 3a0a  ing parameters:.
+0001cf00: 0a20 2020 202d 2060 6071 756f 7465 5f63  .    - ``quote_c
+0001cf10: 6861 7260 6020 2d20 7374 7269 6e67 206f  har`` - string o
+0001cf20: 6620 6f6e 6520 6f72 206d 6f72 6520 6368  f one or more ch
+0001cf30: 6172 6163 7465 7273 2064 6566 696e 696e  aracters definin
+0001cf40: 6720 7468 650a 2020 2020 2020 7175 6f74  g the.      quot
+0001cf50: 6520 6465 6c69 6d69 7469 6e67 2073 7472  e delimiting str
+0001cf60: 696e 670a 2020 2020 2d20 6060 6573 635f  ing.    - ``esc_
+0001cf70: 6368 6172 6060 202d 2063 6861 7261 6374  char`` - charact
+0001cf80: 6572 2074 6f20 7265 5f65 7363 6170 6520  er to re_escape 
+0001cf90: 7175 6f74 6573 2c20 7479 7069 6361 6c6c  quotes, typicall
+0001cfa0: 7920 6261 636b 736c 6173 680a 2020 2020  y backslash.    
+0001cfb0: 2020 2864 6566 6175 6c74 3d20 6060 4e6f    (default= ``No
+0001cfc0: 6e65 6060 290a 2020 2020 2d20 6060 6573  ne``).    - ``es
+0001cfd0: 635f 7175 6f74 6560 6020 2d20 7370 6563  c_quote`` - spec
+0001cfe0: 6961 6c20 7175 6f74 6520 7365 7175 656e  ial quote sequen
+0001cff0: 6365 2074 6f20 7265 5f65 7363 6170 6520  ce to re_escape 
+0001d000: 616e 2065 6d62 6564 6465 6420 7175 6f74  an embedded quot
+0001d010: 650a 2020 2020 2020 7374 7269 6e67 2028  e.      string (
+0001d020: 7375 6368 2061 7320 5351 4c27 7320 6060  such as SQL's ``
+0001d030: 2222 6060 2074 6f20 7265 5f65 7363 6170  ""`` to re_escap
+0001d040: 6520 616e 2065 6d62 6564 6465 6420 6060  e an embedded ``
+0001d050: 2260 6029 0a20 2020 2020 2028 6465 6661  "``).      (defa
+0001d060: 756c 743d 2060 604e 6f6e 6560 6029 0a20  ult= ``None``). 
+0001d070: 2020 202d 2060 606d 756c 7469 6c69 6e65     - ``multiline
+0001d080: 6060 202d 2062 6f6f 6c65 616e 2069 6e64  `` - boolean ind
+0001d090: 6963 6174 696e 6720 7768 6574 6865 7220  icating whether 
+0001d0a0: 7175 6f74 6573 2063 616e 2073 7061 6e0a  quotes can span.
+0001d0b0: 2020 2020 2020 6d75 6c74 6970 6c65 206c        multiple l
+0001d0c0: 696e 6573 2028 6465 6661 756c 743d 2060  ines (default= `
+0001d0d0: 6046 616c 7365 6060 290a 2020 2020 2d20  `False``).    - 
+0001d0e0: 6060 756e 7175 6f74 655f 7265 7375 6c74  ``unquote_result
+0001d0f0: 7360 6020 2d20 626f 6f6c 6561 6e20 696e  s`` - boolean in
+0001d100: 6469 6361 7469 6e67 2077 6865 7468 6572  dicating whether
+0001d110: 2074 6865 206d 6174 6368 6564 2074 6578   the matched tex
+0001d120: 740a 2020 2020 2020 7368 6f75 6c64 2062  t.      should b
+0001d130: 6520 756e 7175 6f74 6564 2028 6465 6661  e unquoted (defa
+0001d140: 756c 743d 2060 6054 7275 6560 6029 0a20  ult= ``True``). 
+0001d150: 2020 202d 2060 6065 6e64 5f71 756f 7465     - ``end_quote
+0001d160: 5f63 6861 7260 6020 2d20 7374 7269 6e67  _char`` - string
+0001d170: 206f 6620 6f6e 6520 6f72 206d 6f72 6520   of one or more 
+0001d180: 6368 6172 6163 7465 7273 2064 6566 696e  characters defin
+0001d190: 696e 6720 7468 650a 2020 2020 2020 656e  ing the.      en
+0001d1a0: 6420 6f66 2074 6865 2071 756f 7465 2064  d of the quote d
+0001d1b0: 656c 696d 6974 6564 2073 7472 696e 6720  elimited string 
+0001d1c0: 2864 6566 6175 6c74 3d20 6060 4e6f 6e65  (default= ``None
+0001d1d0: 6060 2020 3d3e 2073 616d 6520 6173 0a20  ``  => same as. 
+0001d1e0: 2020 2020 2071 756f 7465 5f63 6861 7229       quote_char)
+0001d1f0: 0a20 2020 202d 2060 6063 6f6e 7665 7274  .    - ``convert
+0001d200: 5f77 6869 7465 7370 6163 655f 6573 6361  _whitespace_esca
+0001d210: 7065 7360 6020 2d20 636f 6e76 6572 7420  pes`` - convert 
+0001d220: 6573 6361 7065 6420 7768 6974 6573 7061  escaped whitespa
+0001d230: 6365 0a20 2020 2020 2028 6060 275c 7427  ce.      (``'\t'
+0001d240: 6060 2c20 6060 275c 6e27 6060 2c20 6574  ``, ``'\n'``, et
+0001d250: 632e 2920 746f 2061 6374 7561 6c20 7768  c.) to actual wh
+0001d260: 6974 6573 7061 6365 0a20 2020 2020 2028  itespace.      (
+0001d270: 6465 6661 756c 743d 2060 6054 7275 6560  default= ``True`
+0001d280: 6029 0a0a 2020 2020 4578 616d 706c 653a  `)..    Example:
+0001d290: 3a0a 0a20 2020 2020 2020 2071 7320 3d20  :..        qs = 
+0001d2a0: 5175 6f74 6564 5374 7269 6e67 2827 2227  QuotedString('"'
+0001d2b0: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
+0001d2c0: 7173 2e73 6561 7263 685f 7374 7269 6e67  qs.search_string
+0001d2d0: 2827 6c73 6a64 6620 2254 6869 7320 6973  ('lsjdf "This is
+0001d2e0: 2074 6865 2071 756f 7465 2220 736c 646a   the quote" sldj
+0001d2f0: 6627 2929 0a20 2020 2020 2020 2063 6f6d  f')).        com
+0001d300: 706c 6578 5f71 7320 3d20 5175 6f74 6564  plex_qs = Quoted
+0001d310: 5374 7269 6e67 2827 7b7b 272c 2065 6e64  String('{{', end
+0001d320: 5f71 756f 7465 5f63 6861 723d 277d 7d27  _quote_char='}}'
+0001d330: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
+0001d340: 636f 6d70 6c65 785f 7173 2e73 6561 7263  complex_qs.searc
+0001d350: 685f 7374 7269 6e67 2827 6c73 6a64 6620  h_string('lsjdf 
+0001d360: 7b7b 5468 6973 2069 7320 7468 6520 2271  {{This is the "q
+0001d370: 756f 7465 227d 7d20 736c 646a 6627 2929  uote"}} sldjf'))
+0001d380: 0a20 2020 2020 2020 2073 716c 5f71 7320  .        sql_qs 
+0001d390: 3d20 5175 6f74 6564 5374 7269 6e67 2827  = QuotedString('
+0001d3a0: 2227 2c20 6573 635f 7175 6f74 653d 2722  "', esc_quote='"
+0001d3b0: 2227 290a 2020 2020 2020 2020 7072 696e  "').        prin
+0001d3c0: 7428 7371 6c5f 7173 2e73 6561 7263 685f  t(sql_qs.search_
+0001d3d0: 7374 7269 6e67 2827 6c73 6a64 6620 2254  string('lsjdf "T
+0001d3e0: 6869 7320 6973 2074 6865 2071 756f 7465  his is the quote
+0001d3f0: 2077 6974 6820 2222 656d 6265 6464 6564   with ""embedded
+0001d400: 2222 2071 756f 7465 7322 2073 6c64 6a66  "" quotes" sldjf
+0001d410: 2729 290a 0a20 2020 2070 7269 6e74 733a  '))..    prints:
+0001d420: 3a0a 0a20 2020 2020 2020 205b 5b27 5468  :..        [['Th
+0001d430: 6973 2069 7320 7468 6520 7175 6f74 6527  is is the quote'
+0001d440: 5d5d 0a20 2020 2020 2020 205b 5b27 5468  ]].        [['Th
+0001d450: 6973 2069 7320 7468 6520 2271 756f 7465  is is the "quote
+0001d460: 2227 5d5d 0a20 2020 2020 2020 205b 5b27  "']].        [['
+0001d470: 5468 6973 2069 7320 7468 6520 7175 6f74  This is the quot
+0001d480: 6520 7769 7468 2022 656d 6265 6464 6564  e with "embedded
+0001d490: 2220 7175 6f74 6573 275d 5d0a 2020 2020  " quotes']].    
+0001d4a0: 2222 220a 2020 2020 7773 5f6d 6170 203d  """.    ws_map =
+0001d4b0: 2064 6963 7428 2828 7222 5c74 222c 2022   dict(((r"\t", "
+0001d4c0: 5c74 2229 2c20 2872 225c 6e22 2c20 225c  \t"), (r"\n", "\
+0001d4d0: 6e22 292c 2028 7222 5c66 222c 2022 5c66  n"), (r"\f", "\f
+0001d4e0: 2229 2c20 2872 225c 7222 2c20 225c 7222  "), (r"\r", "\r"
+0001d4f0: 2929 290a 0a20 2020 2064 6566 205f 5f69  )))..    def __i
+0001d500: 6e69 745f 5f28 0a20 2020 2020 2020 2073  nit__(.        s
+0001d510: 656c 662c 0a20 2020 2020 2020 2071 756f  elf,.        quo
+0001d520: 7465 5f63 6861 723a 2073 7472 203d 2022  te_char: str = "
+0001d530: 222c 0a20 2020 2020 2020 2065 7363 5f63  ",.        esc_c
+0001d540: 6861 723a 2074 7970 696e 672e 4f70 7469  har: typing.Opti
+0001d550: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
+0001d560: 2c0a 2020 2020 2020 2020 6573 635f 7175  ,.        esc_qu
+0001d570: 6f74 653a 2074 7970 696e 672e 4f70 7469  ote: typing.Opti
+0001d580: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
+0001d590: 2c0a 2020 2020 2020 2020 6d75 6c74 696c  ,.        multil
+0001d5a0: 696e 653a 2062 6f6f 6c20 3d20 4661 6c73  ine: bool = Fals
+0001d5b0: 652c 0a20 2020 2020 2020 2075 6e71 756f  e,.        unquo
+0001d5c0: 7465 5f72 6573 756c 7473 3a20 626f 6f6c  te_results: bool
+0001d5d0: 203d 2054 7275 652c 0a20 2020 2020 2020   = True,.       
+0001d5e0: 2065 6e64 5f71 756f 7465 5f63 6861 723a   end_quote_char:
+0001d5f0: 2074 7970 696e 672e 4f70 7469 6f6e 616c   typing.Optional
+0001d600: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
+0001d610: 2020 2020 2020 636f 6e76 6572 745f 7768        convert_wh
+0001d620: 6974 6573 7061 6365 5f65 7363 6170 6573  itespace_escapes
+0001d630: 3a20 626f 6f6c 203d 2054 7275 652c 0a20  : bool = True,. 
+0001d640: 2020 2020 2020 202a 2c0a 2020 2020 2020         *,.      
+0001d650: 2020 7175 6f74 6543 6861 723a 2073 7472    quoteChar: str
+0001d660: 203d 2022 222c 0a20 2020 2020 2020 2065   = "",.        e
+0001d670: 7363 4368 6172 3a20 7479 7069 6e67 2e4f  scChar: typing.O
+0001d680: 7074 696f 6e61 6c5b 7374 725d 203d 204e  ptional[str] = N
+0001d690: 6f6e 652c 0a20 2020 2020 2020 2065 7363  one,.        esc
+0001d6a0: 5175 6f74 653a 2074 7970 696e 672e 4f70  Quote: typing.Op
+0001d6b0: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
+0001d6c0: 6e65 2c0a 2020 2020 2020 2020 756e 7175  ne,.        unqu
+0001d6d0: 6f74 6552 6573 756c 7473 3a20 626f 6f6c  oteResults: bool
+0001d6e0: 203d 2054 7275 652c 0a20 2020 2020 2020   = True,.       
+0001d6f0: 2065 6e64 5175 6f74 6543 6861 723a 2074   endQuoteChar: t
+0001d700: 7970 696e 672e 4f70 7469 6f6e 616c 5b73  yping.Optional[s
+0001d710: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
+0001d720: 2020 2020 636f 6e76 6572 7457 6869 7465      convertWhite
+0001d730: 7370 6163 6545 7363 6170 6573 3a20 626f  spaceEscapes: bo
+0001d740: 6f6c 203d 2054 7275 652c 0a20 2020 2029  ol = True,.    )
+0001d750: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
+0001d760: 292e 5f5f 696e 6974 5f5f 2829 0a20 2020  ).__init__().   
+0001d770: 2020 2020 2065 7363 4368 6172 203d 2065       escChar = e
+0001d780: 7363 4368 6172 206f 7220 6573 635f 6368  scChar or esc_ch
+0001d790: 6172 0a20 2020 2020 2020 2065 7363 5175  ar.        escQu
+0001d7a0: 6f74 6520 3d20 6573 6351 756f 7465 206f  ote = escQuote o
+0001d7b0: 7220 6573 635f 7175 6f74 650a 2020 2020  r esc_quote.    
+0001d7c0: 2020 2020 756e 7175 6f74 6552 6573 756c      unquoteResul
+0001d7d0: 7473 203d 2075 6e71 756f 7465 5265 7375  ts = unquoteResu
+0001d7e0: 6c74 7320 616e 6420 756e 7175 6f74 655f  lts and unquote_
+0001d7f0: 7265 7375 6c74 730a 2020 2020 2020 2020  results.        
+0001d800: 656e 6451 756f 7465 4368 6172 203d 2065  endQuoteChar = e
+0001d810: 6e64 5175 6f74 6543 6861 7220 6f72 2065  ndQuoteChar or e
+0001d820: 6e64 5f71 756f 7465 5f63 6861 720a 2020  nd_quote_char.  
+0001d830: 2020 2020 2020 636f 6e76 6572 7457 6869        convertWhi
+0001d840: 7465 7370 6163 6545 7363 6170 6573 203d  tespaceEscapes =
+0001d850: 2028 0a20 2020 2020 2020 2020 2020 2063   (.            c
+0001d860: 6f6e 7665 7274 5768 6974 6573 7061 6365  onvertWhitespace
+0001d870: 4573 6361 7065 7320 616e 6420 636f 6e76  Escapes and conv
+0001d880: 6572 745f 7768 6974 6573 7061 6365 5f65  ert_whitespace_e
+0001d890: 7363 6170 6573 0a20 2020 2020 2020 2029  scapes.        )
+0001d8a0: 0a20 2020 2020 2020 2071 756f 7465 5f63  .        quote_c
+0001d8b0: 6861 7220 3d20 7175 6f74 6543 6861 7220  har = quoteChar 
+0001d8c0: 6f72 2071 756f 7465 5f63 6861 720a 0a20  or quote_char.. 
+0001d8d0: 2020 2020 2020 2023 2072 656d 6f76 6520         # remove 
+0001d8e0: 7768 6974 6520 7370 6163 6520 6672 6f6d  white space from
+0001d8f0: 2071 756f 7465 2063 6861 7273 202d 2077   quote chars - w
+0001d900: 6f6e 7420 776f 726b 2061 6e79 7761 790a  ont work anyway.
+0001d910: 2020 2020 2020 2020 7175 6f74 655f 6368          quote_ch
+0001d920: 6172 203d 2071 756f 7465 5f63 6861 722e  ar = quote_char.
+0001d930: 7374 7269 7028 290a 2020 2020 2020 2020  strip().        
+0001d940: 6966 206e 6f74 2071 756f 7465 5f63 6861  if not quote_cha
+0001d950: 723a 0a20 2020 2020 2020 2020 2020 2072  r:.            r
+0001d960: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
+0001d970: 2271 756f 7465 5f63 6861 7220 6361 6e6e  "quote_char cann
+0001d980: 6f74 2062 6520 7468 6520 656d 7074 7920  ot be the empty 
+0001d990: 7374 7269 6e67 2229 0a0a 2020 2020 2020  string")..      
+0001d9a0: 2020 6966 2065 6e64 5175 6f74 6543 6861    if endQuoteCha
+0001d9b0: 7220 6973 204e 6f6e 653a 0a20 2020 2020  r is None:.     
+0001d9c0: 2020 2020 2020 2065 6e64 5175 6f74 6543         endQuoteC
+0001d9d0: 6861 7220 3d20 7175 6f74 655f 6368 6172  har = quote_char
+0001d9e0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0001d9f0: 2020 2020 2020 2020 2020 2065 6e64 5175             endQu
+0001da00: 6f74 6543 6861 7220 3d20 656e 6451 756f  oteChar = endQuo
+0001da10: 7465 4368 6172 2e73 7472 6970 2829 0a20  teChar.strip(). 
+0001da20: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+0001da30: 7420 656e 6451 756f 7465 4368 6172 3a0a  t endQuoteChar:.
+0001da40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001da50: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+0001da60: 2822 656e 645f 7175 6f74 655f 6368 6172  ("end_quote_char
+0001da70: 2063 616e 6e6f 7420 6265 2074 6865 2065   cannot be the e
+0001da80: 6d70 7479 2073 7472 696e 6722 290a 0a20  mpty string").. 
+0001da90: 2020 2020 2020 2073 656c 662e 7175 6f74         self.quot
+0001daa0: 6543 6861 723a 2073 7472 203d 2071 756f  eChar: str = quo
+0001dab0: 7465 5f63 6861 720a 2020 2020 2020 2020  te_char.        
+0001dac0: 7365 6c66 2e71 756f 7465 4368 6172 4c65  self.quoteCharLe
+0001dad0: 6e3a 2069 6e74 203d 206c 656e 2871 756f  n: int = len(quo
+0001dae0: 7465 5f63 6861 7229 0a20 2020 2020 2020  te_char).       
+0001daf0: 2073 656c 662e 6669 7273 7451 756f 7465   self.firstQuote
+0001db00: 4368 6172 3a20 7374 7220 3d20 7175 6f74  Char: str = quot
+0001db10: 655f 6368 6172 5b30 5d0a 2020 2020 2020  e_char[0].      
+0001db20: 2020 7365 6c66 2e65 6e64 5175 6f74 6543    self.endQuoteC
+0001db30: 6861 723a 2073 7472 203d 2065 6e64 5175  har: str = endQu
+0001db40: 6f74 6543 6861 720a 2020 2020 2020 2020  oteChar.        
+0001db50: 7365 6c66 2e65 6e64 5175 6f74 6543 6861  self.endQuoteCha
+0001db60: 724c 656e 3a20 696e 7420 3d20 6c65 6e28  rLen: int = len(
+0001db70: 656e 6451 756f 7465 4368 6172 290a 2020  endQuoteChar).  
+0001db80: 2020 2020 2020 7365 6c66 2e65 7363 4368        self.escCh
+0001db90: 6172 3a20 7374 7220 3d20 6573 6343 6861  ar: str = escCha
+0001dba0: 7220 6f72 2022 220a 2020 2020 2020 2020  r or "".        
+0001dbb0: 7365 6c66 2e65 7363 5175 6f74 653a 2073  self.escQuote: s
+0001dbc0: 7472 203d 2065 7363 5175 6f74 6520 6f72  tr = escQuote or
+0001dbd0: 2022 220a 2020 2020 2020 2020 7365 6c66   "".        self
+0001dbe0: 2e75 6e71 756f 7465 5265 7375 6c74 733a  .unquoteResults:
+0001dbf0: 2062 6f6f 6c20 3d20 756e 7175 6f74 6552   bool = unquoteR
+0001dc00: 6573 756c 7473 0a20 2020 2020 2020 2073  esults.        s
+0001dc10: 656c 662e 636f 6e76 6572 7457 6869 7465  elf.convertWhite
+0001dc20: 7370 6163 6545 7363 6170 6573 3a20 626f  spaceEscapes: bo
+0001dc30: 6f6c 203d 2063 6f6e 7665 7274 5768 6974  ol = convertWhit
+0001dc40: 6573 7061 6365 4573 6361 7065 730a 2020  espaceEscapes.  
+0001dc50: 2020 2020 2020 7365 6c66 2e6d 756c 7469        self.multi
+0001dc60: 6c69 6e65 203d 206d 756c 7469 6c69 6e65  line = multiline
+0001dc70: 0a0a 2020 2020 2020 2020 7365 7020 3d20  ..        sep = 
+0001dc80: 2222 0a20 2020 2020 2020 2069 6e6e 6572  "".        inner
+0001dc90: 5f70 6174 7465 726e 203d 2022 220a 0a20  _pattern = "".. 
+0001dca0: 2020 2020 2020 2069 6620 6573 6351 756f         if escQuo
+0001dcb0: 7465 3a0a 2020 2020 2020 2020 2020 2020  te:.            
+0001dcc0: 696e 6e65 725f 7061 7474 6572 6e20 2b3d  inner_pattern +=
+0001dcd0: 2072 6622 7b73 6570 7d28 3f3a 7b72 652e   rf"{sep}(?:{re.
+0001dce0: 6573 6361 7065 2865 7363 5175 6f74 6529  escape(escQuote)
+0001dcf0: 7d29 220a 2020 2020 2020 2020 2020 2020  })".            
+0001dd00: 7365 7020 3d20 227c 220a 0a20 2020 2020  sep = "|"..     
+0001dd10: 2020 2069 6620 6573 6343 6861 723a 0a20     if escChar:. 
+0001dd20: 2020 2020 2020 2020 2020 2069 6e6e 6572             inner
+0001dd30: 5f70 6174 7465 726e 202b 3d20 7266 227b  _pattern += rf"{
+0001dd40: 7365 707d 283f 3a7b 7265 2e65 7363 6170  sep}(?:{re.escap
+0001dd50: 6528 6573 6343 6861 7229 7d2e 2922 0a20  e(escChar)}.)". 
+0001dd60: 2020 2020 2020 2020 2020 2073 6570 203d             sep =
+0001dd70: 2022 7c22 0a20 2020 2020 2020 2020 2020   "|".           
+0001dd80: 2073 656c 662e 6573 6343 6861 7252 6570   self.escCharRep
+0001dd90: 6c61 6365 5061 7474 6572 6e20 3d20 7265  lacePattern = re
+0001dda0: 2e65 7363 6170 6528 6573 6343 6861 7229  .escape(escChar)
+0001ddb0: 202b 2022 282e 2922 0a0a 2020 2020 2020   + "(.)"..      
+0001ddc0: 2020 6966 206c 656e 2873 656c 662e 656e    if len(self.en
+0001ddd0: 6451 756f 7465 4368 6172 2920 3e20 313a  dQuoteChar) > 1:
+0001dde0: 0a20 2020 2020 2020 2020 2020 2069 6e6e  .            inn
+0001ddf0: 6572 5f70 6174 7465 726e 202b 3d20 280a  er_pattern += (.
 0001de00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001de10: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
-0001de20: 6528 6c65 6e28 7365 6c66 2e65 6e64 5175  e(len(self.endQu
-0001de30: 6f74 6543 6861 7229 202d 2031 2c20 302c  oteChar) - 1, 0,
-0001de40: 202d 3129 0a20 2020 2020 2020 2020 2020   -1).           
-0001de50: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
-0001de60: 2020 2020 2020 202b 2022 2922 0a20 2020         + ")".   
-0001de70: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-0001de80: 2020 2020 2020 2073 6570 203d 2022 7c22         sep = "|"
-0001de90: 0a0a 2020 2020 2020 2020 7365 6c66 2e66  ..        self.f
-0001dea0: 6c61 6773 203d 2072 652e 5265 6765 7846  lags = re.RegexF
-0001deb0: 6c61 6728 3029 0a0a 2020 2020 2020 2020  lag(0)..        
-0001dec0: 6966 206d 756c 7469 6c69 6e65 3a0a 2020  if multiline:.  
-0001ded0: 2020 2020 2020 2020 2020 7365 6c66 2e66            self.f
-0001dee0: 6c61 6773 203d 2072 652e 4d55 4c54 494c  lags = re.MULTIL
-0001def0: 494e 4520 7c20 7265 2e44 4f54 414c 4c0a  INE | re.DOTALL.
-0001df00: 2020 2020 2020 2020 2020 2020 696e 6e65              inne
-0001df10: 725f 7061 7474 6572 6e20 2b3d 2028 0a20  r_pattern += (. 
-0001df20: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001df30: 6622 7b73 6570 7d28 3f3a 5b5e 7b5f 6573  f"{sep}(?:[^{_es
-0001df40: 6361 7065 5f72 6567 6578 5f72 616e 6765  cape_regex_range
-0001df50: 5f63 6861 7273 2873 656c 662e 656e 6451  _chars(self.endQ
-0001df60: 756f 7465 4368 6172 5b30 5d29 7d22 0a20  uoteChar[0])}". 
-0001df70: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001df80: 6622 7b28 5f65 7363 6170 655f 7265 6765  f"{(_escape_rege
-0001df90: 785f 7261 6e67 655f 6368 6172 7328 6573  x_range_chars(es
-0001dfa0: 6343 6861 7229 2069 6620 6573 6343 6861  cChar) if escCha
-0001dfb0: 7220 6973 206e 6f74 204e 6f6e 6520 656c  r is not None el
-0001dfc0: 7365 2027 2729 7d5d 2922 0a20 2020 2020  se '')}])".     
-0001dfd0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0001dfe0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001dff0: 2020 2069 6e6e 6572 5f70 6174 7465 726e     inner_pattern
-0001e000: 202b 3d20 280a 2020 2020 2020 2020 2020   += (.          
-0001e010: 2020 2020 2020 7266 227b 7365 707d 283f        rf"{sep}(?
-0001e020: 3a5b 5e7b 5f65 7363 6170 655f 7265 6765  :[^{_escape_rege
-0001e030: 785f 7261 6e67 655f 6368 6172 7328 7365  x_range_chars(se
-0001e040: 6c66 2e65 6e64 5175 6f74 6543 6861 725b  lf.endQuoteChar[
-0001e050: 305d 297d 5c6e 5c72 220a 2020 2020 2020  0])}\n\r".      
-0001e060: 2020 2020 2020 2020 2020 7266 227b 285f            rf"{(_
-0001e070: 6573 6361 7065 5f72 6567 6578 5f72 616e  escape_regex_ran
-0001e080: 6765 5f63 6861 7273 2865 7363 4368 6172  ge_chars(escChar
-0001e090: 2920 6966 2065 7363 4368 6172 2069 7320  ) if escChar is 
-0001e0a0: 6e6f 7420 4e6f 6e65 2065 6c73 6520 2727  not None else ''
-0001e0b0: 297d 5d29 220a 2020 2020 2020 2020 2020  )}])".          
-0001e0c0: 2020 290a 0a20 2020 2020 2020 2073 656c    )..        sel
-0001e0d0: 662e 7061 7474 6572 6e20 3d20 2222 2e6a  f.pattern = "".j
-0001e0e0: 6f69 6e28 0a20 2020 2020 2020 2020 2020  oin(.           
-0001e0f0: 205b 0a20 2020 2020 2020 2020 2020 2020   [.             
-0001e100: 2020 2072 652e 6573 6361 7065 2873 656c     re.escape(sel
-0001e110: 662e 7175 6f74 6543 6861 7229 2c0a 2020  f.quoteChar),.  
-0001e120: 2020 2020 2020 2020 2020 2020 2020 2228                "(
-0001e130: 3f3a 222c 0a20 2020 2020 2020 2020 2020  ?:",.           
-0001e140: 2020 2020 2069 6e6e 6572 5f70 6174 7465       inner_patte
-0001e150: 726e 2c0a 2020 2020 2020 2020 2020 2020  rn,.            
-0001e160: 2020 2020 2229 2a22 2c0a 2020 2020 2020      ")*",.      
-0001e170: 2020 2020 2020 2020 2020 7265 2e65 7363            re.esc
-0001e180: 6170 6528 7365 6c66 2e65 6e64 5175 6f74  ape(self.endQuot
-0001e190: 6543 6861 7229 2c0a 2020 2020 2020 2020  eChar),.        
-0001e1a0: 2020 2020 5d0a 2020 2020 2020 2020 290a      ].        ).
-0001e1b0: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
-0001e1c0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
-0001e1d0: 6520 3d20 7265 2e63 6f6d 7069 6c65 2873  e = re.compile(s
-0001e1e0: 656c 662e 7061 7474 6572 6e2c 2073 656c  elf.pattern, sel
-0001e1f0: 662e 666c 6167 7329 0a20 2020 2020 2020  f.flags).       
-0001e200: 2020 2020 2073 656c 662e 7265 5374 7269       self.reStri
-0001e210: 6e67 203d 2073 656c 662e 7061 7474 6572  ng = self.patter
-0001e220: 6e0a 2020 2020 2020 2020 2020 2020 7365  n.            se
-0001e230: 6c66 2e72 655f 6d61 7463 6820 3d20 7365  lf.re_match = se
-0001e240: 6c66 2e72 652e 6d61 7463 680a 2020 2020  lf.re.match.    
-0001e250: 2020 2020 6578 6365 7074 2072 652e 6572      except re.er
-0001e260: 726f 723a 0a20 2020 2020 2020 2020 2020  ror:.           
-0001e270: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
-0001e280: 7228 6622 696e 7661 6c69 6420 7061 7474  r(f"invalid patt
-0001e290: 6572 6e20 7b73 656c 662e 7061 7474 6572  ern {self.patter
-0001e2a0: 6e21 727d 2070 6173 7365 6420 746f 2052  n!r} passed to R
-0001e2b0: 6567 6578 2229 0a0a 2020 2020 2020 2020  egex")..        
-0001e2c0: 7365 6c66 2e65 7272 6d73 6720 3d20 2245  self.errmsg = "E
-0001e2d0: 7870 6563 7465 6420 2220 2b20 7365 6c66  xpected " + self
-0001e2e0: 2e6e 616d 650a 2020 2020 2020 2020 7365  .name.        se
-0001e2f0: 6c66 2e6d 6179 496e 6465 7845 7272 6f72  lf.mayIndexError
-0001e300: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
-0001e310: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
-0001e320: 6d70 7479 203d 2054 7275 650a 0a20 2020  mpty = True..   
-0001e330: 2064 6566 205f 6765 6e65 7261 7465 4465   def _generateDe
-0001e340: 6661 756c 744e 616d 6528 7365 6c66 2920  faultName(self) 
-0001e350: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
-0001e360: 6966 2073 656c 662e 7175 6f74 6543 6861  if self.quoteCha
-0001e370: 7220 3d3d 2073 656c 662e 656e 6451 756f  r == self.endQuo
-0001e380: 7465 4368 6172 2061 6e64 2069 7369 6e73  teChar and isins
-0001e390: 7461 6e63 6528 7365 6c66 2e71 756f 7465  tance(self.quote
-0001e3a0: 4368 6172 2c20 7374 725f 7479 7065 293a  Char, str_type):
-0001e3b0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-0001e3c0: 7572 6e20 6622 7374 7269 6e67 2065 6e63  urn f"string enc
-0001e3d0: 6c6f 7365 6420 696e 207b 7365 6c66 2e71  losed in {self.q
-0001e3e0: 756f 7465 4368 6172 2172 7d22 0a0a 2020  uoteChar!r}"..  
-0001e3f0: 2020 2020 2020 7265 7475 726e 2066 2271        return f"q
-0001e400: 756f 7465 6420 7374 7269 6e67 2c20 7374  uoted string, st
-0001e410: 6172 7469 6e67 2077 6974 6820 7b73 656c  arting with {sel
-0001e420: 662e 7175 6f74 6543 6861 727d 2065 6e64  f.quoteChar} end
-0001e430: 696e 6720 7769 7468 207b 7365 6c66 2e65  ing with {self.e
-0001e440: 6e64 5175 6f74 6543 6861 727d 220a 0a20  ndQuoteChar}".. 
-0001e450: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
-0001e460: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-0001e470: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
-0001e480: 5472 7565 293a 0a20 2020 2020 2020 2072  True):.        r
-0001e490: 6573 756c 7420 3d20 280a 2020 2020 2020  esult = (.      
-0001e4a0: 2020 2020 2020 696e 7374 7269 6e67 5b6c        instring[l
-0001e4b0: 6f63 5d20 3d3d 2073 656c 662e 6669 7273  oc] == self.firs
-0001e4c0: 7451 756f 7465 4368 6172 0a20 2020 2020  tQuoteChar.     
-0001e4d0: 2020 2020 2020 2061 6e64 2073 656c 662e         and self.
-0001e4e0: 7265 5f6d 6174 6368 2869 6e73 7472 696e  re_match(instrin
-0001e4f0: 672c 206c 6f63 290a 2020 2020 2020 2020  g, loc).        
-0001e500: 2020 2020 6f72 204e 6f6e 650a 2020 2020      or None.    
-0001e510: 2020 2020 290a 2020 2020 2020 2020 6966      ).        if
-0001e520: 206e 6f74 2072 6573 756c 743a 0a20 2020   not result:.   
-0001e530: 2020 2020 2020 2020 2072 6169 7365 2050           raise P
-0001e540: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
-0001e550: 7374 7269 6e67 2c20 6c6f 632c 2073 656c  string, loc, sel
-0001e560: 662e 6572 726d 7367 2c20 7365 6c66 290a  f.errmsg, self).
-0001e570: 0a20 2020 2020 2020 206c 6f63 203d 2072  .        loc = r
-0001e580: 6573 756c 742e 656e 6428 290a 2020 2020  esult.end().    
-0001e590: 2020 2020 7265 7420 3d20 7265 7375 6c74      ret = result
-0001e5a0: 2e67 726f 7570 2829 0a0a 2020 2020 2020  .group()..      
-0001e5b0: 2020 6966 2073 656c 662e 756e 7175 6f74    if self.unquot
-0001e5c0: 6552 6573 756c 7473 3a0a 0a20 2020 2020  eResults:..     
-0001e5d0: 2020 2020 2020 2023 2073 7472 6970 206f         # strip o
-0001e5e0: 6666 2071 756f 7465 730a 2020 2020 2020  ff quotes.      
-0001e5f0: 2020 2020 2020 7265 7420 3d20 7265 745b        ret = ret[
-0001e600: 7365 6c66 2e71 756f 7465 4368 6172 4c65  self.quoteCharLe
-0001e610: 6e20 3a20 2d73 656c 662e 656e 6451 756f  n : -self.endQuo
-0001e620: 7465 4368 6172 4c65 6e5d 0a0a 2020 2020  teCharLen]..    
-0001e630: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-0001e640: 7461 6e63 6528 7265 742c 2073 7472 5f74  tance(ret, str_t
-0001e650: 7970 6529 3a0a 2020 2020 2020 2020 2020  ype):.          
-0001e660: 2020 2020 2020 2320 7265 706c 6163 6520        # replace 
-0001e670: 6573 6361 7065 6420 7768 6974 6573 7061  escaped whitespa
-0001e680: 6365 0a20 2020 2020 2020 2020 2020 2020  ce.             
-0001e690: 2020 2069 6620 225c 5c22 2069 6e20 7265     if "\\" in re
-0001e6a0: 7420 616e 6420 7365 6c66 2e63 6f6e 7665  t and self.conve
-0001e6b0: 7274 5768 6974 6573 7061 6365 4573 6361  rtWhitespaceEsca
-0001e6c0: 7065 733a 0a20 2020 2020 2020 2020 2020  pes:.           
-0001e6d0: 2020 2020 2020 2020 2066 6f72 2077 736c           for wsl
-0001e6e0: 6974 2c20 7773 6368 6172 2069 6e20 7365  it, wschar in se
-0001e6f0: 6c66 2e77 735f 6d61 703a 0a20 2020 2020  lf.ws_map:.     
-0001e700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e710: 2020 2072 6574 203d 2072 6574 2e72 6570     ret = ret.rep
-0001e720: 6c61 6365 2877 736c 6974 2c20 7773 6368  lace(wslit, wsch
-0001e730: 6172 290a 0a20 2020 2020 2020 2020 2020  ar)..           
-0001e740: 2020 2020 2023 2072 6570 6c61 6365 2065       # replace e
-0001e750: 7363 6170 6564 2063 6861 7261 6374 6572  scaped character
-0001e760: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-0001e770: 2020 6966 2073 656c 662e 6573 6343 6861    if self.escCha
-0001e780: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-0001e790: 2020 2020 2020 2072 6574 203d 2072 652e         ret = re.
-0001e7a0: 7375 6228 7365 6c66 2e65 7363 4368 6172  sub(self.escChar
-0001e7b0: 5265 706c 6163 6550 6174 7465 726e 2c20  ReplacePattern, 
-0001e7c0: 7222 5c67 3c31 3e22 2c20 7265 7429 0a0a  r"\g<1>", ret)..
-0001e7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e7e0: 2320 7265 706c 6163 6520 6573 6361 7065  # replace escape
-0001e7f0: 6420 7175 6f74 6573 0a20 2020 2020 2020  d quotes.       
-0001e800: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
-0001e810: 2e65 7363 5175 6f74 653a 0a20 2020 2020  .escQuote:.     
-0001e820: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001e830: 6574 203d 2072 6574 2e72 6570 6c61 6365  et = ret.replace
-0001e840: 2873 656c 662e 6573 6351 756f 7465 2c20  (self.escQuote, 
-0001e850: 7365 6c66 2e65 6e64 5175 6f74 6543 6861  self.endQuoteCha
-0001e860: 7229 0a0a 2020 2020 2020 2020 7265 7475  r)..        retu
-0001e870: 726e 206c 6f63 2c20 7265 740a 0a0a 636c  rn loc, ret...cl
-0001e880: 6173 7320 4368 6172 734e 6f74 496e 2854  ass CharsNotIn(T
-0001e890: 6f6b 656e 293a 0a20 2020 2022 2222 546f  oken):.    """To
-0001e8a0: 6b65 6e20 666f 7220 6d61 7463 6869 6e67  ken for matching
-0001e8b0: 2077 6f72 6473 2063 6f6d 706f 7365 6420   words composed 
-0001e8c0: 6f66 2063 6861 7261 6374 6572 7320 2a6e  of characters *n
-0001e8d0: 6f74 2a20 696e 2061 2067 6976 656e 0a20  ot* in a given. 
-0001e8e0: 2020 2073 6574 2028 7769 6c6c 2069 6e63     set (will inc
-0001e8f0: 6c75 6465 2077 6869 7465 7370 6163 6520  lude whitespace 
-0001e900: 696e 206d 6174 6368 6564 2063 6861 7261  in matched chara
-0001e910: 6374 6572 7320 6966 206e 6f74 206c 6973  cters if not lis
-0001e920: 7465 6420 696e 0a20 2020 2074 6865 2070  ted in.    the p
-0001e930: 726f 7669 6465 6420 6578 636c 7573 696f  rovided exclusio
-0001e940: 6e20 7365 7420 2d20 7365 6520 6578 616d  n set - see exam
-0001e950: 706c 6529 2e20 4465 6669 6e65 6420 7769  ple). Defined wi
-0001e960: 7468 2073 7472 696e 670a 2020 2020 636f  th string.    co
-0001e970: 6e74 6169 6e69 6e67 2061 6c6c 2064 6973  ntaining all dis
-0001e980: 616c 6c6f 7765 6420 6368 6172 6163 7465  allowed characte
-0001e990: 7273 2c20 616e 6420 616e 206f 7074 696f  rs, and an optio
-0001e9a0: 6e61 6c20 6d69 6e69 6d75 6d2c 0a20 2020  nal minimum,.   
-0001e9b0: 206d 6178 696d 756d 2c20 616e 642f 6f72   maximum, and/or
-0001e9c0: 2065 7861 6374 206c 656e 6774 682e 2020   exact length.  
-0001e9d0: 5468 6520 6465 6661 756c 7420 7661 6c75  The default valu
-0001e9e0: 6520 666f 7220 6060 6d69 6e60 6020 6973  e for ``min`` is
-0001e9f0: 0a20 2020 2031 2028 6120 6d69 6e69 6d75  .    1 (a minimu
-0001ea00: 6d20 7661 6c75 6520 3c20 3120 6973 206e  m value < 1 is n
-0001ea10: 6f74 2076 616c 6964 293b 2074 6865 2064  ot valid); the d
-0001ea20: 6566 6175 6c74 2076 616c 7565 7320 666f  efault values fo
-0001ea30: 720a 2020 2020 6060 6d61 7860 6020 616e  r.    ``max`` an
-0001ea40: 6420 6060 6578 6163 7460 6020 6172 6520  d ``exact`` are 
-0001ea50: 302c 206d 6561 6e69 6e67 206e 6f20 6d61  0, meaning no ma
-0001ea60: 7869 6d75 6d20 6f72 2065 7861 6374 0a20  ximum or exact. 
-0001ea70: 2020 206c 656e 6774 6820 7265 7374 7269     length restri
-0001ea80: 6374 696f 6e2e 0a0a 2020 2020 4578 616d  ction...    Exam
-0001ea90: 706c 653a 3a0a 0a20 2020 2020 2020 2023  ple::..        #
-0001eaa0: 2064 6566 696e 6520 6120 636f 6d6d 612d   define a comma-
-0001eab0: 7365 7061 7261 7465 642d 7661 6c75 6520  separated-value 
-0001eac0: 6173 2061 6e79 7468 696e 6720 7468 6174  as anything that
-0001ead0: 2069 7320 6e6f 7420 6120 272c 270a 2020   is not a ','.  
-0001eae0: 2020 2020 2020 6373 765f 7661 6c75 6520        csv_value 
-0001eaf0: 3d20 4368 6172 734e 6f74 496e 2827 2c27  = CharsNotIn(','
-0001eb00: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
-0001eb10: 6465 6c69 6d69 7465 645f 6c69 7374 2863  delimited_list(c
-0001eb20: 7376 5f76 616c 7565 292e 7061 7273 655f  sv_value).parse_
-0001eb30: 7374 7269 6e67 2822 646b 6c73 2c6c 7364  string("dkls,lsd
-0001eb40: 6b6a 662c 7331 3220 3334 2c40 2123 2c32  kjf,s12 34,@!#,2
-0001eb50: 3133 2229 290a 0a20 2020 2070 7269 6e74  13"))..    print
-0001eb60: 733a 3a0a 0a20 2020 2020 2020 205b 2764  s::..        ['d
-0001eb70: 6b6c 7327 2c20 276c 7364 6b6a 6627 2c20  kls', 'lsdkjf', 
-0001eb80: 2773 3132 2033 3427 2c20 2740 2123 272c  's12 34', '@!#',
-0001eb90: 2027 3231 3327 5d0a 2020 2020 2222 220a   '213'].    """.
-0001eba0: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
-0001ebb0: 5f28 0a20 2020 2020 2020 2073 656c 662c  _(.        self,
-0001ebc0: 0a20 2020 2020 2020 206e 6f74 5f63 6861  .        not_cha
-0001ebd0: 7273 3a20 7374 7220 3d20 2222 2c0a 2020  rs: str = "",.  
-0001ebe0: 2020 2020 2020 6d69 6e3a 2069 6e74 203d        min: int =
-0001ebf0: 2031 2c0a 2020 2020 2020 2020 6d61 783a   1,.        max:
-0001ec00: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
-0001ec10: 2020 6578 6163 743a 2069 6e74 203d 2030    exact: int = 0
-0001ec20: 2c0a 2020 2020 2020 2020 2a2c 0a20 2020  ,.        *,.   
-0001ec30: 2020 2020 206e 6f74 4368 6172 733a 2073       notChars: s
-0001ec40: 7472 203d 2022 222c 0a20 2020 2029 3a0a  tr = "",.    ):.
-0001ec50: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-0001ec60: 5f5f 696e 6974 5f5f 2829 0a20 2020 2020  __init__().     
-0001ec70: 2020 2073 656c 662e 736b 6970 5768 6974     self.skipWhit
-0001ec80: 6573 7061 6365 203d 2046 616c 7365 0a20  espace = False. 
-0001ec90: 2020 2020 2020 2073 656c 662e 6e6f 7443         self.notC
-0001eca0: 6861 7273 203d 206e 6f74 5f63 6861 7273  hars = not_chars
-0001ecb0: 206f 7220 6e6f 7443 6861 7273 0a20 2020   or notChars.   
-0001ecc0: 2020 2020 2073 656c 662e 6e6f 7443 6861       self.notCha
-0001ecd0: 7273 5365 7420 3d20 7365 7428 7365 6c66  rsSet = set(self
-0001ece0: 2e6e 6f74 4368 6172 7329 0a0a 2020 2020  .notChars)..    
-0001ecf0: 2020 2020 6966 206d 696e 203c 2031 3a0a      if min < 1:.
-0001ed00: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0001ed10: 6520 5661 6c75 6545 7272 6f72 280a 2020  e ValueError(.  
-0001ed20: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-0001ed30: 616e 6e6f 7420 7370 6563 6966 7920 6120  annot specify a 
-0001ed40: 6d69 6e69 6d75 6d20 6c65 6e67 7468 203c  minimum length <
-0001ed50: 2031 3b20 7573 6520 220a 2020 2020 2020   1; use ".      
-0001ed60: 2020 2020 2020 2020 2020 224f 7074 2843            "Opt(C
-0001ed70: 6861 7273 4e6f 7449 6e28 2929 2069 6620  harsNotIn()) if 
-0001ed80: 7a65 726f 2d6c 656e 6774 6820 6368 6172  zero-length char
-0001ed90: 2067 726f 7570 2069 7320 7065 726d 6974   group is permit
-0001eda0: 7465 6422 0a20 2020 2020 2020 2020 2020  ted".           
-0001edb0: 2029 0a0a 2020 2020 2020 2020 7365 6c66   )..        self
-0001edc0: 2e6d 696e 4c65 6e20 3d20 6d69 6e0a 0a20  .minLen = min.. 
-0001edd0: 2020 2020 2020 2069 6620 6d61 7820 3e20         if max > 
-0001ede0: 303a 0a20 2020 2020 2020 2020 2020 2073  0:.            s
-0001edf0: 656c 662e 6d61 784c 656e 203d 206d 6178  elf.maxLen = max
-0001ee00: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0001ee10: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001ee20: 6d61 784c 656e 203d 205f 4d41 585f 494e  maxLen = _MAX_IN
-0001ee30: 540a 0a20 2020 2020 2020 2069 6620 6578  T..        if ex
-0001ee40: 6163 7420 3e20 303a 0a20 2020 2020 2020  act > 0:.       
-0001ee50: 2020 2020 2073 656c 662e 6d61 784c 656e       self.maxLen
-0001ee60: 203d 2065 7861 6374 0a20 2020 2020 2020   = exact.       
-0001ee70: 2020 2020 2073 656c 662e 6d69 6e4c 656e       self.minLen
-0001ee80: 203d 2065 7861 6374 0a0a 2020 2020 2020   = exact..      
-0001ee90: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
-0001eea0: 2245 7870 6563 7465 6420 2220 2b20 7365  "Expected " + se
-0001eeb0: 6c66 2e6e 616d 650a 2020 2020 2020 2020  lf.name.        
-0001eec0: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
-0001eed0: 7074 7920 3d20 7365 6c66 2e6d 696e 4c65  pty = self.minLe
-0001eee0: 6e20 3d3d 2030 0a20 2020 2020 2020 2073  n == 0.        s
-0001eef0: 656c 662e 6d61 7949 6e64 6578 4572 726f  elf.mayIndexErro
-0001ef00: 7220 3d20 4661 6c73 650a 0a20 2020 2064  r = False..    d
-0001ef10: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
-0001ef20: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
-0001ef30: 2073 7472 3a0a 2020 2020 2020 2020 6e6f   str:.        no
-0001ef40: 745f 6368 6172 735f 7374 7220 3d20 5f63  t_chars_str = _c
-0001ef50: 6f6c 6c61 7073 655f 7374 7269 6e67 5f74  ollapse_string_t
-0001ef60: 6f5f 7261 6e67 6573 2873 656c 662e 6e6f  o_ranges(self.no
-0001ef70: 7443 6861 7273 290a 2020 2020 2020 2020  tChars).        
-0001ef80: 6966 206c 656e 286e 6f74 5f63 6861 7273  if len(not_chars
-0001ef90: 5f73 7472 2920 3e20 3136 3a0a 2020 2020  _str) > 16:.    
-0001efa0: 2020 2020 2020 2020 7265 7475 726e 2066          return f
-0001efb0: 2221 573a 287b 7365 6c66 2e6e 6f74 4368  "!W:({self.notCh
-0001efc0: 6172 735b 3a20 3136 202d 2033 5d7d 2e2e  ars[: 16 - 3]}..
-0001efd0: 2e29 220a 2020 2020 2020 2020 656c 7365  .)".        else
-0001efe0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0001eff0: 7475 726e 2066 2221 573a 287b 7365 6c66  turn f"!W:({self
-0001f000: 2e6e 6f74 4368 6172 737d 2922 0a0a 2020  .notChars})"..  
-0001f010: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-0001f020: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-0001f030: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-0001f040: 7275 6529 3a0a 2020 2020 2020 2020 6e6f  rue):.        no
-0001f050: 7463 6861 7273 203d 2073 656c 662e 6e6f  tchars = self.no
-0001f060: 7443 6861 7273 5365 740a 2020 2020 2020  tCharsSet.      
-0001f070: 2020 6966 2069 6e73 7472 696e 675b 6c6f    if instring[lo
-0001f080: 635d 2069 6e20 6e6f 7463 6861 7273 3a0a  c] in notchars:.
-0001f090: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0001f0a0: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
-0001f0b0: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-0001f0c0: 7365 6c66 2e65 7272 6d73 672c 2073 656c  self.errmsg, sel
-0001f0d0: 6629 0a0a 2020 2020 2020 2020 7374 6172  f)..        star
-0001f0e0: 7420 3d20 6c6f 630a 2020 2020 2020 2020  t = loc.        
-0001f0f0: 6c6f 6320 2b3d 2031 0a20 2020 2020 2020  loc += 1.       
-0001f100: 206d 6178 6c65 6e20 3d20 6d69 6e28 7374   maxlen = min(st
-0001f110: 6172 7420 2b20 7365 6c66 2e6d 6178 4c65  art + self.maxLe
-0001f120: 6e2c 206c 656e 2869 6e73 7472 696e 6729  n, len(instring)
-0001f130: 290a 2020 2020 2020 2020 7768 696c 6520  ).        while 
-0001f140: 6c6f 6320 3c20 6d61 786c 656e 2061 6e64  loc < maxlen and
-0001f150: 2069 6e73 7472 696e 675b 6c6f 635d 206e   instring[loc] n
-0001f160: 6f74 2069 6e20 6e6f 7463 6861 7273 3a0a  ot in notchars:.
-0001f170: 2020 2020 2020 2020 2020 2020 6c6f 6320              loc 
-0001f180: 2b3d 2031 0a0a 2020 2020 2020 2020 6966  += 1..        if
-0001f190: 206c 6f63 202d 2073 7461 7274 203c 2073   loc - start < s
-0001f1a0: 656c 662e 6d69 6e4c 656e 3a0a 2020 2020  elf.minLen:.    
-0001f1b0: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
-0001f1c0: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
-0001f1d0: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
-0001f1e0: 2e65 7272 6d73 672c 2073 656c 6629 0a0a  .errmsg, self)..
-0001f1f0: 2020 2020 2020 2020 7265 7475 726e 206c          return l
-0001f200: 6f63 2c20 696e 7374 7269 6e67 5b73 7461  oc, instring[sta
-0001f210: 7274 3a6c 6f63 5d0a 0a0a 636c 6173 7320  rt:loc]...class 
-0001f220: 5768 6974 6528 546f 6b65 6e29 3a0a 2020  White(Token):.  
-0001f230: 2020 2222 2253 7065 6369 616c 206d 6174    """Special mat
-0001f240: 6368 696e 6720 636c 6173 7320 666f 7220  ching class for 
-0001f250: 6d61 7463 6869 6e67 2077 6869 7465 7370  matching whitesp
-0001f260: 6163 652e 2020 4e6f 726d 616c 6c79 2c0a  ace.  Normally,.
-0001f270: 2020 2020 7768 6974 6573 7061 6365 2069      whitespace i
-0001f280: 7320 6967 6e6f 7265 6420 6279 2070 7970  s ignored by pyp
-0001f290: 6172 7369 6e67 2067 7261 6d6d 6172 732e  arsing grammars.
-0001f2a0: 2020 5468 6973 2063 6c61 7373 2069 7320    This class is 
-0001f2b0: 696e 636c 7564 6564 0a20 2020 2077 6865  included.    whe
-0001f2c0: 6e20 736f 6d65 2077 6869 7465 7370 6163  n some whitespac
-0001f2d0: 6520 7374 7275 6374 7572 6573 2061 7265  e structures are
-0001f2e0: 2073 6967 6e69 6669 6361 6e74 2e20 2044   significant.  D
-0001f2f0: 6566 696e 6520 7769 7468 0a20 2020 2061  efine with.    a
-0001f300: 2073 7472 696e 6720 636f 6e74 6169 6e69   string containi
-0001f310: 6e67 2074 6865 2077 6869 7465 7370 6163  ng the whitespac
-0001f320: 6520 6368 6172 6163 7465 7273 2074 6f20  e characters to 
-0001f330: 6265 206d 6174 6368 6564 3b20 6465 6661  be matched; defa
-0001f340: 756c 740a 2020 2020 6973 2060 6022 205c  ult.    is ``" \
-0001f350: 5c74 5c5c 725c 5c6e 2260 602e 2020 416c  \t\\r\\n"``.  Al
-0001f360: 736f 2074 616b 6573 206f 7074 696f 6e61  so takes optiona
-0001f370: 6c20 6060 6d69 6e60 602c 0a20 2020 2060  l ``min``,.    `
-0001f380: 606d 6178 6060 2c20 616e 6420 6060 6578  `max``, and ``ex
-0001f390: 6163 7460 6020 6172 6775 6d65 6e74 732c  act`` arguments,
-0001f3a0: 2061 7320 6465 6669 6e65 6420 666f 7220   as defined for 
-0001f3b0: 7468 650a 2020 2020 3a63 6c61 7373 3a60  the.    :class:`
-0001f3c0: 576f 7264 6020 636c 6173 732e 0a20 2020  Word` class..   
-0001f3d0: 2022 2222 0a0a 2020 2020 7768 6974 6553   """..    whiteS
-0001f3e0: 7472 7320 3d20 7b0a 2020 2020 2020 2020  trs = {.        
-0001f3f0: 2220 223a 2022 3c53 503e 222c 0a20 2020  " ": "<SP>",.   
-0001f400: 2020 2020 2022 5c74 223a 2022 3c54 4142       "\t": "<TAB
-0001f410: 3e22 2c0a 2020 2020 2020 2020 225c 6e22  >",.        "\n"
-0001f420: 3a20 223c 4c46 3e22 2c0a 2020 2020 2020  : "<LF>",.      
-0001f430: 2020 225c 7222 3a20 223c 4352 3e22 2c0a    "\r": "<CR>",.
-0001f440: 2020 2020 2020 2020 225c 6622 3a20 223c          "\f": "<
-0001f450: 4646 3e22 2c0a 2020 2020 2020 2020 225c  FF>",.        "\
-0001f460: 7530 3041 3022 3a20 223c 4e42 5350 3e22  u00A0": "<NBSP>"
-0001f470: 2c0a 2020 2020 2020 2020 225c 7531 3638  ,.        "\u168
-0001f480: 3022 3a20 223c 4f47 4841 4d5f 5350 4143  0": "<OGHAM_SPAC
-0001f490: 455f 4d41 524b 3e22 2c0a 2020 2020 2020  E_MARK>",.      
-0001f4a0: 2020 225c 7531 3830 4522 3a20 223c 4d4f    "\u180E": "<MO
-0001f4b0: 4e47 4f4c 4941 4e5f 564f 5745 4c5f 5345  NGOLIAN_VOWEL_SE
-0001f4c0: 5041 5241 544f 523e 222c 0a20 2020 2020  PARATOR>",.     
-0001f4d0: 2020 2022 5c75 3230 3030 223a 2022 3c45     "\u2000": "<E
-0001f4e0: 4e5f 5155 4144 3e22 2c0a 2020 2020 2020  N_QUAD>",.      
-0001f4f0: 2020 225c 7532 3030 3122 3a20 223c 454d    "\u2001": "<EM
-0001f500: 5f51 5541 443e 222c 0a20 2020 2020 2020  _QUAD>",.       
-0001f510: 2022 5c75 3230 3032 223a 2022 3c45 4e5f   "\u2002": "<EN_
-0001f520: 5350 4143 453e 222c 0a20 2020 2020 2020  SPACE>",.       
-0001f530: 2022 5c75 3230 3033 223a 2022 3c45 4d5f   "\u2003": "<EM_
-0001f540: 5350 4143 453e 222c 0a20 2020 2020 2020  SPACE>",.       
-0001f550: 2022 5c75 3230 3034 223a 2022 3c54 4852   "\u2004": "<THR
-0001f560: 4545 2d50 4552 2d45 4d5f 5350 4143 453e  EE-PER-EM_SPACE>
-0001f570: 222c 0a20 2020 2020 2020 2022 5c75 3230  ",.        "\u20
-0001f580: 3035 223a 2022 3c46 4f55 522d 5045 522d  05": "<FOUR-PER-
-0001f590: 454d 5f53 5041 4345 3e22 2c0a 2020 2020  EM_SPACE>",.    
-0001f5a0: 2020 2020 225c 7532 3030 3622 3a20 223c      "\u2006": "<
-0001f5b0: 5349 582d 5045 522d 454d 5f53 5041 4345  SIX-PER-EM_SPACE
-0001f5c0: 3e22 2c0a 2020 2020 2020 2020 225c 7532  >",.        "\u2
-0001f5d0: 3030 3722 3a20 223c 4649 4755 5245 5f53  007": "<FIGURE_S
-0001f5e0: 5041 4345 3e22 2c0a 2020 2020 2020 2020  PACE>",.        
-0001f5f0: 225c 7532 3030 3822 3a20 223c 5055 4e43  "\u2008": "<PUNC
-0001f600: 5455 4154 494f 4e5f 5350 4143 453e 222c  TUATION_SPACE>",
-0001f610: 0a20 2020 2020 2020 2022 5c75 3230 3039  .        "\u2009
-0001f620: 223a 2022 3c54 4849 4e5f 5350 4143 453e  ": "<THIN_SPACE>
-0001f630: 222c 0a20 2020 2020 2020 2022 5c75 3230  ",.        "\u20
-0001f640: 3041 223a 2022 3c48 4149 525f 5350 4143  0A": "<HAIR_SPAC
-0001f650: 453e 222c 0a20 2020 2020 2020 2022 5c75  E>",.        "\u
-0001f660: 3230 3042 223a 2022 3c5a 4552 4f5f 5749  200B": "<ZERO_WI
-0001f670: 4454 485f 5350 4143 453e 222c 0a20 2020  DTH_SPACE>",.   
-0001f680: 2020 2020 2022 5c75 3230 3246 223a 2022       "\u202F": "
-0001f690: 3c4e 4e42 5350 3e22 2c0a 2020 2020 2020  <NNBSP>",.      
-0001f6a0: 2020 225c 7532 3035 4622 3a20 223c 4d4d    "\u205F": "<MM
-0001f6b0: 5350 3e22 2c0a 2020 2020 2020 2020 225c  SP>",.        "\
-0001f6c0: 7533 3030 3022 3a20 223c 4944 454f 4752  u3000": "<IDEOGR
-0001f6d0: 4150 4849 435f 5350 4143 453e 222c 0a20  APHIC_SPACE>",. 
-0001f6e0: 2020 207d 0a0a 2020 2020 6465 6620 5f5f     }..    def __
-0001f6f0: 696e 6974 5f5f 2873 656c 662c 2077 733a  init__(self, ws:
-0001f700: 2073 7472 203d 2022 205c 745c 725c 6e22   str = " \t\r\n"
-0001f710: 2c20 6d69 6e3a 2069 6e74 203d 2031 2c20  , min: int = 1, 
-0001f720: 6d61 783a 2069 6e74 203d 2030 2c20 6578  max: int = 0, ex
-0001f730: 6163 743a 2069 6e74 203d 2030 293a 0a20  act: int = 0):. 
-0001f740: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
-0001f750: 5f69 6e69 745f 5f28 290a 2020 2020 2020  _init__().      
-0001f760: 2020 7365 6c66 2e6d 6174 6368 5768 6974    self.matchWhit
-0001f770: 6520 3d20 7773 0a20 2020 2020 2020 2073  e = ws.        s
-0001f780: 656c 662e 7365 745f 7768 6974 6573 7061  elf.set_whitespa
-0001f790: 6365 5f63 6861 7273 280a 2020 2020 2020  ce_chars(.      
-0001f7a0: 2020 2020 2020 2222 2e6a 6f69 6e28 6320        "".join(c 
-0001f7b0: 666f 7220 6320 696e 2073 656c 662e 7768  for c in self.wh
-0001f7c0: 6974 6553 7472 7320 6966 2063 206e 6f74  iteStrs if c not
-0001f7d0: 2069 6e20 7365 6c66 2e6d 6174 6368 5768   in self.matchWh
-0001f7e0: 6974 6529 2c0a 2020 2020 2020 2020 2020  ite),.          
-0001f7f0: 2020 636f 7079 5f64 6566 6175 6c74 733d    copy_defaults=
-0001f800: 5472 7565 2c0a 2020 2020 2020 2020 290a  True,.        ).
-0001f810: 2020 2020 2020 2020 2320 7365 6c66 2e6c          # self.l
-0001f820: 6561 7665 5f77 6869 7465 7370 6163 6528  eave_whitespace(
-0001f830: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-0001f840: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
-0001f850: 5472 7565 0a20 2020 2020 2020 2073 656c  True.        sel
-0001f860: 662e 6572 726d 7367 203d 2022 4578 7065  f.errmsg = "Expe
-0001f870: 6374 6564 2022 202b 2073 656c 662e 6e61  cted " + self.na
-0001f880: 6d65 0a0a 2020 2020 2020 2020 7365 6c66  me..        self
-0001f890: 2e6d 696e 4c65 6e20 3d20 6d69 6e0a 0a20  .minLen = min.. 
-0001f8a0: 2020 2020 2020 2069 6620 6d61 7820 3e20         if max > 
-0001f8b0: 303a 0a20 2020 2020 2020 2020 2020 2073  0:.            s
-0001f8c0: 656c 662e 6d61 784c 656e 203d 206d 6178  elf.maxLen = max
-0001f8d0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0001f8e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001f8f0: 6d61 784c 656e 203d 205f 4d41 585f 494e  maxLen = _MAX_IN
-0001f900: 540a 0a20 2020 2020 2020 2069 6620 6578  T..        if ex
-0001f910: 6163 7420 3e20 303a 0a20 2020 2020 2020  act > 0:.       
-0001f920: 2020 2020 2073 656c 662e 6d61 784c 656e       self.maxLen
-0001f930: 203d 2065 7861 6374 0a20 2020 2020 2020   = exact.       
-0001f940: 2020 2020 2073 656c 662e 6d69 6e4c 656e       self.minLen
-0001f950: 203d 2065 7861 6374 0a0a 2020 2020 6465   = exact..    de
-0001f960: 6620 5f67 656e 6572 6174 6544 6566 6175  f _generateDefau
-0001f970: 6c74 4e61 6d65 2873 656c 6629 202d 3e20  ltName(self) -> 
-0001f980: 7374 723a 0a20 2020 2020 2020 2072 6574  str:.        ret
-0001f990: 7572 6e20 2222 2e6a 6f69 6e28 5768 6974  urn "".join(Whit
-0001f9a0: 652e 7768 6974 6553 7472 735b 635d 2066  e.whiteStrs[c] f
-0001f9b0: 6f72 2063 2069 6e20 7365 6c66 2e6d 6174  or c in self.mat
-0001f9c0: 6368 5768 6974 6529 0a0a 2020 2020 6465  chWhite)..    de
-0001f9d0: 6620 7061 7273 6549 6d70 6c28 7365 6c66  f parseImpl(self
-0001f9e0: 2c20 696e 7374 7269 6e67 2c20 6c6f 632c  , instring, loc,
-0001f9f0: 2064 6f41 6374 696f 6e73 3d54 7275 6529   doActions=True)
-0001fa00: 3a0a 2020 2020 2020 2020 6966 2069 6e73  :.        if ins
-0001fa10: 7472 696e 675b 6c6f 635d 206e 6f74 2069  tring[loc] not i
-0001fa20: 6e20 7365 6c66 2e6d 6174 6368 5768 6974  n self.matchWhit
-0001fa30: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-0001fa40: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
-0001fa50: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
-0001fa60: 632c 2073 656c 662e 6572 726d 7367 2c20  c, self.errmsg, 
-0001fa70: 7365 6c66 290a 2020 2020 2020 2020 7374  self).        st
-0001fa80: 6172 7420 3d20 6c6f 630a 2020 2020 2020  art = loc.      
-0001fa90: 2020 6c6f 6320 2b3d 2031 0a20 2020 2020    loc += 1.     
-0001faa0: 2020 206d 6178 6c6f 6320 3d20 7374 6172     maxloc = star
-0001fab0: 7420 2b20 7365 6c66 2e6d 6178 4c65 6e0a  t + self.maxLen.
-0001fac0: 2020 2020 2020 2020 6d61 786c 6f63 203d          maxloc =
-0001fad0: 206d 696e 286d 6178 6c6f 632c 206c 656e   min(maxloc, len
-0001fae0: 2869 6e73 7472 696e 6729 290a 2020 2020  (instring)).    
-0001faf0: 2020 2020 7768 696c 6520 6c6f 6320 3c20      while loc < 
-0001fb00: 6d61 786c 6f63 2061 6e64 2069 6e73 7472  maxloc and instr
-0001fb10: 696e 675b 6c6f 635d 2069 6e20 7365 6c66  ing[loc] in self
-0001fb20: 2e6d 6174 6368 5768 6974 653a 0a20 2020  .matchWhite:.   
-0001fb30: 2020 2020 2020 2020 206c 6f63 202b 3d20           loc += 
-0001fb40: 310a 0a20 2020 2020 2020 2069 6620 6c6f  1..        if lo
-0001fb50: 6320 2d20 7374 6172 7420 3c20 7365 6c66  c - start < self
-0001fb60: 2e6d 696e 4c65 6e3a 0a20 2020 2020 2020  .minLen:.       
-0001fb70: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
-0001fb80: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
-0001fb90: 6e67 2c20 6c6f 632c 2073 656c 662e 6572  ng, loc, self.er
-0001fba0: 726d 7367 2c20 7365 6c66 290a 0a20 2020  rmsg, self)..   
-0001fbb0: 2020 2020 2072 6574 7572 6e20 6c6f 632c       return loc,
-0001fbc0: 2069 6e73 7472 696e 675b 7374 6172 743a   instring[start:
-0001fbd0: 6c6f 635d 0a0a 0a63 6c61 7373 2050 6f73  loc]...class Pos
-0001fbe0: 6974 696f 6e54 6f6b 656e 2854 6f6b 656e  itionToken(Token
-0001fbf0: 293a 0a20 2020 2064 6566 205f 5f69 6e69  ):.    def __ini
-0001fc00: 745f 5f28 7365 6c66 293a 0a20 2020 2020  t__(self):.     
-0001fc10: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-0001fc20: 745f 5f28 290a 2020 2020 2020 2020 7365  t__().        se
-0001fc30: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
-0001fc40: 7920 3d20 5472 7565 0a20 2020 2020 2020  y = True.       
-0001fc50: 2073 656c 662e 6d61 7949 6e64 6578 4572   self.mayIndexEr
-0001fc60: 726f 7220 3d20 4661 6c73 650a 0a0a 636c  ror = False...cl
-0001fc70: 6173 7320 476f 546f 436f 6c75 6d6e 2850  ass GoToColumn(P
-0001fc80: 6f73 6974 696f 6e54 6f6b 656e 293a 0a20  ositionToken):. 
-0001fc90: 2020 2022 2222 546f 6b65 6e20 746f 2061     """Token to a
-0001fca0: 6476 616e 6365 2074 6f20 6120 7370 6563  dvance to a spec
-0001fcb0: 6966 6963 2063 6f6c 756d 6e20 6f66 2069  ific column of i
-0001fcc0: 6e70 7574 2074 6578 743b 2075 7365 6675  nput text; usefu
-0001fcd0: 6c20 666f 720a 2020 2020 7461 6275 6c61  l for.    tabula
-0001fce0: 7220 7265 706f 7274 2073 6372 6170 696e  r report scrapin
-0001fcf0: 672e 0a20 2020 2022 2222 0a0a 2020 2020  g..    """..    
-0001fd00: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
-0001fd10: 662c 2063 6f6c 6e6f 3a20 696e 7429 3a0a  f, colno: int):.
-0001fd20: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-0001fd30: 5f5f 696e 6974 5f5f 2829 0a20 2020 2020  __init__().     
-0001fd40: 2020 2073 656c 662e 636f 6c20 3d20 636f     self.col = co
-0001fd50: 6c6e 6f0a 0a20 2020 2064 6566 2070 7265  lno..    def pre
-0001fd60: 5061 7273 6528 7365 6c66 2c20 696e 7374  Parse(self, inst
-0001fd70: 7269 6e67 3a20 7374 722c 206c 6f63 3a20  ring: str, loc: 
-0001fd80: 696e 7429 202d 3e20 696e 743a 0a20 2020  int) -> int:.   
-0001fd90: 2020 2020 2069 6620 636f 6c28 6c6f 632c       if col(loc,
-0001fda0: 2069 6e73 7472 696e 6729 2021 3d20 7365   instring) != se
-0001fdb0: 6c66 2e63 6f6c 3a0a 2020 2020 2020 2020  lf.col:.        
-0001fdc0: 2020 2020 696e 7374 726c 656e 203d 206c      instrlen = l
-0001fdd0: 656e 2869 6e73 7472 696e 6729 0a20 2020  en(instring).   
-0001fde0: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
-0001fdf0: 2e69 676e 6f72 6545 7870 7273 3a0a 2020  .ignoreExprs:.  
-0001fe00: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
-0001fe10: 6320 3d20 7365 6c66 2e5f 736b 6970 4967  c = self._skipIg
-0001fe20: 6e6f 7261 626c 6573 2869 6e73 7472 696e  norables(instrin
-0001fe30: 672c 206c 6f63 290a 2020 2020 2020 2020  g, loc).        
-0001fe40: 2020 2020 7768 696c 6520 280a 2020 2020      while (.    
-0001fe50: 2020 2020 2020 2020 2020 2020 6c6f 6320              loc 
-0001fe60: 3c20 696e 7374 726c 656e 0a20 2020 2020  < instrlen.     
-0001fe70: 2020 2020 2020 2020 2020 2061 6e64 2069             and i
-0001fe80: 6e73 7472 696e 675b 6c6f 635d 2e69 7373  nstring[loc].iss
-0001fe90: 7061 6365 2829 0a20 2020 2020 2020 2020  pace().         
-0001fea0: 2020 2020 2020 2061 6e64 2063 6f6c 286c         and col(l
-0001feb0: 6f63 2c20 696e 7374 7269 6e67 2920 213d  oc, instring) !=
-0001fec0: 2073 656c 662e 636f 6c0a 2020 2020 2020   self.col.      
-0001fed0: 2020 2020 2020 293a 0a20 2020 2020 2020        ):.       
-0001fee0: 2020 2020 2020 2020 206c 6f63 202b 3d20           loc += 
-0001fef0: 310a 2020 2020 2020 2020 7265 7475 726e  1.        return
-0001ff00: 206c 6f63 0a0a 2020 2020 6465 6620 7061   loc..    def pa
-0001ff10: 7273 6549 6d70 6c28 7365 6c66 2c20 696e  rseImpl(self, in
-0001ff20: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
-0001ff30: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
-0001ff40: 2020 2020 2020 7468 6973 636f 6c20 3d20        thiscol = 
-0001ff50: 636f 6c28 6c6f 632c 2069 6e73 7472 696e  col(loc, instrin
-0001ff60: 6729 0a20 2020 2020 2020 2069 6620 7468  g).        if th
-0001ff70: 6973 636f 6c20 3e20 7365 6c66 2e63 6f6c  iscol > self.col
-0001ff80: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-0001ff90: 6973 6520 5061 7273 6545 7863 6570 7469  ise ParseExcepti
-0001ffa0: 6f6e 2869 6e73 7472 696e 672c 206c 6f63  on(instring, loc
-0001ffb0: 2c20 2254 6578 7420 6e6f 7420 696e 2065  , "Text not in e
-0001ffc0: 7870 6563 7465 6420 636f 6c75 6d6e 222c  xpected column",
-0001ffd0: 2073 656c 6629 0a20 2020 2020 2020 206e   self).        n
-0001ffe0: 6577 6c6f 6320 3d20 6c6f 6320 2b20 7365  ewloc = loc + se
-0001fff0: 6c66 2e63 6f6c 202d 2074 6869 7363 6f6c  lf.col - thiscol
-00020000: 0a20 2020 2020 2020 2072 6574 203d 2069  .        ret = i
-00020010: 6e73 7472 696e 675b 6c6f 633a 6e65 776c  nstring[loc:newl
-00020020: 6f63 5d0a 2020 2020 2020 2020 7265 7475  oc].        retu
-00020030: 726e 206e 6577 6c6f 632c 2072 6574 0a0a  rn newloc, ret..
-00020040: 0a63 6c61 7373 204c 696e 6553 7461 7274  .class LineStart
-00020050: 2850 6f73 6974 696f 6e54 6f6b 656e 293a  (PositionToken):
-00020060: 0a20 2020 2072 2222 224d 6174 6368 6573  .    r"""Matches
-00020070: 2069 6620 6375 7272 656e 7420 706f 7369   if current posi
-00020080: 7469 6f6e 2069 7320 6174 2074 6865 2062  tion is at the b
-00020090: 6567 696e 6e69 6e67 206f 6620 6120 6c69  eginning of a li
-000200a0: 6e65 2077 6974 6869 6e0a 2020 2020 7468  ne within.    th
-000200b0: 6520 7061 7273 6520 7374 7269 6e67 0a0a  e parse string..
-000200c0: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
-000200d0: 2020 2020 2020 2074 6573 7420 3d20 2727         test = ''
-000200e0: 275c 0a20 2020 2020 2020 2041 4141 2074  '\.        AAA t
-000200f0: 6869 7320 6c69 6e65 0a20 2020 2020 2020  his line.       
-00020100: 2041 4141 2061 6e64 2074 6869 7320 6c69   AAA and this li
-00020110: 6e65 0a20 2020 2020 2020 2020 2041 4141  ne.          AAA
-00020120: 2062 7574 206e 6f74 2074 6869 7320 6f6e   but not this on
-00020130: 650a 2020 2020 2020 2020 4220 4141 4120  e.        B AAA 
-00020140: 616e 6420 6465 6669 6e69 7465 6c79 206e  and definitely n
-00020150: 6f74 2074 6869 7320 6f6e 650a 2020 2020  ot this one.    
-00020160: 2020 2020 2727 270a 0a20 2020 2020 2020      '''..       
-00020170: 2066 6f72 2074 2069 6e20 284c 696e 6553   for t in (LineS
-00020180: 7461 7274 2829 202b 2027 4141 4127 202b  tart() + 'AAA' +
-00020190: 2072 6573 745f 6f66 5f6c 696e 6529 2e73   rest_of_line).s
-000201a0: 6561 7263 685f 7374 7269 6e67 2874 6573  earch_string(tes
-000201b0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-000201c0: 7072 696e 7428 7429 0a0a 2020 2020 7072  print(t)..    pr
-000201d0: 696e 7473 3a3a 0a0a 2020 2020 2020 2020  ints::..        
-000201e0: 5b27 4141 4127 2c20 2720 7468 6973 206c  ['AAA', ' this l
-000201f0: 696e 6527 5d0a 2020 2020 2020 2020 5b27  ine'].        ['
-00020200: 4141 4127 2c20 2720 616e 6420 7468 6973  AAA', ' and this
-00020210: 206c 696e 6527 5d0a 0a20 2020 2022 2222   line']..    """
-00020220: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
-00020230: 5f5f 2873 656c 6629 3a0a 2020 2020 2020  __(self):.      
-00020240: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-00020250: 5f5f 2829 0a20 2020 2020 2020 2073 656c  __().        sel
-00020260: 662e 6c65 6176 655f 7768 6974 6573 7061  f.leave_whitespa
-00020270: 6365 2829 0a20 2020 2020 2020 2073 656c  ce().        sel
-00020280: 662e 6f72 6967 5f77 6869 7465 4368 6172  f.orig_whiteChar
-00020290: 7320 3d20 7365 7428 2920 7c20 7365 6c66  s = set() | self
-000202a0: 2e77 6869 7465 4368 6172 730a 2020 2020  .whiteChars.    
-000202b0: 2020 2020 7365 6c66 2e77 6869 7465 4368      self.whiteCh
-000202c0: 6172 732e 6469 7363 6172 6428 225c 6e22  ars.discard("\n"
-000202d0: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
-000202e0: 6b69 7070 6572 203d 2045 6d70 7479 2829  kipper = Empty()
-000202f0: 2e73 6574 5f77 6869 7465 7370 6163 655f  .set_whitespace_
-00020300: 6368 6172 7328 7365 6c66 2e77 6869 7465  chars(self.white
-00020310: 4368 6172 7329 0a20 2020 2020 2020 2073  Chars).        s
-00020320: 656c 662e 6572 726d 7367 203d 2022 4578  elf.errmsg = "Ex
-00020330: 7065 6374 6564 2073 7461 7274 206f 6620  pected start of 
-00020340: 6c69 6e65 220a 0a20 2020 2064 6566 2070  line"..    def p
-00020350: 7265 5061 7273 6528 7365 6c66 2c20 696e  reParse(self, in
-00020360: 7374 7269 6e67 3a20 7374 722c 206c 6f63  string: str, loc
-00020370: 3a20 696e 7429 202d 3e20 696e 743a 0a20  : int) -> int:. 
-00020380: 2020 2020 2020 2069 6620 6c6f 6320 3d3d         if loc ==
-00020390: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-000203a0: 7265 7475 726e 206c 6f63 0a20 2020 2020  return loc.     
-000203b0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-000203c0: 2020 2020 2072 6574 203d 2073 656c 662e       ret = self.
-000203d0: 736b 6970 7065 722e 7072 6550 6172 7365  skipper.preParse
-000203e0: 2869 6e73 7472 696e 672c 206c 6f63 290a  (instring, loc).
-000203f0: 2020 2020 2020 2020 2020 2020 6966 2022              if "
-00020400: 5c6e 2220 696e 2073 656c 662e 6f72 6967  \n" in self.orig
-00020410: 5f77 6869 7465 4368 6172 733a 0a20 2020  _whiteChars:.   
-00020420: 2020 2020 2020 2020 2020 2020 2077 6869               whi
-00020430: 6c65 2069 6e73 7472 696e 675b 7265 7420  le instring[ret 
-00020440: 3a20 7265 7420 2b20 315d 203d 3d20 225c  : ret + 1] == "\
-00020450: 6e22 3a0a 2020 2020 2020 2020 2020 2020  n":.            
-00020460: 2020 2020 2020 2020 7265 7420 3d20 7365          ret = se
-00020470: 6c66 2e73 6b69 7070 6572 2e70 7265 5061  lf.skipper.prePa
-00020480: 7273 6528 696e 7374 7269 6e67 2c20 7265  rse(instring, re
-00020490: 7420 2b20 3129 0a20 2020 2020 2020 2020  t + 1).         
-000204a0: 2020 2072 6574 7572 6e20 7265 740a 0a20     return ret.. 
-000204b0: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
-000204c0: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-000204d0: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
-000204e0: 5472 7565 293a 0a20 2020 2020 2020 2069  True):.        i
-000204f0: 6620 636f 6c28 6c6f 632c 2069 6e73 7472  f col(loc, instr
-00020500: 696e 6729 203d 3d20 313a 0a20 2020 2020  ing) == 1:.     
-00020510: 2020 2020 2020 2072 6574 7572 6e20 6c6f         return lo
-00020520: 632c 205b 5d0a 2020 2020 2020 2020 7261  c, [].        ra
-00020530: 6973 6520 5061 7273 6545 7863 6570 7469  ise ParseExcepti
-00020540: 6f6e 2869 6e73 7472 696e 672c 206c 6f63  on(instring, loc
-00020550: 2c20 7365 6c66 2e65 7272 6d73 672c 2073  , self.errmsg, s
-00020560: 656c 6629 0a0a 0a63 6c61 7373 204c 696e  elf)...class Lin
-00020570: 6545 6e64 2850 6f73 6974 696f 6e54 6f6b  eEnd(PositionTok
-00020580: 656e 293a 0a20 2020 2022 2222 4d61 7463  en):.    """Matc
-00020590: 6865 7320 6966 2063 7572 7265 6e74 2070  hes if current p
-000205a0: 6f73 6974 696f 6e20 6973 2061 7420 7468  osition is at th
-000205b0: 6520 656e 6420 6f66 2061 206c 696e 6520  e end of a line 
-000205c0: 7769 7468 696e 2074 6865 0a20 2020 2070  within the.    p
-000205d0: 6172 7365 2073 7472 696e 670a 2020 2020  arse string.    
-000205e0: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
-000205f0: 6e69 745f 5f28 7365 6c66 293a 0a20 2020  nit__(self):.   
-00020600: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-00020610: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
-00020620: 7365 6c66 2e77 6869 7465 4368 6172 732e  self.whiteChars.
-00020630: 6469 7363 6172 6428 225c 6e22 290a 2020  discard("\n").  
-00020640: 2020 2020 2020 7365 6c66 2e73 6574 5f77        self.set_w
-00020650: 6869 7465 7370 6163 655f 6368 6172 7328  hitespace_chars(
-00020660: 7365 6c66 2e77 6869 7465 4368 6172 732c  self.whiteChars,
-00020670: 2063 6f70 795f 6465 6661 756c 7473 3d46   copy_defaults=F
-00020680: 616c 7365 290a 2020 2020 2020 2020 7365  alse).        se
-00020690: 6c66 2e65 7272 6d73 6720 3d20 2245 7870  lf.errmsg = "Exp
-000206a0: 6563 7465 6420 656e 6420 6f66 206c 696e  ected end of lin
-000206b0: 6522 0a0a 2020 2020 6465 6620 7061 7273  e"..    def pars
-000206c0: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
-000206d0: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-000206e0: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
-000206f0: 2020 2020 6966 206c 6f63 203c 206c 656e      if loc < len
-00020700: 2869 6e73 7472 696e 6729 3a0a 2020 2020  (instring):.    
-00020710: 2020 2020 2020 2020 6966 2069 6e73 7472          if instr
-00020720: 696e 675b 6c6f 635d 203d 3d20 225c 6e22  ing[loc] == "\n"
-00020730: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00020740: 2020 7265 7475 726e 206c 6f63 202b 2031    return loc + 1
-00020750: 2c20 225c 6e22 0a20 2020 2020 2020 2020  , "\n".         
-00020760: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00020770: 2020 2020 2020 2020 2072 6169 7365 2050           raise P
-00020780: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
-00020790: 7374 7269 6e67 2c20 6c6f 632c 2073 656c  string, loc, sel
-000207a0: 662e 6572 726d 7367 2c20 7365 6c66 290a  f.errmsg, self).
-000207b0: 2020 2020 2020 2020 656c 6966 206c 6f63          elif loc
-000207c0: 203d 3d20 6c65 6e28 696e 7374 7269 6e67   == len(instring
-000207d0: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
-000207e0: 6574 7572 6e20 6c6f 6320 2b20 312c 205b  eturn loc + 1, [
-000207f0: 5d0a 2020 2020 2020 2020 656c 7365 3a0a  ].        else:.
-00020800: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00020810: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
-00020820: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-00020830: 7365 6c66 2e65 7272 6d73 672c 2073 656c  self.errmsg, sel
-00020840: 6629 0a0a 0a63 6c61 7373 2053 7472 696e  f)...class Strin
-00020850: 6753 7461 7274 2850 6f73 6974 696f 6e54  gStart(PositionT
-00020860: 6f6b 656e 293a 0a20 2020 2022 2222 4d61  oken):.    """Ma
-00020870: 7463 6865 7320 6966 2063 7572 7265 6e74  tches if current
-00020880: 2070 6f73 6974 696f 6e20 6973 2061 7420   position is at 
-00020890: 7468 6520 6265 6769 6e6e 696e 6720 6f66  the beginning of
-000208a0: 2074 6865 2070 6172 7365 0a20 2020 2073   the parse.    s
-000208b0: 7472 696e 670a 2020 2020 2222 220a 0a20  tring.    """.. 
-000208c0: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
-000208d0: 7365 6c66 293a 0a20 2020 2020 2020 2073  self):.        s
-000208e0: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
-000208f0: 290a 2020 2020 2020 2020 7365 6c66 2e65  ).        self.e
-00020900: 7272 6d73 6720 3d20 2245 7870 6563 7465  rrmsg = "Expecte
-00020910: 6420 7374 6172 7420 6f66 2074 6578 7422  d start of text"
-00020920: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
-00020930: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
-00020940: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
-00020950: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
-00020960: 2020 6966 206c 6f63 2021 3d20 303a 0a20    if loc != 0:. 
-00020970: 2020 2020 2020 2020 2020 2023 2073 6565             # see
-00020980: 2069 6620 656e 7469 7265 2073 7472 696e   if entire strin
-00020990: 6720 7570 2074 6f20 6865 7265 2069 7320  g up to here is 
-000209a0: 6a75 7374 2077 6869 7465 7370 6163 6520  just whitespace 
-000209b0: 616e 6420 6967 6e6f 7265 6162 6c65 730a  and ignoreables.
-000209c0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-000209d0: 6f63 2021 3d20 7365 6c66 2e70 7265 5061  oc != self.prePa
-000209e0: 7273 6528 696e 7374 7269 6e67 2c20 3029  rse(instring, 0)
-000209f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00020a00: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
-00020a10: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
-00020a20: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
-00020a30: 672c 2073 656c 6629 0a20 2020 2020 2020  g, self).       
-00020a40: 2072 6574 7572 6e20 6c6f 632c 205b 5d0a   return loc, [].
-00020a50: 0a0a 636c 6173 7320 5374 7269 6e67 456e  ..class StringEn
-00020a60: 6428 506f 7369 7469 6f6e 546f 6b65 6e29  d(PositionToken)
-00020a70: 3a0a 2020 2020 2222 220a 2020 2020 4d61  :.    """.    Ma
-00020a80: 7463 6865 7320 6966 2063 7572 7265 6e74  tches if current
-00020a90: 2070 6f73 6974 696f 6e20 6973 2061 7420   position is at 
-00020aa0: 7468 6520 656e 6420 6f66 2074 6865 2070  the end of the p
-00020ab0: 6172 7365 2073 7472 696e 670a 2020 2020  arse string.    
-00020ac0: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
-00020ad0: 6e69 745f 5f28 7365 6c66 293a 0a20 2020  nit__(self):.   
-00020ae0: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-00020af0: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
-00020b00: 7365 6c66 2e65 7272 6d73 6720 3d20 2245  self.errmsg = "E
-00020b10: 7870 6563 7465 6420 656e 6420 6f66 2074  xpected end of t
-00020b20: 6578 7422 0a0a 2020 2020 6465 6620 7061  ext"..    def pa
-00020b30: 7273 6549 6d70 6c28 7365 6c66 2c20 696e  rseImpl(self, in
-00020b40: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
-00020b50: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
-00020b60: 2020 2020 2020 6966 206c 6f63 203c 206c        if loc < l
-00020b70: 656e 2869 6e73 7472 696e 6729 3a0a 2020  en(instring):.  
-00020b80: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00020b90: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
-00020ba0: 6e73 7472 696e 672c 206c 6f63 2c20 7365  nstring, loc, se
-00020bb0: 6c66 2e65 7272 6d73 672c 2073 656c 6629  lf.errmsg, self)
-00020bc0: 0a20 2020 2020 2020 2065 6c69 6620 6c6f  .        elif lo
-00020bd0: 6320 3d3d 206c 656e 2869 6e73 7472 696e  c == len(instrin
-00020be0: 6729 3a0a 2020 2020 2020 2020 2020 2020  g):.            
-00020bf0: 7265 7475 726e 206c 6f63 202b 2031 2c20  return loc + 1, 
-00020c00: 5b5d 0a20 2020 2020 2020 2065 6c69 6620  [].        elif 
-00020c10: 6c6f 6320 3e20 6c65 6e28 696e 7374 7269  loc > len(instri
-00020c20: 6e67 293a 0a20 2020 2020 2020 2020 2020  ng):.           
-00020c30: 2072 6574 7572 6e20 6c6f 632c 205b 5d0a   return loc, [].
-00020c40: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00020c50: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00020c60: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
-00020c70: 6e73 7472 696e 672c 206c 6f63 2c20 7365  nstring, loc, se
-00020c80: 6c66 2e65 7272 6d73 672c 2073 656c 6629  lf.errmsg, self)
-00020c90: 0a0a 0a63 6c61 7373 2057 6f72 6453 7461  ...class WordSta
-00020ca0: 7274 2850 6f73 6974 696f 6e54 6f6b 656e  rt(PositionToken
-00020cb0: 293a 0a20 2020 2022 2222 4d61 7463 6865  ):.    """Matche
-00020cc0: 7320 6966 2074 6865 2063 7572 7265 6e74  s if the current
-00020cd0: 2070 6f73 6974 696f 6e20 6973 2061 7420   position is at 
-00020ce0: 7468 6520 6265 6769 6e6e 696e 6720 6f66  the beginning of
-00020cf0: 2061 0a20 2020 203a 636c 6173 733a 6057   a.    :class:`W
-00020d00: 6f72 6460 2c20 616e 6420 6973 206e 6f74  ord`, and is not
-00020d10: 2070 7265 6365 6465 6420 6279 2061 6e79   preceded by any
-00020d20: 2063 6861 7261 6374 6572 2069 6e20 6120   character in a 
-00020d30: 6769 7665 6e0a 2020 2020 7365 7420 6f66  given.    set of
-00020d40: 2060 6077 6f72 645f 6368 6172 7360 6020   ``word_chars`` 
-00020d50: 2864 6566 6175 6c74 3d20 6060 7072 696e  (default= ``prin
-00020d60: 7461 626c 6573 6060 292e 2054 6f20 656d  tables``). To em
-00020d70: 756c 6174 6520 7468 650a 2020 2020 6060  ulate the.    ``
-00020d80: 5c62 6060 2062 6568 6176 696f 7220 6f66  \b`` behavior of
-00020d90: 2072 6567 756c 6172 2065 7870 7265 7373   regular express
-00020da0: 696f 6e73 2c20 7573 650a 2020 2020 6060  ions, use.    ``
-00020db0: 576f 7264 5374 6172 7428 616c 7068 616e  WordStart(alphan
-00020dc0: 756d 7329 6060 2e20 6060 576f 7264 5374  ums)``. ``WordSt
-00020dd0: 6172 7460 6020 7769 6c6c 2061 6c73 6f20  art`` will also 
-00020de0: 6d61 7463 6820 6174 0a20 2020 2074 6865  match at.    the
-00020df0: 2062 6567 696e 6e69 6e67 206f 6620 7468   beginning of th
-00020e00: 6520 7374 7269 6e67 2062 6569 6e67 2070  e string being p
-00020e10: 6172 7365 642c 206f 7220 6174 2074 6865  arsed, or at the
-00020e20: 2062 6567 696e 6e69 6e67 206f 660a 2020   beginning of.  
-00020e30: 2020 6120 6c69 6e65 2e0a 2020 2020 2222    a line..    ""
-00020e40: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-00020e50: 745f 5f28 7365 6c66 2c20 776f 7264 5f63  t__(self, word_c
-00020e60: 6861 7273 3a20 7374 7220 3d20 7072 696e  hars: str = prin
-00020e70: 7461 626c 6573 2c20 2a2c 2077 6f72 6443  tables, *, wordC
-00020e80: 6861 7273 3a20 7374 7220 3d20 7072 696e  hars: str = prin
-00020e90: 7461 626c 6573 293a 0a20 2020 2020 2020  tables):.       
-00020ea0: 2077 6f72 6443 6861 7273 203d 2077 6f72   wordChars = wor
-00020eb0: 645f 6368 6172 7320 6966 2077 6f72 6443  d_chars if wordC
-00020ec0: 6861 7273 203d 3d20 7072 696e 7461 626c  hars == printabl
-00020ed0: 6573 2065 6c73 6520 776f 7264 4368 6172  es else wordChar
-00020ee0: 730a 2020 2020 2020 2020 7375 7065 7228  s.        super(
-00020ef0: 292e 5f5f 696e 6974 5f5f 2829 0a20 2020  ).__init__().   
-00020f00: 2020 2020 2073 656c 662e 776f 7264 4368       self.wordCh
-00020f10: 6172 7320 3d20 7365 7428 776f 7264 4368  ars = set(wordCh
-00020f20: 6172 7329 0a20 2020 2020 2020 2073 656c  ars).        sel
-00020f30: 662e 6572 726d 7367 203d 2022 4e6f 7420  f.errmsg = "Not 
-00020f40: 6174 2074 6865 2073 7461 7274 206f 6620  at the start of 
-00020f50: 6120 776f 7264 220a 0a20 2020 2064 6566  a word"..    def
-00020f60: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
-00020f70: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
-00020f80: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
-00020f90: 0a20 2020 2020 2020 2069 6620 6c6f 6320  .        if loc 
-00020fa0: 213d 2030 3a0a 2020 2020 2020 2020 2020  != 0:.          
-00020fb0: 2020 6966 2028 0a20 2020 2020 2020 2020    if (.         
-00020fc0: 2020 2020 2020 2069 6e73 7472 696e 675b         instring[
-00020fd0: 6c6f 6320 2d20 315d 2069 6e20 7365 6c66  loc - 1] in self
-00020fe0: 2e77 6f72 6443 6861 7273 0a20 2020 2020  .wordChars.     
-00020ff0: 2020 2020 2020 2020 2020 206f 7220 696e             or in
-00021000: 7374 7269 6e67 5b6c 6f63 5d20 6e6f 7420  string[loc] not 
-00021010: 696e 2073 656c 662e 776f 7264 4368 6172  in self.wordChar
-00021020: 730a 2020 2020 2020 2020 2020 2020 293a  s.            ):
-00021030: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00021040: 2072 6169 7365 2050 6172 7365 4578 6365   raise ParseExce
-00021050: 7074 696f 6e28 696e 7374 7269 6e67 2c20  ption(instring, 
-00021060: 6c6f 632c 2073 656c 662e 6572 726d 7367  loc, self.errmsg
-00021070: 2c20 7365 6c66 290a 2020 2020 2020 2020  , self).        
-00021080: 7265 7475 726e 206c 6f63 2c20 5b5d 0a0a  return loc, []..
-00021090: 0a63 6c61 7373 2057 6f72 6445 6e64 2850  .class WordEnd(P
-000210a0: 6f73 6974 696f 6e54 6f6b 656e 293a 0a20  ositionToken):. 
-000210b0: 2020 2022 2222 4d61 7463 6865 7320 6966     """Matches if
-000210c0: 2074 6865 2063 7572 7265 6e74 2070 6f73   the current pos
-000210d0: 6974 696f 6e20 6973 2061 7420 7468 6520  ition is at the 
-000210e0: 656e 6420 6f66 2061 203a 636c 6173 733a  end of a :class:
-000210f0: 6057 6f72 6460 2c0a 2020 2020 616e 6420  `Word`,.    and 
-00021100: 6973 206e 6f74 2066 6f6c 6c6f 7765 6420  is not followed 
-00021110: 6279 2061 6e79 2063 6861 7261 6374 6572  by any character
-00021120: 2069 6e20 6120 6769 7665 6e20 7365 7420   in a given set 
-00021130: 6f66 2060 6077 6f72 645f 6368 6172 7360  of ``word_chars`
-00021140: 600a 2020 2020 2864 6566 6175 6c74 3d20  `.    (default= 
-00021150: 6060 7072 696e 7461 626c 6573 6060 292e  ``printables``).
-00021160: 2054 6f20 656d 756c 6174 6520 7468 6520   To emulate the 
-00021170: 6060 5c62 6060 2062 6568 6176 696f 7220  ``\b`` behavior 
-00021180: 6f66 0a20 2020 2072 6567 756c 6172 2065  of.    regular e
-00021190: 7870 7265 7373 696f 6e73 2c20 7573 6520  xpressions, use 
-000211a0: 6060 576f 7264 456e 6428 616c 7068 616e  ``WordEnd(alphan
-000211b0: 756d 7329 6060 2e20 6060 576f 7264 456e  ums)``. ``WordEn
-000211c0: 6460 600a 2020 2020 7769 6c6c 2061 6c73  d``.    will als
-000211d0: 6f20 6d61 7463 6820 6174 2074 6865 2065  o match at the e
-000211e0: 6e64 206f 6620 7468 6520 7374 7269 6e67  nd of the string
-000211f0: 2062 6569 6e67 2070 6172 7365 642c 206f   being parsed, o
-00021200: 7220 6174 2074 6865 2065 6e64 0a20 2020  r at the end.   
-00021210: 206f 6620 6120 6c69 6e65 2e0a 2020 2020   of a line..    
-00021220: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
-00021230: 6e69 745f 5f28 7365 6c66 2c20 776f 7264  nit__(self, word
-00021240: 5f63 6861 7273 3a20 7374 7220 3d20 7072  _chars: str = pr
-00021250: 696e 7461 626c 6573 2c20 2a2c 2077 6f72  intables, *, wor
-00021260: 6443 6861 7273 3a20 7374 7220 3d20 7072  dChars: str = pr
-00021270: 696e 7461 626c 6573 293a 0a20 2020 2020  intables):.     
-00021280: 2020 2077 6f72 6443 6861 7273 203d 2077     wordChars = w
-00021290: 6f72 645f 6368 6172 7320 6966 2077 6f72  ord_chars if wor
-000212a0: 6443 6861 7273 203d 3d20 7072 696e 7461  dChars == printa
-000212b0: 626c 6573 2065 6c73 6520 776f 7264 4368  bles else wordCh
-000212c0: 6172 730a 2020 2020 2020 2020 7375 7065  ars.        supe
-000212d0: 7228 292e 5f5f 696e 6974 5f5f 2829 0a20  r().__init__(). 
-000212e0: 2020 2020 2020 2073 656c 662e 776f 7264         self.word
-000212f0: 4368 6172 7320 3d20 7365 7428 776f 7264  Chars = set(word
-00021300: 4368 6172 7329 0a20 2020 2020 2020 2073  Chars).        s
-00021310: 656c 662e 736b 6970 5768 6974 6573 7061  elf.skipWhitespa
-00021320: 6365 203d 2046 616c 7365 0a20 2020 2020  ce = False.     
-00021330: 2020 2073 656c 662e 6572 726d 7367 203d     self.errmsg =
-00021340: 2022 4e6f 7420 6174 2074 6865 2065 6e64   "Not at the end
-00021350: 206f 6620 6120 776f 7264 220a 0a20 2020   of a word"..   
-00021360: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
-00021370: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
-00021380: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
-00021390: 7565 293a 0a20 2020 2020 2020 2069 6e73  ue):.        ins
-000213a0: 7472 6c65 6e20 3d20 6c65 6e28 696e 7374  trlen = len(inst
-000213b0: 7269 6e67 290a 2020 2020 2020 2020 6966  ring).        if
-000213c0: 2069 6e73 7472 6c65 6e20 3e20 3020 616e   instrlen > 0 an
-000213d0: 6420 6c6f 6320 3c20 696e 7374 726c 656e  d loc < instrlen
-000213e0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-000213f0: 2028 0a20 2020 2020 2020 2020 2020 2020   (.             
-00021400: 2020 2069 6e73 7472 696e 675b 6c6f 635d     instring[loc]
-00021410: 2069 6e20 7365 6c66 2e77 6f72 6443 6861   in self.wordCha
-00021420: 7273 0a20 2020 2020 2020 2020 2020 2020  rs.             
-00021430: 2020 206f 7220 696e 7374 7269 6e67 5b6c     or instring[l
-00021440: 6f63 202d 2031 5d20 6e6f 7420 696e 2073  oc - 1] not in s
-00021450: 656c 662e 776f 7264 4368 6172 730a 2020  elf.wordChars.  
-00021460: 2020 2020 2020 2020 2020 293a 0a20 2020            ):.   
-00021470: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-00021480: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
-00021490: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
-000214a0: 2073 656c 662e 6572 726d 7367 2c20 7365   self.errmsg, se
-000214b0: 6c66 290a 2020 2020 2020 2020 7265 7475  lf).        retu
-000214c0: 726e 206c 6f63 2c20 5b5d 0a0a 0a63 6c61  rn loc, []...cla
-000214d0: 7373 2050 6172 7365 4578 7072 6573 7369  ss ParseExpressi
-000214e0: 6f6e 2850 6172 7365 7245 6c65 6d65 6e74  on(ParserElement
-000214f0: 293a 0a20 2020 2022 2222 4162 7374 7261  ):.    """Abstra
-00021500: 6374 2073 7562 636c 6173 7320 6f66 2050  ct subclass of P
-00021510: 6172 7365 7245 6c65 6d65 6e74 2c20 666f  arserElement, fo
-00021520: 7220 636f 6d62 696e 696e 6720 616e 640a  r combining and.
-00021530: 2020 2020 706f 7374 2d70 726f 6365 7373      post-process
-00021540: 696e 6720 7061 7273 6564 2074 6f6b 656e  ing parsed token
-00021550: 732e 0a20 2020 2022 2222 0a0a 2020 2020  s..    """..    
-00021560: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
-00021570: 662c 2065 7870 7273 3a20 7479 7069 6e67  f, exprs: typing
-00021580: 2e49 7465 7261 626c 655b 5061 7273 6572  .Iterable[Parser
-00021590: 456c 656d 656e 745d 2c20 7361 7665 6c69  Element], saveli
-000215a0: 7374 3a20 626f 6f6c 203d 2046 616c 7365  st: bool = False
-000215b0: 293a 0a20 2020 2020 2020 2073 7570 6572  ):.        super
-000215c0: 2829 2e5f 5f69 6e69 745f 5f28 7361 7665  ().__init__(save
-000215d0: 6c69 7374 290a 2020 2020 2020 2020 7365  list).        se
-000215e0: 6c66 2e65 7870 7273 3a20 4c69 7374 5b50  lf.exprs: List[P
-000215f0: 6172 7365 7245 6c65 6d65 6e74 5d0a 2020  arserElement].  
-00021600: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-00021610: 6e63 6528 6578 7072 732c 205f 6765 6e65  nce(exprs, _gene
-00021620: 7261 746f 7254 7970 6529 3a0a 2020 2020  ratorType):.    
-00021630: 2020 2020 2020 2020 6578 7072 7320 3d20          exprs = 
-00021640: 6c69 7374 2865 7870 7273 290a 0a20 2020  list(exprs)..   
-00021650: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-00021660: 6365 2865 7870 7273 2c20 7374 725f 7479  ce(exprs, str_ty
-00021670: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
-00021680: 2073 656c 662e 6578 7072 7320 3d20 5b73   self.exprs = [s
-00021690: 656c 662e 5f6c 6974 6572 616c 5374 7269  elf._literalStri
-000216a0: 6e67 436c 6173 7328 6578 7072 7329 5d0a  ngClass(exprs)].
-000216b0: 2020 2020 2020 2020 656c 6966 2069 7369          elif isi
-000216c0: 6e73 7461 6e63 6528 6578 7072 732c 2050  nstance(exprs, P
-000216d0: 6172 7365 7245 6c65 6d65 6e74 293a 0a20  arserElement):. 
-000216e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000216f0: 6578 7072 7320 3d20 5b65 7870 7273 5d0a  exprs = [exprs].
-00021700: 2020 2020 2020 2020 656c 6966 2069 7369          elif isi
-00021710: 6e73 7461 6e63 6528 6578 7072 732c 2049  nstance(exprs, I
-00021720: 7465 7261 626c 6529 3a0a 2020 2020 2020  terable):.      
-00021730: 2020 2020 2020 6578 7072 7320 3d20 6c69        exprs = li
-00021740: 7374 2865 7870 7273 290a 2020 2020 2020  st(exprs).      
-00021750: 2020 2020 2020 2320 6966 2073 6571 7565        # if seque
-00021760: 6e63 6520 6f66 2073 7472 696e 6773 2070  nce of strings p
-00021770: 726f 7669 6465 642c 2077 7261 7020 7769  rovided, wrap wi
-00021780: 7468 204c 6974 6572 616c 0a20 2020 2020  th Literal.     
-00021790: 2020 2020 2020 2069 6620 616e 7928 6973         if any(is
-000217a0: 696e 7374 616e 6365 2865 7870 722c 2073  instance(expr, s
-000217b0: 7472 5f74 7970 6529 2066 6f72 2065 7870  tr_type) for exp
-000217c0: 7220 696e 2065 7870 7273 293a 0a20 2020  r in exprs):.   
-000217d0: 2020 2020 2020 2020 2020 2020 2065 7870               exp
-000217e0: 7273 203d 2028 0a20 2020 2020 2020 2020  rs = (.         
-000217f0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00021800: 5f6c 6974 6572 616c 5374 7269 6e67 436c  _literalStringCl
-00021810: 6173 7328 6529 2069 6620 6973 696e 7374  ass(e) if isinst
-00021820: 616e 6365 2865 2c20 7374 725f 7479 7065  ance(e, str_type
-00021830: 2920 656c 7365 2065 0a20 2020 2020 2020  ) else e.       
-00021840: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-00021850: 2065 2069 6e20 6578 7072 730a 2020 2020   e in exprs.    
-00021860: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-00021870: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
-00021880: 7870 7273 203d 206c 6973 7428 6578 7072  xprs = list(expr
-00021890: 7329 0a20 2020 2020 2020 2065 6c73 653a  s).        else:
-000218a0: 0a20 2020 2020 2020 2020 2020 2074 7279  .            try
-000218b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000218c0: 2020 7365 6c66 2e65 7870 7273 203d 206c    self.exprs = l
-000218d0: 6973 7428 6578 7072 7329 0a20 2020 2020  ist(exprs).     
-000218e0: 2020 2020 2020 2065 7863 6570 7420 5479         except Ty
-000218f0: 7065 4572 726f 723a 0a20 2020 2020 2020  peError:.       
-00021900: 2020 2020 2020 2020 2073 656c 662e 6578           self.ex
-00021910: 7072 7320 3d20 5b65 7870 7273 5d0a 2020  prs = [exprs].  
-00021920: 2020 2020 2020 7365 6c66 2e63 616c 6c50        self.callP
-00021930: 7265 7061 7273 6520 3d20 4661 6c73 650a  reparse = False.
-00021940: 0a20 2020 2064 6566 2072 6563 7572 7365  .    def recurse
-00021950: 2873 656c 6629 202d 3e20 4c69 7374 5b50  (self) -> List[P
-00021960: 6172 7365 7245 6c65 6d65 6e74 5d3a 0a20  arserElement]:. 
-00021970: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00021980: 6c66 2e65 7870 7273 5b3a 5d0a 0a20 2020  lf.exprs[:]..   
-00021990: 2064 6566 2061 7070 656e 6428 7365 6c66   def append(self
-000219a0: 2c20 6f74 6865 7229 202d 3e20 5061 7273  , other) -> Pars
-000219b0: 6572 456c 656d 656e 743a 0a20 2020 2020  erElement:.     
-000219c0: 2020 2073 656c 662e 6578 7072 732e 6170     self.exprs.ap
-000219d0: 7065 6e64 286f 7468 6572 290a 2020 2020  pend(other).    
-000219e0: 2020 2020 7365 6c66 2e5f 6465 6661 756c      self._defaul
-000219f0: 744e 616d 6520 3d20 4e6f 6e65 0a20 2020  tName = None.   
-00021a00: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00021a10: 0a0a 2020 2020 6465 6620 6c65 6176 655f  ..    def leave_
-00021a20: 7768 6974 6573 7061 6365 2873 656c 662c  whitespace(self,
-00021a30: 2072 6563 7572 7369 7665 3a20 626f 6f6c   recursive: bool
-00021a40: 203d 2054 7275 6529 202d 3e20 5061 7273   = True) -> Pars
-00021a50: 6572 456c 656d 656e 743a 0a20 2020 2020  erElement:.     
-00021a60: 2020 2022 2222 0a20 2020 2020 2020 2045     """.        E
-00021a70: 7874 656e 6473 2060 606c 6561 7665 5f77  xtends ``leave_w
-00021a80: 6869 7465 7370 6163 6560 6020 6465 6669  hitespace`` defi
-00021a90: 6e65 6420 696e 2062 6173 6520 636c 6173  ned in base clas
-00021aa0: 732c 2061 6e64 2061 6c73 6f20 696e 766f  s, and also invo
-00021ab0: 6b65 7320 6060 6c65 6176 655f 7768 6974  kes ``leave_whit
-00021ac0: 6573 7061 6365 6060 206f 6e0a 2020 2020  espace`` on.    
-00021ad0: 2020 2020 2020 2061 6c6c 2063 6f6e 7461         all conta
-00021ae0: 696e 6564 2065 7870 7265 7373 696f 6e73  ined expressions
-00021af0: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
-00021b00: 2020 2020 2020 7375 7065 7228 292e 6c65        super().le
-00021b10: 6176 655f 7768 6974 6573 7061 6365 2872  ave_whitespace(r
-00021b20: 6563 7572 7369 7665 290a 0a20 2020 2020  ecursive)..     
-00021b30: 2020 2069 6620 7265 6375 7273 6976 653a     if recursive:
-00021b40: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00021b50: 662e 6578 7072 7320 3d20 5b65 2e63 6f70  f.exprs = [e.cop
-00021b60: 7928 2920 666f 7220 6520 696e 2073 656c  y() for e in sel
-00021b70: 662e 6578 7072 735d 0a20 2020 2020 2020  f.exprs].       
-00021b80: 2020 2020 2066 6f72 2065 2069 6e20 7365       for e in se
-00021b90: 6c66 2e65 7870 7273 3a0a 2020 2020 2020  lf.exprs:.      
-00021ba0: 2020 2020 2020 2020 2020 652e 6c65 6176            e.leav
-00021bb0: 655f 7768 6974 6573 7061 6365 2872 6563  e_whitespace(rec
-00021bc0: 7572 7369 7665 290a 2020 2020 2020 2020  ursive).        
-00021bd0: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
-00021be0: 2064 6566 2069 676e 6f72 655f 7768 6974   def ignore_whit
-00021bf0: 6573 7061 6365 2873 656c 662c 2072 6563  espace(self, rec
-00021c00: 7572 7369 7665 3a20 626f 6f6c 203d 2054  ursive: bool = T
-00021c10: 7275 6529 202d 3e20 5061 7273 6572 456c  rue) -> ParserEl
-00021c20: 656d 656e 743a 0a20 2020 2020 2020 2022  ement:.        "
-00021c30: 2222 0a20 2020 2020 2020 2045 7874 656e  "".        Exten
-00021c40: 6473 2060 6069 676e 6f72 655f 7768 6974  ds ``ignore_whit
-00021c50: 6573 7061 6365 6060 2064 6566 696e 6564  espace`` defined
-00021c60: 2069 6e20 6261 7365 2063 6c61 7373 2c20   in base class, 
-00021c70: 616e 6420 616c 736f 2069 6e76 6f6b 6573  and also invokes
-00021c80: 2060 606c 6561 7665 5f77 6869 7465 7370   ``leave_whitesp
-00021c90: 6163 6560 6020 6f6e 0a20 2020 2020 2020  ace`` on.       
-00021ca0: 2020 2020 616c 6c20 636f 6e74 6169 6e65      all containe
-00021cb0: 6420 6578 7072 6573 7369 6f6e 732e 0a20  d expressions.. 
-00021cc0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00021cd0: 2020 2073 7570 6572 2829 2e69 676e 6f72     super().ignor
-00021ce0: 655f 7768 6974 6573 7061 6365 2872 6563  e_whitespace(rec
-00021cf0: 7572 7369 7665 290a 2020 2020 2020 2020  ursive).        
-00021d00: 6966 2072 6563 7572 7369 7665 3a0a 2020  if recursive:.  
-00021d10: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
-00021d20: 7870 7273 203d 205b 652e 636f 7079 2829  xprs = [e.copy()
-00021d30: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
-00021d40: 7870 7273 5d0a 2020 2020 2020 2020 2020  xprs].          
-00021d50: 2020 666f 7220 6520 696e 2073 656c 662e    for e in self.
-00021d60: 6578 7072 733a 0a20 2020 2020 2020 2020  exprs:.         
-00021d70: 2020 2020 2020 2065 2e69 676e 6f72 655f         e.ignore_
-00021d80: 7768 6974 6573 7061 6365 2872 6563 7572  whitespace(recur
-00021d90: 7369 7665 290a 2020 2020 2020 2020 7265  sive).        re
-00021da0: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
-00021db0: 6566 2069 676e 6f72 6528 7365 6c66 2c20  ef ignore(self, 
-00021dc0: 6f74 6865 7229 202d 3e20 5061 7273 6572  other) -> Parser
-00021dd0: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
-00021de0: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
-00021df0: 7468 6572 2c20 5375 7070 7265 7373 293a  ther, Suppress):
-00021e00: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00021e10: 6f74 6865 7220 6e6f 7420 696e 2073 656c  other not in sel
-00021e20: 662e 6967 6e6f 7265 4578 7072 733a 0a20  f.ignoreExprs:. 
-00021e30: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00021e40: 7570 6572 2829 2e69 676e 6f72 6528 6f74  uper().ignore(ot
-00021e50: 6865 7229 0a20 2020 2020 2020 2020 2020  her).           
-00021e60: 2020 2020 2066 6f72 2065 2069 6e20 7365       for e in se
-00021e70: 6c66 2e65 7870 7273 3a0a 2020 2020 2020  lf.exprs:.      
-00021e80: 2020 2020 2020 2020 2020 2020 2020 652e                e.
-00021e90: 6967 6e6f 7265 2873 656c 662e 6967 6e6f  ignore(self.igno
-00021ea0: 7265 4578 7072 735b 2d31 5d29 0a20 2020  reExprs[-1]).   
-00021eb0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00021ec0: 2020 2020 2020 2073 7570 6572 2829 2e69         super().i
-00021ed0: 676e 6f72 6528 6f74 6865 7229 0a20 2020  gnore(other).   
-00021ee0: 2020 2020 2020 2020 2066 6f72 2065 2069           for e i
-00021ef0: 6e20 7365 6c66 2e65 7870 7273 3a0a 2020  n self.exprs:.  
-00021f00: 2020 2020 2020 2020 2020 2020 2020 652e                e.
-00021f10: 6967 6e6f 7265 2873 656c 662e 6967 6e6f  ignore(self.igno
-00021f20: 7265 4578 7072 735b 2d31 5d29 0a20 2020  reExprs[-1]).   
-00021f30: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00021f40: 0a0a 2020 2020 6465 6620 5f67 656e 6572  ..    def _gener
-00021f50: 6174 6544 6566 6175 6c74 4e61 6d65 2873  ateDefaultName(s
-00021f60: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
-00021f70: 2020 2020 2072 6574 7572 6e20 6622 7b73       return f"{s
-00021f80: 656c 662e 5f5f 636c 6173 735f 5f2e 5f5f  elf.__class__.__
-00021f90: 6e61 6d65 5f5f 7d3a 287b 7374 7228 7365  name__}:({str(se
-00021fa0: 6c66 2e65 7870 7273 297d 2922 0a0a 2020  lf.exprs)})"..  
-00021fb0: 2020 6465 6620 7374 7265 616d 6c69 6e65    def streamline
-00021fc0: 2873 656c 6629 202d 3e20 5061 7273 6572  (self) -> Parser
-00021fd0: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
-00021fe0: 2069 6620 7365 6c66 2e73 7472 6561 6d6c   if self.streaml
-00021ff0: 696e 6564 3a0a 2020 2020 2020 2020 2020  ined:.          
-00022000: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
-00022010: 2020 2020 2020 2073 7570 6572 2829 2e73         super().s
-00022020: 7472 6561 6d6c 696e 6528 290a 0a20 2020  treamline()..   
-00022030: 2020 2020 2066 6f72 2065 2069 6e20 7365       for e in se
-00022040: 6c66 2e65 7870 7273 3a0a 2020 2020 2020  lf.exprs:.      
-00022050: 2020 2020 2020 652e 7374 7265 616d 6c69        e.streamli
-00022060: 6e65 2829 0a0a 2020 2020 2020 2020 2320  ne()..        # 
-00022070: 636f 6c6c 6170 7365 206e 6573 7465 6420  collapse nested 
-00022080: 3a63 6c61 7373 3a60 416e 6460 2773 206f  :class:`And`'s o
-00022090: 6620 7468 6520 666f 726d 2060 6041 6e64  f the form ``And
-000220a0: 2841 6e64 2841 6e64 2861 2c20 6229 2c20  (And(And(a, b), 
-000220b0: 6329 2c20 6429 6060 2074 6f20 6060 416e  c), d)`` to ``An
-000220c0: 6428 612c 2062 2c20 632c 2064 2960 600a  d(a, b, c, d)``.
-000220d0: 2020 2020 2020 2020 2320 6275 7420 6f6e          # but on
-000220e0: 6c79 2069 6620 7468 6572 6520 6172 6520  ly if there are 
-000220f0: 6e6f 2070 6172 7365 2061 6374 696f 6e73  no parse actions
-00022100: 206f 7220 7265 7375 6c74 734e 616d 6573   or resultsNames
-00022110: 206f 6e20 7468 6520 6e65 7374 6564 2041   on the nested A
-00022120: 6e64 2773 0a20 2020 2020 2020 2023 2028  nd's.        # (
-00022130: 6c69 6b65 7769 7365 2066 6f72 203a 636c  likewise for :cl
-00022140: 6173 733a 604f 7260 2773 2061 6e64 203a  ass:`Or`'s and :
-00022150: 636c 6173 733a 604d 6174 6368 4669 7273  class:`MatchFirs
-00022160: 7460 2773 290a 2020 2020 2020 2020 6966  t`'s).        if
-00022170: 206c 656e 2873 656c 662e 6578 7072 7329   len(self.exprs)
-00022180: 203d 3d20 323a 0a20 2020 2020 2020 2020   == 2:.         
-00022190: 2020 206f 7468 6572 203d 2073 656c 662e     other = self.
-000221a0: 6578 7072 735b 305d 0a20 2020 2020 2020  exprs[0].       
-000221b0: 2020 2020 2069 6620 280a 2020 2020 2020       if (.      
-000221c0: 2020 2020 2020 2020 2020 6973 696e 7374            isinst
-000221d0: 616e 6365 286f 7468 6572 2c20 7365 6c66  ance(other, self
-000221e0: 2e5f 5f63 6c61 7373 5f5f 290a 2020 2020  .__class__).    
-000221f0: 2020 2020 2020 2020 2020 2020 616e 6420              and 
-00022200: 6e6f 7420 6f74 6865 722e 7061 7273 6541  not other.parseA
-00022210: 6374 696f 6e0a 2020 2020 2020 2020 2020  ction.          
-00022220: 2020 2020 2020 616e 6420 6f74 6865 722e        and other.
-00022230: 7265 7375 6c74 734e 616d 6520 6973 204e  resultsName is N
-00022240: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
-00022250: 2020 2020 616e 6420 6e6f 7420 6f74 6865      and not othe
-00022260: 722e 6465 6275 670a 2020 2020 2020 2020  r.debug.        
-00022270: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
-00022280: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
-00022290: 7320 3d20 6f74 6865 722e 6578 7072 735b  s = other.exprs[
-000222a0: 3a5d 202b 205b 7365 6c66 2e65 7870 7273  :] + [self.exprs
-000222b0: 5b31 5d5d 0a20 2020 2020 2020 2020 2020  [1]].           
-000222c0: 2020 2020 2073 656c 662e 5f64 6566 6175       self._defau
-000222d0: 6c74 4e61 6d65 203d 204e 6f6e 650a 2020  ltName = None.  
-000222e0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-000222f0: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
-00022300: 7920 7c3d 206f 7468 6572 2e6d 6179 5265  y |= other.mayRe
-00022310: 7475 726e 456d 7074 790a 2020 2020 2020  turnEmpty.      
-00022320: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-00022330: 6179 496e 6465 7845 7272 6f72 207c 3d20  ayIndexError |= 
-00022340: 6f74 6865 722e 6d61 7949 6e64 6578 4572  other.mayIndexEr
-00022350: 726f 720a 0a20 2020 2020 2020 2020 2020  ror..           
-00022360: 206f 7468 6572 203d 2073 656c 662e 6578   other = self.ex
-00022370: 7072 735b 2d31 5d0a 2020 2020 2020 2020  prs[-1].        
-00022380: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
-00022390: 2020 2020 2020 2020 2069 7369 6e73 7461           isinsta
-000223a0: 6e63 6528 6f74 6865 722c 2073 656c 662e  nce(other, self.
-000223b0: 5f5f 636c 6173 735f 5f29 0a20 2020 2020  __class__).     
-000223c0: 2020 2020 2020 2020 2020 2061 6e64 206e             and n
-000223d0: 6f74 206f 7468 6572 2e70 6172 7365 4163  ot other.parseAc
-000223e0: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
-000223f0: 2020 2020 2061 6e64 206f 7468 6572 2e72       and other.r
-00022400: 6573 756c 7473 4e61 6d65 2069 7320 4e6f  esultsName is No
-00022410: 6e65 0a20 2020 2020 2020 2020 2020 2020  ne.             
-00022420: 2020 2061 6e64 206e 6f74 206f 7468 6572     and not other
-00022430: 2e64 6562 7567 0a20 2020 2020 2020 2020  .debug.         
-00022440: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
-00022450: 2020 2020 2020 7365 6c66 2e65 7870 7273        self.exprs
-00022460: 203d 2073 656c 662e 6578 7072 735b 3a2d   = self.exprs[:-
-00022470: 315d 202b 206f 7468 6572 2e65 7870 7273  1] + other.exprs
-00022480: 5b3a 5d0a 2020 2020 2020 2020 2020 2020  [:].            
-00022490: 2020 2020 7365 6c66 2e5f 6465 6661 756c      self._defaul
-000224a0: 744e 616d 6520 3d20 4e6f 6e65 0a20 2020  tName = None.   
-000224b0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-000224c0: 662e 6d61 7952 6574 7572 6e45 6d70 7479  f.mayReturnEmpty
-000224d0: 207c 3d20 6f74 6865 722e 6d61 7952 6574   |= other.mayRet
-000224e0: 7572 6e45 6d70 7479 0a20 2020 2020 2020  urnEmpty.       
-000224f0: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
-00022500: 7949 6e64 6578 4572 726f 7220 7c3d 206f  yIndexError |= o
-00022510: 7468 6572 2e6d 6179 496e 6465 7845 7272  ther.mayIndexErr
-00022520: 6f72 0a0a 2020 2020 2020 2020 7365 6c66  or..        self
-00022530: 2e65 7272 6d73 6720 3d20 2245 7870 6563  .errmsg = "Expec
-00022540: 7465 6420 2220 2b20 7374 7228 7365 6c66  ted " + str(self
-00022550: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
-00022560: 6e20 7365 6c66 0a0a 2020 2020 6465 6620  n self..    def 
-00022570: 7661 6c69 6461 7465 2873 656c 662c 2076  validate(self, v
-00022580: 616c 6964 6174 6554 7261 6365 3d4e 6f6e  alidateTrace=Non
-00022590: 6529 202d 3e20 4e6f 6e65 3a0a 2020 2020  e) -> None:.    
-000225a0: 2020 2020 7761 726e 696e 6773 2e77 6172      warnings.war
-000225b0: 6e28 0a20 2020 2020 2020 2020 2020 2022  n(.            "
-000225c0: 5061 7273 6572 456c 656d 656e 742e 7661  ParserElement.va
-000225d0: 6c69 6461 7465 2829 2069 7320 6465 7072  lidate() is depr
-000225e0: 6563 6174 6564 2c20 616e 6420 7368 6f75  ecated, and shou
-000225f0: 6c64 206e 6f74 2062 6520 7573 6564 2074  ld not be used t
-00022600: 6f20 6368 6563 6b20 666f 7220 6c65 6674  o check for left
-00022610: 2072 6563 7572 7369 6f6e 222c 0a20 2020   recursion",.   
-00022620: 2020 2020 2020 2020 2044 6570 7265 6361           Depreca
-00022630: 7469 6f6e 5761 726e 696e 672c 0a20 2020  tionWarning,.   
-00022640: 2020 2020 2020 2020 2073 7461 636b 6c65           stackle
-00022650: 7665 6c3d 322c 0a20 2020 2020 2020 2029  vel=2,.        )
-00022660: 0a20 2020 2020 2020 2074 6d70 203d 2028  .        tmp = (
-00022670: 7661 6c69 6461 7465 5472 6163 6520 6966  validateTrace if
-00022680: 2076 616c 6964 6174 6554 7261 6365 2069   validateTrace i
-00022690: 7320 6e6f 7420 4e6f 6e65 2065 6c73 6520  s not None else 
-000226a0: 5b5d 295b 3a5d 202b 205b 7365 6c66 5d0a  [])[:] + [self].
-000226b0: 2020 2020 2020 2020 666f 7220 6520 696e          for e in
-000226c0: 2073 656c 662e 6578 7072 733a 0a20 2020   self.exprs:.   
-000226d0: 2020 2020 2020 2020 2065 2e76 616c 6964           e.valid
-000226e0: 6174 6528 746d 7029 0a20 2020 2020 2020  ate(tmp).       
-000226f0: 2073 656c 662e 5f63 6865 636b 5265 6375   self._checkRecu
-00022700: 7273 696f 6e28 5b5d 290a 0a20 2020 2064  rsion([])..    d
-00022710: 6566 2063 6f70 7928 7365 6c66 2920 2d3e  ef copy(self) ->
-00022720: 2050 6172 7365 7245 6c65 6d65 6e74 3a0a   ParserElement:.
-00022730: 2020 2020 2020 2020 7265 7420 3d20 7375          ret = su
-00022740: 7065 7228 292e 636f 7079 2829 0a20 2020  per().copy().   
-00022750: 2020 2020 2072 6574 203d 2074 7970 696e       ret = typin
-00022760: 672e 6361 7374 2850 6172 7365 4578 7072  g.cast(ParseExpr
-00022770: 6573 7369 6f6e 2c20 7265 7429 0a20 2020  ession, ret).   
-00022780: 2020 2020 2072 6574 2e65 7870 7273 203d       ret.exprs =
-00022790: 205b 652e 636f 7079 2829 2066 6f72 2065   [e.copy() for e
-000227a0: 2069 6e20 7365 6c66 2e65 7870 7273 5d0a   in self.exprs].
-000227b0: 2020 2020 2020 2020 7265 7475 726e 2072          return r
-000227c0: 6574 0a0a 2020 2020 6465 6620 5f73 6574  et..    def _set
-000227d0: 5265 7375 6c74 734e 616d 6528 7365 6c66  ResultsName(self
-000227e0: 2c20 6e61 6d65 2c20 6c69 7374 416c 6c4d  , name, listAllM
-000227f0: 6174 6368 6573 3d46 616c 7365 293a 0a20  atches=False):. 
-00022800: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
-00022810: 2020 2020 2020 2020 5f5f 6469 6167 5f5f          __diag__
-00022820: 2e77 6172 6e5f 756e 6772 6f75 7065 645f  .warn_ungrouped_
-00022830: 6e61 6d65 645f 746f 6b65 6e73 5f69 6e5f  named_tokens_in_
-00022840: 636f 6c6c 6563 7469 6f6e 0a20 2020 2020  collection.     
-00022850: 2020 2020 2020 2061 6e64 2044 6961 676e         and Diagn
-00022860: 6f73 7469 6373 2e77 6172 6e5f 756e 6772  ostics.warn_ungr
-00022870: 6f75 7065 645f 6e61 6d65 645f 746f 6b65  ouped_named_toke
-00022880: 6e73 5f69 6e5f 636f 6c6c 6563 7469 6f6e  ns_in_collection
-00022890: 0a20 2020 2020 2020 2020 2020 206e 6f74  .            not
-000228a0: 2069 6e20 7365 6c66 2e73 7570 7072 6573   in self.suppres
-000228b0: 735f 7761 726e 696e 6773 5f0a 2020 2020  s_warnings_.    
-000228c0: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
-000228d0: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
-000228e0: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
-000228f0: 2020 2020 2020 2020 6966 2028 0a20 2020          if (.   
-00022900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022910: 2069 7369 6e73 7461 6e63 6528 652c 2050   isinstance(e, P
-00022920: 6172 7365 7245 6c65 6d65 6e74 290a 2020  arserElement).  
-00022930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022940: 2020 616e 6420 652e 7265 7375 6c74 734e    and e.resultsN
-00022950: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-00022960: 2020 2020 2020 2020 616e 6420 4469 6167          and Diag
-00022970: 6e6f 7374 6963 732e 7761 726e 5f75 6e67  nostics.warn_ung
-00022980: 726f 7570 6564 5f6e 616d 6564 5f74 6f6b  rouped_named_tok
-00022990: 656e 735f 696e 5f63 6f6c 6c65 6374 696f  ens_in_collectio
-000229a0: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
-000229b0: 2020 2020 2020 6e6f 7420 696e 2065 2e73        not in e.s
-000229c0: 7570 7072 6573 735f 7761 726e 696e 6773  uppress_warnings
-000229d0: 5f0a 2020 2020 2020 2020 2020 2020 2020  _.              
-000229e0: 2020 293a 0a20 2020 2020 2020 2020 2020    ):.           
-000229f0: 2020 2020 2020 2020 2077 6172 6e69 6e67           warning
-00022a00: 732e 7761 726e 280a 2020 2020 2020 2020  s.warn(.        
-00022a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022a20: 227b 7d3a 2073 6574 7469 6e67 2072 6573  "{}: setting res
-00022a30: 756c 7473 206e 616d 6520 7b21 727d 206f  ults name {!r} o
-00022a40: 6e20 7b7d 2065 7870 7265 7373 696f 6e20  n {} expression 
-00022a50: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00022a60: 2020 2020 2020 2020 2020 2263 6f6c 6c69            "colli
-00022a70: 6465 7320 7769 7468 207b 2172 7d20 6f6e  des with {!r} on
-00022a80: 2063 6f6e 7461 696e 6564 2065 7870 7265   contained expre
-00022a90: 7373 696f 6e22 2e66 6f72 6d61 7428 0a20  ssion".format(. 
-00022aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022ab0: 2020 2020 2020 2020 2020 2022 7761 726e             "warn
-00022ac0: 5f75 6e67 726f 7570 6564 5f6e 616d 6564  _ungrouped_named
-00022ad0: 5f74 6f6b 656e 735f 696e 5f63 6f6c 6c65  _tokens_in_colle
-00022ae0: 6374 696f 6e22 2c0a 2020 2020 2020 2020  ction",.        
-00022af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022b00: 2020 2020 6e61 6d65 2c0a 2020 2020 2020      name,.      
-00022b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022b20: 2020 2020 2020 7479 7065 2873 656c 6629        type(self)
-00022b30: 2e5f 5f6e 616d 655f 5f2c 0a20 2020 2020  .__name__,.     
-00022b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022b50: 2020 2020 2020 2065 2e72 6573 756c 7473         e.results
-00022b60: 4e61 6d65 2c0a 2020 2020 2020 2020 2020  Name,.          
-00022b70: 2020 2020 2020 2020 2020 2020 2020 292c                ),
-00022b80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00022b90: 2020 2020 2020 2020 2073 7461 636b 6c65           stackle
-00022ba0: 7665 6c3d 332c 0a20 2020 2020 2020 2020  vel=3,.         
-00022bb0: 2020 2020 2020 2020 2020 2029 0a0a 2020             )..  
-00022bc0: 2020 2020 2020 7265 7475 726e 2073 7570        return sup
-00022bd0: 6572 2829 2e5f 7365 7452 6573 756c 7473  er()._setResults
-00022be0: 4e61 6d65 286e 616d 652c 206c 6973 7441  Name(name, listA
-00022bf0: 6c6c 4d61 7463 6865 7329 0a0a 2020 2020  llMatches)..    
-00022c00: 2320 436f 6d70 6174 6962 696c 6974 7920  # Compatibility 
-00022c10: 7379 6e6f 6e79 6d73 0a20 2020 2023 2066  synonyms.    # f
-00022c20: 6d74 3a20 6f66 660a 2020 2020 4072 6570  mt: off.    @rep
-00022c30: 6c61 6365 645f 6279 5f70 6570 3828 6c65  laced_by_pep8(le
-00022c40: 6176 655f 7768 6974 6573 7061 6365 290a  ave_whitespace).
-00022c50: 2020 2020 6465 6620 6c65 6176 6557 6869      def leaveWhi
-00022c60: 7465 7370 6163 6528 7365 6c66 293a 202e  tespace(self): .
-00022c70: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
-00022c80: 645f 6279 5f70 6570 3828 6967 6e6f 7265  d_by_pep8(ignore
-00022c90: 5f77 6869 7465 7370 6163 6529 0a20 2020  _whitespace).   
-00022ca0: 2064 6566 2069 676e 6f72 6557 6869 7465   def ignoreWhite
-00022cb0: 7370 6163 6528 7365 6c66 293a 202e 2e2e  space(self): ...
-00022cc0: 0a20 2020 2023 2066 6d74 3a20 6f6e 0a0a  .    # fmt: on..
-00022cd0: 0a63 6c61 7373 2041 6e64 2850 6172 7365  .class And(Parse
-00022ce0: 4578 7072 6573 7369 6f6e 293a 0a20 2020  Expression):.   
-00022cf0: 2022 2222 0a20 2020 2052 6571 7569 7265   """.    Require
-00022d00: 7320 616c 6c20 6769 7665 6e20 3a63 6c61  s all given :cla
-00022d10: 7373 3a60 5061 7273 6545 7870 7265 7373  ss:`ParseExpress
-00022d20: 696f 6e60 2073 2074 6f20 6265 2066 6f75  ion` s to be fou
-00022d30: 6e64 2069 6e20 7468 6520 6769 7665 6e20  nd in the given 
-00022d40: 6f72 6465 722e 0a20 2020 2045 7870 7265  order..    Expre
-00022d50: 7373 696f 6e73 206d 6179 2062 6520 7365  ssions may be se
-00022d60: 7061 7261 7465 6420 6279 2077 6869 7465  parated by white
-00022d70: 7370 6163 652e 0a20 2020 204d 6179 2062  space..    May b
-00022d80: 6520 636f 6e73 7472 7563 7465 6420 7573  e constructed us
-00022d90: 696e 6720 7468 6520 6060 272b 2760 6020  ing the ``'+'`` 
-00022da0: 6f70 6572 6174 6f72 2e0a 2020 2020 4d61  operator..    Ma
-00022db0: 7920 616c 736f 2062 6520 636f 6e73 7472  y also be constr
-00022dc0: 7563 7465 6420 7573 696e 6720 7468 6520  ucted using the 
-00022dd0: 6060 272d 2760 6020 6f70 6572 6174 6f72  ``'-'`` operator
-00022de0: 2c20 7768 6963 6820 7769 6c6c 0a20 2020  , which will.   
-00022df0: 2073 7570 7072 6573 7320 6261 636b 7472   suppress backtr
-00022e00: 6163 6b69 6e67 2e0a 0a20 2020 2045 7861  acking...    Exa
-00022e10: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
-00022e20: 696e 7465 6765 7220 3d20 576f 7264 286e  integer = Word(n
-00022e30: 756d 7329 0a20 2020 2020 2020 206e 616d  ums).        nam
-00022e40: 655f 6578 7072 203d 2057 6f72 6428 616c  e_expr = Word(al
-00022e50: 7068 6173 295b 312c 202e 2e2e 5d0a 0a20  phas)[1, ...].. 
-00022e60: 2020 2020 2020 2065 7870 7220 3d20 416e         expr = An
-00022e70: 6428 5b69 6e74 6567 6572 2822 6964 2229  d([integer("id")
-00022e80: 2c20 6e61 6d65 5f65 7870 7228 226e 616d  , name_expr("nam
-00022e90: 6522 292c 2069 6e74 6567 6572 2822 6167  e"), integer("ag
-00022ea0: 6522 295d 290a 2020 2020 2020 2020 2320  e")]).        # 
-00022eb0: 6d6f 7265 2065 6173 696c 7920 7772 6974  more easily writ
-00022ec0: 7465 6e20 6173 3a0a 2020 2020 2020 2020  ten as:.        
-00022ed0: 6578 7072 203d 2069 6e74 6567 6572 2822  expr = integer("
-00022ee0: 6964 2229 202b 206e 616d 655f 6578 7072  id") + name_expr
-00022ef0: 2822 6e61 6d65 2229 202b 2069 6e74 6567  ("name") + integ
-00022f00: 6572 2822 6167 6522 290a 2020 2020 2222  er("age").    ""
-00022f10: 220a 0a20 2020 2063 6c61 7373 205f 4572  "..    class _Er
-00022f20: 726f 7253 746f 7028 456d 7074 7929 3a0a  rorStop(Empty):.
-00022f30: 2020 2020 2020 2020 6465 6620 5f5f 696e          def __in
-00022f40: 6974 5f5f 2873 656c 662c 202a 6172 6773  it__(self, *args
-00022f50: 2c20 2a2a 6b77 6172 6773 293a 0a20 2020  , **kwargs):.   
-00022f60: 2020 2020 2020 2020 2073 7570 6572 2829           super()
-00022f70: 2e5f 5f69 6e69 745f 5f28 2a61 7267 732c  .__init__(*args,
-00022f80: 202a 2a6b 7761 7267 7329 0a20 2020 2020   **kwargs).     
-00022f90: 2020 2020 2020 2073 656c 662e 6c65 6176         self.leav
-00022fa0: 655f 7768 6974 6573 7061 6365 2829 0a0a  e_whitespace()..
-00022fb0: 2020 2020 2020 2020 6465 6620 5f67 656e          def _gen
-00022fc0: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
-00022fd0: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
-00022fe0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00022ff0: 6e20 222d 220a 0a20 2020 2064 6566 205f  n "-"..    def _
-00023000: 5f69 6e69 745f 5f28 0a20 2020 2020 2020  _init__(.       
-00023010: 2073 656c 662c 2065 7870 7273 5f61 7267   self, exprs_arg
-00023020: 3a20 7479 7069 6e67 2e49 7465 7261 626c  : typing.Iterabl
-00023030: 655b 5061 7273 6572 456c 656d 656e 745d  e[ParserElement]
-00023040: 2c20 7361 7665 6c69 7374 3a20 626f 6f6c  , savelist: bool
-00023050: 203d 2054 7275 650a 2020 2020 293a 0a20   = True.    ):. 
-00023060: 2020 2020 2020 2065 7870 7273 3a20 4c69         exprs: Li
-00023070: 7374 5b50 6172 7365 7245 6c65 6d65 6e74  st[ParserElement
-00023080: 5d20 3d20 6c69 7374 2865 7870 7273 5f61  ] = list(exprs_a
-00023090: 7267 290a 2020 2020 2020 2020 6966 2065  rg).        if e
-000230a0: 7870 7273 2061 6e64 2045 6c6c 6970 7369  xprs and Ellipsi
-000230b0: 7320 696e 2065 7870 7273 3a0a 2020 2020  s in exprs:.    
-000230c0: 2020 2020 2020 2020 746d 7020 3d20 5b5d          tmp = []
-000230d0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-000230e0: 2069 2c20 6578 7072 2069 6e20 656e 756d   i, expr in enum
-000230f0: 6572 6174 6528 6578 7072 7329 3a0a 2020  erate(exprs):.  
-00023100: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00023110: 2065 7870 7220 6973 2045 6c6c 6970 7369   expr is Ellipsi
-00023120: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-00023130: 2020 2020 2020 2069 6620 6920 3c20 6c65         if i < le
-00023140: 6e28 6578 7072 7329 202d 2031 3a0a 2020  n(exprs) - 1:.  
-00023150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023160: 2020 2020 2020 736b 6970 746f 5f61 7267        skipto_arg
-00023170: 3a20 5061 7273 6572 456c 656d 656e 7420  : ParserElement 
-00023180: 3d20 7479 7069 6e67 2e63 6173 7428 0a20  = typing.cast(. 
-00023190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000231a0: 2020 2020 2020 2020 2020 2050 6172 7365             Parse
-000231b0: 4578 7072 6573 7369 6f6e 2c20 2845 6d70  Expression, (Emp
-000231c0: 7479 2829 202b 2065 7870 7273 5b69 202b  ty() + exprs[i +
-000231d0: 2031 5d29 0a20 2020 2020 2020 2020 2020   1]).           
-000231e0: 2020 2020 2020 2020 2020 2020 2029 2e65               ).e
-000231f0: 7870 7273 5b2d 315d 0a20 2020 2020 2020  xprs[-1].       
-00023200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023210: 2074 6d70 2e61 7070 656e 6428 536b 6970   tmp.append(Skip
-00023220: 546f 2873 6b69 7074 6f5f 6172 6729 2822  To(skipto_arg)("
-00023230: 5f73 6b69 7070 6564 2a22 2929 0a20 2020  _skipped*")).   
-00023240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023250: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00023260: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00023270: 6169 7365 2045 7863 6570 7469 6f6e 280a  aise Exception(.
-00023280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023290: 2020 2020 2020 2020 2020 2020 2263 616e              "can
-000232a0: 6e6f 7420 636f 6e73 7472 7563 7420 416e  not construct An
-000232b0: 6420 7769 7468 2073 6571 7565 6e63 6520  d with sequence 
-000232c0: 656e 6469 6e67 2069 6e20 2e2e 2e22 0a20  ending in ...". 
-000232d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000232e0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-000232f0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00023300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023310: 2020 2074 6d70 2e61 7070 656e 6428 6578     tmp.append(ex
-00023320: 7072 290a 2020 2020 2020 2020 2020 2020  pr).            
-00023330: 6578 7072 735b 3a5d 203d 2074 6d70 0a20  exprs[:] = tmp. 
-00023340: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
-00023350: 5f69 6e69 745f 5f28 6578 7072 732c 2073  _init__(exprs, s
-00023360: 6176 656c 6973 7429 0a20 2020 2020 2020  avelist).       
-00023370: 2069 6620 7365 6c66 2e65 7870 7273 3a0a   if self.exprs:.
-00023380: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00023390: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
-000233a0: 3d20 616c 6c28 652e 6d61 7952 6574 7572  = all(e.mayRetur
-000233b0: 6e45 6d70 7479 2066 6f72 2065 2069 6e20  nEmpty for e in 
-000233c0: 7365 6c66 2e65 7870 7273 290a 2020 2020  self.exprs).    
-000233d0: 2020 2020 2020 2020 6966 206e 6f74 2069          if not i
-000233e0: 7369 6e73 7461 6e63 6528 7365 6c66 2e65  sinstance(self.e
-000233f0: 7870 7273 5b30 5d2c 2057 6869 7465 293a  xprs[0], White):
-00023400: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023410: 2073 656c 662e 7365 745f 7768 6974 6573   self.set_whites
-00023420: 7061 6365 5f63 6861 7273 280a 2020 2020  pace_chars(.    
-00023430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023440: 7365 6c66 2e65 7870 7273 5b30 5d2e 7768  self.exprs[0].wh
-00023450: 6974 6543 6861 7273 2c0a 2020 2020 2020  iteChars,.      
-00023460: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00023470: 7079 5f64 6566 6175 6c74 733d 7365 6c66  py_defaults=self
-00023480: 2e65 7870 7273 5b30 5d2e 636f 7079 4465  .exprs[0].copyDe
-00023490: 6661 756c 7457 6869 7465 4368 6172 732c  faultWhiteChars,
-000234a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000234b0: 2029 0a20 2020 2020 2020 2020 2020 2020   ).             
-000234c0: 2020 2073 656c 662e 736b 6970 5768 6974     self.skipWhit
-000234d0: 6573 7061 6365 203d 2073 656c 662e 6578  espace = self.ex
-000234e0: 7072 735b 305d 2e73 6b69 7057 6869 7465  prs[0].skipWhite
-000234f0: 7370 6163 650a 2020 2020 2020 2020 2020  space.          
-00023500: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00023510: 2020 2020 2020 2020 7365 6c66 2e73 6b69          self.ski
-00023520: 7057 6869 7465 7370 6163 6520 3d20 4661  pWhitespace = Fa
-00023530: 6c73 650a 2020 2020 2020 2020 656c 7365  lse.        else
-00023540: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00023550: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
-00023560: 7920 3d20 5472 7565 0a20 2020 2020 2020  y = True.       
-00023570: 2073 656c 662e 6361 6c6c 5072 6570 6172   self.callPrepar
-00023580: 7365 203d 2054 7275 650a 0a20 2020 2064  se = True..    d
-00023590: 6566 2073 7472 6561 6d6c 696e 6528 7365  ef streamline(se
-000235a0: 6c66 2920 2d3e 2050 6172 7365 7245 6c65  lf) -> ParserEle
-000235b0: 6d65 6e74 3a0a 2020 2020 2020 2020 2320  ment:.        # 
-000235c0: 636f 6c6c 6170 7365 2061 6e79 205f 5065  collapse any _Pe
-000235d0: 6e64 696e 6753 6b69 7027 730a 2020 2020  ndingSkip's.    
-000235e0: 2020 2020 6966 2073 656c 662e 6578 7072      if self.expr
-000235f0: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
-00023600: 6620 616e 7928 0a20 2020 2020 2020 2020  f any(.         
-00023610: 2020 2020 2020 2069 7369 6e73 7461 6e63         isinstanc
-00023620: 6528 652c 2050 6172 7365 4578 7072 6573  e(e, ParseExpres
-00023630: 7369 6f6e 290a 2020 2020 2020 2020 2020  sion).          
-00023640: 2020 2020 2020 616e 6420 652e 6578 7072        and e.expr
-00023650: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-00023660: 2020 616e 6420 6973 696e 7374 616e 6365    and isinstance
-00023670: 2865 2e65 7870 7273 5b2d 315d 2c20 5f50  (e.exprs[-1], _P
-00023680: 656e 6469 6e67 536b 6970 290a 2020 2020  endingSkip).    
-00023690: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-000236a0: 6520 696e 2073 656c 662e 6578 7072 735b  e in self.exprs[
-000236b0: 3a2d 315d 0a20 2020 2020 2020 2020 2020  :-1].           
-000236c0: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
-000236d0: 2020 2020 6465 6c65 7465 645f 6578 7072      deleted_expr
-000236e0: 5f6d 6172 6b65 7220 3d20 4e6f 4d61 7463  _marker = NoMatc
-000236f0: 6828 290a 2020 2020 2020 2020 2020 2020  h().            
-00023700: 2020 2020 666f 7220 692c 2065 2069 6e20      for i, e in 
-00023710: 656e 756d 6572 6174 6528 7365 6c66 2e65  enumerate(self.e
-00023720: 7870 7273 5b3a 2d31 5d29 3a0a 2020 2020  xprs[:-1]):.    
-00023730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023740: 6966 2065 2069 7320 6465 6c65 7465 645f  if e is deleted_
-00023750: 6578 7072 5f6d 6172 6b65 723a 0a20 2020  expr_marker:.   
-00023760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023770: 2020 2020 2063 6f6e 7469 6e75 650a 2020       continue.  
-00023780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023790: 2020 6966 2028 0a20 2020 2020 2020 2020    if (.         
-000237a0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-000237b0: 7369 6e73 7461 6e63 6528 652c 2050 6172  sinstance(e, Par
-000237c0: 7365 4578 7072 6573 7369 6f6e 290a 2020  seExpression).  
-000237d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000237e0: 2020 2020 2020 616e 6420 652e 6578 7072        and e.expr
-000237f0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-00023800: 2020 2020 2020 2020 2020 616e 6420 6973            and is
-00023810: 696e 7374 616e 6365 2865 2e65 7870 7273  instance(e.exprs
-00023820: 5b2d 315d 2c20 5f50 656e 6469 6e67 536b  [-1], _PendingSk
-00023830: 6970 290a 2020 2020 2020 2020 2020 2020  ip).            
-00023840: 2020 2020 2020 2020 293a 0a20 2020 2020          ):.     
-00023850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023860: 2020 2065 2e65 7870 7273 5b2d 315d 203d     e.exprs[-1] =
-00023870: 2065 2e65 7870 7273 5b2d 315d 202b 2073   e.exprs[-1] + s
-00023880: 656c 662e 6578 7072 735b 6920 2b20 315d  elf.exprs[i + 1]
-00023890: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000238a0: 2020 2020 2020 2020 2073 656c 662e 6578           self.ex
-000238b0: 7072 735b 6920 2b20 315d 203d 2064 656c  prs[i + 1] = del
-000238c0: 6574 6564 5f65 7870 725f 6d61 726b 6572  eted_expr_marker
-000238d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000238e0: 2073 656c 662e 6578 7072 7320 3d20 5b65   self.exprs = [e
-000238f0: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
-00023900: 7870 7273 2069 6620 6520 6973 206e 6f74  xprs if e is not
-00023910: 2064 656c 6574 6564 5f65 7870 725f 6d61   deleted_expr_ma
-00023920: 726b 6572 5d0a 0a20 2020 2020 2020 2073  rker]..        s
-00023930: 7570 6572 2829 2e73 7472 6561 6d6c 696e  uper().streamlin
-00023940: 6528 290a 0a20 2020 2020 2020 2023 206c  e()..        # l
-00023950: 696e 6b20 616e 7920 496e 6465 6e74 6564  ink any Indented
-00023960: 426c 6f63 6b73 2074 6f20 7468 6520 7072  Blocks to the pr
-00023970: 696f 7220 6578 7072 6573 7369 6f6e 0a20  ior expression. 
-00023980: 2020 2020 2020 2070 7265 763a 2050 6172         prev: Par
-00023990: 7365 7245 6c65 6d65 6e74 0a20 2020 2020  serElement.     
-000239a0: 2020 2063 7572 3a20 5061 7273 6572 456c     cur: ParserEl
-000239b0: 656d 656e 740a 2020 2020 2020 2020 666f  ement.        fo
-000239c0: 7220 7072 6576 2c20 6375 7220 696e 207a  r prev, cur in z
-000239d0: 6970 2873 656c 662e 6578 7072 732c 2073  ip(self.exprs, s
-000239e0: 656c 662e 6578 7072 735b 313a 5d29 3a0a  elf.exprs[1:]):.
-000239f0: 2020 2020 2020 2020 2020 2020 2320 7472              # tr
-00023a00: 6176 6572 7365 2063 7572 206f 7220 616e  averse cur or an
-00023a10: 7920 6669 7273 7420 656d 6265 6464 6564  y first embedded
-00023a20: 2065 7870 7220 6f66 2063 7572 206c 6f6f   expr of cur loo
-00023a30: 6b69 6e67 2066 6f72 2061 6e20 496e 6465  king for an Inde
-00023a40: 6e74 6564 426c 6f63 6b0a 2020 2020 2020  ntedBlock.      
-00023a50: 2020 2020 2020 2320 2862 7574 2077 6174        # (but wat
-00023a60: 6368 206f 7574 2066 6f72 2072 6563 7572  ch out for recur
-00023a70: 7369 7665 2067 7261 6d6d 6172 290a 2020  sive grammar).  
-00023a80: 2020 2020 2020 2020 2020 7365 656e 203d            seen =
-00023a90: 2073 6574 2829 0a20 2020 2020 2020 2020   set().         
-00023aa0: 2020 2077 6869 6c65 2054 7275 653a 0a20     while True:. 
-00023ab0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00023ac0: 6620 6964 2863 7572 2920 696e 2073 6565  f id(cur) in see
-00023ad0: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
-00023ae0: 2020 2020 2020 2062 7265 616b 0a20 2020         break.   
-00023af0: 2020 2020 2020 2020 2020 2020 2073 6565               see
-00023b00: 6e2e 6164 6428 6964 2863 7572 2929 0a20  n.add(id(cur)). 
-00023b10: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00023b20: 6620 6973 696e 7374 616e 6365 2863 7572  f isinstance(cur
-00023b30: 2c20 496e 6465 6e74 6564 426c 6f63 6b29  , IndentedBlock)
-00023b40: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00023b50: 2020 2020 2020 7072 6576 2e61 6464 5f70        prev.add_p
-00023b60: 6172 7365 5f61 6374 696f 6e28 0a20 2020  arse_action(.   
-00023b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023b80: 2020 2020 206c 616d 6264 6120 732c 206c       lambda s, l
-00023b90: 2c20 742c 2063 7572 5f3d 6375 723a 2073  , t, cur_=cur: s
-00023ba0: 6574 6174 7472 280a 2020 2020 2020 2020  etattr(.        
-00023bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023bc0: 2020 2020 6375 725f 2c20 2270 6172 656e      cur_, "paren
-00023bd0: 745f 616e 6368 6f72 222c 2063 6f6c 286c  t_anchor", col(l
-00023be0: 2c20 7329 0a20 2020 2020 2020 2020 2020  , s).           
-00023bf0: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
+0001de10: 6622 7b73 6570 7d28 3f3a 220a 2020 2020  f"{sep}(?:".    
+0001de20: 2020 2020 2020 2020 2020 2020 2b20 227c              + "|
+0001de30: 222e 6a6f 696e 280a 2020 2020 2020 2020  ".join(.        
+0001de40: 2020 2020 2020 2020 2020 2020 6622 283f              f"(?
+0001de50: 3a7b 7265 2e65 7363 6170 6528 7365 6c66  :{re.escape(self
+0001de60: 2e65 6e64 5175 6f74 6543 6861 725b 3a69  .endQuoteChar[:i
+0001de70: 5d29 7d28 3f21 7b72 652e 6573 6361 7065  ])}(?!{re.escape
+0001de80: 2873 656c 662e 656e 6451 756f 7465 4368  (self.endQuoteCh
+0001de90: 6172 5b69 3a5d 297d 2929 220a 2020 2020  ar[i:])}))".    
+0001dea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001deb0: 666f 7220 6920 696e 2072 616e 6765 286c  for i in range(l
+0001dec0: 656e 2873 656c 662e 656e 6451 756f 7465  en(self.endQuote
+0001ded0: 4368 6172 2920 2d20 312c 2030 2c20 2d31  Char) - 1, 0, -1
+0001dee0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001def0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+0001df00: 2020 2020 2b20 2229 220a 2020 2020 2020      + ")".      
+0001df10: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+0001df20: 2020 2020 7365 7020 3d20 227c 220a 0a20      sep = "|".. 
+0001df30: 2020 2020 2020 2073 656c 662e 666c 6167         self.flag
+0001df40: 7320 3d20 7265 2e52 6567 6578 466c 6167  s = re.RegexFlag
+0001df50: 2830 290a 0a20 2020 2020 2020 2069 6620  (0)..        if 
+0001df60: 6d75 6c74 696c 696e 653a 0a20 2020 2020  multiline:.     
+0001df70: 2020 2020 2020 2073 656c 662e 666c 6167         self.flag
+0001df80: 7320 3d20 7265 2e4d 554c 5449 4c49 4e45  s = re.MULTILINE
+0001df90: 207c 2072 652e 444f 5441 4c4c 0a20 2020   | re.DOTALL.   
+0001dfa0: 2020 2020 2020 2020 2069 6e6e 6572 5f70           inner_p
+0001dfb0: 6174 7465 726e 202b 3d20 280a 2020 2020  attern += (.    
+0001dfc0: 2020 2020 2020 2020 2020 2020 7266 227b              rf"{
+0001dfd0: 7365 707d 283f 3a5b 5e7b 5f65 7363 6170  sep}(?:[^{_escap
+0001dfe0: 655f 7265 6765 785f 7261 6e67 655f 6368  e_regex_range_ch
+0001dff0: 6172 7328 7365 6c66 2e65 6e64 5175 6f74  ars(self.endQuot
+0001e000: 6543 6861 725b 305d 297d 220a 2020 2020  eChar[0])}".    
+0001e010: 2020 2020 2020 2020 2020 2020 7266 227b              rf"{
+0001e020: 285f 6573 6361 7065 5f72 6567 6578 5f72  (_escape_regex_r
+0001e030: 616e 6765 5f63 6861 7273 2865 7363 4368  ange_chars(escCh
+0001e040: 6172 2920 6966 2065 7363 4368 6172 2069  ar) if escChar i
+0001e050: 7320 6e6f 7420 4e6f 6e65 2065 6c73 6520  s not None else 
+0001e060: 2727 297d 5d29 220a 2020 2020 2020 2020  '')}])".        
+0001e070: 2020 2020 290a 2020 2020 2020 2020 656c      ).        el
+0001e080: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001e090: 696e 6e65 725f 7061 7474 6572 6e20 2b3d  inner_pattern +=
+0001e0a0: 2028 0a20 2020 2020 2020 2020 2020 2020   (.             
+0001e0b0: 2020 2072 6622 7b73 6570 7d28 3f3a 5b5e     rf"{sep}(?:[^
+0001e0c0: 7b5f 6573 6361 7065 5f72 6567 6578 5f72  {_escape_regex_r
+0001e0d0: 616e 6765 5f63 6861 7273 2873 656c 662e  ange_chars(self.
+0001e0e0: 656e 6451 756f 7465 4368 6172 5b30 5d29  endQuoteChar[0])
+0001e0f0: 7d5c 6e5c 7222 0a20 2020 2020 2020 2020  }\n\r".         
+0001e100: 2020 2020 2020 2072 6622 7b28 5f65 7363         rf"{(_esc
+0001e110: 6170 655f 7265 6765 785f 7261 6e67 655f  ape_regex_range_
+0001e120: 6368 6172 7328 6573 6343 6861 7229 2069  chars(escChar) i
+0001e130: 6620 6573 6343 6861 7220 6973 206e 6f74  f escChar is not
+0001e140: 204e 6f6e 6520 656c 7365 2027 2729 7d5d   None else '')}]
+0001e150: 2922 0a20 2020 2020 2020 2020 2020 2029  )".            )
+0001e160: 0a0a 2020 2020 2020 2020 7365 6c66 2e70  ..        self.p
+0001e170: 6174 7465 726e 203d 2022 222e 6a6f 696e  attern = "".join
+0001e180: 280a 2020 2020 2020 2020 2020 2020 5b0a  (.            [.
+0001e190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e1a0: 7265 2e65 7363 6170 6528 7365 6c66 2e71  re.escape(self.q
+0001e1b0: 756f 7465 4368 6172 292c 0a20 2020 2020  uoteChar),.     
+0001e1c0: 2020 2020 2020 2020 2020 2022 283f 3a22             "(?:"
+0001e1d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001e1e0: 2020 696e 6e65 725f 7061 7474 6572 6e2c    inner_pattern,
+0001e1f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001e200: 2022 292a 222c 0a20 2020 2020 2020 2020   ")*",.         
+0001e210: 2020 2020 2020 2072 652e 6573 6361 7065         re.escape
+0001e220: 2873 656c 662e 656e 6451 756f 7465 4368  (self.endQuoteCh
+0001e230: 6172 292c 0a20 2020 2020 2020 2020 2020  ar),.           
+0001e240: 205d 0a20 2020 2020 2020 2029 0a0a 2020   ].        )..  
+0001e250: 2020 2020 2020 6966 2073 656c 662e 756e        if self.un
+0001e260: 7175 6f74 6552 6573 756c 7473 3a0a 2020  quoteResults:.  
+0001e270: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
+0001e280: 662e 636f 6e76 6572 7457 6869 7465 7370  f.convertWhitesp
+0001e290: 6163 6545 7363 6170 6573 3a0a 2020 2020  aceEscapes:.    
+0001e2a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001e2b0: 2e75 6e71 756f 7465 5f73 6361 6e5f 7265  .unquote_scan_re
+0001e2c0: 203d 2072 652e 636f 6d70 696c 6528 0a20   = re.compile(. 
+0001e2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e2e0: 2020 2072 6622 287b 277c 272e 6a6f 696e     rf"({'|'.join
+0001e2f0: 2872 652e 6573 6361 7065 286b 2920 666f  (re.escape(k) fo
+0001e300: 7220 6b20 696e 2073 656c 662e 7773 5f6d  r k in self.ws_m
+0001e310: 6170 297d 297c 287b 7265 2e65 7363 6170  ap)})|({re.escap
+0001e320: 6528 7365 6c66 2e65 7363 4368 6172 297d  e(self.escChar)}
+0001e330: 2e29 7c28 5c6e 7c2e 2922 2c0a 2020 2020  .)|(\n|.)",.    
+0001e340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e350: 666c 6167 733d 7365 6c66 2e66 6c61 6773  flags=self.flags
+0001e360: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001e370: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+0001e380: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0001e390: 2020 2020 2020 7365 6c66 2e75 6e71 756f        self.unquo
+0001e3a0: 7465 5f73 6361 6e5f 7265 203d 2072 652e  te_scan_re = re.
+0001e3b0: 636f 6d70 696c 6528 0a20 2020 2020 2020  compile(.       
+0001e3c0: 2020 2020 2020 2020 2020 2020 2072 6622               rf"
+0001e3d0: 287b 7265 2e65 7363 6170 6528 7365 6c66  ({re.escape(self
+0001e3e0: 2e65 7363 4368 6172 297d 2e29 7c28 5c6e  .escChar)}.)|(\n
+0001e3f0: 7c2e 2922 2c20 666c 6167 733d 7365 6c66  |.)", flags=self
+0001e400: 2e66 6c61 6773 0a20 2020 2020 2020 2020  .flags.         
+0001e410: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+0001e420: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+0001e430: 2020 2073 656c 662e 7265 203d 2072 652e     self.re = re.
+0001e440: 636f 6d70 696c 6528 7365 6c66 2e70 6174  compile(self.pat
+0001e450: 7465 726e 2c20 7365 6c66 2e66 6c61 6773  tern, self.flags
+0001e460: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0001e470: 6c66 2e72 6553 7472 696e 6720 3d20 7365  lf.reString = se
+0001e480: 6c66 2e70 6174 7465 726e 0a20 2020 2020  lf.pattern.     
+0001e490: 2020 2020 2020 2073 656c 662e 7265 5f6d         self.re_m
+0001e4a0: 6174 6368 203d 2073 656c 662e 7265 2e6d  atch = self.re.m
+0001e4b0: 6174 6368 0a20 2020 2020 2020 2065 7863  atch.        exc
+0001e4c0: 6570 7420 7265 2e65 7272 6f72 3a0a 2020  ept re.error:.  
+0001e4d0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0001e4e0: 5661 6c75 6545 7272 6f72 2866 2269 6e76  ValueError(f"inv
+0001e4f0: 616c 6964 2070 6174 7465 726e 207b 7365  alid pattern {se
+0001e500: 6c66 2e70 6174 7465 726e 2172 7d20 7061  lf.pattern!r} pa
+0001e510: 7373 6564 2074 6f20 5265 6765 7822 290a  ssed to Regex").
+0001e520: 0a20 2020 2020 2020 2073 656c 662e 6572  .        self.er
+0001e530: 726d 7367 203d 2022 4578 7065 6374 6564  rmsg = "Expected
+0001e540: 2022 202b 2073 656c 662e 6e61 6d65 0a20   " + self.name. 
+0001e550: 2020 2020 2020 2073 656c 662e 6d61 7949         self.mayI
+0001e560: 6e64 6578 4572 726f 7220 3d20 4661 6c73  ndexError = Fals
+0001e570: 650a 2020 2020 2020 2020 7365 6c66 2e6d  e.        self.m
+0001e580: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
+0001e590: 5472 7565 0a0a 2020 2020 6465 6620 5f67  True..    def _g
+0001e5a0: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
+0001e5b0: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
+0001e5c0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0001e5d0: 2e71 756f 7465 4368 6172 203d 3d20 7365  .quoteChar == se
+0001e5e0: 6c66 2e65 6e64 5175 6f74 6543 6861 7220  lf.endQuoteChar 
+0001e5f0: 616e 6420 6973 696e 7374 616e 6365 2873  and isinstance(s
+0001e600: 656c 662e 7175 6f74 6543 6861 722c 2073  elf.quoteChar, s
+0001e610: 7472 5f74 7970 6529 3a0a 2020 2020 2020  tr_type):.      
+0001e620: 2020 2020 2020 7265 7475 726e 2066 2273        return f"s
+0001e630: 7472 696e 6720 656e 636c 6f73 6564 2069  tring enclosed i
+0001e640: 6e20 7b73 656c 662e 7175 6f74 6543 6861  n {self.quoteCha
+0001e650: 7221 727d 220a 0a20 2020 2020 2020 2072  r!r}"..        r
+0001e660: 6574 7572 6e20 6622 7175 6f74 6564 2073  eturn f"quoted s
+0001e670: 7472 696e 672c 2073 7461 7274 696e 6720  tring, starting 
+0001e680: 7769 7468 207b 7365 6c66 2e71 756f 7465  with {self.quote
+0001e690: 4368 6172 7d20 656e 6469 6e67 2077 6974  Char} ending wit
+0001e6a0: 6820 7b73 656c 662e 656e 6451 756f 7465  h {self.endQuote
+0001e6b0: 4368 6172 7d22 0a0a 2020 2020 6465 6620  Char}"..    def 
+0001e6c0: 7061 7273 6549 6d70 6c28 7365 6c66 2c20  parseImpl(self, 
+0001e6d0: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
+0001e6e0: 6f41 6374 696f 6e73 3d54 7275 6529 3a0a  oActions=True):.
+0001e6f0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+0001e700: 2028 0a20 2020 2020 2020 2020 2020 2069   (.            i
+0001e710: 6e73 7472 696e 675b 6c6f 635d 203d 3d20  nstring[loc] == 
+0001e720: 7365 6c66 2e66 6972 7374 5175 6f74 6543  self.firstQuoteC
+0001e730: 6861 720a 2020 2020 2020 2020 2020 2020  har.            
+0001e740: 616e 6420 7365 6c66 2e72 655f 6d61 7463  and self.re_matc
+0001e750: 6828 696e 7374 7269 6e67 2c20 6c6f 6329  h(instring, loc)
+0001e760: 0a20 2020 2020 2020 2020 2020 206f 7220  .            or 
+0001e770: 4e6f 6e65 0a20 2020 2020 2020 2029 0a20  None.        ). 
+0001e780: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
+0001e790: 7375 6c74 3a0a 2020 2020 2020 2020 2020  sult:.          
+0001e7a0: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
+0001e7b0: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
+0001e7c0: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
+0001e7d0: 672c 2073 656c 6629 0a0a 2020 2020 2020  g, self)..      
+0001e7e0: 2020 6c6f 6320 3d20 7265 7375 6c74 2e65    loc = result.e
+0001e7f0: 6e64 2829 0a20 2020 2020 2020 2072 6574  nd().        ret
+0001e800: 203d 2072 6573 756c 742e 6772 6f75 7028   = result.group(
+0001e810: 290a 0a20 2020 2020 2020 2069 6620 7365  )..        if se
+0001e820: 6c66 2e75 6e71 756f 7465 5265 7375 6c74  lf.unquoteResult
+0001e830: 733a 0a20 2020 2020 2020 2020 2020 2023  s:.            #
+0001e840: 2073 7472 6970 206f 6666 2071 756f 7465   strip off quote
+0001e850: 730a 2020 2020 2020 2020 2020 2020 7265  s.            re
+0001e860: 7420 3d20 7265 745b 7365 6c66 2e71 756f  t = ret[self.quo
+0001e870: 7465 4368 6172 4c65 6e20 3a20 2d73 656c  teCharLen : -sel
+0001e880: 662e 656e 6451 756f 7465 4368 6172 4c65  f.endQuoteCharLe
+0001e890: 6e5d 0a0a 2020 2020 2020 2020 2020 2020  n]..            
+0001e8a0: 6966 2069 7369 6e73 7461 6e63 6528 7265  if isinstance(re
+0001e8b0: 742c 2073 7472 5f74 7970 6529 3a0a 2020  t, str_type):.  
+0001e8c0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0001e8d0: 2073 656c 662e 636f 6e76 6572 7457 6869   self.convertWhi
+0001e8e0: 7465 7370 6163 6545 7363 6170 6573 3a0a  tespaceEscapes:.
+0001e8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e900: 2020 2020 7265 7420 3d20 2222 2e6a 6f69      ret = "".joi
+0001e910: 6e28 0a20 2020 2020 2020 2020 2020 2020  n(.             
+0001e920: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001e930: 7773 5f6d 6170 5b6d 6174 6368 2e67 726f  ws_map[match.gro
+0001e940: 7570 2831 295d 0a20 2020 2020 2020 2020  up(1)].         
+0001e950: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001e960: 6620 6d61 7463 682e 6772 6f75 7028 3129  f match.group(1)
+0001e970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001e980: 2020 2020 2020 2020 2065 6c73 6520 6d61           else ma
+0001e990: 7463 682e 6772 6f75 7028 3229 5b2d 315d  tch.group(2)[-1]
+0001e9a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001e9b0: 2020 2020 2020 2020 2069 6620 6d61 7463           if matc
+0001e9c0: 682e 6772 6f75 7028 3229 0a20 2020 2020  h.group(2).     
+0001e9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e9e0: 2020 2065 6c73 6520 6d61 7463 682e 6772     else match.gr
+0001e9f0: 6f75 7028 3329 0a20 2020 2020 2020 2020  oup(3).         
+0001ea00: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0001ea10: 6f72 206d 6174 6368 2069 6e20 7365 6c66  or match in self
+0001ea20: 2e75 6e71 756f 7465 5f73 6361 6e5f 7265  .unquote_scan_re
+0001ea30: 2e66 696e 6469 7465 7228 7265 7429 0a20  .finditer(ret). 
+0001ea40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ea50: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+0001ea60: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0001ea70: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0001ea80: 6574 203d 2022 222e 6a6f 696e 280a 2020  et = "".join(.  
+0001ea90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001eaa0: 2020 2020 2020 6d61 7463 682e 6772 6f75        match.grou
+0001eab0: 7028 3129 5b2d 315d 2069 6620 6d61 7463  p(1)[-1] if matc
+0001eac0: 682e 6772 6f75 7028 3129 2065 6c73 6520  h.group(1) else 
+0001ead0: 6d61 7463 682e 6772 6f75 7028 3229 0a20  match.group(2). 
+0001eae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001eaf0: 2020 2020 2020 2066 6f72 206d 6174 6368         for match
+0001eb00: 2069 6e20 7365 6c66 2e75 6e71 756f 7465   in self.unquote
+0001eb10: 5f73 6361 6e5f 7265 2e66 696e 6469 7465  _scan_re.findite
+0001eb20: 7228 7265 7429 0a20 2020 2020 2020 2020  r(ret).         
+0001eb30: 2020 2020 2020 2020 2020 2029 0a0a 2020             )..  
+0001eb40: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0001eb50: 7265 706c 6163 6520 6573 6361 7065 6420  replace escaped 
+0001eb60: 7175 6f74 6573 0a20 2020 2020 2020 2020  quotes.         
+0001eb70: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
+0001eb80: 7363 5175 6f74 653a 0a20 2020 2020 2020  scQuote:.       
+0001eb90: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+0001eba0: 203d 2072 6574 2e72 6570 6c61 6365 2873   = ret.replace(s
+0001ebb0: 656c 662e 6573 6351 756f 7465 2c20 7365  elf.escQuote, se
+0001ebc0: 6c66 2e65 6e64 5175 6f74 6543 6861 7229  lf.endQuoteChar)
+0001ebd0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0001ebe0: 206c 6f63 2c20 7265 740a 0a0a 636c 6173   loc, ret...clas
+0001ebf0: 7320 4368 6172 734e 6f74 496e 2854 6f6b  s CharsNotIn(Tok
+0001ec00: 656e 293a 0a20 2020 2022 2222 546f 6b65  en):.    """Toke
+0001ec10: 6e20 666f 7220 6d61 7463 6869 6e67 2077  n for matching w
+0001ec20: 6f72 6473 2063 6f6d 706f 7365 6420 6f66  ords composed of
+0001ec30: 2063 6861 7261 6374 6572 7320 2a6e 6f74   characters *not
+0001ec40: 2a20 696e 2061 2067 6976 656e 0a20 2020  * in a given.   
+0001ec50: 2073 6574 2028 7769 6c6c 2069 6e63 6c75   set (will inclu
+0001ec60: 6465 2077 6869 7465 7370 6163 6520 696e  de whitespace in
+0001ec70: 206d 6174 6368 6564 2063 6861 7261 6374   matched charact
+0001ec80: 6572 7320 6966 206e 6f74 206c 6973 7465  ers if not liste
+0001ec90: 6420 696e 0a20 2020 2074 6865 2070 726f  d in.    the pro
+0001eca0: 7669 6465 6420 6578 636c 7573 696f 6e20  vided exclusion 
+0001ecb0: 7365 7420 2d20 7365 6520 6578 616d 706c  set - see exampl
+0001ecc0: 6529 2e20 4465 6669 6e65 6420 7769 7468  e). Defined with
+0001ecd0: 2073 7472 696e 670a 2020 2020 636f 6e74   string.    cont
+0001ece0: 6169 6e69 6e67 2061 6c6c 2064 6973 616c  aining all disal
+0001ecf0: 6c6f 7765 6420 6368 6172 6163 7465 7273  lowed characters
+0001ed00: 2c20 616e 6420 616e 206f 7074 696f 6e61  , and an optiona
+0001ed10: 6c20 6d69 6e69 6d75 6d2c 0a20 2020 206d  l minimum,.    m
+0001ed20: 6178 696d 756d 2c20 616e 642f 6f72 2065  aximum, and/or e
+0001ed30: 7861 6374 206c 656e 6774 682e 2020 5468  xact length.  Th
+0001ed40: 6520 6465 6661 756c 7420 7661 6c75 6520  e default value 
+0001ed50: 666f 7220 6060 6d69 6e60 6020 6973 0a20  for ``min`` is. 
+0001ed60: 2020 2031 2028 6120 6d69 6e69 6d75 6d20     1 (a minimum 
+0001ed70: 7661 6c75 6520 3c20 3120 6973 206e 6f74  value < 1 is not
+0001ed80: 2076 616c 6964 293b 2074 6865 2064 6566   valid); the def
+0001ed90: 6175 6c74 2076 616c 7565 7320 666f 720a  ault values for.
+0001eda0: 2020 2020 6060 6d61 7860 6020 616e 6420      ``max`` and 
+0001edb0: 6060 6578 6163 7460 6020 6172 6520 302c  ``exact`` are 0,
+0001edc0: 206d 6561 6e69 6e67 206e 6f20 6d61 7869   meaning no maxi
+0001edd0: 6d75 6d20 6f72 2065 7861 6374 0a20 2020  mum or exact.   
+0001ede0: 206c 656e 6774 6820 7265 7374 7269 6374   length restrict
+0001edf0: 696f 6e2e 0a0a 2020 2020 4578 616d 706c  ion...    Exampl
+0001ee00: 653a 3a0a 0a20 2020 2020 2020 2023 2064  e::..        # d
+0001ee10: 6566 696e 6520 6120 636f 6d6d 612d 7365  efine a comma-se
+0001ee20: 7061 7261 7465 642d 7661 6c75 6520 6173  parated-value as
+0001ee30: 2061 6e79 7468 696e 6720 7468 6174 2069   anything that i
+0001ee40: 7320 6e6f 7420 6120 272c 270a 2020 2020  s not a ','.    
+0001ee50: 2020 2020 6373 765f 7661 6c75 6520 3d20      csv_value = 
+0001ee60: 4368 6172 734e 6f74 496e 2827 2c27 290a  CharsNotIn(',').
+0001ee70: 2020 2020 2020 2020 7072 696e 7428 6465          print(de
+0001ee80: 6c69 6d69 7465 645f 6c69 7374 2863 7376  limited_list(csv
+0001ee90: 5f76 616c 7565 292e 7061 7273 655f 7374  _value).parse_st
+0001eea0: 7269 6e67 2822 646b 6c73 2c6c 7364 6b6a  ring("dkls,lsdkj
+0001eeb0: 662c 7331 3220 3334 2c40 2123 2c32 3133  f,s12 34,@!#,213
+0001eec0: 2229 290a 0a20 2020 2070 7269 6e74 733a  "))..    prints:
+0001eed0: 3a0a 0a20 2020 2020 2020 205b 2764 6b6c  :..        ['dkl
+0001eee0: 7327 2c20 276c 7364 6b6a 6627 2c20 2773  s', 'lsdkjf', 's
+0001eef0: 3132 2033 3427 2c20 2740 2123 272c 2027  12 34', '@!#', '
+0001ef00: 3231 3327 5d0a 2020 2020 2222 220a 0a20  213'].    """.. 
+0001ef10: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
+0001ef20: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+0001ef30: 2020 2020 2020 206e 6f74 5f63 6861 7273         not_chars
+0001ef40: 3a20 7374 7220 3d20 2222 2c0a 2020 2020  : str = "",.    
+0001ef50: 2020 2020 6d69 6e3a 2069 6e74 203d 2031      min: int = 1
+0001ef60: 2c0a 2020 2020 2020 2020 6d61 783a 2069  ,.        max: i
+0001ef70: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
+0001ef80: 6578 6163 743a 2069 6e74 203d 2030 2c0a  exact: int = 0,.
+0001ef90: 2020 2020 2020 2020 2a2c 0a20 2020 2020          *,.     
+0001efa0: 2020 206e 6f74 4368 6172 733a 2073 7472     notChars: str
+0001efb0: 203d 2022 222c 0a20 2020 2029 3a0a 2020   = "",.    ):.  
+0001efc0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
+0001efd0: 696e 6974 5f5f 2829 0a20 2020 2020 2020  init__().       
+0001efe0: 2073 656c 662e 736b 6970 5768 6974 6573   self.skipWhites
+0001eff0: 7061 6365 203d 2046 616c 7365 0a20 2020  pace = False.   
+0001f000: 2020 2020 2073 656c 662e 6e6f 7443 6861       self.notCha
+0001f010: 7273 203d 206e 6f74 5f63 6861 7273 206f  rs = not_chars o
+0001f020: 7220 6e6f 7443 6861 7273 0a20 2020 2020  r notChars.     
+0001f030: 2020 2073 656c 662e 6e6f 7443 6861 7273     self.notChars
+0001f040: 5365 7420 3d20 7365 7428 7365 6c66 2e6e  Set = set(self.n
+0001f050: 6f74 4368 6172 7329 0a0a 2020 2020 2020  otChars)..      
+0001f060: 2020 6966 206d 696e 203c 2031 3a0a 2020    if min < 1:.  
+0001f070: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0001f080: 5661 6c75 6545 7272 6f72 280a 2020 2020  ValueError(.    
+0001f090: 2020 2020 2020 2020 2020 2020 2263 616e              "can
+0001f0a0: 6e6f 7420 7370 6563 6966 7920 6120 6d69  not specify a mi
+0001f0b0: 6e69 6d75 6d20 6c65 6e67 7468 203c 2031  nimum length < 1
+0001f0c0: 3b20 7573 6520 220a 2020 2020 2020 2020  ; use ".        
+0001f0d0: 2020 2020 2020 2020 224f 7074 2843 6861          "Opt(Cha
+0001f0e0: 7273 4e6f 7449 6e28 2929 2069 6620 7a65  rsNotIn()) if ze
+0001f0f0: 726f 2d6c 656e 6774 6820 6368 6172 2067  ro-length char g
+0001f100: 726f 7570 2069 7320 7065 726d 6974 7465  roup is permitte
+0001f110: 6422 0a20 2020 2020 2020 2020 2020 2029  d".            )
+0001f120: 0a0a 2020 2020 2020 2020 7365 6c66 2e6d  ..        self.m
+0001f130: 696e 4c65 6e20 3d20 6d69 6e0a 0a20 2020  inLen = min..   
+0001f140: 2020 2020 2069 6620 6d61 7820 3e20 303a       if max > 0:
+0001f150: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0001f160: 662e 6d61 784c 656e 203d 206d 6178 0a20  f.maxLen = max. 
+0001f170: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001f180: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+0001f190: 784c 656e 203d 205f 4d41 585f 494e 540a  xLen = _MAX_INT.
+0001f1a0: 0a20 2020 2020 2020 2069 6620 6578 6163  .        if exac
+0001f1b0: 7420 3e20 303a 0a20 2020 2020 2020 2020  t > 0:.         
+0001f1c0: 2020 2073 656c 662e 6d61 784c 656e 203d     self.maxLen =
+0001f1d0: 2065 7861 6374 0a20 2020 2020 2020 2020   exact.         
+0001f1e0: 2020 2073 656c 662e 6d69 6e4c 656e 203d     self.minLen =
+0001f1f0: 2065 7861 6374 0a0a 2020 2020 2020 2020   exact..        
+0001f200: 7365 6c66 2e65 7272 6d73 6720 3d20 2245  self.errmsg = "E
+0001f210: 7870 6563 7465 6420 2220 2b20 7365 6c66  xpected " + self
+0001f220: 2e6e 616d 650a 2020 2020 2020 2020 7365  .name.        se
+0001f230: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
+0001f240: 7920 3d20 7365 6c66 2e6d 696e 4c65 6e20  y = self.minLen 
+0001f250: 3d3d 2030 0a20 2020 2020 2020 2073 656c  == 0.        sel
+0001f260: 662e 6d61 7949 6e64 6578 4572 726f 7220  f.mayIndexError 
+0001f270: 3d20 4661 6c73 650a 0a20 2020 2064 6566  = False..    def
+0001f280: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
+0001f290: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
+0001f2a0: 7472 3a0a 2020 2020 2020 2020 6e6f 745f  tr:.        not_
+0001f2b0: 6368 6172 735f 7374 7220 3d20 5f63 6f6c  chars_str = _col
+0001f2c0: 6c61 7073 655f 7374 7269 6e67 5f74 6f5f  lapse_string_to_
+0001f2d0: 7261 6e67 6573 2873 656c 662e 6e6f 7443  ranges(self.notC
+0001f2e0: 6861 7273 290a 2020 2020 2020 2020 6966  hars).        if
+0001f2f0: 206c 656e 286e 6f74 5f63 6861 7273 5f73   len(not_chars_s
+0001f300: 7472 2920 3e20 3136 3a0a 2020 2020 2020  tr) > 16:.      
+0001f310: 2020 2020 2020 7265 7475 726e 2066 2221        return f"!
+0001f320: 573a 287b 7365 6c66 2e6e 6f74 4368 6172  W:({self.notChar
+0001f330: 735b 3a20 3136 202d 2033 5d7d 2e2e 2e29  s[: 16 - 3]}...)
+0001f340: 220a 2020 2020 2020 2020 656c 7365 3a0a  ".        else:.
+0001f350: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0001f360: 726e 2066 2221 573a 287b 7365 6c66 2e6e  rn f"!W:({self.n
+0001f370: 6f74 4368 6172 737d 2922 0a0a 2020 2020  otChars})"..    
+0001f380: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
+0001f390: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
+0001f3a0: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
+0001f3b0: 6529 3a0a 2020 2020 2020 2020 6e6f 7463  e):.        notc
+0001f3c0: 6861 7273 203d 2073 656c 662e 6e6f 7443  hars = self.notC
+0001f3d0: 6861 7273 5365 740a 2020 2020 2020 2020  harsSet.        
+0001f3e0: 6966 2069 6e73 7472 696e 675b 6c6f 635d  if instring[loc]
+0001f3f0: 2069 6e20 6e6f 7463 6861 7273 3a0a 2020   in notchars:.  
+0001f400: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0001f410: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
+0001f420: 6e73 7472 696e 672c 206c 6f63 2c20 7365  nstring, loc, se
+0001f430: 6c66 2e65 7272 6d73 672c 2073 656c 6629  lf.errmsg, self)
+0001f440: 0a0a 2020 2020 2020 2020 7374 6172 7420  ..        start 
+0001f450: 3d20 6c6f 630a 2020 2020 2020 2020 6c6f  = loc.        lo
+0001f460: 6320 2b3d 2031 0a20 2020 2020 2020 206d  c += 1.        m
+0001f470: 6178 6c65 6e20 3d20 6d69 6e28 7374 6172  axlen = min(star
+0001f480: 7420 2b20 7365 6c66 2e6d 6178 4c65 6e2c  t + self.maxLen,
+0001f490: 206c 656e 2869 6e73 7472 696e 6729 290a   len(instring)).
+0001f4a0: 2020 2020 2020 2020 7768 696c 6520 6c6f          while lo
+0001f4b0: 6320 3c20 6d61 786c 656e 2061 6e64 2069  c < maxlen and i
+0001f4c0: 6e73 7472 696e 675b 6c6f 635d 206e 6f74  nstring[loc] not
+0001f4d0: 2069 6e20 6e6f 7463 6861 7273 3a0a 2020   in notchars:.  
+0001f4e0: 2020 2020 2020 2020 2020 6c6f 6320 2b3d            loc +=
+0001f4f0: 2031 0a0a 2020 2020 2020 2020 6966 206c   1..        if l
+0001f500: 6f63 202d 2073 7461 7274 203c 2073 656c  oc - start < sel
+0001f510: 662e 6d69 6e4c 656e 3a0a 2020 2020 2020  f.minLen:.      
+0001f520: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+0001f530: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
+0001f540: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
+0001f550: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
+0001f560: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
+0001f570: 2c20 696e 7374 7269 6e67 5b73 7461 7274  , instring[start
+0001f580: 3a6c 6f63 5d0a 0a0a 636c 6173 7320 5768  :loc]...class Wh
+0001f590: 6974 6528 546f 6b65 6e29 3a0a 2020 2020  ite(Token):.    
+0001f5a0: 2222 2253 7065 6369 616c 206d 6174 6368  """Special match
+0001f5b0: 696e 6720 636c 6173 7320 666f 7220 6d61  ing class for ma
+0001f5c0: 7463 6869 6e67 2077 6869 7465 7370 6163  tching whitespac
+0001f5d0: 652e 2020 4e6f 726d 616c 6c79 2c0a 2020  e.  Normally,.  
+0001f5e0: 2020 7768 6974 6573 7061 6365 2069 7320    whitespace is 
+0001f5f0: 6967 6e6f 7265 6420 6279 2070 7970 6172  ignored by pypar
+0001f600: 7369 6e67 2067 7261 6d6d 6172 732e 2020  sing grammars.  
+0001f610: 5468 6973 2063 6c61 7373 2069 7320 696e  This class is in
+0001f620: 636c 7564 6564 0a20 2020 2077 6865 6e20  cluded.    when 
+0001f630: 736f 6d65 2077 6869 7465 7370 6163 6520  some whitespace 
+0001f640: 7374 7275 6374 7572 6573 2061 7265 2073  structures are s
+0001f650: 6967 6e69 6669 6361 6e74 2e20 2044 6566  ignificant.  Def
+0001f660: 696e 6520 7769 7468 0a20 2020 2061 2073  ine with.    a s
+0001f670: 7472 696e 6720 636f 6e74 6169 6e69 6e67  tring containing
+0001f680: 2074 6865 2077 6869 7465 7370 6163 6520   the whitespace 
+0001f690: 6368 6172 6163 7465 7273 2074 6f20 6265  characters to be
+0001f6a0: 206d 6174 6368 6564 3b20 6465 6661 756c   matched; defaul
+0001f6b0: 740a 2020 2020 6973 2060 6022 205c 5c74  t.    is ``" \\t
+0001f6c0: 5c5c 725c 5c6e 2260 602e 2020 416c 736f  \\r\\n"``.  Also
+0001f6d0: 2074 616b 6573 206f 7074 696f 6e61 6c20   takes optional 
+0001f6e0: 6060 6d69 6e60 602c 0a20 2020 2060 606d  ``min``,.    ``m
+0001f6f0: 6178 6060 2c20 616e 6420 6060 6578 6163  ax``, and ``exac
+0001f700: 7460 6020 6172 6775 6d65 6e74 732c 2061  t`` arguments, a
+0001f710: 7320 6465 6669 6e65 6420 666f 7220 7468  s defined for th
+0001f720: 650a 2020 2020 3a63 6c61 7373 3a60 576f  e.    :class:`Wo
+0001f730: 7264 6020 636c 6173 732e 0a20 2020 2022  rd` class..    "
+0001f740: 2222 0a0a 2020 2020 7768 6974 6553 7472  ""..    whiteStr
+0001f750: 7320 3d20 7b0a 2020 2020 2020 2020 2220  s = {.        " 
+0001f760: 223a 2022 3c53 503e 222c 0a20 2020 2020  ": "<SP>",.     
+0001f770: 2020 2022 5c74 223a 2022 3c54 4142 3e22     "\t": "<TAB>"
+0001f780: 2c0a 2020 2020 2020 2020 225c 6e22 3a20  ,.        "\n": 
+0001f790: 223c 4c46 3e22 2c0a 2020 2020 2020 2020  "<LF>",.        
+0001f7a0: 225c 7222 3a20 223c 4352 3e22 2c0a 2020  "\r": "<CR>",.  
+0001f7b0: 2020 2020 2020 225c 6622 3a20 223c 4646        "\f": "<FF
+0001f7c0: 3e22 2c0a 2020 2020 2020 2020 225c 7530  >",.        "\u0
+0001f7d0: 3041 3022 3a20 223c 4e42 5350 3e22 2c0a  0A0": "<NBSP>",.
+0001f7e0: 2020 2020 2020 2020 225c 7531 3638 3022          "\u1680"
+0001f7f0: 3a20 223c 4f47 4841 4d5f 5350 4143 455f  : "<OGHAM_SPACE_
+0001f800: 4d41 524b 3e22 2c0a 2020 2020 2020 2020  MARK>",.        
+0001f810: 225c 7531 3830 4522 3a20 223c 4d4f 4e47  "\u180E": "<MONG
+0001f820: 4f4c 4941 4e5f 564f 5745 4c5f 5345 5041  OLIAN_VOWEL_SEPA
+0001f830: 5241 544f 523e 222c 0a20 2020 2020 2020  RATOR>",.       
+0001f840: 2022 5c75 3230 3030 223a 2022 3c45 4e5f   "\u2000": "<EN_
+0001f850: 5155 4144 3e22 2c0a 2020 2020 2020 2020  QUAD>",.        
+0001f860: 225c 7532 3030 3122 3a20 223c 454d 5f51  "\u2001": "<EM_Q
+0001f870: 5541 443e 222c 0a20 2020 2020 2020 2022  UAD>",.        "
+0001f880: 5c75 3230 3032 223a 2022 3c45 4e5f 5350  \u2002": "<EN_SP
+0001f890: 4143 453e 222c 0a20 2020 2020 2020 2022  ACE>",.        "
+0001f8a0: 5c75 3230 3033 223a 2022 3c45 4d5f 5350  \u2003": "<EM_SP
+0001f8b0: 4143 453e 222c 0a20 2020 2020 2020 2022  ACE>",.        "
+0001f8c0: 5c75 3230 3034 223a 2022 3c54 4852 4545  \u2004": "<THREE
+0001f8d0: 2d50 4552 2d45 4d5f 5350 4143 453e 222c  -PER-EM_SPACE>",
+0001f8e0: 0a20 2020 2020 2020 2022 5c75 3230 3035  .        "\u2005
+0001f8f0: 223a 2022 3c46 4f55 522d 5045 522d 454d  ": "<FOUR-PER-EM
+0001f900: 5f53 5041 4345 3e22 2c0a 2020 2020 2020  _SPACE>",.      
+0001f910: 2020 225c 7532 3030 3622 3a20 223c 5349    "\u2006": "<SI
+0001f920: 582d 5045 522d 454d 5f53 5041 4345 3e22  X-PER-EM_SPACE>"
+0001f930: 2c0a 2020 2020 2020 2020 225c 7532 3030  ,.        "\u200
+0001f940: 3722 3a20 223c 4649 4755 5245 5f53 5041  7": "<FIGURE_SPA
+0001f950: 4345 3e22 2c0a 2020 2020 2020 2020 225c  CE>",.        "\
+0001f960: 7532 3030 3822 3a20 223c 5055 4e43 5455  u2008": "<PUNCTU
+0001f970: 4154 494f 4e5f 5350 4143 453e 222c 0a20  ATION_SPACE>",. 
+0001f980: 2020 2020 2020 2022 5c75 3230 3039 223a         "\u2009":
+0001f990: 2022 3c54 4849 4e5f 5350 4143 453e 222c   "<THIN_SPACE>",
+0001f9a0: 0a20 2020 2020 2020 2022 5c75 3230 3041  .        "\u200A
+0001f9b0: 223a 2022 3c48 4149 525f 5350 4143 453e  ": "<HAIR_SPACE>
+0001f9c0: 222c 0a20 2020 2020 2020 2022 5c75 3230  ",.        "\u20
+0001f9d0: 3042 223a 2022 3c5a 4552 4f5f 5749 4454  0B": "<ZERO_WIDT
+0001f9e0: 485f 5350 4143 453e 222c 0a20 2020 2020  H_SPACE>",.     
+0001f9f0: 2020 2022 5c75 3230 3246 223a 2022 3c4e     "\u202F": "<N
+0001fa00: 4e42 5350 3e22 2c0a 2020 2020 2020 2020  NBSP>",.        
+0001fa10: 225c 7532 3035 4622 3a20 223c 4d4d 5350  "\u205F": "<MMSP
+0001fa20: 3e22 2c0a 2020 2020 2020 2020 225c 7533  >",.        "\u3
+0001fa30: 3030 3022 3a20 223c 4944 454f 4752 4150  000": "<IDEOGRAP
+0001fa40: 4849 435f 5350 4143 453e 222c 0a20 2020  HIC_SPACE>",.   
+0001fa50: 207d 0a0a 2020 2020 6465 6620 5f5f 696e   }..    def __in
+0001fa60: 6974 5f5f 2873 656c 662c 2077 733a 2073  it__(self, ws: s
+0001fa70: 7472 203d 2022 205c 745c 725c 6e22 2c20  tr = " \t\r\n", 
+0001fa80: 6d69 6e3a 2069 6e74 203d 2031 2c20 6d61  min: int = 1, ma
+0001fa90: 783a 2069 6e74 203d 2030 2c20 6578 6163  x: int = 0, exac
+0001faa0: 743a 2069 6e74 203d 2030 293a 0a20 2020  t: int = 0):.   
+0001fab0: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
+0001fac0: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
+0001fad0: 7365 6c66 2e6d 6174 6368 5768 6974 6520  self.matchWhite 
+0001fae0: 3d20 7773 0a20 2020 2020 2020 2073 656c  = ws.        sel
+0001faf0: 662e 7365 745f 7768 6974 6573 7061 6365  f.set_whitespace
+0001fb00: 5f63 6861 7273 280a 2020 2020 2020 2020  _chars(.        
+0001fb10: 2020 2020 2222 2e6a 6f69 6e28 6320 666f      "".join(c fo
+0001fb20: 7220 6320 696e 2073 656c 662e 7768 6974  r c in self.whit
+0001fb30: 6553 7472 7320 6966 2063 206e 6f74 2069  eStrs if c not i
+0001fb40: 6e20 7365 6c66 2e6d 6174 6368 5768 6974  n self.matchWhit
+0001fb50: 6529 2c0a 2020 2020 2020 2020 2020 2020  e),.            
+0001fb60: 636f 7079 5f64 6566 6175 6c74 733d 5472  copy_defaults=Tr
+0001fb70: 7565 2c0a 2020 2020 2020 2020 290a 2020  ue,.        ).  
+0001fb80: 2020 2020 2020 2320 7365 6c66 2e6c 6561        # self.lea
+0001fb90: 7665 5f77 6869 7465 7370 6163 6528 290a  ve_whitespace().
+0001fba0: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
+0001fbb0: 5265 7475 726e 456d 7074 7920 3d20 5472  ReturnEmpty = Tr
+0001fbc0: 7565 0a20 2020 2020 2020 2073 656c 662e  ue.        self.
+0001fbd0: 6572 726d 7367 203d 2022 4578 7065 6374  errmsg = "Expect
+0001fbe0: 6564 2022 202b 2073 656c 662e 6e61 6d65  ed " + self.name
+0001fbf0: 0a0a 2020 2020 2020 2020 7365 6c66 2e6d  ..        self.m
+0001fc00: 696e 4c65 6e20 3d20 6d69 6e0a 0a20 2020  inLen = min..   
+0001fc10: 2020 2020 2069 6620 6d61 7820 3e20 303a       if max > 0:
+0001fc20: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0001fc30: 662e 6d61 784c 656e 203d 206d 6178 0a20  f.maxLen = max. 
+0001fc40: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001fc50: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+0001fc60: 784c 656e 203d 205f 4d41 585f 494e 540a  xLen = _MAX_INT.
+0001fc70: 0a20 2020 2020 2020 2069 6620 6578 6163  .        if exac
+0001fc80: 7420 3e20 303a 0a20 2020 2020 2020 2020  t > 0:.         
+0001fc90: 2020 2073 656c 662e 6d61 784c 656e 203d     self.maxLen =
+0001fca0: 2065 7861 6374 0a20 2020 2020 2020 2020   exact.         
+0001fcb0: 2020 2073 656c 662e 6d69 6e4c 656e 203d     self.minLen =
+0001fcc0: 2065 7861 6374 0a0a 2020 2020 6465 6620   exact..    def 
+0001fcd0: 5f67 656e 6572 6174 6544 6566 6175 6c74  _generateDefault
+0001fce0: 4e61 6d65 2873 656c 6629 202d 3e20 7374  Name(self) -> st
+0001fcf0: 723a 0a20 2020 2020 2020 2072 6574 7572  r:.        retur
+0001fd00: 6e20 2222 2e6a 6f69 6e28 5768 6974 652e  n "".join(White.
+0001fd10: 7768 6974 6553 7472 735b 635d 2066 6f72  whiteStrs[c] for
+0001fd20: 2063 2069 6e20 7365 6c66 2e6d 6174 6368   c in self.match
+0001fd30: 5768 6974 6529 0a0a 2020 2020 6465 6620  White)..    def 
+0001fd40: 7061 7273 6549 6d70 6c28 7365 6c66 2c20  parseImpl(self, 
+0001fd50: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
+0001fd60: 6f41 6374 696f 6e73 3d54 7275 6529 3a0a  oActions=True):.
+0001fd70: 2020 2020 2020 2020 6966 2069 6e73 7472          if instr
+0001fd80: 696e 675b 6c6f 635d 206e 6f74 2069 6e20  ing[loc] not in 
+0001fd90: 7365 6c66 2e6d 6174 6368 5768 6974 653a  self.matchWhite:
+0001fda0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0001fdb0: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
+0001fdc0: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
+0001fdd0: 2073 656c 662e 6572 726d 7367 2c20 7365   self.errmsg, se
+0001fde0: 6c66 290a 2020 2020 2020 2020 7374 6172  lf).        star
+0001fdf0: 7420 3d20 6c6f 630a 2020 2020 2020 2020  t = loc.        
+0001fe00: 6c6f 6320 2b3d 2031 0a20 2020 2020 2020  loc += 1.       
+0001fe10: 206d 6178 6c6f 6320 3d20 7374 6172 7420   maxloc = start 
+0001fe20: 2b20 7365 6c66 2e6d 6178 4c65 6e0a 2020  + self.maxLen.  
+0001fe30: 2020 2020 2020 6d61 786c 6f63 203d 206d        maxloc = m
+0001fe40: 696e 286d 6178 6c6f 632c 206c 656e 2869  in(maxloc, len(i
+0001fe50: 6e73 7472 696e 6729 290a 2020 2020 2020  nstring)).      
+0001fe60: 2020 7768 696c 6520 6c6f 6320 3c20 6d61    while loc < ma
+0001fe70: 786c 6f63 2061 6e64 2069 6e73 7472 696e  xloc and instrin
+0001fe80: 675b 6c6f 635d 2069 6e20 7365 6c66 2e6d  g[loc] in self.m
+0001fe90: 6174 6368 5768 6974 653a 0a20 2020 2020  atchWhite:.     
+0001fea0: 2020 2020 2020 206c 6f63 202b 3d20 310a         loc += 1.
+0001feb0: 0a20 2020 2020 2020 2069 6620 6c6f 6320  .        if loc 
+0001fec0: 2d20 7374 6172 7420 3c20 7365 6c66 2e6d  - start < self.m
+0001fed0: 696e 4c65 6e3a 0a20 2020 2020 2020 2020  inLen:.         
+0001fee0: 2020 2072 6169 7365 2050 6172 7365 4578     raise ParseEx
+0001fef0: 6365 7074 696f 6e28 696e 7374 7269 6e67  ception(instring
+0001ff00: 2c20 6c6f 632c 2073 656c 662e 6572 726d  , loc, self.errm
+0001ff10: 7367 2c20 7365 6c66 290a 0a20 2020 2020  sg, self)..     
+0001ff20: 2020 2072 6574 7572 6e20 6c6f 632c 2069     return loc, i
+0001ff30: 6e73 7472 696e 675b 7374 6172 743a 6c6f  nstring[start:lo
+0001ff40: 635d 0a0a 0a63 6c61 7373 2050 6f73 6974  c]...class Posit
+0001ff50: 696f 6e54 6f6b 656e 2854 6f6b 656e 293a  ionToken(Token):
+0001ff60: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
+0001ff70: 5f28 7365 6c66 293a 0a20 2020 2020 2020  _(self):.       
+0001ff80: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
+0001ff90: 5f28 290a 2020 2020 2020 2020 7365 6c66  _().        self
+0001ffa0: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
+0001ffb0: 3d20 5472 7565 0a20 2020 2020 2020 2073  = True.        s
+0001ffc0: 656c 662e 6d61 7949 6e64 6578 4572 726f  elf.mayIndexErro
+0001ffd0: 7220 3d20 4661 6c73 650a 0a0a 636c 6173  r = False...clas
+0001ffe0: 7320 476f 546f 436f 6c75 6d6e 2850 6f73  s GoToColumn(Pos
+0001fff0: 6974 696f 6e54 6f6b 656e 293a 0a20 2020  itionToken):.   
+00020000: 2022 2222 546f 6b65 6e20 746f 2061 6476   """Token to adv
+00020010: 616e 6365 2074 6f20 6120 7370 6563 6966  ance to a specif
+00020020: 6963 2063 6f6c 756d 6e20 6f66 2069 6e70  ic column of inp
+00020030: 7574 2074 6578 743b 2075 7365 6675 6c20  ut text; useful 
+00020040: 666f 720a 2020 2020 7461 6275 6c61 7220  for.    tabular 
+00020050: 7265 706f 7274 2073 6372 6170 696e 672e  report scraping.
+00020060: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
+00020070: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
+00020080: 2063 6f6c 6e6f 3a20 696e 7429 3a0a 2020   colno: int):.  
+00020090: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
+000200a0: 696e 6974 5f5f 2829 0a20 2020 2020 2020  init__().       
+000200b0: 2073 656c 662e 636f 6c20 3d20 636f 6c6e   self.col = coln
+000200c0: 6f0a 0a20 2020 2064 6566 2070 7265 5061  o..    def prePa
+000200d0: 7273 6528 7365 6c66 2c20 696e 7374 7269  rse(self, instri
+000200e0: 6e67 3a20 7374 722c 206c 6f63 3a20 696e  ng: str, loc: in
+000200f0: 7429 202d 3e20 696e 743a 0a20 2020 2020  t) -> int:.     
+00020100: 2020 2069 6620 636f 6c28 6c6f 632c 2069     if col(loc, i
+00020110: 6e73 7472 696e 6729 2021 3d20 7365 6c66  nstring) != self
+00020120: 2e63 6f6c 3a0a 2020 2020 2020 2020 2020  .col:.          
+00020130: 2020 696e 7374 726c 656e 203d 206c 656e    instrlen = len
+00020140: 2869 6e73 7472 696e 6729 0a20 2020 2020  (instring).     
+00020150: 2020 2020 2020 2069 6620 7365 6c66 2e69         if self.i
+00020160: 676e 6f72 6545 7870 7273 3a0a 2020 2020  gnoreExprs:.    
+00020170: 2020 2020 2020 2020 2020 2020 6c6f 6320              loc 
+00020180: 3d20 7365 6c66 2e5f 736b 6970 4967 6e6f  = self._skipIgno
+00020190: 7261 626c 6573 2869 6e73 7472 696e 672c  rables(instring,
+000201a0: 206c 6f63 290a 2020 2020 2020 2020 2020   loc).          
+000201b0: 2020 7768 696c 6520 280a 2020 2020 2020    while (.      
+000201c0: 2020 2020 2020 2020 2020 6c6f 6320 3c20            loc < 
+000201d0: 696e 7374 726c 656e 0a20 2020 2020 2020  instrlen.       
+000201e0: 2020 2020 2020 2020 2061 6e64 2069 6e73           and ins
+000201f0: 7472 696e 675b 6c6f 635d 2e69 7373 7061  tring[loc].isspa
+00020200: 6365 2829 0a20 2020 2020 2020 2020 2020  ce().           
+00020210: 2020 2020 2061 6e64 2063 6f6c 286c 6f63       and col(loc
+00020220: 2c20 696e 7374 7269 6e67 2920 213d 2073  , instring) != s
+00020230: 656c 662e 636f 6c0a 2020 2020 2020 2020  elf.col.        
+00020240: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
+00020250: 2020 2020 2020 206c 6f63 202b 3d20 310a         loc += 1.
+00020260: 2020 2020 2020 2020 7265 7475 726e 206c          return l
+00020270: 6f63 0a0a 2020 2020 6465 6620 7061 7273  oc..    def pars
+00020280: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
+00020290: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+000202a0: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
+000202b0: 2020 2020 7468 6973 636f 6c20 3d20 636f      thiscol = co
+000202c0: 6c28 6c6f 632c 2069 6e73 7472 696e 6729  l(loc, instring)
+000202d0: 0a20 2020 2020 2020 2069 6620 7468 6973  .        if this
+000202e0: 636f 6c20 3e20 7365 6c66 2e63 6f6c 3a0a  col > self.col:.
+000202f0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00020300: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
+00020310: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+00020320: 2254 6578 7420 6e6f 7420 696e 2065 7870  "Text not in exp
+00020330: 6563 7465 6420 636f 6c75 6d6e 222c 2073  ected column", s
+00020340: 656c 6629 0a20 2020 2020 2020 206e 6577  elf).        new
+00020350: 6c6f 6320 3d20 6c6f 6320 2b20 7365 6c66  loc = loc + self
+00020360: 2e63 6f6c 202d 2074 6869 7363 6f6c 0a20  .col - thiscol. 
+00020370: 2020 2020 2020 2072 6574 203d 2069 6e73         ret = ins
+00020380: 7472 696e 675b 6c6f 633a 6e65 776c 6f63  tring[loc:newloc
+00020390: 5d0a 2020 2020 2020 2020 7265 7475 726e  ].        return
+000203a0: 206e 6577 6c6f 632c 2072 6574 0a0a 0a63   newloc, ret...c
+000203b0: 6c61 7373 204c 696e 6553 7461 7274 2850  lass LineStart(P
+000203c0: 6f73 6974 696f 6e54 6f6b 656e 293a 0a20  ositionToken):. 
+000203d0: 2020 2072 2222 224d 6174 6368 6573 2069     r"""Matches i
+000203e0: 6620 6375 7272 656e 7420 706f 7369 7469  f current positi
+000203f0: 6f6e 2069 7320 6174 2074 6865 2062 6567  on is at the beg
+00020400: 696e 6e69 6e67 206f 6620 6120 6c69 6e65  inning of a line
+00020410: 2077 6974 6869 6e0a 2020 2020 7468 6520   within.    the 
+00020420: 7061 7273 6520 7374 7269 6e67 0a0a 2020  parse string..  
+00020430: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
+00020440: 2020 2020 2074 6573 7420 3d20 2727 275c       test = '''\
+00020450: 0a20 2020 2020 2020 2041 4141 2074 6869  .        AAA thi
+00020460: 7320 6c69 6e65 0a20 2020 2020 2020 2041  s line.        A
+00020470: 4141 2061 6e64 2074 6869 7320 6c69 6e65  AA and this line
+00020480: 0a20 2020 2020 2020 2020 2041 4141 2062  .          AAA b
+00020490: 7574 206e 6f74 2074 6869 7320 6f6e 650a  ut not this one.
+000204a0: 2020 2020 2020 2020 4220 4141 4120 616e          B AAA an
+000204b0: 6420 6465 6669 6e69 7465 6c79 206e 6f74  d definitely not
+000204c0: 2074 6869 7320 6f6e 650a 2020 2020 2020   this one.      
+000204d0: 2020 2727 270a 0a20 2020 2020 2020 2066    '''..        f
+000204e0: 6f72 2074 2069 6e20 284c 696e 6553 7461  or t in (LineSta
+000204f0: 7274 2829 202b 2027 4141 4127 202b 2072  rt() + 'AAA' + r
+00020500: 6573 745f 6f66 5f6c 696e 6529 2e73 6561  est_of_line).sea
+00020510: 7263 685f 7374 7269 6e67 2874 6573 7429  rch_string(test)
+00020520: 3a0a 2020 2020 2020 2020 2020 2020 7072  :.            pr
+00020530: 696e 7428 7429 0a0a 2020 2020 7072 696e  int(t)..    prin
+00020540: 7473 3a3a 0a0a 2020 2020 2020 2020 5b27  ts::..        ['
+00020550: 4141 4127 2c20 2720 7468 6973 206c 696e  AAA', ' this lin
+00020560: 6527 5d0a 2020 2020 2020 2020 5b27 4141  e'].        ['AA
+00020570: 4127 2c20 2720 616e 6420 7468 6973 206c  A', ' and this l
+00020580: 696e 6527 5d0a 0a20 2020 2022 2222 0a0a  ine']..    """..
+00020590: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+000205a0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+000205b0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+000205c0: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
+000205d0: 6c65 6176 655f 7768 6974 6573 7061 6365  leave_whitespace
+000205e0: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
+000205f0: 6f72 6967 5f77 6869 7465 4368 6172 7320  orig_whiteChars 
+00020600: 3d20 7365 7428 2920 7c20 7365 6c66 2e77  = set() | self.w
+00020610: 6869 7465 4368 6172 730a 2020 2020 2020  hiteChars.      
+00020620: 2020 7365 6c66 2e77 6869 7465 4368 6172    self.whiteChar
+00020630: 732e 6469 7363 6172 6428 225c 6e22 290a  s.discard("\n").
+00020640: 2020 2020 2020 2020 7365 6c66 2e73 6b69          self.ski
+00020650: 7070 6572 203d 2045 6d70 7479 2829 2e73  pper = Empty().s
+00020660: 6574 5f77 6869 7465 7370 6163 655f 6368  et_whitespace_ch
+00020670: 6172 7328 7365 6c66 2e77 6869 7465 4368  ars(self.whiteCh
+00020680: 6172 7329 0a20 2020 2020 2020 2073 656c  ars).        sel
+00020690: 662e 6572 726d 7367 203d 2022 4578 7065  f.errmsg = "Expe
+000206a0: 6374 6564 2073 7461 7274 206f 6620 6c69  cted start of li
+000206b0: 6e65 220a 0a20 2020 2064 6566 2070 7265  ne"..    def pre
+000206c0: 5061 7273 6528 7365 6c66 2c20 696e 7374  Parse(self, inst
+000206d0: 7269 6e67 3a20 7374 722c 206c 6f63 3a20  ring: str, loc: 
+000206e0: 696e 7429 202d 3e20 696e 743a 0a20 2020  int) -> int:.   
+000206f0: 2020 2020 2069 6620 6c6f 6320 3d3d 2030       if loc == 0
+00020700: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+00020710: 7475 726e 206c 6f63 0a20 2020 2020 2020  turn loc.       
+00020720: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00020730: 2020 2072 6574 203d 2073 656c 662e 736b     ret = self.sk
+00020740: 6970 7065 722e 7072 6550 6172 7365 2869  ipper.preParse(i
+00020750: 6e73 7472 696e 672c 206c 6f63 290a 2020  nstring, loc).  
+00020760: 2020 2020 2020 2020 2020 6966 2022 5c6e            if "\n
+00020770: 2220 696e 2073 656c 662e 6f72 6967 5f77  " in self.orig_w
+00020780: 6869 7465 4368 6172 733a 0a20 2020 2020  hiteChars:.     
+00020790: 2020 2020 2020 2020 2020 2077 6869 6c65             while
+000207a0: 2069 6e73 7472 696e 675b 7265 7420 3a20   instring[ret : 
+000207b0: 7265 7420 2b20 315d 203d 3d20 225c 6e22  ret + 1] == "\n"
+000207c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000207d0: 2020 2020 2020 7265 7420 3d20 7365 6c66        ret = self
+000207e0: 2e73 6b69 7070 6572 2e70 7265 5061 7273  .skipper.prePars
+000207f0: 6528 696e 7374 7269 6e67 2c20 7265 7420  e(instring, ret 
+00020800: 2b20 3129 0a20 2020 2020 2020 2020 2020  + 1).           
+00020810: 2072 6574 7572 6e20 7265 740a 0a20 2020   return ret..   
+00020820: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
+00020830: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+00020840: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+00020850: 7565 293a 0a20 2020 2020 2020 2069 6620  ue):.        if 
+00020860: 636f 6c28 6c6f 632c 2069 6e73 7472 696e  col(loc, instrin
+00020870: 6729 203d 3d20 313a 0a20 2020 2020 2020  g) == 1:.       
+00020880: 2020 2020 2072 6574 7572 6e20 6c6f 632c       return loc,
+00020890: 205b 5d0a 2020 2020 2020 2020 7261 6973   [].        rais
+000208a0: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
+000208b0: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+000208c0: 7365 6c66 2e65 7272 6d73 672c 2073 656c  self.errmsg, sel
+000208d0: 6629 0a0a 0a63 6c61 7373 204c 696e 6545  f)...class LineE
+000208e0: 6e64 2850 6f73 6974 696f 6e54 6f6b 656e  nd(PositionToken
+000208f0: 293a 0a20 2020 2022 2222 4d61 7463 6865  ):.    """Matche
+00020900: 7320 6966 2063 7572 7265 6e74 2070 6f73  s if current pos
+00020910: 6974 696f 6e20 6973 2061 7420 7468 6520  ition is at the 
+00020920: 656e 6420 6f66 2061 206c 696e 6520 7769  end of a line wi
+00020930: 7468 696e 2074 6865 0a20 2020 2070 6172  thin the.    par
+00020940: 7365 2073 7472 696e 670a 2020 2020 2222  se string.    ""
+00020950: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+00020960: 745f 5f28 7365 6c66 293a 0a20 2020 2020  t__(self):.     
+00020970: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
+00020980: 745f 5f28 290a 2020 2020 2020 2020 7365  t__().        se
+00020990: 6c66 2e77 6869 7465 4368 6172 732e 6469  lf.whiteChars.di
+000209a0: 7363 6172 6428 225c 6e22 290a 2020 2020  scard("\n").    
+000209b0: 2020 2020 7365 6c66 2e73 6574 5f77 6869      self.set_whi
+000209c0: 7465 7370 6163 655f 6368 6172 7328 7365  tespace_chars(se
+000209d0: 6c66 2e77 6869 7465 4368 6172 732c 2063  lf.whiteChars, c
+000209e0: 6f70 795f 6465 6661 756c 7473 3d46 616c  opy_defaults=Fal
+000209f0: 7365 290a 2020 2020 2020 2020 7365 6c66  se).        self
+00020a00: 2e65 7272 6d73 6720 3d20 2245 7870 6563  .errmsg = "Expec
+00020a10: 7465 6420 656e 6420 6f66 206c 696e 6522  ted end of line"
+00020a20: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+00020a30: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
+00020a40: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
+00020a50: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
+00020a60: 2020 6966 206c 6f63 203c 206c 656e 2869    if loc < len(i
+00020a70: 6e73 7472 696e 6729 3a0a 2020 2020 2020  nstring):.      
+00020a80: 2020 2020 2020 6966 2069 6e73 7472 696e        if instrin
+00020a90: 675b 6c6f 635d 203d 3d20 225c 6e22 3a0a  g[loc] == "\n":.
+00020aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020ab0: 7265 7475 726e 206c 6f63 202b 2031 2c20  return loc + 1, 
+00020ac0: 225c 6e22 0a20 2020 2020 2020 2020 2020  "\n".           
+00020ad0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00020ae0: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
+00020af0: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
+00020b00: 7269 6e67 2c20 6c6f 632c 2073 656c 662e  ring, loc, self.
+00020b10: 6572 726d 7367 2c20 7365 6c66 290a 2020  errmsg, self).  
+00020b20: 2020 2020 2020 656c 6966 206c 6f63 203d        elif loc =
+00020b30: 3d20 6c65 6e28 696e 7374 7269 6e67 293a  = len(instring):
+00020b40: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00020b50: 7572 6e20 6c6f 6320 2b20 312c 205b 5d0a  urn loc + 1, [].
+00020b60: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00020b70: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00020b80: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
+00020b90: 6e73 7472 696e 672c 206c 6f63 2c20 7365  nstring, loc, se
+00020ba0: 6c66 2e65 7272 6d73 672c 2073 656c 6629  lf.errmsg, self)
+00020bb0: 0a0a 0a63 6c61 7373 2053 7472 696e 6753  ...class StringS
+00020bc0: 7461 7274 2850 6f73 6974 696f 6e54 6f6b  tart(PositionTok
+00020bd0: 656e 293a 0a20 2020 2022 2222 4d61 7463  en):.    """Matc
+00020be0: 6865 7320 6966 2063 7572 7265 6e74 2070  hes if current p
+00020bf0: 6f73 6974 696f 6e20 6973 2061 7420 7468  osition is at th
+00020c00: 6520 6265 6769 6e6e 696e 6720 6f66 2074  e beginning of t
+00020c10: 6865 2070 6172 7365 0a20 2020 2073 7472  he parse.    str
+00020c20: 696e 670a 2020 2020 2222 220a 0a20 2020  ing.    """..   
+00020c30: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
+00020c40: 6c66 293a 0a20 2020 2020 2020 2073 7570  lf):.        sup
+00020c50: 6572 2829 2e5f 5f69 6e69 745f 5f28 290a  er().__init__().
+00020c60: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
+00020c70: 6d73 6720 3d20 2245 7870 6563 7465 6420  msg = "Expected 
+00020c80: 7374 6172 7420 6f66 2074 6578 7422 0a0a  start of text"..
+00020c90: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
+00020ca0: 6c28 7365 6c66 2c20 696e 7374 7269 6e67  l(self, instring
+00020cb0: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
+00020cc0: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
+00020cd0: 6966 206c 6f63 2021 3d20 303a 0a20 2020  if loc != 0:.   
+00020ce0: 2020 2020 2020 2020 2023 2073 6565 2069           # see i
+00020cf0: 6620 656e 7469 7265 2073 7472 696e 6720  f entire string 
+00020d00: 7570 2074 6f20 6865 7265 2069 7320 6a75  up to here is ju
+00020d10: 7374 2077 6869 7465 7370 6163 6520 616e  st whitespace an
+00020d20: 6420 6967 6e6f 7265 6162 6c65 730a 2020  d ignoreables.  
+00020d30: 2020 2020 2020 2020 2020 6966 206c 6f63            if loc
+00020d40: 2021 3d20 7365 6c66 2e70 7265 5061 7273   != self.prePars
+00020d50: 6528 696e 7374 7269 6e67 2c20 3029 3a0a  e(instring, 0):.
+00020d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020d70: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
+00020d80: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
+00020d90: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
+00020da0: 2073 656c 6629 0a20 2020 2020 2020 2072   self).        r
+00020db0: 6574 7572 6e20 6c6f 632c 205b 5d0a 0a0a  eturn loc, []...
+00020dc0: 636c 6173 7320 5374 7269 6e67 456e 6428  class StringEnd(
+00020dd0: 506f 7369 7469 6f6e 546f 6b65 6e29 3a0a  PositionToken):.
+00020de0: 2020 2020 2222 220a 2020 2020 4d61 7463      """.    Matc
+00020df0: 6865 7320 6966 2063 7572 7265 6e74 2070  hes if current p
+00020e00: 6f73 6974 696f 6e20 6973 2061 7420 7468  osition is at th
+00020e10: 6520 656e 6420 6f66 2074 6865 2070 6172  e end of the par
+00020e20: 7365 2073 7472 696e 670a 2020 2020 2222  se string.    ""
+00020e30: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+00020e40: 745f 5f28 7365 6c66 293a 0a20 2020 2020  t__(self):.     
+00020e50: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
+00020e60: 745f 5f28 290a 2020 2020 2020 2020 7365  t__().        se
+00020e70: 6c66 2e65 7272 6d73 6720 3d20 2245 7870  lf.errmsg = "Exp
+00020e80: 6563 7465 6420 656e 6420 6f66 2074 6578  ected end of tex
+00020e90: 7422 0a0a 2020 2020 6465 6620 7061 7273  t"..    def pars
+00020ea0: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
+00020eb0: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+00020ec0: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
+00020ed0: 2020 2020 6966 206c 6f63 203c 206c 656e      if loc < len
+00020ee0: 2869 6e73 7472 696e 6729 3a0a 2020 2020  (instring):.    
+00020ef0: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
+00020f00: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
+00020f10: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
+00020f20: 2e65 7272 6d73 672c 2073 656c 6629 0a20  .errmsg, self). 
+00020f30: 2020 2020 2020 2065 6c69 6620 6c6f 6320         elif loc 
+00020f40: 3d3d 206c 656e 2869 6e73 7472 696e 6729  == len(instring)
+00020f50: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+00020f60: 7475 726e 206c 6f63 202b 2031 2c20 5b5d  turn loc + 1, []
+00020f70: 0a20 2020 2020 2020 2065 6c69 6620 6c6f  .        elif lo
+00020f80: 6320 3e20 6c65 6e28 696e 7374 7269 6e67  c > len(instring
+00020f90: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
+00020fa0: 6574 7572 6e20 6c6f 632c 205b 5d0a 2020  eturn loc, [].  
+00020fb0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00020fc0: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
+00020fd0: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
+00020fe0: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
+00020ff0: 2e65 7272 6d73 672c 2073 656c 6629 0a0a  .errmsg, self)..
+00021000: 0a63 6c61 7373 2057 6f72 6453 7461 7274  .class WordStart
+00021010: 2850 6f73 6974 696f 6e54 6f6b 656e 293a  (PositionToken):
+00021020: 0a20 2020 2022 2222 4d61 7463 6865 7320  .    """Matches 
+00021030: 6966 2074 6865 2063 7572 7265 6e74 2070  if the current p
+00021040: 6f73 6974 696f 6e20 6973 2061 7420 7468  osition is at th
+00021050: 6520 6265 6769 6e6e 696e 6720 6f66 2061  e beginning of a
+00021060: 0a20 2020 203a 636c 6173 733a 6057 6f72  .    :class:`Wor
+00021070: 6460 2c20 616e 6420 6973 206e 6f74 2070  d`, and is not p
+00021080: 7265 6365 6465 6420 6279 2061 6e79 2063  receded by any c
+00021090: 6861 7261 6374 6572 2069 6e20 6120 6769  haracter in a gi
+000210a0: 7665 6e0a 2020 2020 7365 7420 6f66 2060  ven.    set of `
+000210b0: 6077 6f72 645f 6368 6172 7360 6020 2864  `word_chars`` (d
+000210c0: 6566 6175 6c74 3d20 6060 7072 696e 7461  efault= ``printa
+000210d0: 626c 6573 6060 292e 2054 6f20 656d 756c  bles``). To emul
+000210e0: 6174 6520 7468 650a 2020 2020 6060 5c62  ate the.    ``\b
+000210f0: 6060 2062 6568 6176 696f 7220 6f66 2072  `` behavior of r
+00021100: 6567 756c 6172 2065 7870 7265 7373 696f  egular expressio
+00021110: 6e73 2c20 7573 650a 2020 2020 6060 576f  ns, use.    ``Wo
+00021120: 7264 5374 6172 7428 616c 7068 616e 756d  rdStart(alphanum
+00021130: 7329 6060 2e20 6060 576f 7264 5374 6172  s)``. ``WordStar
+00021140: 7460 6020 7769 6c6c 2061 6c73 6f20 6d61  t`` will also ma
+00021150: 7463 6820 6174 0a20 2020 2074 6865 2062  tch at.    the b
+00021160: 6567 696e 6e69 6e67 206f 6620 7468 6520  eginning of the 
+00021170: 7374 7269 6e67 2062 6569 6e67 2070 6172  string being par
+00021180: 7365 642c 206f 7220 6174 2074 6865 2062  sed, or at the b
+00021190: 6567 696e 6e69 6e67 206f 660a 2020 2020  eginning of.    
+000211a0: 6120 6c69 6e65 2e0a 2020 2020 2222 220a  a line..    """.
+000211b0: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
+000211c0: 5f28 7365 6c66 2c20 776f 7264 5f63 6861  _(self, word_cha
+000211d0: 7273 3a20 7374 7220 3d20 7072 696e 7461  rs: str = printa
+000211e0: 626c 6573 2c20 2a2c 2077 6f72 6443 6861  bles, *, wordCha
+000211f0: 7273 3a20 7374 7220 3d20 7072 696e 7461  rs: str = printa
+00021200: 626c 6573 293a 0a20 2020 2020 2020 2077  bles):.        w
+00021210: 6f72 6443 6861 7273 203d 2077 6f72 645f  ordChars = word_
+00021220: 6368 6172 7320 6966 2077 6f72 6443 6861  chars if wordCha
+00021230: 7273 203d 3d20 7072 696e 7461 626c 6573  rs == printables
+00021240: 2065 6c73 6520 776f 7264 4368 6172 730a   else wordChars.
+00021250: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+00021260: 5f5f 696e 6974 5f5f 2829 0a20 2020 2020  __init__().     
+00021270: 2020 2073 656c 662e 776f 7264 4368 6172     self.wordChar
+00021280: 7320 3d20 7365 7428 776f 7264 4368 6172  s = set(wordChar
+00021290: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
+000212a0: 6572 726d 7367 203d 2022 4e6f 7420 6174  errmsg = "Not at
+000212b0: 2074 6865 2073 7461 7274 206f 6620 6120   the start of a 
+000212c0: 776f 7264 220a 0a20 2020 2064 6566 2070  word"..    def p
+000212d0: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
+000212e0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+000212f0: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
+00021300: 2020 2020 2020 2069 6620 6c6f 6320 213d         if loc !=
+00021310: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
+00021320: 6966 2028 0a20 2020 2020 2020 2020 2020  if (.           
+00021330: 2020 2020 2069 6e73 7472 696e 675b 6c6f       instring[lo
+00021340: 6320 2d20 315d 2069 6e20 7365 6c66 2e77  c - 1] in self.w
+00021350: 6f72 6443 6861 7273 0a20 2020 2020 2020  ordChars.       
+00021360: 2020 2020 2020 2020 206f 7220 696e 7374           or inst
+00021370: 7269 6e67 5b6c 6f63 5d20 6e6f 7420 696e  ring[loc] not in
+00021380: 2073 656c 662e 776f 7264 4368 6172 730a   self.wordChars.
+00021390: 2020 2020 2020 2020 2020 2020 293a 0a20              ):. 
+000213a0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+000213b0: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
+000213c0: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
+000213d0: 632c 2073 656c 662e 6572 726d 7367 2c20  c, self.errmsg, 
+000213e0: 7365 6c66 290a 2020 2020 2020 2020 7265  self).        re
+000213f0: 7475 726e 206c 6f63 2c20 5b5d 0a0a 0a63  turn loc, []...c
+00021400: 6c61 7373 2057 6f72 6445 6e64 2850 6f73  lass WordEnd(Pos
+00021410: 6974 696f 6e54 6f6b 656e 293a 0a20 2020  itionToken):.   
+00021420: 2022 2222 4d61 7463 6865 7320 6966 2074   """Matches if t
+00021430: 6865 2063 7572 7265 6e74 2070 6f73 6974  he current posit
+00021440: 696f 6e20 6973 2061 7420 7468 6520 656e  ion is at the en
+00021450: 6420 6f66 2061 203a 636c 6173 733a 6057  d of a :class:`W
+00021460: 6f72 6460 2c0a 2020 2020 616e 6420 6973  ord`,.    and is
+00021470: 206e 6f74 2066 6f6c 6c6f 7765 6420 6279   not followed by
+00021480: 2061 6e79 2063 6861 7261 6374 6572 2069   any character i
+00021490: 6e20 6120 6769 7665 6e20 7365 7420 6f66  n a given set of
+000214a0: 2060 6077 6f72 645f 6368 6172 7360 600a   ``word_chars``.
+000214b0: 2020 2020 2864 6566 6175 6c74 3d20 6060      (default= ``
+000214c0: 7072 696e 7461 626c 6573 6060 292e 2054  printables``). T
+000214d0: 6f20 656d 756c 6174 6520 7468 6520 6060  o emulate the ``
+000214e0: 5c62 6060 2062 6568 6176 696f 7220 6f66  \b`` behavior of
+000214f0: 0a20 2020 2072 6567 756c 6172 2065 7870  .    regular exp
+00021500: 7265 7373 696f 6e73 2c20 7573 6520 6060  ressions, use ``
+00021510: 576f 7264 456e 6428 616c 7068 616e 756d  WordEnd(alphanum
+00021520: 7329 6060 2e20 6060 576f 7264 456e 6460  s)``. ``WordEnd`
+00021530: 600a 2020 2020 7769 6c6c 2061 6c73 6f20  `.    will also 
+00021540: 6d61 7463 6820 6174 2074 6865 2065 6e64  match at the end
+00021550: 206f 6620 7468 6520 7374 7269 6e67 2062   of the string b
+00021560: 6569 6e67 2070 6172 7365 642c 206f 7220  eing parsed, or 
+00021570: 6174 2074 6865 2065 6e64 0a20 2020 206f  at the end.    o
+00021580: 6620 6120 6c69 6e65 2e0a 2020 2020 2222  f a line..    ""
+00021590: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+000215a0: 745f 5f28 7365 6c66 2c20 776f 7264 5f63  t__(self, word_c
+000215b0: 6861 7273 3a20 7374 7220 3d20 7072 696e  hars: str = prin
+000215c0: 7461 626c 6573 2c20 2a2c 2077 6f72 6443  tables, *, wordC
+000215d0: 6861 7273 3a20 7374 7220 3d20 7072 696e  hars: str = prin
+000215e0: 7461 626c 6573 293a 0a20 2020 2020 2020  tables):.       
+000215f0: 2077 6f72 6443 6861 7273 203d 2077 6f72   wordChars = wor
+00021600: 645f 6368 6172 7320 6966 2077 6f72 6443  d_chars if wordC
+00021610: 6861 7273 203d 3d20 7072 696e 7461 626c  hars == printabl
+00021620: 6573 2065 6c73 6520 776f 7264 4368 6172  es else wordChar
+00021630: 730a 2020 2020 2020 2020 7375 7065 7228  s.        super(
+00021640: 292e 5f5f 696e 6974 5f5f 2829 0a20 2020  ).__init__().   
+00021650: 2020 2020 2073 656c 662e 776f 7264 4368       self.wordCh
+00021660: 6172 7320 3d20 7365 7428 776f 7264 4368  ars = set(wordCh
+00021670: 6172 7329 0a20 2020 2020 2020 2073 656c  ars).        sel
+00021680: 662e 736b 6970 5768 6974 6573 7061 6365  f.skipWhitespace
+00021690: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
+000216a0: 2073 656c 662e 6572 726d 7367 203d 2022   self.errmsg = "
+000216b0: 4e6f 7420 6174 2074 6865 2065 6e64 206f  Not at the end o
+000216c0: 6620 6120 776f 7264 220a 0a20 2020 2064  f a word"..    d
+000216d0: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
+000216e0: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
+000216f0: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
+00021700: 293a 0a20 2020 2020 2020 2069 6e73 7472  ):.        instr
+00021710: 6c65 6e20 3d20 6c65 6e28 696e 7374 7269  len = len(instri
+00021720: 6e67 290a 2020 2020 2020 2020 6966 2069  ng).        if i
+00021730: 6e73 7472 6c65 6e20 3e20 3020 616e 6420  nstrlen > 0 and 
+00021740: 6c6f 6320 3c20 696e 7374 726c 656e 3a0a  loc < instrlen:.
+00021750: 2020 2020 2020 2020 2020 2020 6966 2028              if (
+00021760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00021770: 2069 6e73 7472 696e 675b 6c6f 635d 2069   instring[loc] i
+00021780: 6e20 7365 6c66 2e77 6f72 6443 6861 7273  n self.wordChars
+00021790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000217a0: 206f 7220 696e 7374 7269 6e67 5b6c 6f63   or instring[loc
+000217b0: 202d 2031 5d20 6e6f 7420 696e 2073 656c   - 1] not in sel
+000217c0: 662e 776f 7264 4368 6172 730a 2020 2020  f.wordChars.    
+000217d0: 2020 2020 2020 2020 293a 0a20 2020 2020          ):.     
+000217e0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+000217f0: 2050 6172 7365 4578 6365 7074 696f 6e28   ParseException(
+00021800: 696e 7374 7269 6e67 2c20 6c6f 632c 2073  instring, loc, s
+00021810: 656c 662e 6572 726d 7367 2c20 7365 6c66  elf.errmsg, self
+00021820: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+00021830: 206c 6f63 2c20 5b5d 0a0a 0a63 6c61 7373   loc, []...class
+00021840: 2050 6172 7365 4578 7072 6573 7369 6f6e   ParseExpression
+00021850: 2850 6172 7365 7245 6c65 6d65 6e74 293a  (ParserElement):
+00021860: 0a20 2020 2022 2222 4162 7374 7261 6374  .    """Abstract
+00021870: 2073 7562 636c 6173 7320 6f66 2050 6172   subclass of Par
+00021880: 7365 7245 6c65 6d65 6e74 2c20 666f 7220  serElement, for 
+00021890: 636f 6d62 696e 696e 6720 616e 640a 2020  combining and.  
+000218a0: 2020 706f 7374 2d70 726f 6365 7373 696e    post-processin
+000218b0: 6720 7061 7273 6564 2074 6f6b 656e 732e  g parsed tokens.
+000218c0: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
+000218d0: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
+000218e0: 2065 7870 7273 3a20 7479 7069 6e67 2e49   exprs: typing.I
+000218f0: 7465 7261 626c 655b 5061 7273 6572 456c  terable[ParserEl
+00021900: 656d 656e 745d 2c20 7361 7665 6c69 7374  ement], savelist
+00021910: 3a20 626f 6f6c 203d 2046 616c 7365 293a  : bool = False):
+00021920: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+00021930: 2e5f 5f69 6e69 745f 5f28 7361 7665 6c69  .__init__(saveli
+00021940: 7374 290a 2020 2020 2020 2020 7365 6c66  st).        self
+00021950: 2e65 7870 7273 3a20 4c69 7374 5b50 6172  .exprs: List[Par
+00021960: 7365 7245 6c65 6d65 6e74 5d0a 2020 2020  serElement].    
+00021970: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+00021980: 6528 6578 7072 732c 205f 6765 6e65 7261  e(exprs, _genera
+00021990: 746f 7254 7970 6529 3a0a 2020 2020 2020  torType):.      
+000219a0: 2020 2020 2020 6578 7072 7320 3d20 6c69        exprs = li
+000219b0: 7374 2865 7870 7273 290a 0a20 2020 2020  st(exprs)..     
+000219c0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+000219d0: 2865 7870 7273 2c20 7374 725f 7479 7065  (exprs, str_type
+000219e0: 293a 0a20 2020 2020 2020 2020 2020 2073  ):.            s
+000219f0: 656c 662e 6578 7072 7320 3d20 5b73 656c  elf.exprs = [sel
+00021a00: 662e 5f6c 6974 6572 616c 5374 7269 6e67  f._literalString
+00021a10: 436c 6173 7328 6578 7072 7329 5d0a 2020  Class(exprs)].  
+00021a20: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
+00021a30: 7461 6e63 6528 6578 7072 732c 2050 6172  tance(exprs, Par
+00021a40: 7365 7245 6c65 6d65 6e74 293a 0a20 2020  serElement):.   
+00021a50: 2020 2020 2020 2020 2073 656c 662e 6578           self.ex
+00021a60: 7072 7320 3d20 5b65 7870 7273 5d0a 2020  prs = [exprs].  
+00021a70: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
+00021a80: 7461 6e63 6528 6578 7072 732c 2049 7465  tance(exprs, Ite
+00021a90: 7261 626c 6529 3a0a 2020 2020 2020 2020  rable):.        
+00021aa0: 2020 2020 6578 7072 7320 3d20 6c69 7374      exprs = list
+00021ab0: 2865 7870 7273 290a 2020 2020 2020 2020  (exprs).        
+00021ac0: 2020 2020 2320 6966 2073 6571 7565 6e63      # if sequenc
+00021ad0: 6520 6f66 2073 7472 696e 6773 2070 726f  e of strings pro
+00021ae0: 7669 6465 642c 2077 7261 7020 7769 7468  vided, wrap with
+00021af0: 204c 6974 6572 616c 0a20 2020 2020 2020   Literal.       
+00021b00: 2020 2020 2069 6620 616e 7928 6973 696e       if any(isin
+00021b10: 7374 616e 6365 2865 7870 722c 2073 7472  stance(expr, str
+00021b20: 5f74 7970 6529 2066 6f72 2065 7870 7220  _type) for expr 
+00021b30: 696e 2065 7870 7273 293a 0a20 2020 2020  in exprs):.     
+00021b40: 2020 2020 2020 2020 2020 2065 7870 7273             exprs
+00021b50: 203d 2028 0a20 2020 2020 2020 2020 2020   = (.           
+00021b60: 2020 2020 2020 2020 2073 656c 662e 5f6c           self._l
+00021b70: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
+00021b80: 7328 6529 2069 6620 6973 696e 7374 616e  s(e) if isinstan
+00021b90: 6365 2865 2c20 7374 725f 7479 7065 2920  ce(e, str_type) 
+00021ba0: 656c 7365 2065 0a20 2020 2020 2020 2020  else e.         
+00021bb0: 2020 2020 2020 2020 2020 2066 6f72 2065             for e
+00021bc0: 2069 6e20 6578 7072 730a 2020 2020 2020   in exprs.      
+00021bd0: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+00021be0: 2020 2020 2020 2020 7365 6c66 2e65 7870          self.exp
+00021bf0: 7273 203d 206c 6973 7428 6578 7072 7329  rs = list(exprs)
+00021c00: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00021c10: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
+00021c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021c30: 7365 6c66 2e65 7870 7273 203d 206c 6973  self.exprs = lis
+00021c40: 7428 6578 7072 7329 0a20 2020 2020 2020  t(exprs).       
+00021c50: 2020 2020 2065 7863 6570 7420 5479 7065       except Type
+00021c60: 4572 726f 723a 0a20 2020 2020 2020 2020  Error:.         
+00021c70: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
+00021c80: 7320 3d20 5b65 7870 7273 5d0a 2020 2020  s = [exprs].    
+00021c90: 2020 2020 7365 6c66 2e63 616c 6c50 7265      self.callPre
+00021ca0: 7061 7273 6520 3d20 4661 6c73 650a 0a20  parse = False.. 
+00021cb0: 2020 2064 6566 2072 6563 7572 7365 2873     def recurse(s
+00021cc0: 656c 6629 202d 3e20 4c69 7374 5b50 6172  elf) -> List[Par
+00021cd0: 7365 7245 6c65 6d65 6e74 5d3a 0a20 2020  serElement]:.   
+00021ce0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00021cf0: 2e65 7870 7273 5b3a 5d0a 0a20 2020 2064  .exprs[:]..    d
+00021d00: 6566 2061 7070 656e 6428 7365 6c66 2c20  ef append(self, 
+00021d10: 6f74 6865 7229 202d 3e20 5061 7273 6572  other) -> Parser
+00021d20: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
+00021d30: 2073 656c 662e 6578 7072 732e 6170 7065   self.exprs.appe
+00021d40: 6e64 286f 7468 6572 290a 2020 2020 2020  nd(other).      
+00021d50: 2020 7365 6c66 2e5f 6465 6661 756c 744e    self._defaultN
+00021d60: 616d 6520 3d20 4e6f 6e65 0a20 2020 2020  ame = None.     
+00021d70: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+00021d80: 2020 2020 6465 6620 6c65 6176 655f 7768      def leave_wh
+00021d90: 6974 6573 7061 6365 2873 656c 662c 2072  itespace(self, r
+00021da0: 6563 7572 7369 7665 3a20 626f 6f6c 203d  ecursive: bool =
+00021db0: 2054 7275 6529 202d 3e20 5061 7273 6572   True) -> Parser
+00021dc0: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
+00021dd0: 2022 2222 0a20 2020 2020 2020 2045 7874   """.        Ext
+00021de0: 656e 6473 2060 606c 6561 7665 5f77 6869  ends ``leave_whi
+00021df0: 7465 7370 6163 6560 6020 6465 6669 6e65  tespace`` define
+00021e00: 6420 696e 2062 6173 6520 636c 6173 732c  d in base class,
+00021e10: 2061 6e64 2061 6c73 6f20 696e 766f 6b65   and also invoke
+00021e20: 7320 6060 6c65 6176 655f 7768 6974 6573  s ``leave_whites
+00021e30: 7061 6365 6060 206f 6e0a 2020 2020 2020  pace`` on.      
+00021e40: 2020 2020 2061 6c6c 2063 6f6e 7461 696e       all contain
+00021e50: 6564 2065 7870 7265 7373 696f 6e73 2e0a  ed expressions..
+00021e60: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00021e70: 2020 2020 7375 7065 7228 292e 6c65 6176      super().leav
+00021e80: 655f 7768 6974 6573 7061 6365 2872 6563  e_whitespace(rec
+00021e90: 7572 7369 7665 290a 0a20 2020 2020 2020  ursive)..       
+00021ea0: 2069 6620 7265 6375 7273 6976 653a 0a20   if recursive:. 
+00021eb0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00021ec0: 6578 7072 7320 3d20 5b65 2e63 6f70 7928  exprs = [e.copy(
+00021ed0: 2920 666f 7220 6520 696e 2073 656c 662e  ) for e in self.
+00021ee0: 6578 7072 735d 0a20 2020 2020 2020 2020  exprs].         
+00021ef0: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
+00021f00: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
+00021f10: 2020 2020 2020 2020 652e 6c65 6176 655f          e.leave_
+00021f20: 7768 6974 6573 7061 6365 2872 6563 7572  whitespace(recur
+00021f30: 7369 7665 290a 2020 2020 2020 2020 7265  sive).        re
+00021f40: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
+00021f50: 6566 2069 676e 6f72 655f 7768 6974 6573  ef ignore_whites
+00021f60: 7061 6365 2873 656c 662c 2072 6563 7572  pace(self, recur
+00021f70: 7369 7665 3a20 626f 6f6c 203d 2054 7275  sive: bool = Tru
+00021f80: 6529 202d 3e20 5061 7273 6572 456c 656d  e) -> ParserElem
+00021f90: 656e 743a 0a20 2020 2020 2020 2022 2222  ent:.        """
+00021fa0: 0a20 2020 2020 2020 2045 7874 656e 6473  .        Extends
+00021fb0: 2060 6069 676e 6f72 655f 7768 6974 6573   ``ignore_whites
+00021fc0: 7061 6365 6060 2064 6566 696e 6564 2069  pace`` defined i
+00021fd0: 6e20 6261 7365 2063 6c61 7373 2c20 616e  n base class, an
+00021fe0: 6420 616c 736f 2069 6e76 6f6b 6573 2060  d also invokes `
+00021ff0: 606c 6561 7665 5f77 6869 7465 7370 6163  `leave_whitespac
+00022000: 6560 6020 6f6e 0a20 2020 2020 2020 2020  e`` on.         
+00022010: 2020 616c 6c20 636f 6e74 6169 6e65 6420    all contained 
+00022020: 6578 7072 6573 7369 6f6e 732e 0a20 2020  expressions..   
+00022030: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00022040: 2073 7570 6572 2829 2e69 676e 6f72 655f   super().ignore_
+00022050: 7768 6974 6573 7061 6365 2872 6563 7572  whitespace(recur
+00022060: 7369 7665 290a 2020 2020 2020 2020 6966  sive).        if
+00022070: 2072 6563 7572 7369 7665 3a0a 2020 2020   recursive:.    
+00022080: 2020 2020 2020 2020 7365 6c66 2e65 7870          self.exp
+00022090: 7273 203d 205b 652e 636f 7079 2829 2066  rs = [e.copy() f
+000220a0: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
+000220b0: 7273 5d0a 2020 2020 2020 2020 2020 2020  rs].            
+000220c0: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
+000220d0: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
+000220e0: 2020 2020 2065 2e69 676e 6f72 655f 7768       e.ignore_wh
+000220f0: 6974 6573 7061 6365 2872 6563 7572 7369  itespace(recursi
+00022100: 7665 290a 2020 2020 2020 2020 7265 7475  ve).        retu
+00022110: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
+00022120: 2069 676e 6f72 6528 7365 6c66 2c20 6f74   ignore(self, ot
+00022130: 6865 7229 202d 3e20 5061 7273 6572 456c  her) -> ParserEl
+00022140: 656d 656e 743a 0a20 2020 2020 2020 2069  ement:.        i
+00022150: 6620 6973 696e 7374 616e 6365 286f 7468  f isinstance(oth
+00022160: 6572 2c20 5375 7070 7265 7373 293a 0a20  er, Suppress):. 
+00022170: 2020 2020 2020 2020 2020 2069 6620 6f74             if ot
+00022180: 6865 7220 6e6f 7420 696e 2073 656c 662e  her not in self.
+00022190: 6967 6e6f 7265 4578 7072 733a 0a20 2020  ignoreExprs:.   
+000221a0: 2020 2020 2020 2020 2020 2020 2073 7570               sup
+000221b0: 6572 2829 2e69 676e 6f72 6528 6f74 6865  er().ignore(othe
+000221c0: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
+000221d0: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
+000221e0: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
+000221f0: 2020 2020 2020 2020 2020 2020 652e 6967              e.ig
+00022200: 6e6f 7265 2873 656c 662e 6967 6e6f 7265  nore(self.ignore
+00022210: 4578 7072 735b 2d31 5d29 0a20 2020 2020  Exprs[-1]).     
+00022220: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00022230: 2020 2020 2073 7570 6572 2829 2e69 676e       super().ign
+00022240: 6f72 6528 6f74 6865 7229 0a20 2020 2020  ore(other).     
+00022250: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
+00022260: 7365 6c66 2e65 7870 7273 3a0a 2020 2020  self.exprs:.    
+00022270: 2020 2020 2020 2020 2020 2020 652e 6967              e.ig
+00022280: 6e6f 7265 2873 656c 662e 6967 6e6f 7265  nore(self.ignore
+00022290: 4578 7072 735b 2d31 5d29 0a20 2020 2020  Exprs[-1]).     
+000222a0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+000222b0: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
+000222c0: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
+000222d0: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
+000222e0: 2020 2072 6574 7572 6e20 6622 7b73 656c     return f"{sel
+000222f0: 662e 5f5f 636c 6173 735f 5f2e 5f5f 6e61  f.__class__.__na
+00022300: 6d65 5f5f 7d3a 287b 7374 7228 7365 6c66  me__}:({str(self
+00022310: 2e65 7870 7273 297d 2922 0a0a 2020 2020  .exprs)})"..    
+00022320: 6465 6620 7374 7265 616d 6c69 6e65 2873  def streamline(s
+00022330: 656c 6629 202d 3e20 5061 7273 6572 456c  elf) -> ParserEl
+00022340: 656d 656e 743a 0a20 2020 2020 2020 2069  ement:.        i
+00022350: 6620 7365 6c66 2e73 7472 6561 6d6c 696e  f self.streamlin
+00022360: 6564 3a0a 2020 2020 2020 2020 2020 2020  ed:.            
+00022370: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
+00022380: 2020 2020 2073 7570 6572 2829 2e73 7472       super().str
+00022390: 6561 6d6c 696e 6528 290a 0a20 2020 2020  eamline()..     
+000223a0: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
+000223b0: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
+000223c0: 2020 2020 652e 7374 7265 616d 6c69 6e65      e.streamline
+000223d0: 2829 0a0a 2020 2020 2020 2020 2320 636f  ()..        # co
+000223e0: 6c6c 6170 7365 206e 6573 7465 6420 3a63  llapse nested :c
+000223f0: 6c61 7373 3a60 416e 6460 2773 206f 6620  lass:`And`'s of 
+00022400: 7468 6520 666f 726d 2060 6041 6e64 2841  the form ``And(A
+00022410: 6e64 2841 6e64 2861 2c20 6229 2c20 6329  nd(And(a, b), c)
+00022420: 2c20 6429 6060 2074 6f20 6060 416e 6428  , d)`` to ``And(
+00022430: 612c 2062 2c20 632c 2064 2960 600a 2020  a, b, c, d)``.  
+00022440: 2020 2020 2020 2320 6275 7420 6f6e 6c79        # but only
+00022450: 2069 6620 7468 6572 6520 6172 6520 6e6f   if there are no
+00022460: 2070 6172 7365 2061 6374 696f 6e73 206f   parse actions o
+00022470: 7220 7265 7375 6c74 734e 616d 6573 206f  r resultsNames o
+00022480: 6e20 7468 6520 6e65 7374 6564 2041 6e64  n the nested And
+00022490: 2773 0a20 2020 2020 2020 2023 2028 6c69  's.        # (li
+000224a0: 6b65 7769 7365 2066 6f72 203a 636c 6173  kewise for :clas
+000224b0: 733a 604f 7260 2773 2061 6e64 203a 636c  s:`Or`'s and :cl
+000224c0: 6173 733a 604d 6174 6368 4669 7273 7460  ass:`MatchFirst`
+000224d0: 2773 290a 2020 2020 2020 2020 6966 206c  's).        if l
+000224e0: 656e 2873 656c 662e 6578 7072 7329 203d  en(self.exprs) =
+000224f0: 3d20 323a 0a20 2020 2020 2020 2020 2020  = 2:.           
+00022500: 206f 7468 6572 203d 2073 656c 662e 6578   other = self.ex
+00022510: 7072 735b 305d 0a20 2020 2020 2020 2020  prs[0].         
+00022520: 2020 2069 6620 280a 2020 2020 2020 2020     if (.        
+00022530: 2020 2020 2020 2020 6973 696e 7374 616e          isinstan
+00022540: 6365 286f 7468 6572 2c20 7365 6c66 2e5f  ce(other, self._
+00022550: 5f63 6c61 7373 5f5f 290a 2020 2020 2020  _class__).      
+00022560: 2020 2020 2020 2020 2020 616e 6420 6e6f            and no
+00022570: 7420 6f74 6865 722e 7061 7273 6541 6374  t other.parseAct
+00022580: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
+00022590: 2020 2020 616e 6420 6f74 6865 722e 7265      and other.re
+000225a0: 7375 6c74 734e 616d 6520 6973 204e 6f6e  sultsName is Non
+000225b0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+000225c0: 2020 616e 6420 6e6f 7420 6f74 6865 722e    and not other.
+000225d0: 6465 6275 670a 2020 2020 2020 2020 2020  debug.          
+000225e0: 2020 293a 0a20 2020 2020 2020 2020 2020    ):.           
+000225f0: 2020 2020 2073 656c 662e 6578 7072 7320       self.exprs 
+00022600: 3d20 6f74 6865 722e 6578 7072 735b 3a5d  = other.exprs[:]
+00022610: 202b 205b 7365 6c66 2e65 7870 7273 5b31   + [self.exprs[1
+00022620: 5d5d 0a20 2020 2020 2020 2020 2020 2020  ]].             
+00022630: 2020 2073 656c 662e 5f64 6566 6175 6c74     self._default
+00022640: 4e61 6d65 203d 204e 6f6e 650a 2020 2020  Name = None.    
+00022650: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00022660: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
+00022670: 7c3d 206f 7468 6572 2e6d 6179 5265 7475  |= other.mayRetu
+00022680: 726e 456d 7074 790a 2020 2020 2020 2020  rnEmpty.        
+00022690: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
+000226a0: 496e 6465 7845 7272 6f72 207c 3d20 6f74  IndexError |= ot
+000226b0: 6865 722e 6d61 7949 6e64 6578 4572 726f  her.mayIndexErro
+000226c0: 720a 0a20 2020 2020 2020 2020 2020 206f  r..            o
+000226d0: 7468 6572 203d 2073 656c 662e 6578 7072  ther = self.expr
+000226e0: 735b 2d31 5d0a 2020 2020 2020 2020 2020  s[-1].          
+000226f0: 2020 6966 2028 0a20 2020 2020 2020 2020    if (.         
+00022700: 2020 2020 2020 2069 7369 6e73 7461 6e63         isinstanc
+00022710: 6528 6f74 6865 722c 2073 656c 662e 5f5f  e(other, self.__
+00022720: 636c 6173 735f 5f29 0a20 2020 2020 2020  class__).       
+00022730: 2020 2020 2020 2020 2061 6e64 206e 6f74           and not
+00022740: 206f 7468 6572 2e70 6172 7365 4163 7469   other.parseActi
+00022750: 6f6e 0a20 2020 2020 2020 2020 2020 2020  on.             
+00022760: 2020 2061 6e64 206f 7468 6572 2e72 6573     and other.res
+00022770: 756c 7473 4e61 6d65 2069 7320 4e6f 6e65  ultsName is None
+00022780: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00022790: 2061 6e64 206e 6f74 206f 7468 6572 2e64   and not other.d
+000227a0: 6562 7567 0a20 2020 2020 2020 2020 2020  ebug.           
+000227b0: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
+000227c0: 2020 2020 7365 6c66 2e65 7870 7273 203d      self.exprs =
+000227d0: 2073 656c 662e 6578 7072 735b 3a2d 315d   self.exprs[:-1]
+000227e0: 202b 206f 7468 6572 2e65 7870 7273 5b3a   + other.exprs[:
+000227f0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
+00022800: 2020 7365 6c66 2e5f 6465 6661 756c 744e    self._defaultN
+00022810: 616d 6520 3d20 4e6f 6e65 0a20 2020 2020  ame = None.     
+00022820: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00022830: 6d61 7952 6574 7572 6e45 6d70 7479 207c  mayReturnEmpty |
+00022840: 3d20 6f74 6865 722e 6d61 7952 6574 7572  = other.mayRetur
+00022850: 6e45 6d70 7479 0a20 2020 2020 2020 2020  nEmpty.         
+00022860: 2020 2020 2020 2073 656c 662e 6d61 7949         self.mayI
+00022870: 6e64 6578 4572 726f 7220 7c3d 206f 7468  ndexError |= oth
+00022880: 6572 2e6d 6179 496e 6465 7845 7272 6f72  er.mayIndexError
+00022890: 0a0a 2020 2020 2020 2020 7365 6c66 2e65  ..        self.e
+000228a0: 7272 6d73 6720 3d20 2245 7870 6563 7465  rrmsg = "Expecte
+000228b0: 6420 2220 2b20 7374 7228 7365 6c66 290a  d " + str(self).
+000228c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000228d0: 7365 6c66 0a0a 2020 2020 6465 6620 7661  self..    def va
+000228e0: 6c69 6461 7465 2873 656c 662c 2076 616c  lidate(self, val
+000228f0: 6964 6174 6554 7261 6365 3d4e 6f6e 6529  idateTrace=None)
+00022900: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
+00022910: 2020 7761 726e 696e 6773 2e77 6172 6e28    warnings.warn(
+00022920: 0a20 2020 2020 2020 2020 2020 2022 5061  .            "Pa
+00022930: 7273 6572 456c 656d 656e 742e 7661 6c69  rserElement.vali
+00022940: 6461 7465 2829 2069 7320 6465 7072 6563  date() is deprec
+00022950: 6174 6564 2c20 616e 6420 7368 6f75 6c64  ated, and should
+00022960: 206e 6f74 2062 6520 7573 6564 2074 6f20   not be used to 
+00022970: 6368 6563 6b20 666f 7220 6c65 6674 2072  check for left r
+00022980: 6563 7572 7369 6f6e 222c 0a20 2020 2020  ecursion",.     
+00022990: 2020 2020 2020 2044 6570 7265 6361 7469         Deprecati
+000229a0: 6f6e 5761 726e 696e 672c 0a20 2020 2020  onWarning,.     
+000229b0: 2020 2020 2020 2073 7461 636b 6c65 7665         stackleve
+000229c0: 6c3d 322c 0a20 2020 2020 2020 2029 0a20  l=2,.        ). 
+000229d0: 2020 2020 2020 2074 6d70 203d 2028 7661         tmp = (va
+000229e0: 6c69 6461 7465 5472 6163 6520 6966 2076  lidateTrace if v
+000229f0: 616c 6964 6174 6554 7261 6365 2069 7320  alidateTrace is 
+00022a00: 6e6f 7420 4e6f 6e65 2065 6c73 6520 5b5d  not None else []
+00022a10: 295b 3a5d 202b 205b 7365 6c66 5d0a 2020  )[:] + [self].  
+00022a20: 2020 2020 2020 666f 7220 6520 696e 2073        for e in s
+00022a30: 656c 662e 6578 7072 733a 0a20 2020 2020  elf.exprs:.     
+00022a40: 2020 2020 2020 2065 2e76 616c 6964 6174         e.validat
+00022a50: 6528 746d 7029 0a20 2020 2020 2020 2073  e(tmp).        s
+00022a60: 656c 662e 5f63 6865 636b 5265 6375 7273  elf._checkRecurs
+00022a70: 696f 6e28 5b5d 290a 0a20 2020 2064 6566  ion([])..    def
+00022a80: 2063 6f70 7928 7365 6c66 2920 2d3e 2050   copy(self) -> P
+00022a90: 6172 7365 7245 6c65 6d65 6e74 3a0a 2020  arserElement:.  
+00022aa0: 2020 2020 2020 7265 7420 3d20 7375 7065        ret = supe
+00022ab0: 7228 292e 636f 7079 2829 0a20 2020 2020  r().copy().     
+00022ac0: 2020 2072 6574 203d 2074 7970 696e 672e     ret = typing.
+00022ad0: 6361 7374 2850 6172 7365 4578 7072 6573  cast(ParseExpres
+00022ae0: 7369 6f6e 2c20 7265 7429 0a20 2020 2020  sion, ret).     
+00022af0: 2020 2072 6574 2e65 7870 7273 203d 205b     ret.exprs = [
+00022b00: 652e 636f 7079 2829 2066 6f72 2065 2069  e.copy() for e i
+00022b10: 6e20 7365 6c66 2e65 7870 7273 5d0a 2020  n self.exprs].  
+00022b20: 2020 2020 2020 7265 7475 726e 2072 6574        return ret
+00022b30: 0a0a 2020 2020 6465 6620 5f73 6574 5265  ..    def _setRe
+00022b40: 7375 6c74 734e 616d 6528 7365 6c66 2c20  sultsName(self, 
+00022b50: 6e61 6d65 2c20 6c69 7374 416c 6c4d 6174  name, listAllMat
+00022b60: 6368 6573 3d46 616c 7365 293a 0a20 2020  ches=False):.   
+00022b70: 2020 2020 2069 6620 280a 2020 2020 2020       if (.      
+00022b80: 2020 2020 2020 5f5f 6469 6167 5f5f 2e77        __diag__.w
+00022b90: 6172 6e5f 756e 6772 6f75 7065 645f 6e61  arn_ungrouped_na
+00022ba0: 6d65 645f 746f 6b65 6e73 5f69 6e5f 636f  med_tokens_in_co
+00022bb0: 6c6c 6563 7469 6f6e 0a20 2020 2020 2020  llection.       
+00022bc0: 2020 2020 2061 6e64 2044 6961 676e 6f73       and Diagnos
+00022bd0: 7469 6373 2e77 6172 6e5f 756e 6772 6f75  tics.warn_ungrou
+00022be0: 7065 645f 6e61 6d65 645f 746f 6b65 6e73  ped_named_tokens
+00022bf0: 5f69 6e5f 636f 6c6c 6563 7469 6f6e 0a20  _in_collection. 
+00022c00: 2020 2020 2020 2020 2020 206e 6f74 2069             not i
+00022c10: 6e20 7365 6c66 2e73 7570 7072 6573 735f  n self.suppress_
+00022c20: 7761 726e 696e 6773 5f0a 2020 2020 2020  warnings_.      
+00022c30: 2020 293a 0a20 2020 2020 2020 2020 2020    ):.           
+00022c40: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
+00022c50: 7870 7273 3a0a 2020 2020 2020 2020 2020  xprs:.          
+00022c60: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
+00022c70: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00022c80: 7369 6e73 7461 6e63 6528 652c 2050 6172  sinstance(e, Par
+00022c90: 7365 7245 6c65 6d65 6e74 290a 2020 2020  serElement).    
+00022ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022cb0: 616e 6420 652e 7265 7375 6c74 734e 616d  and e.resultsNam
+00022cc0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+00022cd0: 2020 2020 2020 616e 6420 4469 6167 6e6f        and Diagno
+00022ce0: 7374 6963 732e 7761 726e 5f75 6e67 726f  stics.warn_ungro
+00022cf0: 7570 6564 5f6e 616d 6564 5f74 6f6b 656e  uped_named_token
+00022d00: 735f 696e 5f63 6f6c 6c65 6374 696f 6e0a  s_in_collection.
+00022d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022d20: 2020 2020 6e6f 7420 696e 2065 2e73 7570      not in e.sup
+00022d30: 7072 6573 735f 7761 726e 696e 6773 5f0a  press_warnings_.
+00022d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022d50: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00022d60: 2020 2020 2020 2077 6172 6e69 6e67 732e         warnings.
+00022d70: 7761 726e 280a 2020 2020 2020 2020 2020  warn(.          
+00022d80: 2020 2020 2020 2020 2020 2020 2020 227b                "{
+00022d90: 7d3a 2073 6574 7469 6e67 2072 6573 756c  }: setting resul
+00022da0: 7473 206e 616d 6520 7b21 727d 206f 6e20  ts name {!r} on 
+00022db0: 7b7d 2065 7870 7265 7373 696f 6e20 220a  {} expression ".
+00022dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022dd0: 2020 2020 2020 2020 2263 6f6c 6c69 6465          "collide
+00022de0: 7320 7769 7468 207b 2172 7d20 6f6e 2063  s with {!r} on c
+00022df0: 6f6e 7461 696e 6564 2065 7870 7265 7373  ontained express
+00022e00: 696f 6e22 2e66 6f72 6d61 7428 0a20 2020  ion".format(.   
+00022e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022e20: 2020 2020 2020 2020 2022 7761 726e 5f75           "warn_u
+00022e30: 6e67 726f 7570 6564 5f6e 616d 6564 5f74  ngrouped_named_t
+00022e40: 6f6b 656e 735f 696e 5f63 6f6c 6c65 6374  okens_in_collect
+00022e50: 696f 6e22 2c0a 2020 2020 2020 2020 2020  ion",.          
+00022e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022e70: 2020 6e61 6d65 2c0a 2020 2020 2020 2020    name,.        
+00022e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022e90: 2020 2020 7479 7065 2873 656c 6629 2e5f      type(self)._
+00022ea0: 5f6e 616d 655f 5f2c 0a20 2020 2020 2020  _name__,.       
+00022eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022ec0: 2020 2020 2065 2e72 6573 756c 7473 4e61       e.resultsNa
+00022ed0: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
+00022ee0: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
+00022ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022f00: 2020 2020 2020 2073 7461 636b 6c65 7665         stackleve
+00022f10: 6c3d 332c 0a20 2020 2020 2020 2020 2020  l=3,.           
+00022f20: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+00022f30: 2020 2020 7265 7475 726e 2073 7570 6572      return super
+00022f40: 2829 2e5f 7365 7452 6573 756c 7473 4e61  ()._setResultsNa
+00022f50: 6d65 286e 616d 652c 206c 6973 7441 6c6c  me(name, listAll
+00022f60: 4d61 7463 6865 7329 0a0a 2020 2020 2320  Matches)..    # 
+00022f70: 436f 6d70 6174 6962 696c 6974 7920 7379  Compatibility sy
+00022f80: 6e6f 6e79 6d73 0a20 2020 2023 2066 6d74  nonyms.    # fmt
+00022f90: 3a20 6f66 660a 2020 2020 4072 6570 6c61  : off.    @repla
+00022fa0: 6365 645f 6279 5f70 6570 3828 6c65 6176  ced_by_pep8(leav
+00022fb0: 655f 7768 6974 6573 7061 6365 290a 2020  e_whitespace).  
+00022fc0: 2020 6465 6620 6c65 6176 6557 6869 7465    def leaveWhite
+00022fd0: 7370 6163 6528 7365 6c66 293a 202e 2e2e  space(self): ...
+00022fe0: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
+00022ff0: 6279 5f70 6570 3828 6967 6e6f 7265 5f77  by_pep8(ignore_w
+00023000: 6869 7465 7370 6163 6529 0a20 2020 2064  hitespace).    d
+00023010: 6566 2069 676e 6f72 6557 6869 7465 7370  ef ignoreWhitesp
+00023020: 6163 6528 7365 6c66 293a 202e 2e2e 0a20  ace(self): .... 
+00023030: 2020 2023 2066 6d74 3a20 6f6e 0a0a 0a63     # fmt: on...c
+00023040: 6c61 7373 2041 6e64 2850 6172 7365 4578  lass And(ParseEx
+00023050: 7072 6573 7369 6f6e 293a 0a20 2020 2022  pression):.    "
+00023060: 2222 0a20 2020 2052 6571 7569 7265 7320  "".    Requires 
+00023070: 616c 6c20 6769 7665 6e20 3a63 6c61 7373  all given :class
+00023080: 3a60 5061 7273 6545 7870 7265 7373 696f  :`ParseExpressio
+00023090: 6e60 2073 2074 6f20 6265 2066 6f75 6e64  n` s to be found
+000230a0: 2069 6e20 7468 6520 6769 7665 6e20 6f72   in the given or
+000230b0: 6465 722e 0a20 2020 2045 7870 7265 7373  der..    Express
+000230c0: 696f 6e73 206d 6179 2062 6520 7365 7061  ions may be sepa
+000230d0: 7261 7465 6420 6279 2077 6869 7465 7370  rated by whitesp
+000230e0: 6163 652e 0a20 2020 204d 6179 2062 6520  ace..    May be 
+000230f0: 636f 6e73 7472 7563 7465 6420 7573 696e  constructed usin
+00023100: 6720 7468 6520 6060 272b 2760 6020 6f70  g the ``'+'`` op
+00023110: 6572 6174 6f72 2e0a 2020 2020 4d61 7920  erator..    May 
+00023120: 616c 736f 2062 6520 636f 6e73 7472 7563  also be construc
+00023130: 7465 6420 7573 696e 6720 7468 6520 6060  ted using the ``
+00023140: 272d 2760 6020 6f70 6572 6174 6f72 2c20  '-'`` operator, 
+00023150: 7768 6963 6820 7769 6c6c 0a20 2020 2073  which will.    s
+00023160: 7570 7072 6573 7320 6261 636b 7472 6163  uppress backtrac
+00023170: 6b69 6e67 2e0a 0a20 2020 2045 7861 6d70  king...    Examp
+00023180: 6c65 3a3a 0a0a 2020 2020 2020 2020 696e  le::..        in
+00023190: 7465 6765 7220 3d20 576f 7264 286e 756d  teger = Word(num
+000231a0: 7329 0a20 2020 2020 2020 206e 616d 655f  s).        name_
+000231b0: 6578 7072 203d 2057 6f72 6428 616c 7068  expr = Word(alph
+000231c0: 6173 295b 312c 202e 2e2e 5d0a 0a20 2020  as)[1, ...]..   
+000231d0: 2020 2020 2065 7870 7220 3d20 416e 6428       expr = And(
+000231e0: 5b69 6e74 6567 6572 2822 6964 2229 2c20  [integer("id"), 
+000231f0: 6e61 6d65 5f65 7870 7228 226e 616d 6522  name_expr("name"
+00023200: 292c 2069 6e74 6567 6572 2822 6167 6522  ), integer("age"
+00023210: 295d 290a 2020 2020 2020 2020 2320 6d6f  )]).        # mo
+00023220: 7265 2065 6173 696c 7920 7772 6974 7465  re easily writte
+00023230: 6e20 6173 3a0a 2020 2020 2020 2020 6578  n as:.        ex
+00023240: 7072 203d 2069 6e74 6567 6572 2822 6964  pr = integer("id
+00023250: 2229 202b 206e 616d 655f 6578 7072 2822  ") + name_expr("
+00023260: 6e61 6d65 2229 202b 2069 6e74 6567 6572  name") + integer
+00023270: 2822 6167 6522 290a 2020 2020 2222 220a  ("age").    """.
+00023280: 0a20 2020 2063 6c61 7373 205f 4572 726f  .    class _Erro
+00023290: 7253 746f 7028 456d 7074 7929 3a0a 2020  rStop(Empty):.  
+000232a0: 2020 2020 2020 6465 6620 5f5f 696e 6974        def __init
+000232b0: 5f5f 2873 656c 662c 202a 6172 6773 2c20  __(self, *args, 
+000232c0: 2a2a 6b77 6172 6773 293a 0a20 2020 2020  **kwargs):.     
+000232d0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+000232e0: 5f69 6e69 745f 5f28 2a61 7267 732c 202a  _init__(*args, *
+000232f0: 2a6b 7761 7267 7329 0a20 2020 2020 2020  *kwargs).       
+00023300: 2020 2020 2073 656c 662e 6c65 6176 655f       self.leave_
+00023310: 7768 6974 6573 7061 6365 2829 0a0a 2020  whitespace()..  
+00023320: 2020 2020 2020 6465 6620 5f67 656e 6572        def _gener
+00023330: 6174 6544 6566 6175 6c74 4e61 6d65 2873  ateDefaultName(s
+00023340: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
+00023350: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00023360: 222d 220a 0a20 2020 2064 6566 205f 5f69  "-"..    def __i
+00023370: 6e69 745f 5f28 0a20 2020 2020 2020 2073  nit__(.        s
+00023380: 656c 662c 2065 7870 7273 5f61 7267 3a20  elf, exprs_arg: 
+00023390: 7479 7069 6e67 2e49 7465 7261 626c 655b  typing.Iterable[
+000233a0: 5061 7273 6572 456c 656d 656e 745d 2c20  ParserElement], 
+000233b0: 7361 7665 6c69 7374 3a20 626f 6f6c 203d  savelist: bool =
+000233c0: 2054 7275 650a 2020 2020 293a 0a20 2020   True.    ):.   
+000233d0: 2020 2020 2065 7870 7273 3a20 4c69 7374       exprs: List
+000233e0: 5b50 6172 7365 7245 6c65 6d65 6e74 5d20  [ParserElement] 
+000233f0: 3d20 6c69 7374 2865 7870 7273 5f61 7267  = list(exprs_arg
+00023400: 290a 2020 2020 2020 2020 6966 2065 7870  ).        if exp
+00023410: 7273 2061 6e64 2045 6c6c 6970 7369 7320  rs and Ellipsis 
+00023420: 696e 2065 7870 7273 3a0a 2020 2020 2020  in exprs:.      
+00023430: 2020 2020 2020 746d 7020 3d20 5b5d 0a20        tmp = []. 
+00023440: 2020 2020 2020 2020 2020 2066 6f72 2069             for i
+00023450: 2c20 6578 7072 2069 6e20 656e 756d 6572  , expr in enumer
+00023460: 6174 6528 6578 7072 7329 3a0a 2020 2020  ate(exprs):.    
+00023470: 2020 2020 2020 2020 2020 2020 6966 2065              if e
+00023480: 7870 7220 6973 2045 6c6c 6970 7369 733a  xpr is Ellipsis:
+00023490: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000234a0: 2020 2020 2069 6620 6920 3c20 6c65 6e28       if i < len(
+000234b0: 6578 7072 7329 202d 2031 3a0a 2020 2020  exprs) - 1:.    
+000234c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000234d0: 2020 2020 736b 6970 746f 5f61 7267 3a20      skipto_arg: 
+000234e0: 5061 7273 6572 456c 656d 656e 7420 3d20  ParserElement = 
+000234f0: 7479 7069 6e67 2e63 6173 7428 0a20 2020  typing.cast(.   
+00023500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023510: 2020 2020 2020 2020 2050 6172 7365 4578           ParseEx
+00023520: 7072 6573 7369 6f6e 2c20 2845 6d70 7479  pression, (Empty
+00023530: 2829 202b 2065 7870 7273 5b69 202b 2031  () + exprs[i + 1
+00023540: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
+00023550: 2020 2020 2020 2020 2020 2029 2e65 7870             ).exp
+00023560: 7273 5b2d 315d 0a20 2020 2020 2020 2020  rs[-1].         
+00023570: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00023580: 6d70 2e61 7070 656e 6428 536b 6970 546f  mp.append(SkipTo
+00023590: 2873 6b69 7074 6f5f 6172 6729 2822 5f73  (skipto_arg)("_s
+000235a0: 6b69 7070 6564 2a22 2929 0a20 2020 2020  kipped*")).     
+000235b0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000235c0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000235d0: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+000235e0: 7365 2045 7863 6570 7469 6f6e 280a 2020  se Exception(.  
+000235f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023600: 2020 2020 2020 2020 2020 2263 616e 6e6f            "canno
+00023610: 7420 636f 6e73 7472 7563 7420 416e 6420  t construct And 
+00023620: 7769 7468 2073 6571 7565 6e63 6520 656e  with sequence en
+00023630: 6469 6e67 2069 6e20 2e2e 2e22 0a20 2020  ding in ...".   
+00023640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023650: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+00023660: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00023670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023680: 2074 6d70 2e61 7070 656e 6428 6578 7072   tmp.append(expr
+00023690: 290a 2020 2020 2020 2020 2020 2020 6578  ).            ex
+000236a0: 7072 735b 3a5d 203d 2074 6d70 0a20 2020  prs[:] = tmp.   
+000236b0: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
+000236c0: 6e69 745f 5f28 6578 7072 732c 2073 6176  nit__(exprs, sav
+000236d0: 656c 6973 7429 0a20 2020 2020 2020 2069  elist).        i
+000236e0: 6620 7365 6c66 2e65 7870 7273 3a0a 2020  f self.exprs:.  
+000236f0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+00023700: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
+00023710: 616c 6c28 652e 6d61 7952 6574 7572 6e45  all(e.mayReturnE
+00023720: 6d70 7479 2066 6f72 2065 2069 6e20 7365  mpty for e in se
+00023730: 6c66 2e65 7870 7273 290a 2020 2020 2020  lf.exprs).      
+00023740: 2020 2020 2020 6966 206e 6f74 2069 7369        if not isi
+00023750: 6e73 7461 6e63 6528 7365 6c66 2e65 7870  nstance(self.exp
+00023760: 7273 5b30 5d2c 2057 6869 7465 293a 0a20  rs[0], White):. 
+00023770: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00023780: 656c 662e 7365 745f 7768 6974 6573 7061  elf.set_whitespa
+00023790: 6365 5f63 6861 7273 280a 2020 2020 2020  ce_chars(.      
+000237a0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000237b0: 6c66 2e65 7870 7273 5b30 5d2e 7768 6974  lf.exprs[0].whit
+000237c0: 6543 6861 7273 2c0a 2020 2020 2020 2020  eChars,.        
+000237d0: 2020 2020 2020 2020 2020 2020 636f 7079              copy
+000237e0: 5f64 6566 6175 6c74 733d 7365 6c66 2e65  _defaults=self.e
+000237f0: 7870 7273 5b30 5d2e 636f 7079 4465 6661  xprs[0].copyDefa
+00023800: 756c 7457 6869 7465 4368 6172 732c 0a20  ultWhiteChars,. 
+00023810: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00023820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023830: 2073 656c 662e 736b 6970 5768 6974 6573   self.skipWhites
+00023840: 7061 6365 203d 2073 656c 662e 6578 7072  pace = self.expr
+00023850: 735b 305d 2e73 6b69 7057 6869 7465 7370  s[0].skipWhitesp
+00023860: 6163 650a 2020 2020 2020 2020 2020 2020  ace.            
+00023870: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00023880: 2020 2020 2020 7365 6c66 2e73 6b69 7057        self.skipW
+00023890: 6869 7465 7370 6163 6520 3d20 4661 6c73  hitespace = Fals
+000238a0: 650a 2020 2020 2020 2020 656c 7365 3a0a  e.        else:.
+000238b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000238c0: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
+000238d0: 3d20 5472 7565 0a20 2020 2020 2020 2073  = True.        s
+000238e0: 656c 662e 6361 6c6c 5072 6570 6172 7365  elf.callPreparse
+000238f0: 203d 2054 7275 650a 0a20 2020 2064 6566   = True..    def
+00023900: 2073 7472 6561 6d6c 696e 6528 7365 6c66   streamline(self
+00023910: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
+00023920: 6e74 3a0a 2020 2020 2020 2020 2320 636f  nt:.        # co
+00023930: 6c6c 6170 7365 2061 6e79 205f 5065 6e64  llapse any _Pend
+00023940: 696e 6753 6b69 7027 730a 2020 2020 2020  ingSkip's.      
+00023950: 2020 6966 2073 656c 662e 6578 7072 733a    if self.exprs:
+00023960: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00023970: 616e 7928 0a20 2020 2020 2020 2020 2020  any(.           
+00023980: 2020 2020 2069 7369 6e73 7461 6e63 6528       isinstance(
+00023990: 652c 2050 6172 7365 4578 7072 6573 7369  e, ParseExpressi
+000239a0: 6f6e 290a 2020 2020 2020 2020 2020 2020  on).            
+000239b0: 2020 2020 616e 6420 652e 6578 7072 730a      and e.exprs.
+000239c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000239d0: 616e 6420 6973 696e 7374 616e 6365 2865  and isinstance(e
+000239e0: 2e65 7870 7273 5b2d 315d 2c20 5f50 656e  .exprs[-1], _Pen
+000239f0: 6469 6e67 536b 6970 290a 2020 2020 2020  dingSkip).      
+00023a00: 2020 2020 2020 2020 2020 666f 7220 6520            for e 
+00023a10: 696e 2073 656c 662e 6578 7072 735b 3a2d  in self.exprs[:-
+00023a20: 315d 0a20 2020 2020 2020 2020 2020 2029  1].            )
+00023a30: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00023a40: 2020 6465 6c65 7465 645f 6578 7072 5f6d    deleted_expr_m
+00023a50: 6172 6b65 7220 3d20 4e6f 4d61 7463 6828  arker = NoMatch(
+00023a60: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00023a70: 2020 666f 7220 692c 2065 2069 6e20 656e    for i, e in en
+00023a80: 756d 6572 6174 6528 7365 6c66 2e65 7870  umerate(self.exp
+00023a90: 7273 5b3a 2d31 5d29 3a0a 2020 2020 2020  rs[:-1]):.      
+00023aa0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00023ab0: 2065 2069 7320 6465 6c65 7465 645f 6578   e is deleted_ex
+00023ac0: 7072 5f6d 6172 6b65 723a 0a20 2020 2020  pr_marker:.     
+00023ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023ae0: 2020 2063 6f6e 7469 6e75 650a 2020 2020     continue.    
+00023af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023b00: 6966 2028 0a20 2020 2020 2020 2020 2020  if (.           
+00023b10: 2020 2020 2020 2020 2020 2020 2069 7369               isi
+00023b20: 6e73 7461 6e63 6528 652c 2050 6172 7365  nstance(e, Parse
+00023b30: 4578 7072 6573 7369 6f6e 290a 2020 2020  Expression).    
+00023b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023b50: 2020 2020 616e 6420 652e 6578 7072 730a      and e.exprs.
+00023b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023b70: 2020 2020 2020 2020 616e 6420 6973 696e          and isin
+00023b80: 7374 616e 6365 2865 2e65 7870 7273 5b2d  stance(e.exprs[-
+00023b90: 315d 2c20 5f50 656e 6469 6e67 536b 6970  1], _PendingSkip
+00023ba0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00023bb0: 2020 2020 2020 293a 0a20 2020 2020 2020        ):.       
+00023bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023bd0: 2065 2e65 7870 7273 5b2d 315d 203d 2065   e.exprs[-1] = e
+00023be0: 2e65 7870 7273 5b2d 315d 202b 2073 656c  .exprs[-1] + sel
+00023bf0: 662e 6578 7072 735b 6920 2b20 315d 0a20  f.exprs[i + 1]. 
 00023c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023c10: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-00023c20: 2020 2020 2020 2020 2062 7265 616b 0a20           break. 
-00023c30: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00023c40: 7562 7320 3d20 6375 722e 7265 6375 7273  ubs = cur.recurs
-00023c50: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
-00023c60: 2020 2020 6e65 7874 5f66 6972 7374 203d      next_first =
-00023c70: 206e 6578 7428 6974 6572 2873 7562 7329   next(iter(subs)
-00023c80: 2c20 4e6f 6e65 290a 2020 2020 2020 2020  , None).        
-00023c90: 2020 2020 2020 2020 6966 206e 6578 745f          if next_
-00023ca0: 6669 7273 7420 6973 204e 6f6e 653a 0a20  first is None:. 
-00023cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023cc0: 2020 2062 7265 616b 0a20 2020 2020 2020     break.       
-00023cd0: 2020 2020 2020 2020 2063 7572 203d 2074           cur = t
-00023ce0: 7970 696e 672e 6361 7374 2850 6172 7365  yping.cast(Parse
-00023cf0: 7245 6c65 6d65 6e74 2c20 6e65 7874 5f66  rElement, next_f
-00023d00: 6972 7374 290a 0a20 2020 2020 2020 2073  irst)..        s
-00023d10: 656c 662e 6d61 7952 6574 7572 6e45 6d70  elf.mayReturnEmp
-00023d20: 7479 203d 2061 6c6c 2865 2e6d 6179 5265  ty = all(e.mayRe
-00023d30: 7475 726e 456d 7074 7920 666f 7220 6520  turnEmpty for e 
-00023d40: 696e 2073 656c 662e 6578 7072 7329 0a20  in self.exprs). 
-00023d50: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00023d60: 6c66 0a0a 2020 2020 6465 6620 7061 7273  lf..    def pars
-00023d70: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
-00023d80: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-00023d90: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
-00023da0: 2020 2020 2320 7061 7373 2046 616c 7365      # pass False
-00023db0: 2061 7320 6361 6c6c 5072 6550 6172 7365   as callPreParse
-00023dc0: 2061 7267 2074 6f20 5f70 6172 7365 2066   arg to _parse f
-00023dd0: 6f72 2066 6972 7374 2065 6c65 6d65 6e74  or first element
-00023de0: 2c20 7369 6e63 6520 7765 2061 6c72 6561  , since we alrea
-00023df0: 6479 0a20 2020 2020 2020 2023 2070 7265  dy.        # pre
-00023e00: 2d70 6172 7365 6420 7468 6520 7374 7269  -parsed the stri
-00023e10: 6e67 2061 7320 7061 7274 206f 6620 6f75  ng as part of ou
-00023e20: 7220 416e 6420 7072 652d 7061 7273 696e  r And pre-parsin
-00023e30: 670a 2020 2020 2020 2020 6c6f 632c 2072  g.        loc, r
-00023e40: 6573 756c 746c 6973 7420 3d20 7365 6c66  esultlist = self
-00023e50: 2e65 7870 7273 5b30 5d2e 5f70 6172 7365  .exprs[0]._parse
-00023e60: 280a 2020 2020 2020 2020 2020 2020 696e  (.            in
-00023e70: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
-00023e80: 6374 696f 6e73 2c20 6361 6c6c 5072 6550  ctions, callPreP
-00023e90: 6172 7365 3d46 616c 7365 0a20 2020 2020  arse=False.     
-00023ea0: 2020 2029 0a20 2020 2020 2020 2065 7272     ).        err
-00023eb0: 6f72 5374 6f70 203d 2046 616c 7365 0a20  orStop = False. 
-00023ec0: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
-00023ed0: 7365 6c66 2e65 7870 7273 5b31 3a5d 3a0a  self.exprs[1:]:.
-00023ee0: 2020 2020 2020 2020 2020 2020 2320 6966              # if
-00023ef0: 2069 7369 6e73 7461 6e63 6528 652c 2041   isinstance(e, A
-00023f00: 6e64 2e5f 4572 726f 7253 746f 7029 3a0a  nd._ErrorStop):.
-00023f10: 2020 2020 2020 2020 2020 2020 6966 2074              if t
-00023f20: 7970 6528 6529 2069 7320 416e 642e 5f45  ype(e) is And._E
-00023f30: 7272 6f72 5374 6f70 3a0a 2020 2020 2020  rrorStop:.      
-00023f40: 2020 2020 2020 2020 2020 6572 726f 7253            errorS
-00023f50: 746f 7020 3d20 5472 7565 0a20 2020 2020  top = True.     
-00023f60: 2020 2020 2020 2020 2020 2063 6f6e 7469             conti
-00023f70: 6e75 650a 2020 2020 2020 2020 2020 2020  nue.            
-00023f80: 6966 2065 7272 6f72 5374 6f70 3a0a 2020  if errorStop:.  
-00023f90: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-00023fa0: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
-00023fb0: 2020 2020 2020 206c 6f63 2c20 6578 7072         loc, expr
-00023fc0: 746f 6b65 6e73 203d 2065 2e5f 7061 7273  tokens = e._pars
-00023fd0: 6528 696e 7374 7269 6e67 2c20 6c6f 632c  e(instring, loc,
-00023fe0: 2064 6f41 6374 696f 6e73 290a 2020 2020   doActions).    
-00023ff0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
-00024000: 7074 2050 6172 7365 5379 6e74 6178 4578  pt ParseSyntaxEx
-00024010: 6365 7074 696f 6e3a 0a20 2020 2020 2020  ception:.       
-00024020: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-00024030: 7365 0a20 2020 2020 2020 2020 2020 2020  se.             
-00024040: 2020 2065 7863 6570 7420 5061 7273 6542     except ParseB
-00024050: 6173 6545 7863 6570 7469 6f6e 2061 7320  aseException as 
-00024060: 7065 3a0a 2020 2020 2020 2020 2020 2020  pe:.            
-00024070: 2020 2020 2020 2020 7065 2e5f 5f74 7261          pe.__tra
-00024080: 6365 6261 636b 5f5f 203d 204e 6f6e 650a  ceback__ = None.
-00024090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000240a0: 2020 2020 7261 6973 6520 5061 7273 6553      raise ParseS
-000240b0: 796e 7461 7845 7863 6570 7469 6f6e 2e5f  yntaxException._
-000240c0: 6672 6f6d 5f65 7863 6570 7469 6f6e 2870  from_exception(p
-000240d0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-000240e0: 2020 2065 7863 6570 7420 496e 6465 7845     except IndexE
-000240f0: 7272 6f72 3a0a 2020 2020 2020 2020 2020  rror:.          
-00024100: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00024110: 5061 7273 6553 796e 7461 7845 7863 6570  ParseSyntaxExcep
-00024120: 7469 6f6e 280a 2020 2020 2020 2020 2020  tion(.          
-00024130: 2020 2020 2020 2020 2020 2020 2020 696e                in
-00024140: 7374 7269 6e67 2c20 6c65 6e28 696e 7374  string, len(inst
-00024150: 7269 6e67 292c 2073 656c 662e 6572 726d  ring), self.errm
-00024160: 7367 2c20 7365 6c66 0a20 2020 2020 2020  sg, self.       
-00024170: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-00024180: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00024190: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000241a0: 206c 6f63 2c20 6578 7072 746f 6b65 6e73   loc, exprtokens
-000241b0: 203d 2065 2e5f 7061 7273 6528 696e 7374   = e._parse(inst
-000241c0: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-000241d0: 696f 6e73 290a 2020 2020 2020 2020 2020  ions).          
-000241e0: 2020 7265 7375 6c74 6c69 7374 202b 3d20    resultlist += 
-000241f0: 6578 7072 746f 6b65 6e73 0a20 2020 2020  exprtokens.     
-00024200: 2020 2072 6574 7572 6e20 6c6f 632c 2072     return loc, r
-00024210: 6573 756c 746c 6973 740a 0a20 2020 2064  esultlist..    d
-00024220: 6566 205f 5f69 6164 645f 5f28 7365 6c66  ef __iadd__(self
-00024230: 2c20 6f74 6865 7229 3a0a 2020 2020 2020  , other):.      
-00024240: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-00024250: 6f74 6865 722c 2073 7472 5f74 7970 6529  other, str_type)
-00024260: 3a0a 2020 2020 2020 2020 2020 2020 6f74  :.            ot
-00024270: 6865 7220 3d20 7365 6c66 2e5f 6c69 7465  her = self._lite
-00024280: 7261 6c53 7472 696e 6743 6c61 7373 286f  ralStringClass(o
-00024290: 7468 6572 290a 2020 2020 2020 2020 6966  ther).        if
-000242a0: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
-000242b0: 6f74 6865 722c 2050 6172 7365 7245 6c65  other, ParserEle
-000242c0: 6d65 6e74 293a 0a20 2020 2020 2020 2020  ment):.         
-000242d0: 2020 2072 6574 7572 6e20 4e6f 7449 6d70     return NotImp
-000242e0: 6c65 6d65 6e74 6564 0a20 2020 2020 2020  lemented.       
-000242f0: 2072 6574 7572 6e20 7365 6c66 2e61 7070   return self.app
-00024300: 656e 6428 6f74 6865 7229 2020 2320 416e  end(other)  # An
-00024310: 6428 5b73 656c 662c 206f 7468 6572 5d29  d([self, other])
-00024320: 0a0a 2020 2020 6465 6620 5f63 6865 636b  ..    def _check
-00024330: 5265 6375 7273 696f 6e28 7365 6c66 2c20  Recursion(self, 
-00024340: 7061 7273 6545 6c65 6d65 6e74 4c69 7374  parseElementList
-00024350: 293a 0a20 2020 2020 2020 2073 7562 5265  ):.        subRe
-00024360: 6343 6865 636b 4c69 7374 203d 2070 6172  cCheckList = par
-00024370: 7365 456c 656d 656e 744c 6973 745b 3a5d  seElementList[:]
-00024380: 202b 205b 7365 6c66 5d0a 2020 2020 2020   + [self].      
-00024390: 2020 666f 7220 6520 696e 2073 656c 662e    for e in self.
-000243a0: 6578 7072 733a 0a20 2020 2020 2020 2020  exprs:.         
-000243b0: 2020 2065 2e5f 6368 6563 6b52 6563 7572     e._checkRecur
-000243c0: 7369 6f6e 2873 7562 5265 6343 6865 636b  sion(subRecCheck
-000243d0: 4c69 7374 290a 2020 2020 2020 2020 2020  List).          
-000243e0: 2020 6966 206e 6f74 2065 2e6d 6179 5265    if not e.mayRe
-000243f0: 7475 726e 456d 7074 793a 0a20 2020 2020  turnEmpty:.     
-00024400: 2020 2020 2020 2020 2020 2062 7265 616b             break
-00024410: 0a0a 2020 2020 6465 6620 5f67 656e 6572  ..    def _gener
-00024420: 6174 6544 6566 6175 6c74 4e61 6d65 2873  ateDefaultName(s
-00024430: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
-00024440: 2020 2020 2069 6e6e 6572 203d 2022 2022       inner = " "
-00024450: 2e6a 6f69 6e28 7374 7228 6529 2066 6f72  .join(str(e) for
-00024460: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
-00024470: 290a 2020 2020 2020 2020 2320 7374 7269  ).        # stri
-00024480: 7020 6f66 6620 7265 6475 6e64 616e 7420  p off redundant 
-00024490: 696e 6e65 7220 7b7d 2773 0a20 2020 2020  inner {}'s.     
-000244a0: 2020 2077 6869 6c65 206c 656e 2869 6e6e     while len(inn
-000244b0: 6572 2920 3e20 3120 616e 6420 696e 6e65  er) > 1 and inne
-000244c0: 725b 3020 3a3a 206c 656e 2869 6e6e 6572  r[0 :: len(inner
-000244d0: 2920 2d20 315d 203d 3d20 227b 7d22 3a0a  ) - 1] == "{}":.
-000244e0: 2020 2020 2020 2020 2020 2020 696e 6e65              inne
-000244f0: 7220 3d20 696e 6e65 725b 313a 2d31 5d0a  r = inner[1:-1].
-00024500: 2020 2020 2020 2020 7265 7475 726e 2022          return "
-00024510: 7b22 202b 2069 6e6e 6572 202b 2022 7d22  {" + inner + "}"
-00024520: 0a0a 0a63 6c61 7373 204f 7228 5061 7273  ...class Or(Pars
-00024530: 6545 7870 7265 7373 696f 6e29 3a0a 2020  eExpression):.  
-00024540: 2020 2222 2252 6571 7569 7265 7320 7468    """Requires th
-00024550: 6174 2061 7420 6c65 6173 7420 6f6e 6520  at at least one 
-00024560: 3a63 6c61 7373 3a60 5061 7273 6545 7870  :class:`ParseExp
-00024570: 7265 7373 696f 6e60 2069 7320 666f 756e  ression` is foun
-00024580: 642e 2049 660a 2020 2020 7477 6f20 6578  d. If.    two ex
-00024590: 7072 6573 7369 6f6e 7320 6d61 7463 682c  pressions match,
-000245a0: 2074 6865 2065 7870 7265 7373 696f 6e20   the expression 
-000245b0: 7468 6174 206d 6174 6368 6573 2074 6865  that matches the
-000245c0: 206c 6f6e 6765 7374 0a20 2020 2073 7472   longest.    str
-000245d0: 696e 6720 7769 6c6c 2062 6520 7573 6564  ing will be used
-000245e0: 2e20 4d61 7920 6265 2063 6f6e 7374 7275  . May be constru
-000245f0: 6374 6564 2075 7369 6e67 2074 6865 2060  cted using the `
-00024600: 6027 5e27 6060 0a20 2020 206f 7065 7261  `'^'``.    opera
-00024610: 746f 722e 0a0a 2020 2020 4578 616d 706c  tor...    Exampl
-00024620: 653a 3a0a 0a20 2020 2020 2020 2023 2063  e::..        # c
-00024630: 6f6e 7374 7275 6374 204f 7220 7573 696e  onstruct Or usin
-00024640: 6720 275e 2720 6f70 6572 6174 6f72 0a0a  g '^' operator..
-00024650: 2020 2020 2020 2020 6e75 6d62 6572 203d          number =
-00024660: 2057 6f72 6428 6e75 6d73 2920 5e20 436f   Word(nums) ^ Co
-00024670: 6d62 696e 6528 576f 7264 286e 756d 7329  mbine(Word(nums)
-00024680: 202b 2027 2e27 202b 2057 6f72 6428 6e75   + '.' + Word(nu
-00024690: 6d73 2929 0a20 2020 2020 2020 2070 7269  ms)).        pri
-000246a0: 6e74 286e 756d 6265 722e 7365 6172 6368  nt(number.search
-000246b0: 5f73 7472 696e 6728 2231 3233 2033 2e31  _string("123 3.1
-000246c0: 3431 3620 3738 3922 2929 0a0a 2020 2020  416 789"))..    
-000246d0: 7072 696e 7473 3a3a 0a0a 2020 2020 2020  prints::..      
-000246e0: 2020 5b5b 2731 3233 275d 2c20 5b27 332e    [['123'], ['3.
-000246f0: 3134 3136 275d 2c20 5b27 3738 3927 5d5d  1416'], ['789']]
-00024700: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
-00024710: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
-00024720: 2065 7870 7273 3a20 7479 7069 6e67 2e49   exprs: typing.I
-00024730: 7465 7261 626c 655b 5061 7273 6572 456c  terable[ParserEl
-00024740: 656d 656e 745d 2c20 7361 7665 6c69 7374  ement], savelist
-00024750: 3a20 626f 6f6c 203d 2046 616c 7365 293a  : bool = False):
-00024760: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
-00024770: 2e5f 5f69 6e69 745f 5f28 6578 7072 732c  .__init__(exprs,
-00024780: 2073 6176 656c 6973 7429 0a20 2020 2020   savelist).     
-00024790: 2020 2069 6620 7365 6c66 2e65 7870 7273     if self.exprs
-000247a0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-000247b0: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
-000247c0: 7920 3d20 616e 7928 652e 6d61 7952 6574  y = any(e.mayRet
-000247d0: 7572 6e45 6d70 7479 2066 6f72 2065 2069  urnEmpty for e i
-000247e0: 6e20 7365 6c66 2e65 7870 7273 290a 2020  n self.exprs).  
-000247f0: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
-00024800: 6b69 7057 6869 7465 7370 6163 6520 3d20  kipWhitespace = 
-00024810: 616c 6c28 652e 736b 6970 5768 6974 6573  all(e.skipWhites
-00024820: 7061 6365 2066 6f72 2065 2069 6e20 7365  pace for e in se
-00024830: 6c66 2e65 7870 7273 290a 2020 2020 2020  lf.exprs).      
-00024840: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00024850: 2020 2020 7365 6c66 2e6d 6179 5265 7475      self.mayRetu
-00024860: 726e 456d 7074 7920 3d20 5472 7565 0a0a  rnEmpty = True..
-00024870: 2020 2020 6465 6620 7374 7265 616d 6c69      def streamli
-00024880: 6e65 2873 656c 6629 202d 3e20 5061 7273  ne(self) -> Pars
-00024890: 6572 456c 656d 656e 743a 0a20 2020 2020  erElement:.     
-000248a0: 2020 2073 7570 6572 2829 2e73 7472 6561     super().strea
-000248b0: 6d6c 696e 6528 290a 2020 2020 2020 2020  mline().        
-000248c0: 6966 2073 656c 662e 6578 7072 733a 0a20  if self.exprs:. 
-000248d0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000248e0: 6d61 7952 6574 7572 6e45 6d70 7479 203d  mayReturnEmpty =
-000248f0: 2061 6e79 2865 2e6d 6179 5265 7475 726e   any(e.mayReturn
-00024900: 456d 7074 7920 666f 7220 6520 696e 2073  Empty for e in s
-00024910: 656c 662e 6578 7072 7329 0a20 2020 2020  elf.exprs).     
-00024920: 2020 2020 2020 2073 656c 662e 7361 7665         self.save
-00024930: 4173 4c69 7374 203d 2061 6e79 2865 2e73  AsList = any(e.s
-00024940: 6176 6541 734c 6973 7420 666f 7220 6520  aveAsList for e 
-00024950: 696e 2073 656c 662e 6578 7072 7329 0a20  in self.exprs). 
-00024960: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00024970: 736b 6970 5768 6974 6573 7061 6365 203d  skipWhitespace =
-00024980: 2061 6c6c 280a 2020 2020 2020 2020 2020   all(.          
-00024990: 2020 2020 2020 652e 736b 6970 5768 6974        e.skipWhit
-000249a0: 6573 7061 6365 2061 6e64 206e 6f74 2069  espace and not i
-000249b0: 7369 6e73 7461 6e63 6528 652c 2057 6869  sinstance(e, Whi
-000249c0: 7465 2920 666f 7220 6520 696e 2073 656c  te) for e in sel
-000249d0: 662e 6578 7072 730a 2020 2020 2020 2020  f.exprs.        
-000249e0: 2020 2020 290a 2020 2020 2020 2020 656c      ).        el
-000249f0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00024a00: 7365 6c66 2e73 6176 6541 734c 6973 7420  self.saveAsList 
-00024a10: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
-00024a20: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
-00024a30: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
-00024a40: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
-00024a50: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
-00024a60: 7565 293a 0a20 2020 2020 2020 206d 6178  ue):.        max
-00024a70: 4578 634c 6f63 203d 202d 310a 2020 2020  ExcLoc = -1.    
-00024a80: 2020 2020 6d61 7845 7863 6570 7469 6f6e      maxException
-00024a90: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-00024aa0: 6d61 7463 6865 7320 3d20 5b5d 0a20 2020  matches = [].   
-00024ab0: 2020 2020 2066 6174 616c 7320 3d20 5b5d       fatals = []
-00024ac0: 0a20 2020 2020 2020 2069 6620 616c 6c28  .        if all(
-00024ad0: 652e 6361 6c6c 5072 6570 6172 7365 2066  e.callPreparse f
-00024ae0: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
-00024af0: 7273 293a 0a20 2020 2020 2020 2020 2020  rs):.           
-00024b00: 206c 6f63 203d 2073 656c 662e 7072 6550   loc = self.preP
-00024b10: 6172 7365 2869 6e73 7472 696e 672c 206c  arse(instring, l
-00024b20: 6f63 290a 2020 2020 2020 2020 666f 7220  oc).        for 
-00024b30: 6520 696e 2073 656c 662e 6578 7072 733a  e in self.exprs:
-00024b40: 0a20 2020 2020 2020 2020 2020 2074 7279  .            try
-00024b50: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00024b60: 2020 6c6f 6332 203d 2065 2e74 7279 5f70    loc2 = e.try_p
-00024b70: 6172 7365 2869 6e73 7472 696e 672c 206c  arse(instring, l
-00024b80: 6f63 2c20 7261 6973 655f 6661 7461 6c3d  oc, raise_fatal=
-00024b90: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-00024ba0: 2020 6578 6365 7074 2050 6172 7365 4661    except ParseFa
-00024bb0: 7461 6c45 7863 6570 7469 6f6e 2061 7320  talException as 
-00024bc0: 7066 653a 0a20 2020 2020 2020 2020 2020  pfe:.           
-00024bd0: 2020 2020 2070 6665 2e5f 5f74 7261 6365       pfe.__trace
-00024be0: 6261 636b 5f5f 203d 204e 6f6e 650a 2020  back__ = None.  
-00024bf0: 2020 2020 2020 2020 2020 2020 2020 7066                pf
-00024c00: 652e 7061 7273 6572 5f65 6c65 6d65 6e74  e.parser_element
-00024c10: 203d 2065 0a20 2020 2020 2020 2020 2020   = e.           
-00024c20: 2020 2020 2066 6174 616c 732e 6170 7065       fatals.appe
-00024c30: 6e64 2870 6665 290a 2020 2020 2020 2020  nd(pfe).        
-00024c40: 2020 2020 2020 2020 6d61 7845 7863 6570          maxExcep
-00024c50: 7469 6f6e 203d 204e 6f6e 650a 2020 2020  tion = None.    
-00024c60: 2020 2020 2020 2020 2020 2020 6d61 7845              maxE
-00024c70: 7863 4c6f 6320 3d20 2d31 0a20 2020 2020  xcLoc = -1.     
-00024c80: 2020 2020 2020 2065 7863 6570 7420 5061         except Pa
-00024c90: 7273 6545 7863 6570 7469 6f6e 2061 7320  rseException as 
-00024ca0: 6572 723a 0a20 2020 2020 2020 2020 2020  err:.           
-00024cb0: 2020 2020 2069 6620 6e6f 7420 6661 7461       if not fata
-00024cc0: 6c73 3a0a 2020 2020 2020 2020 2020 2020  ls:.            
-00024cd0: 2020 2020 2020 2020 6572 722e 5f5f 7472          err.__tr
-00024ce0: 6163 6562 6163 6b5f 5f20 3d20 4e6f 6e65  aceback__ = None
-00024cf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024d00: 2020 2020 2069 6620 6572 722e 6c6f 6320       if err.loc 
-00024d10: 3e20 6d61 7845 7863 4c6f 633a 0a20 2020  > maxExcLoc:.   
-00024d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024d30: 2020 2020 206d 6178 4578 6365 7074 696f       maxExceptio
-00024d40: 6e20 3d20 6572 720a 2020 2020 2020 2020  n = err.        
-00024d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024d60: 6d61 7845 7863 4c6f 6320 3d20 6572 722e  maxExcLoc = err.
-00024d70: 6c6f 630a 2020 2020 2020 2020 2020 2020  loc.            
-00024d80: 6578 6365 7074 2049 6e64 6578 4572 726f  except IndexErro
-00024d90: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00024da0: 2020 2069 6620 6c65 6e28 696e 7374 7269     if len(instri
-00024db0: 6e67 2920 3e20 6d61 7845 7863 4c6f 633a  ng) > maxExcLoc:
-00024dc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024dd0: 2020 2020 206d 6178 4578 6365 7074 696f       maxExceptio
-00024de0: 6e20 3d20 5061 7273 6545 7863 6570 7469  n = ParseExcepti
-00024df0: 6f6e 280a 2020 2020 2020 2020 2020 2020  on(.            
-00024e00: 2020 2020 2020 2020 2020 2020 696e 7374              inst
-00024e10: 7269 6e67 2c20 6c65 6e28 696e 7374 7269  ring, len(instri
-00024e20: 6e67 292c 2065 2e65 7272 6d73 672c 2073  ng), e.errmsg, s
-00024e30: 656c 660a 2020 2020 2020 2020 2020 2020  elf.            
-00024e40: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00024e50: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-00024e60: 7845 7863 4c6f 6320 3d20 6c65 6e28 696e  xExcLoc = len(in
-00024e70: 7374 7269 6e67 290a 2020 2020 2020 2020  string).        
-00024e80: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00024e90: 2020 2020 2020 2020 2020 2320 7361 7665            # save
-00024ea0: 206d 6174 6368 2061 6d6f 6e67 2061 6c6c   match among all
-00024eb0: 206d 6174 6368 6573 2c20 746f 2072 6574   matches, to ret
-00024ec0: 7279 206c 6f6e 6765 7374 2074 6f20 7368  ry longest to sh
-00024ed0: 6f72 7465 7374 0a20 2020 2020 2020 2020  ortest.         
-00024ee0: 2020 2020 2020 206d 6174 6368 6573 2e61         matches.a
-00024ef0: 7070 656e 6428 286c 6f63 322c 2065 2929  ppend((loc2, e))
-00024f00: 0a0a 2020 2020 2020 2020 6966 206d 6174  ..        if mat
-00024f10: 6368 6573 3a0a 2020 2020 2020 2020 2020  ches:.          
-00024f20: 2020 2320 7265 2d65 7661 6c75 6174 6520    # re-evaluate 
-00024f30: 616c 6c20 6d61 7463 6865 7320 696e 2064  all matches in d
-00024f40: 6573 6365 6e64 696e 6720 6f72 6465 7220  escending order 
-00024f50: 6f66 206c 656e 6774 6820 6f66 206d 6174  of length of mat
-00024f60: 6368 2c20 696e 2063 6173 6520 6174 7461  ch, in case atta
-00024f70: 6368 6564 2061 6374 696f 6e73 0a20 2020  ched actions.   
-00024f80: 2020 2020 2020 2020 2023 206d 6967 6874           # might
-00024f90: 2063 6861 6e67 6520 7768 6574 6865 7220   change whether 
-00024fa0: 6f72 2068 6f77 206d 7563 6820 7468 6579  or how much they
-00024fb0: 206d 6174 6368 206f 6620 7468 6520 696e   match of the in
-00024fc0: 7075 742e 0a20 2020 2020 2020 2020 2020  put..           
-00024fd0: 206d 6174 6368 6573 2e73 6f72 7428 6b65   matches.sort(ke
-00024fe0: 793d 6974 656d 6765 7474 6572 2830 292c  y=itemgetter(0),
-00024ff0: 2072 6576 6572 7365 3d54 7275 6529 0a0a   reverse=True)..
-00025000: 2020 2020 2020 2020 2020 2020 6966 206e              if n
-00025010: 6f74 2064 6f41 6374 696f 6e73 3a0a 2020  ot doActions:.  
-00025020: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-00025030: 6e6f 2066 7572 7468 6572 2063 6f6e 6469  no further condi
-00025040: 7469 6f6e 7320 6f72 2070 6172 7365 2061  tions or parse a
-00025050: 6374 696f 6e73 2074 6f20 6368 616e 6765  ctions to change
-00025060: 2074 6865 2073 656c 6563 7469 6f6e 206f   the selection o
-00025070: 660a 2020 2020 2020 2020 2020 2020 2020  f.              
-00025080: 2020 2320 616c 7465 726e 6174 6976 652c    # alternative,
-00025090: 2073 6f20 7468 6520 6669 7273 7420 6d61   so the first ma
-000250a0: 7463 6820 7769 6c6c 2062 6520 7468 6520  tch will be the 
-000250b0: 6265 7374 206d 6174 6368 0a20 2020 2020  best match.     
-000250c0: 2020 2020 2020 2020 2020 2062 6573 745f             best_
-000250d0: 6578 7072 203d 206d 6174 6368 6573 5b30  expr = matches[0
-000250e0: 5d5b 315d 0a20 2020 2020 2020 2020 2020  ][1].           
-000250f0: 2020 2020 2072 6574 7572 6e20 6265 7374       return best
-00025100: 5f65 7870 722e 5f70 6172 7365 2869 6e73  _expr._parse(ins
-00025110: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-00025120: 7469 6f6e 7329 0a0a 2020 2020 2020 2020  tions)..        
-00025130: 2020 2020 6c6f 6e67 6573 7420 3d20 2d31      longest = -1
-00025140: 2c20 4e6f 6e65 0a20 2020 2020 2020 2020  , None.         
-00025150: 2020 2066 6f72 206c 6f63 312c 2065 7870     for loc1, exp
-00025160: 7231 2069 6e20 6d61 7463 6865 733a 0a20  r1 in matches:. 
-00025170: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00025180: 6620 6c6f 6331 203c 3d20 6c6f 6e67 6573  f loc1 <= longes
-00025190: 745b 305d 3a0a 2020 2020 2020 2020 2020  t[0]:.          
-000251a0: 2020 2020 2020 2020 2020 2320 616c 7265            # alre
-000251b0: 6164 7920 6861 7665 2061 206c 6f6e 6765  ady have a longe
-000251c0: 7220 6d61 7463 6820 7468 616e 2074 6869  r match than thi
-000251d0: 7320 6f6e 6520 7769 6c6c 2064 656c 6976  s one will deliv
-000251e0: 6572 2c20 7765 2061 7265 2064 6f6e 650a  er, we are done.
-000251f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025200: 2020 2020 7265 7475 726e 206c 6f6e 6765      return longe
-00025210: 7374 0a0a 2020 2020 2020 2020 2020 2020  st..            
-00025220: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-00025230: 2020 2020 2020 2020 2020 2020 206c 6f63               loc
-00025240: 322c 2074 6f6b 7320 3d20 6578 7072 312e  2, toks = expr1.
-00025250: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
-00025260: 206c 6f63 2c20 646f 4163 7469 6f6e 7329   loc, doActions)
-00025270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025280: 2065 7863 6570 7420 5061 7273 6545 7863   except ParseExc
-00025290: 6570 7469 6f6e 2061 7320 6572 723a 0a20  eption as err:. 
-000252a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000252b0: 2020 2065 7272 2e5f 5f74 7261 6365 6261     err.__traceba
-000252c0: 636b 5f5f 203d 204e 6f6e 650a 2020 2020  ck__ = None.    
-000252d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000252e0: 6966 2065 7272 2e6c 6f63 203e 206d 6178  if err.loc > max
-000252f0: 4578 634c 6f63 3a0a 2020 2020 2020 2020  ExcLoc:.        
-00025300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025310: 6d61 7845 7863 6570 7469 6f6e 203d 2065  maxException = e
-00025320: 7272 0a20 2020 2020 2020 2020 2020 2020  rr.             
-00025330: 2020 2020 2020 2020 2020 206d 6178 4578             maxEx
-00025340: 634c 6f63 203d 2065 7272 2e6c 6f63 0a20  cLoc = err.loc. 
-00025350: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00025360: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00025370: 2020 2020 2020 2020 2069 6620 6c6f 6332           if loc2
-00025380: 203e 3d20 6c6f 6331 3a0a 2020 2020 2020   >= loc1:.      
-00025390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000253a0: 2020 7265 7475 726e 206c 6f63 322c 2074    return loc2, t
-000253b0: 6f6b 730a 2020 2020 2020 2020 2020 2020  oks.            
-000253c0: 2020 2020 2020 2020 2320 6469 646e 2774          # didn't
-000253d0: 206d 6174 6368 2061 7320 6d75 6368 2061   match as much a
-000253e0: 7320 6265 666f 7265 0a20 2020 2020 2020  s before.       
-000253f0: 2020 2020 2020 2020 2020 2020 2065 6c69               eli
-00025400: 6620 6c6f 6332 203e 206c 6f6e 6765 7374  f loc2 > longest
-00025410: 5b30 5d3a 0a20 2020 2020 2020 2020 2020  [0]:.           
-00025420: 2020 2020 2020 2020 2020 2020 206c 6f6e               lon
-00025430: 6765 7374 203d 206c 6f63 322c 2074 6f6b  gest = loc2, tok
-00025440: 730a 0a20 2020 2020 2020 2020 2020 2069  s..            i
-00025450: 6620 6c6f 6e67 6573 7420 213d 2028 2d31  f longest != (-1
-00025460: 2c20 4e6f 6e65 293a 0a20 2020 2020 2020  , None):.       
-00025470: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00025480: 6c6f 6e67 6573 740a 0a20 2020 2020 2020  longest..       
-00025490: 2069 6620 6661 7461 6c73 3a0a 2020 2020   if fatals:.    
-000254a0: 2020 2020 2020 2020 6966 206c 656e 2866          if len(f
-000254b0: 6174 616c 7329 203e 2031 3a0a 2020 2020  atals) > 1:.    
-000254c0: 2020 2020 2020 2020 2020 2020 6661 7461              fata
-000254d0: 6c73 2e73 6f72 7428 6b65 793d 6c61 6d62  ls.sort(key=lamb
-000254e0: 6461 2065 3a20 2d65 2e6c 6f63 290a 2020  da e: -e.loc).  
-000254f0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00025500: 2066 6174 616c 735b 305d 2e6c 6f63 203d   fatals[0].loc =
-00025510: 3d20 6661 7461 6c73 5b31 5d2e 6c6f 633a  = fatals[1].loc:
-00025520: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025530: 2020 2020 2066 6174 616c 732e 736f 7274       fatals.sort
-00025540: 286b 6579 3d6c 616d 6264 6120 653a 2028  (key=lambda e: (
-00025550: 2d65 2e6c 6f63 2c20 2d6c 656e 2873 7472  -e.loc, -len(str
-00025560: 2865 2e70 6172 7365 725f 656c 656d 656e  (e.parser_elemen
-00025570: 7429 2929 290a 2020 2020 2020 2020 2020  t)))).          
-00025580: 2020 6d61 785f 6661 7461 6c20 3d20 6661    max_fatal = fa
-00025590: 7461 6c73 5b30 5d0a 2020 2020 2020 2020  tals[0].        
-000255a0: 2020 2020 7261 6973 6520 6d61 785f 6661      raise max_fa
-000255b0: 7461 6c0a 0a20 2020 2020 2020 2069 6620  tal..        if 
-000255c0: 6d61 7845 7863 6570 7469 6f6e 2069 7320  maxException is 
-000255d0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-000255e0: 2020 2020 2020 2320 696e 6665 7220 6672        # infer fr
-000255f0: 6f6d 2074 6869 7320 6368 6563 6b20 7468  om this check th
-00025600: 6174 2061 6c6c 2061 6c74 6572 6e61 7469  at all alternati
-00025610: 7665 7320 6661 696c 6564 2061 7420 7468  ves failed at th
-00025620: 6520 6375 7272 656e 7420 706f 7369 7469  e current positi
-00025630: 6f6e 0a20 2020 2020 2020 2020 2020 2023  on.            #
-00025640: 2073 6f20 656d 6974 2074 6869 7320 636f   so emit this co
-00025650: 6c6c 6563 7469 7665 2065 7272 6f72 206d  llective error m
-00025660: 6573 7361 6765 2069 6e73 7465 6164 206f  essage instead o
-00025670: 6620 616e 7920 7369 6e67 6c65 2065 7272  f any single err
-00025680: 6f72 206d 6573 7361 6765 0a20 2020 2020  or message.     
-00025690: 2020 2020 2020 2069 6620 6d61 7845 7863         if maxExc
-000256a0: 4c6f 6320 3d3d 206c 6f63 3a0a 2020 2020  Loc == loc:.    
-000256b0: 2020 2020 2020 2020 2020 2020 6d61 7845              maxE
-000256c0: 7863 6570 7469 6f6e 2e6d 7367 203d 2073  xception.msg = s
-000256d0: 656c 662e 6572 726d 7367 0a20 2020 2020  elf.errmsg.     
-000256e0: 2020 2020 2020 2072 6169 7365 206d 6178         raise max
-000256f0: 4578 6365 7074 696f 6e0a 2020 2020 2020  Exception.      
-00025700: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00025710: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
-00025720: 7863 6570 7469 6f6e 280a 2020 2020 2020  xception(.      
-00025730: 2020 2020 2020 2020 2020 696e 7374 7269            instri
-00025740: 6e67 2c20 6c6f 632c 2022 6e6f 2064 6566  ng, loc, "no def
-00025750: 696e 6564 2061 6c74 6572 6e61 7469 7665  ined alternative
-00025760: 7320 746f 206d 6174 6368 222c 2073 656c  s to match", sel
-00025770: 660a 2020 2020 2020 2020 2020 2020 290a  f.            ).
-00025780: 0a20 2020 2064 6566 205f 5f69 786f 725f  .    def __ixor_
-00025790: 5f28 7365 6c66 2c20 6f74 6865 7229 3a0a  _(self, other):.
-000257a0: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-000257b0: 7461 6e63 6528 6f74 6865 722c 2073 7472  tance(other, str
-000257c0: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
-000257d0: 2020 2020 6f74 6865 7220 3d20 7365 6c66      other = self
-000257e0: 2e5f 6c69 7465 7261 6c53 7472 696e 6743  ._literalStringC
-000257f0: 6c61 7373 286f 7468 6572 290a 2020 2020  lass(other).    
-00025800: 2020 2020 6966 206e 6f74 2069 7369 6e73      if not isins
-00025810: 7461 6e63 6528 6f74 6865 722c 2050 6172  tance(other, Par
-00025820: 7365 7245 6c65 6d65 6e74 293a 0a20 2020  serElement):.   
-00025830: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00025840: 4e6f 7449 6d70 6c65 6d65 6e74 6564 0a20  NotImplemented. 
-00025850: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00025860: 6c66 2e61 7070 656e 6428 6f74 6865 7229  lf.append(other)
-00025870: 2020 2320 4f72 285b 7365 6c66 2c20 6f74    # Or([self, ot
-00025880: 6865 725d 290a 0a20 2020 2064 6566 205f  her])..    def _
-00025890: 6765 6e65 7261 7465 4465 6661 756c 744e  generateDefaultN
-000258a0: 616d 6528 7365 6c66 2920 2d3e 2073 7472  ame(self) -> str
-000258b0: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-000258c0: 2022 7b22 202b 2022 205e 2022 2e6a 6f69   "{" + " ^ ".joi
-000258d0: 6e28 7374 7228 6529 2066 6f72 2065 2069  n(str(e) for e i
-000258e0: 6e20 7365 6c66 2e65 7870 7273 2920 2b20  n self.exprs) + 
-000258f0: 227d 220a 0a20 2020 2064 6566 205f 7365  "}"..    def _se
-00025900: 7452 6573 756c 7473 4e61 6d65 2873 656c  tResultsName(sel
-00025910: 662c 206e 616d 652c 206c 6973 7441 6c6c  f, name, listAll
-00025920: 4d61 7463 6865 733d 4661 6c73 6529 3a0a  Matches=False):.
-00025930: 2020 2020 2020 2020 6966 2028 0a20 2020          if (.   
-00025940: 2020 2020 2020 2020 205f 5f64 6961 675f           __diag_
-00025950: 5f2e 7761 726e 5f6d 756c 7469 706c 655f  _.warn_multiple_
-00025960: 746f 6b65 6e73 5f69 6e5f 6e61 6d65 645f  tokens_in_named_
-00025970: 616c 7465 726e 6174 696f 6e0a 2020 2020  alternation.    
-00025980: 2020 2020 2020 2020 616e 6420 4469 6167          and Diag
-00025990: 6e6f 7374 6963 732e 7761 726e 5f6d 756c  nostics.warn_mul
-000259a0: 7469 706c 655f 746f 6b65 6e73 5f69 6e5f  tiple_tokens_in_
-000259b0: 6e61 6d65 645f 616c 7465 726e 6174 696f  named_alternatio
-000259c0: 6e0a 2020 2020 2020 2020 2020 2020 6e6f  n.            no
-000259d0: 7420 696e 2073 656c 662e 7375 7070 7265  t in self.suppre
-000259e0: 7373 5f77 6172 6e69 6e67 735f 0a20 2020  ss_warnings_.   
-000259f0: 2020 2020 2029 3a0a 2020 2020 2020 2020       ):.        
-00025a00: 2020 2020 6966 2061 6e79 280a 2020 2020      if any(.    
-00025a10: 2020 2020 2020 2020 2020 2020 6973 696e              isin
-00025a20: 7374 616e 6365 2865 2c20 416e 6429 0a20  stance(e, And). 
-00025a30: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00025a40: 6e64 2044 6961 676e 6f73 7469 6373 2e77  nd Diagnostics.w
-00025a50: 6172 6e5f 6d75 6c74 6970 6c65 5f74 6f6b  arn_multiple_tok
-00025a60: 656e 735f 696e 5f6e 616d 6564 5f61 6c74  ens_in_named_alt
-00025a70: 6572 6e61 7469 6f6e 0a20 2020 2020 2020  ernation.       
-00025a80: 2020 2020 2020 2020 206e 6f74 2069 6e20           not in 
-00025a90: 652e 7375 7070 7265 7373 5f77 6172 6e69  e.suppress_warni
-00025aa0: 6e67 735f 0a20 2020 2020 2020 2020 2020  ngs_.           
-00025ab0: 2020 2020 2066 6f72 2065 2069 6e20 7365       for e in se
-00025ac0: 6c66 2e65 7870 7273 0a20 2020 2020 2020  lf.exprs.       
-00025ad0: 2020 2020 2029 3a0a 2020 2020 2020 2020       ):.        
-00025ae0: 2020 2020 2020 2020 7761 726e 696e 6773          warnings
-00025af0: 2e77 6172 6e28 0a20 2020 2020 2020 2020  .warn(.         
-00025b00: 2020 2020 2020 2020 2020 2022 7b7d 3a20             "{}: 
-00025b10: 7365 7474 696e 6720 7265 7375 6c74 7320  setting results 
-00025b20: 6e61 6d65 207b 2172 7d20 6f6e 207b 7d20  name {!r} on {} 
-00025b30: 6578 7072 6573 7369 6f6e 2022 0a20 2020  expression ".   
-00025b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025b50: 2022 7769 6c6c 2072 6574 7572 6e20 6120   "will return a 
-00025b60: 6c69 7374 206f 6620 616c 6c20 7061 7273  list of all pars
-00025b70: 6564 2074 6f6b 656e 7320 696e 2061 6e20  ed tokens in an 
-00025b80: 416e 6420 616c 7465 726e 6174 6976 652c  And alternative,
-00025b90: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-00025ba0: 2020 2020 2020 2022 696e 2070 7269 6f72         "in prior
-00025bb0: 2076 6572 7369 6f6e 7320 6f6e 6c79 2074   versions only t
-00025bc0: 6865 2066 6972 7374 2074 6f6b 656e 2077  he first token w
-00025bd0: 6173 2072 6574 7572 6e65 643b 2065 6e63  as returned; enc
-00025be0: 6c6f 7365 2022 0a20 2020 2020 2020 2020  lose ".         
-00025bf0: 2020 2020 2020 2020 2020 2022 636f 6e74             "cont
-00025c00: 6169 6e65 6420 6172 6775 6d65 6e74 2069  ained argument i
-00025c10: 6e20 4772 6f75 7022 2e66 6f72 6d61 7428  n Group".format(
-00025c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025c30: 2020 2020 2020 2020 2022 7761 726e 5f6d           "warn_m
-00025c40: 756c 7469 706c 655f 746f 6b65 6e73 5f69  ultiple_tokens_i
-00025c50: 6e5f 6e61 6d65 645f 616c 7465 726e 6174  n_named_alternat
-00025c60: 696f 6e22 2c0a 2020 2020 2020 2020 2020  ion",.          
-00025c70: 2020 2020 2020 2020 2020 2020 2020 6e61                na
-00025c80: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
-00025c90: 2020 2020 2020 2020 2020 2020 7479 7065              type
-00025ca0: 2873 656c 6629 2e5f 5f6e 616d 655f 5f2c  (self).__name__,
-00025cb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025cc0: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
-00025cd0: 2020 2020 2020 2020 2020 2020 7374 6163              stac
-00025ce0: 6b6c 6576 656c 3d33 2c0a 2020 2020 2020  klevel=3,.      
-00025cf0: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
-00025d00: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
-00025d10: 7228 292e 5f73 6574 5265 7375 6c74 734e  r()._setResultsN
-00025d20: 616d 6528 6e61 6d65 2c20 6c69 7374 416c  ame(name, listAl
-00025d30: 6c4d 6174 6368 6573 290a 0a0a 636c 6173  lMatches)...clas
-00025d40: 7320 4d61 7463 6846 6972 7374 2850 6172  s MatchFirst(Par
-00025d50: 7365 4578 7072 6573 7369 6f6e 293a 0a20  seExpression):. 
-00025d60: 2020 2022 2222 5265 7175 6972 6573 2074     """Requires t
-00025d70: 6861 7420 6174 206c 6561 7374 206f 6e65  hat at least one
-00025d80: 203a 636c 6173 733a 6050 6172 7365 4578   :class:`ParseEx
-00025d90: 7072 6573 7369 6f6e 6020 6973 2066 6f75  pression` is fou
-00025da0: 6e64 2e20 4966 0a20 2020 206d 6f72 6520  nd. If.    more 
-00025db0: 7468 616e 206f 6e65 2065 7870 7265 7373  than one express
-00025dc0: 696f 6e20 6d61 7463 6865 732c 2074 6865  ion matches, the
-00025dd0: 2066 6972 7374 206f 6e65 206c 6973 7465   first one liste
-00025de0: 6420 6973 2074 6865 206f 6e65 2074 6861  d is the one tha
-00025df0: 7420 7769 6c6c 0a20 2020 206d 6174 6368  t will.    match
-00025e00: 2e20 4d61 7920 6265 2063 6f6e 7374 7275  . May be constru
-00025e10: 6374 6564 2075 7369 6e67 2074 6865 2060  cted using the `
-00025e20: 6027 7c27 6060 206f 7065 7261 746f 722e  `'|'`` operator.
-00025e30: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
-00025e40: 0a20 2020 2020 2020 2023 2063 6f6e 7374  .        # const
-00025e50: 7275 6374 204d 6174 6368 4669 7273 7420  ruct MatchFirst 
-00025e60: 7573 696e 6720 277c 2720 6f70 6572 6174  using '|' operat
-00025e70: 6f72 0a0a 2020 2020 2020 2020 2320 7761  or..        # wa
-00025e80: 7463 6820 7468 6520 6f72 6465 7220 6f66  tch the order of
-00025e90: 2065 7870 7265 7373 696f 6e73 2074 6f20   expressions to 
-00025ea0: 6d61 7463 680a 2020 2020 2020 2020 6e75  match.        nu
-00025eb0: 6d62 6572 203d 2057 6f72 6428 6e75 6d73  mber = Word(nums
-00025ec0: 2920 7c20 436f 6d62 696e 6528 576f 7264  ) | Combine(Word
-00025ed0: 286e 756d 7329 202b 2027 2e27 202b 2057  (nums) + '.' + W
-00025ee0: 6f72 6428 6e75 6d73 2929 0a20 2020 2020  ord(nums)).     
-00025ef0: 2020 2070 7269 6e74 286e 756d 6265 722e     print(number.
-00025f00: 7365 6172 6368 5f73 7472 696e 6728 2231  search_string("1
-00025f10: 3233 2033 2e31 3431 3620 3738 3922 2929  23 3.1416 789"))
-00025f20: 2023 2020 4661 696c 2120 2d3e 205b 5b27   #  Fail! -> [['
-00025f30: 3132 3327 5d2c 205b 2733 275d 2c20 5b27  123'], ['3'], ['
-00025f40: 3134 3136 275d 2c20 5b27 3738 3927 5d5d  1416'], ['789']]
-00025f50: 0a0a 2020 2020 2020 2020 2320 7075 7420  ..        # put 
-00025f60: 6d6f 7265 2073 656c 6563 7469 7665 2065  more selective e
-00025f70: 7870 7265 7373 696f 6e20 6669 7273 740a  xpression first.
-00025f80: 2020 2020 2020 2020 6e75 6d62 6572 203d          number =
-00025f90: 2043 6f6d 6269 6e65 2857 6f72 6428 6e75   Combine(Word(nu
-00025fa0: 6d73 2920 2b20 272e 2720 2b20 576f 7264  ms) + '.' + Word
-00025fb0: 286e 756d 7329 2920 7c20 576f 7264 286e  (nums)) | Word(n
-00025fc0: 756d 7329 0a20 2020 2020 2020 2070 7269  ums).        pri
-00025fd0: 6e74 286e 756d 6265 722e 7365 6172 6368  nt(number.search
-00025fe0: 5f73 7472 696e 6728 2231 3233 2033 2e31  _string("123 3.1
-00025ff0: 3431 3620 3738 3922 2929 2023 2020 4265  416 789")) #  Be
-00026000: 7474 6572 202d 3e20 5b5b 2731 3233 275d  tter -> [['123']
-00026010: 2c20 5b27 332e 3134 3136 275d 2c20 5b27  , ['3.1416'], ['
-00026020: 3738 3927 5d5d 0a20 2020 2022 2222 0a0a  789']].    """..
-00026030: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-00026040: 2873 656c 662c 2065 7870 7273 3a20 7479  (self, exprs: ty
-00026050: 7069 6e67 2e49 7465 7261 626c 655b 5061  ping.Iterable[Pa
-00026060: 7273 6572 456c 656d 656e 745d 2c20 7361  rserElement], sa
-00026070: 7665 6c69 7374 3a20 626f 6f6c 203d 2046  velist: bool = F
-00026080: 616c 7365 293a 0a20 2020 2020 2020 2073  alse):.        s
-00026090: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
-000260a0: 6578 7072 732c 2073 6176 656c 6973 7429  exprs, savelist)
-000260b0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-000260c0: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
-000260d0: 2020 2020 7365 6c66 2e6d 6179 5265 7475      self.mayRetu
-000260e0: 726e 456d 7074 7920 3d20 616e 7928 652e  rnEmpty = any(e.
-000260f0: 6d61 7952 6574 7572 6e45 6d70 7479 2066  mayReturnEmpty f
-00026100: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
-00026110: 7273 290a 2020 2020 2020 2020 2020 2020  rs).            
-00026120: 7365 6c66 2e73 6b69 7057 6869 7465 7370  self.skipWhitesp
-00026130: 6163 6520 3d20 616c 6c28 652e 736b 6970  ace = all(e.skip
-00026140: 5768 6974 6573 7061 6365 2066 6f72 2065  Whitespace for e
-00026150: 2069 6e20 7365 6c66 2e65 7870 7273 290a   in self.exprs).
-00026160: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00026170: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-00026180: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
-00026190: 5472 7565 0a0a 2020 2020 6465 6620 7374  True..    def st
-000261a0: 7265 616d 6c69 6e65 2873 656c 6629 202d  reamline(self) -
-000261b0: 3e20 5061 7273 6572 456c 656d 656e 743a  > ParserElement:
-000261c0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-000261d0: 2e73 7472 6561 6d6c 696e 6564 3a0a 2020  .streamlined:.  
-000261e0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000261f0: 2073 656c 660a 0a20 2020 2020 2020 2073   self..        s
-00026200: 7570 6572 2829 2e73 7472 6561 6d6c 696e  uper().streamlin
-00026210: 6528 290a 2020 2020 2020 2020 6966 2073  e().        if s
-00026220: 656c 662e 6578 7072 733a 0a20 2020 2020  elf.exprs:.     
-00026230: 2020 2020 2020 2073 656c 662e 7361 7665         self.save
-00026240: 4173 4c69 7374 203d 2061 6e79 2865 2e73  AsList = any(e.s
-00026250: 6176 6541 734c 6973 7420 666f 7220 6520  aveAsList for e 
-00026260: 696e 2073 656c 662e 6578 7072 7329 0a20  in self.exprs). 
-00026270: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00026280: 6d61 7952 6574 7572 6e45 6d70 7479 203d  mayReturnEmpty =
-00026290: 2061 6e79 2865 2e6d 6179 5265 7475 726e   any(e.mayReturn
-000262a0: 456d 7074 7920 666f 7220 6520 696e 2073  Empty for e in s
-000262b0: 656c 662e 6578 7072 7329 0a20 2020 2020  elf.exprs).     
-000262c0: 2020 2020 2020 2073 656c 662e 736b 6970         self.skip
-000262d0: 5768 6974 6573 7061 6365 203d 2061 6c6c  Whitespace = all
-000262e0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-000262f0: 2020 652e 736b 6970 5768 6974 6573 7061    e.skipWhitespa
-00026300: 6365 2061 6e64 206e 6f74 2069 7369 6e73  ce and not isins
-00026310: 7461 6e63 6528 652c 2057 6869 7465 2920  tance(e, White) 
-00026320: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
-00026330: 7072 730a 2020 2020 2020 2020 2020 2020  prs.            
-00026340: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-00026350: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00026360: 2e73 6176 6541 734c 6973 7420 3d20 4661  .saveAsList = Fa
-00026370: 6c73 650a 2020 2020 2020 2020 2020 2020  lse.            
-00026380: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
-00026390: 7074 7920 3d20 5472 7565 0a20 2020 2020  pty = True.     
-000263a0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-000263b0: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
-000263c0: 6c28 7365 6c66 2c20 696e 7374 7269 6e67  l(self, instring
-000263d0: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
-000263e0: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
-000263f0: 6d61 7845 7863 4c6f 6320 3d20 2d31 0a20  maxExcLoc = -1. 
-00026400: 2020 2020 2020 206d 6178 4578 6365 7074         maxExcept
-00026410: 696f 6e20 3d20 4e6f 6e65 0a0a 2020 2020  ion = None..    
-00026420: 2020 2020 666f 7220 6520 696e 2073 656c      for e in sel
-00026430: 662e 6578 7072 733a 0a20 2020 2020 2020  f.exprs:.       
-00026440: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00026450: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00026460: 2065 2e5f 7061 7273 6528 0a20 2020 2020   e._parse(.     
-00026470: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00026480: 6e73 7472 696e 672c 0a20 2020 2020 2020  nstring,.       
-00026490: 2020 2020 2020 2020 2020 2020 206c 6f63               loc
-000264a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000264b0: 2020 2020 2020 646f 4163 7469 6f6e 732c        doActions,
-000264c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000264d0: 2029 0a20 2020 2020 2020 2020 2020 2065   ).            e
-000264e0: 7863 6570 7420 5061 7273 6546 6174 616c  xcept ParseFatal
-000264f0: 4578 6365 7074 696f 6e20 6173 2070 6665  Exception as pfe
-00026500: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00026510: 2020 7066 652e 5f5f 7472 6163 6562 6163    pfe.__tracebac
-00026520: 6b5f 5f20 3d20 4e6f 6e65 0a20 2020 2020  k__ = None.     
-00026530: 2020 2020 2020 2020 2020 2070 6665 2e70             pfe.p
-00026540: 6172 7365 725f 656c 656d 656e 7420 3d20  arser_element = 
-00026550: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00026560: 2020 7261 6973 650a 2020 2020 2020 2020    raise.        
-00026570: 2020 2020 6578 6365 7074 2050 6172 7365      except Parse
-00026580: 4578 6365 7074 696f 6e20 6173 2065 7272  Exception as err
-00026590: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000265a0: 2020 6966 2065 7272 2e6c 6f63 203e 206d    if err.loc > m
-000265b0: 6178 4578 634c 6f63 3a0a 2020 2020 2020  axExcLoc:.      
-000265c0: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-000265d0: 7845 7863 6570 7469 6f6e 203d 2065 7272  xException = err
-000265e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000265f0: 2020 2020 206d 6178 4578 634c 6f63 203d       maxExcLoc =
-00026600: 2065 7272 2e6c 6f63 0a20 2020 2020 2020   err.loc.       
-00026610: 2020 2020 2065 7863 6570 7420 496e 6465       except Inde
-00026620: 7845 7272 6f72 3a0a 2020 2020 2020 2020  xError:.        
-00026630: 2020 2020 2020 2020 6966 206c 656e 2869          if len(i
-00026640: 6e73 7472 696e 6729 203e 206d 6178 4578  nstring) > maxEx
-00026650: 634c 6f63 3a0a 2020 2020 2020 2020 2020  cLoc:.          
-00026660: 2020 2020 2020 2020 2020 6d61 7845 7863            maxExc
-00026670: 6570 7469 6f6e 203d 2050 6172 7365 4578  eption = ParseEx
-00026680: 6365 7074 696f 6e28 0a20 2020 2020 2020  ception(.       
-00026690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000266a0: 2069 6e73 7472 696e 672c 206c 656e 2869   instring, len(i
-000266b0: 6e73 7472 696e 6729 2c20 652e 6572 726d  nstring), e.errm
-000266c0: 7367 2c20 7365 6c66 0a20 2020 2020 2020  sg, self.       
-000266d0: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-000266e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000266f0: 2020 206d 6178 4578 634c 6f63 203d 206c     maxExcLoc = l
-00026700: 656e 2869 6e73 7472 696e 6729 0a0a 2020  en(instring)..  
-00026710: 2020 2020 2020 6966 206d 6178 4578 6365        if maxExce
-00026720: 7074 696f 6e20 6973 206e 6f74 204e 6f6e  ption is not Non
-00026730: 653a 0a20 2020 2020 2020 2020 2020 2023  e:.            #
-00026740: 2069 6e66 6572 2066 726f 6d20 7468 6973   infer from this
-00026750: 2063 6865 636b 2074 6861 7420 616c 6c20   check that all 
-00026760: 616c 7465 726e 6174 6976 6573 2066 6169  alternatives fai
-00026770: 6c65 6420 6174 2074 6865 2063 7572 7265  led at the curre
-00026780: 6e74 2070 6f73 6974 696f 6e0a 2020 2020  nt position.    
-00026790: 2020 2020 2020 2020 2320 736f 2065 6d69          # so emi
-000267a0: 7420 7468 6973 2063 6f6c 6c65 6374 6976  t this collectiv
-000267b0: 6520 6572 726f 7220 6d65 7373 6167 6520  e error message 
-000267c0: 696e 7374 6561 6420 6f66 2061 6e79 2069  instead of any i
-000267d0: 6e64 6976 6964 7561 6c20 6572 726f 7220  ndividual error 
-000267e0: 6d65 7373 6167 650a 2020 2020 2020 2020  message.        
-000267f0: 2020 2020 6966 206d 6178 4578 634c 6f63      if maxExcLoc
-00026800: 203d 3d20 6c6f 633a 0a20 2020 2020 2020   == loc:.       
-00026810: 2020 2020 2020 2020 206d 6178 4578 6365           maxExce
-00026820: 7074 696f 6e2e 6d73 6720 3d20 7365 6c66  ption.msg = self
-00026830: 2e65 7272 6d73 670a 2020 2020 2020 2020  .errmsg.        
-00026840: 2020 2020 7261 6973 6520 6d61 7845 7863      raise maxExc
-00026850: 6570 7469 6f6e 0a20 2020 2020 2020 2065  eption.        e
-00026860: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00026870: 2072 6169 7365 2050 6172 7365 4578 6365   raise ParseExce
-00026880: 7074 696f 6e28 0a20 2020 2020 2020 2020  ption(.         
-00026890: 2020 2020 2020 2069 6e73 7472 696e 672c         instring,
-000268a0: 206c 6f63 2c20 226e 6f20 6465 6669 6e65   loc, "no define
-000268b0: 6420 616c 7465 726e 6174 6976 6573 2074  d alternatives t
-000268c0: 6f20 6d61 7463 6822 2c20 7365 6c66 0a20  o match", self. 
-000268d0: 2020 2020 2020 2020 2020 2029 0a0a 2020             )..  
-000268e0: 2020 6465 6620 5f5f 696f 725f 5f28 7365    def __ior__(se
-000268f0: 6c66 2c20 6f74 6865 7229 3a0a 2020 2020  lf, other):.    
-00026900: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-00026910: 6528 6f74 6865 722c 2073 7472 5f74 7970  e(other, str_typ
-00026920: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-00026930: 6f74 6865 7220 3d20 7365 6c66 2e5f 6c69  other = self._li
-00026940: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
-00026950: 286f 7468 6572 290a 2020 2020 2020 2020  (other).        
-00026960: 6966 206e 6f74 2069 7369 6e73 7461 6e63  if not isinstanc
-00026970: 6528 6f74 6865 722c 2050 6172 7365 7245  e(other, ParserE
-00026980: 6c65 6d65 6e74 293a 0a20 2020 2020 2020  lement):.       
-00026990: 2020 2020 2072 6574 7572 6e20 4e6f 7449       return NotI
-000269a0: 6d70 6c65 6d65 6e74 6564 0a20 2020 2020  mplemented.     
-000269b0: 2020 2072 6574 7572 6e20 7365 6c66 2e61     return self.a
-000269c0: 7070 656e 6428 6f74 6865 7229 2020 2320  ppend(other)  # 
-000269d0: 4d61 7463 6846 6972 7374 285b 7365 6c66  MatchFirst([self
-000269e0: 2c20 6f74 6865 725d 290a 0a20 2020 2064  , other])..    d
-000269f0: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
-00026a00: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
-00026a10: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
-00026a20: 7475 726e 2022 7b22 202b 2022 207c 2022  turn "{" + " | "
-00026a30: 2e6a 6f69 6e28 7374 7228 6529 2066 6f72  .join(str(e) for
-00026a40: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
-00026a50: 2920 2b20 227d 220a 0a20 2020 2064 6566  ) + "}"..    def
-00026a60: 205f 7365 7452 6573 756c 7473 4e61 6d65   _setResultsName
-00026a70: 2873 656c 662c 206e 616d 652c 206c 6973  (self, name, lis
-00026a80: 7441 6c6c 4d61 7463 6865 733d 4661 6c73  tAllMatches=Fals
-00026a90: 6529 3a0a 2020 2020 2020 2020 6966 2028  e):.        if (
-00026aa0: 0a20 2020 2020 2020 2020 2020 205f 5f64  .            __d
-00026ab0: 6961 675f 5f2e 7761 726e 5f6d 756c 7469  iag__.warn_multi
-00026ac0: 706c 655f 746f 6b65 6e73 5f69 6e5f 6e61  ple_tokens_in_na
-00026ad0: 6d65 645f 616c 7465 726e 6174 696f 6e0a  med_alternation.
-00026ae0: 2020 2020 2020 2020 2020 2020 616e 6420              and 
-00026af0: 4469 6167 6e6f 7374 6963 732e 7761 726e  Diagnostics.warn
-00026b00: 5f6d 756c 7469 706c 655f 746f 6b65 6e73  _multiple_tokens
-00026b10: 5f69 6e5f 6e61 6d65 645f 616c 7465 726e  _in_named_altern
-00026b20: 6174 696f 6e0a 2020 2020 2020 2020 2020  ation.          
-00026b30: 2020 6e6f 7420 696e 2073 656c 662e 7375    not in self.su
-00026b40: 7070 7265 7373 5f77 6172 6e69 6e67 735f  ppress_warnings_
-00026b50: 0a20 2020 2020 2020 2029 3a0a 2020 2020  .        ):.    
-00026b60: 2020 2020 2020 2020 6966 2061 6e79 280a          if any(.
-00026b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026b80: 6973 696e 7374 616e 6365 2865 2c20 416e  isinstance(e, An
-00026b90: 6429 0a20 2020 2020 2020 2020 2020 2020  d).             
-00026ba0: 2020 2061 6e64 2044 6961 676e 6f73 7469     and Diagnosti
-00026bb0: 6373 2e77 6172 6e5f 6d75 6c74 6970 6c65  cs.warn_multiple
-00026bc0: 5f74 6f6b 656e 735f 696e 5f6e 616d 6564  _tokens_in_named
-00026bd0: 5f61 6c74 6572 6e61 7469 6f6e 0a20 2020  _alternation.   
-00026be0: 2020 2020 2020 2020 2020 2020 206e 6f74               not
-00026bf0: 2069 6e20 652e 7375 7070 7265 7373 5f77   in e.suppress_w
-00026c00: 6172 6e69 6e67 735f 0a20 2020 2020 2020  arnings_.       
-00026c10: 2020 2020 2020 2020 2066 6f72 2065 2069           for e i
-00026c20: 6e20 7365 6c66 2e65 7870 7273 0a20 2020  n self.exprs.   
-00026c30: 2020 2020 2020 2020 2029 3a0a 2020 2020           ):.    
-00026c40: 2020 2020 2020 2020 2020 2020 7761 726e              warn
-00026c50: 696e 6773 2e77 6172 6e28 0a20 2020 2020  ings.warn(.     
-00026c60: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00026c70: 7b7d 3a20 7365 7474 696e 6720 7265 7375  {}: setting resu
-00026c80: 6c74 7320 6e61 6d65 207b 2172 7d20 6f6e  lts name {!r} on
-00026c90: 207b 7d20 6578 7072 6573 7369 6f6e 2022   {} expression "
-00026ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00026cb0: 2020 2020 2022 7769 6c6c 2072 6574 7572       "will retur
-00026cc0: 6e20 6120 6c69 7374 206f 6620 616c 6c20  n a list of all 
-00026cd0: 7061 7273 6564 2074 6f6b 656e 7320 696e  parsed tokens in
-00026ce0: 2061 6e20 416e 6420 616c 7465 726e 6174   an And alternat
-00026cf0: 6976 652c 2022 0a20 2020 2020 2020 2020  ive, ".         
-00026d00: 2020 2020 2020 2020 2020 2022 696e 2070             "in p
-00026d10: 7269 6f72 2076 6572 7369 6f6e 7320 6f6e  rior versions on
-00026d20: 6c79 2074 6865 2066 6972 7374 2074 6f6b  ly the first tok
-00026d30: 656e 2077 6173 2072 6574 7572 6e65 643b  en was returned;
-00026d40: 2065 6e63 6c6f 7365 2022 0a20 2020 2020   enclose ".     
-00026d50: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00026d60: 636f 6e74 6169 6e65 6420 6172 6775 6d65  contained argume
-00026d70: 6e74 2069 6e20 4772 6f75 7022 2e66 6f72  nt in Group".for
-00026d80: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
-00026d90: 2020 2020 2020 2020 2020 2020 2022 7761               "wa
-00026da0: 726e 5f6d 756c 7469 706c 655f 746f 6b65  rn_multiple_toke
-00026db0: 6e73 5f69 6e5f 6e61 6d65 645f 616c 7465  ns_in_named_alte
-00026dc0: 726e 6174 696f 6e22 2c0a 2020 2020 2020  rnation",.      
-00026dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026de0: 2020 6e61 6d65 2c0a 2020 2020 2020 2020    name,.        
-00026df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026e00: 7479 7065 2873 656c 6629 2e5f 5f6e 616d  type(self).__nam
-00026e10: 655f 5f2c 0a20 2020 2020 2020 2020 2020  e__,.           
-00026e20: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
-00026e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026e40: 7374 6163 6b6c 6576 656c 3d33 2c0a 2020  stacklevel=3,.  
-00026e50: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-00026e60: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00026e70: 7375 7065 7228 292e 5f73 6574 5265 7375  super()._setResu
-00026e80: 6c74 734e 616d 6528 6e61 6d65 2c20 6c69  ltsName(name, li
-00026e90: 7374 416c 6c4d 6174 6368 6573 290a 0a0a  stAllMatches)...
-00026ea0: 636c 6173 7320 4561 6368 2850 6172 7365  class Each(Parse
-00026eb0: 4578 7072 6573 7369 6f6e 293a 0a20 2020  Expression):.   
-00026ec0: 2022 2222 5265 7175 6972 6573 2061 6c6c   """Requires all
-00026ed0: 2067 6976 656e 203a 636c 6173 733a 6050   given :class:`P
-00026ee0: 6172 7365 4578 7072 6573 7369 6f6e 6020  arseExpression` 
-00026ef0: 7320 746f 2062 6520 666f 756e 642c 2062  s to be found, b
-00026f00: 7574 2069 6e0a 2020 2020 616e 7920 6f72  ut in.    any or
-00026f10: 6465 722e 2045 7870 7265 7373 696f 6e73  der. Expressions
-00026f20: 206d 6179 2062 6520 7365 7061 7261 7465   may be separate
-00026f30: 6420 6279 2077 6869 7465 7370 6163 652e  d by whitespace.
-00026f40: 0a0a 2020 2020 4d61 7920 6265 2063 6f6e  ..    May be con
-00026f50: 7374 7275 6374 6564 2075 7369 6e67 2074  structed using t
-00026f60: 6865 2060 6027 2627 6060 206f 7065 7261  he ``'&'`` opera
-00026f70: 746f 722e 0a0a 2020 2020 4578 616d 706c  tor...    Exampl
-00026f80: 653a 3a0a 0a20 2020 2020 2020 2063 6f6c  e::..        col
-00026f90: 6f72 203d 206f 6e65 5f6f 6628 2252 4544  or = one_of("RED
-00026fa0: 204f 5241 4e47 4520 5945 4c4c 4f57 2047   ORANGE YELLOW G
-00026fb0: 5245 454e 2042 4c55 4520 5055 5250 4c45  REEN BLUE PURPLE
-00026fc0: 2042 4c41 434b 2057 4849 5445 2042 524f   BLACK WHITE BRO
-00026fd0: 574e 2229 0a20 2020 2020 2020 2073 6861  WN").        sha
-00026fe0: 7065 5f74 7970 6520 3d20 6f6e 655f 6f66  pe_type = one_of
-00026ff0: 2822 5351 5541 5245 2043 4952 434c 4520  ("SQUARE CIRCLE 
-00027000: 5452 4941 4e47 4c45 2053 5441 5220 4845  TRIANGLE STAR HE
-00027010: 5841 474f 4e20 4f43 5441 474f 4e22 290a  XAGON OCTAGON").
-00027020: 2020 2020 2020 2020 696e 7465 6765 7220          integer 
-00027030: 3d20 576f 7264 286e 756d 7329 0a20 2020  = Word(nums).   
-00027040: 2020 2020 2073 6861 7065 5f61 7474 7220       shape_attr 
-00027050: 3d20 2273 6861 7065 3a22 202b 2073 6861  = "shape:" + sha
-00027060: 7065 5f74 7970 6528 2273 6861 7065 2229  pe_type("shape")
-00027070: 0a20 2020 2020 2020 2070 6f73 6e5f 6174  .        posn_at
-00027080: 7472 203d 2022 706f 736e 3a22 202b 2047  tr = "posn:" + G
-00027090: 726f 7570 2869 6e74 6567 6572 2822 7822  roup(integer("x"
-000270a0: 2920 2b20 272c 2720 2b20 696e 7465 6765  ) + ',' + intege
-000270b0: 7228 2279 2229 2928 2270 6f73 6e22 290a  r("y"))("posn").
-000270c0: 2020 2020 2020 2020 636f 6c6f 725f 6174          color_at
-000270d0: 7472 203d 2022 636f 6c6f 723a 2220 2b20  tr = "color:" + 
-000270e0: 636f 6c6f 7228 2263 6f6c 6f72 2229 0a20  color("color"). 
-000270f0: 2020 2020 2020 2073 697a 655f 6174 7472         size_attr
-00027100: 203d 2022 7369 7a65 3a22 202b 2069 6e74   = "size:" + int
-00027110: 6567 6572 2822 7369 7a65 2229 0a0a 2020  eger("size")..  
-00027120: 2020 2020 2020 2320 7573 6520 4561 6368        # use Each
-00027130: 2028 7573 696e 6720 6f70 6572 6174 6f72   (using operator
-00027140: 2027 2627 2920 746f 2061 6363 6570 7420   '&') to accept 
-00027150: 6174 7472 6962 7574 6573 2069 6e20 616e  attributes in an
-00027160: 7920 6f72 6465 720a 2020 2020 2020 2020  y order.        
-00027170: 2320 2873 6861 7065 2061 6e64 2070 6f73  # (shape and pos
-00027180: 6e20 6172 6520 7265 7175 6972 6564 2c20  n are required, 
-00027190: 636f 6c6f 7220 616e 6420 7369 7a65 2061  color and size a
-000271a0: 7265 206f 7074 696f 6e61 6c29 0a20 2020  re optional).   
-000271b0: 2020 2020 2073 6861 7065 5f73 7065 6320       shape_spec 
-000271c0: 3d20 7368 6170 655f 6174 7472 2026 2070  = shape_attr & p
-000271d0: 6f73 6e5f 6174 7472 2026 204f 7074 2863  osn_attr & Opt(c
-000271e0: 6f6c 6f72 5f61 7474 7229 2026 204f 7074  olor_attr) & Opt
-000271f0: 2873 697a 655f 6174 7472 290a 0a20 2020  (size_attr)..   
-00027200: 2020 2020 2073 6861 7065 5f73 7065 632e       shape_spec.
-00027210: 7275 6e5f 7465 7374 7328 2727 270a 2020  run_tests('''.  
-00027220: 2020 2020 2020 2020 2020 7368 6170 653a            shape:
-00027230: 2053 5155 4152 4520 636f 6c6f 723a 2042   SQUARE color: B
-00027240: 4c41 434b 2070 6f73 6e3a 2031 3030 2c20  LACK posn: 100, 
-00027250: 3132 300a 2020 2020 2020 2020 2020 2020  120.            
-00027260: 7368 6170 653a 2043 4952 434c 4520 7369  shape: CIRCLE si
-00027270: 7a65 3a20 3530 2063 6f6c 6f72 3a20 424c  ze: 50 color: BL
-00027280: 5545 2070 6f73 6e3a 2035 302c 3830 0a20  UE posn: 50,80. 
-00027290: 2020 2020 2020 2020 2020 2063 6f6c 6f72             color
-000272a0: 3a47 5245 454e 2073 697a 653a 3230 2073  :GREEN size:20 s
-000272b0: 6861 7065 3a54 5249 414e 474c 4520 706f  hape:TRIANGLE po
-000272c0: 736e 3a32 302c 3430 0a20 2020 2020 2020  sn:20,40.       
-000272d0: 2020 2020 2027 2727 0a20 2020 2020 2020       '''.       
-000272e0: 2020 2020 2029 0a0a 2020 2020 7072 696e       )..    prin
-000272f0: 7473 3a3a 0a0a 2020 2020 2020 2020 7368  ts::..        sh
-00027300: 6170 653a 2053 5155 4152 4520 636f 6c6f  ape: SQUARE colo
-00027310: 723a 2042 4c41 434b 2070 6f73 6e3a 2031  r: BLACK posn: 1
-00027320: 3030 2c20 3132 300a 2020 2020 2020 2020  00, 120.        
-00027330: 5b27 7368 6170 653a 272c 2027 5351 5541  ['shape:', 'SQUA
-00027340: 5245 272c 2027 636f 6c6f 723a 272c 2027  RE', 'color:', '
-00027350: 424c 4143 4b27 2c20 2770 6f73 6e3a 272c  BLACK', 'posn:',
-00027360: 205b 2731 3030 272c 2027 2c27 2c20 2731   ['100', ',', '1
-00027370: 3230 275d 5d0a 2020 2020 2020 2020 2d20  20']].        - 
-00027380: 636f 6c6f 723a 2042 4c41 434b 0a20 2020  color: BLACK.   
-00027390: 2020 2020 202d 2070 6f73 6e3a 205b 2731       - posn: ['1
-000273a0: 3030 272c 2027 2c27 2c20 2731 3230 275d  00', ',', '120']
-000273b0: 0a20 2020 2020 2020 2020 202d 2078 3a20  .          - x: 
-000273c0: 3130 300a 2020 2020 2020 2020 2020 2d20  100.          - 
-000273d0: 793a 2031 3230 0a20 2020 2020 2020 202d  y: 120.        -
-000273e0: 2073 6861 7065 3a20 5351 5541 5245 0a0a   shape: SQUARE..
-000273f0: 0a20 2020 2020 2020 2073 6861 7065 3a20  .        shape: 
-00027400: 4349 5243 4c45 2073 697a 653a 2035 3020  CIRCLE size: 50 
-00027410: 636f 6c6f 723a 2042 4c55 4520 706f 736e  color: BLUE posn
-00027420: 3a20 3530 2c38 300a 2020 2020 2020 2020  : 50,80.        
-00027430: 5b27 7368 6170 653a 272c 2027 4349 5243  ['shape:', 'CIRC
-00027440: 4c45 272c 2027 7369 7a65 3a27 2c20 2735  LE', 'size:', '5
-00027450: 3027 2c20 2763 6f6c 6f72 3a27 2c20 2742  0', 'color:', 'B
-00027460: 4c55 4527 2c20 2770 6f73 6e3a 272c 205b  LUE', 'posn:', [
-00027470: 2735 3027 2c20 272c 272c 2027 3830 275d  '50', ',', '80']
-00027480: 5d0a 2020 2020 2020 2020 2d20 636f 6c6f  ].        - colo
-00027490: 723a 2042 4c55 450a 2020 2020 2020 2020  r: BLUE.        
-000274a0: 2d20 706f 736e 3a20 5b27 3530 272c 2027  - posn: ['50', '
-000274b0: 2c27 2c20 2738 3027 5d0a 2020 2020 2020  ,', '80'].      
-000274c0: 2020 2020 2d20 783a 2035 300a 2020 2020      - x: 50.    
-000274d0: 2020 2020 2020 2d20 793a 2038 300a 2020        - y: 80.  
-000274e0: 2020 2020 2020 2d20 7368 6170 653a 2043        - shape: C
-000274f0: 4952 434c 450a 2020 2020 2020 2020 2d20  IRCLE.        - 
-00027500: 7369 7a65 3a20 3530 0a0a 0a20 2020 2020  size: 50...     
-00027510: 2020 2063 6f6c 6f72 3a20 4752 4545 4e20     color: GREEN 
-00027520: 7369 7a65 3a20 3230 2073 6861 7065 3a20  size: 20 shape: 
-00027530: 5452 4941 4e47 4c45 2070 6f73 6e3a 2032  TRIANGLE posn: 2
-00027540: 302c 3430 0a20 2020 2020 2020 205b 2763  0,40.        ['c
-00027550: 6f6c 6f72 3a27 2c20 2747 5245 454e 272c  olor:', 'GREEN',
-00027560: 2027 7369 7a65 3a27 2c20 2732 3027 2c20   'size:', '20', 
-00027570: 2773 6861 7065 3a27 2c20 2754 5249 414e  'shape:', 'TRIAN
-00027580: 474c 4527 2c20 2770 6f73 6e3a 272c 205b  GLE', 'posn:', [
-00027590: 2732 3027 2c20 272c 272c 2027 3430 275d  '20', ',', '40']
-000275a0: 5d0a 2020 2020 2020 2020 2d20 636f 6c6f  ].        - colo
-000275b0: 723a 2047 5245 454e 0a20 2020 2020 2020  r: GREEN.       
-000275c0: 202d 2070 6f73 6e3a 205b 2732 3027 2c20   - posn: ['20', 
-000275d0: 272c 272c 2027 3430 275d 0a20 2020 2020  ',', '40'].     
-000275e0: 2020 2020 202d 2078 3a20 3230 0a20 2020       - x: 20.   
-000275f0: 2020 2020 2020 202d 2079 3a20 3430 0a20         - y: 40. 
-00027600: 2020 2020 2020 202d 2073 6861 7065 3a20         - shape: 
-00027610: 5452 4941 4e47 4c45 0a20 2020 2020 2020  TRIANGLE.       
-00027620: 202d 2073 697a 653a 2032 300a 2020 2020   - size: 20.    
-00027630: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
-00027640: 6e69 745f 5f28 7365 6c66 2c20 6578 7072  nit__(self, expr
-00027650: 733a 2074 7970 696e 672e 4974 6572 6162  s: typing.Iterab
-00027660: 6c65 5b50 6172 7365 7245 6c65 6d65 6e74  le[ParserElement
-00027670: 5d2c 2073 6176 656c 6973 743a 2062 6f6f  ], savelist: boo
-00027680: 6c20 3d20 5472 7565 293a 0a20 2020 2020  l = True):.     
-00027690: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-000276a0: 745f 5f28 6578 7072 732c 2073 6176 656c  t__(exprs, savel
-000276b0: 6973 7429 0a20 2020 2020 2020 2069 6620  ist).        if 
-000276c0: 7365 6c66 2e65 7870 7273 3a0a 2020 2020  self.exprs:.    
-000276d0: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
-000276e0: 5265 7475 726e 456d 7074 7920 3d20 616c  ReturnEmpty = al
-000276f0: 6c28 652e 6d61 7952 6574 7572 6e45 6d70  l(e.mayReturnEmp
-00027700: 7479 2066 6f72 2065 2069 6e20 7365 6c66  ty for e in self
-00027710: 2e65 7870 7273 290a 2020 2020 2020 2020  .exprs).        
-00027720: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00027730: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
-00027740: 456d 7074 7920 3d20 5472 7565 0a20 2020  Empty = True.   
-00027750: 2020 2020 2073 656c 662e 736b 6970 5768       self.skipWh
-00027760: 6974 6573 7061 6365 203d 2054 7275 650a  itespace = True.
-00027770: 2020 2020 2020 2020 7365 6c66 2e69 6e69          self.ini
-00027780: 7445 7870 7247 726f 7570 7320 3d20 5472  tExprGroups = Tr
-00027790: 7565 0a20 2020 2020 2020 2073 656c 662e  ue.        self.
-000277a0: 7361 7665 4173 4c69 7374 203d 2054 7275  saveAsList = Tru
-000277b0: 650a 0a20 2020 2064 6566 205f 5f69 616e  e..    def __ian
-000277c0: 645f 5f28 7365 6c66 2c20 6f74 6865 7229  d__(self, other)
-000277d0: 3a0a 2020 2020 2020 2020 6966 2069 7369  :.        if isi
-000277e0: 6e73 7461 6e63 6528 6f74 6865 722c 2073  nstance(other, s
-000277f0: 7472 5f74 7970 6529 3a0a 2020 2020 2020  tr_type):.      
-00027800: 2020 2020 2020 6f74 6865 7220 3d20 7365        other = se
-00027810: 6c66 2e5f 6c69 7465 7261 6c53 7472 696e  lf._literalStrin
-00027820: 6743 6c61 7373 286f 7468 6572 290a 2020  gClass(other).  
-00027830: 2020 2020 2020 6966 206e 6f74 2069 7369        if not isi
-00027840: 6e73 7461 6e63 6528 6f74 6865 722c 2050  nstance(other, P
-00027850: 6172 7365 7245 6c65 6d65 6e74 293a 0a20  arserElement):. 
-00027860: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00027870: 6e20 4e6f 7449 6d70 6c65 6d65 6e74 6564  n NotImplemented
-00027880: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00027890: 7365 6c66 2e61 7070 656e 6428 6f74 6865  self.append(othe
-000278a0: 7229 2020 2320 4561 6368 285b 7365 6c66  r)  # Each([self
-000278b0: 2c20 6f74 6865 725d 290a 0a20 2020 2064  , other])..    d
-000278c0: 6566 2073 7472 6561 6d6c 696e 6528 7365  ef streamline(se
-000278d0: 6c66 2920 2d3e 2050 6172 7365 7245 6c65  lf) -> ParserEle
-000278e0: 6d65 6e74 3a0a 2020 2020 2020 2020 7375  ment:.        su
-000278f0: 7065 7228 292e 7374 7265 616d 6c69 6e65  per().streamline
-00027900: 2829 0a20 2020 2020 2020 2069 6620 7365  ().        if se
-00027910: 6c66 2e65 7870 7273 3a0a 2020 2020 2020  lf.exprs:.      
-00027920: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
-00027930: 7475 726e 456d 7074 7920 3d20 616c 6c28  turnEmpty = all(
-00027940: 652e 6d61 7952 6574 7572 6e45 6d70 7479  e.mayReturnEmpty
-00027950: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
-00027960: 7870 7273 290a 2020 2020 2020 2020 656c  xprs).        el
-00027970: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00027980: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
-00027990: 7074 7920 3d20 5472 7565 0a20 2020 2020  pty = True.     
-000279a0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-000279b0: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
-000279c0: 6c28 7365 6c66 2c20 696e 7374 7269 6e67  l(self, instring
-000279d0: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
-000279e0: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
-000279f0: 6966 2073 656c 662e 696e 6974 4578 7072  if self.initExpr
-00027a00: 4772 6f75 7073 3a0a 2020 2020 2020 2020  Groups:.        
-00027a10: 2020 2020 7365 6c66 2e6f 7074 316d 6170      self.opt1map
-00027a20: 203d 2064 6963 7428 0a20 2020 2020 2020   = dict(.       
-00027a30: 2020 2020 2020 2020 2028 6964 2865 2e65           (id(e.e
-00027a40: 7870 7229 2c20 6529 2066 6f72 2065 2069  xpr), e) for e i
-00027a50: 6e20 7365 6c66 2e65 7870 7273 2069 6620  n self.exprs if 
-00027a60: 6973 696e 7374 616e 6365 2865 2c20 4f70  isinstance(e, Op
-00027a70: 7429 0a20 2020 2020 2020 2020 2020 2029  t).            )
-00027a80: 0a20 2020 2020 2020 2020 2020 206f 7074  .            opt
-00027a90: 3120 3d20 5b65 2e65 7870 7220 666f 7220  1 = [e.expr for 
-00027aa0: 6520 696e 2073 656c 662e 6578 7072 7320  e in self.exprs 
-00027ab0: 6966 2069 7369 6e73 7461 6e63 6528 652c  if isinstance(e,
-00027ac0: 204f 7074 295d 0a20 2020 2020 2020 2020   Opt)].         
-00027ad0: 2020 206f 7074 3220 3d20 5b0a 2020 2020     opt2 = [.    
-00027ae0: 2020 2020 2020 2020 2020 2020 650a 2020              e.  
-00027af0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00027b00: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
-00027b10: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-00027b20: 2020 6966 2065 2e6d 6179 5265 7475 726e    if e.mayReturn
-00027b30: 456d 7074 7920 616e 6420 6e6f 7420 6973  Empty and not is
-00027b40: 696e 7374 616e 6365 2865 2c20 284f 7074  instance(e, (Opt
-00027b50: 2c20 5265 6765 782c 205a 6572 6f4f 724d  , Regex, ZeroOrM
-00027b60: 6f72 6529 290a 2020 2020 2020 2020 2020  ore)).          
-00027b70: 2020 5d0a 2020 2020 2020 2020 2020 2020    ].            
-00027b80: 7365 6c66 2e6f 7074 696f 6e61 6c73 203d  self.optionals =
-00027b90: 206f 7074 3120 2b20 6f70 7432 0a20 2020   opt1 + opt2.   
-00027ba0: 2020 2020 2020 2020 2073 656c 662e 6d75           self.mu
-00027bb0: 6c74 696f 7074 696f 6e61 6c73 203d 205b  ltioptionals = [
-00027bc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00027bd0: 2065 2e65 7870 722e 7365 745f 7265 7375   e.expr.set_resu
-00027be0: 6c74 735f 6e61 6d65 2865 2e72 6573 756c  lts_name(e.resul
-00027bf0: 7473 4e61 6d65 2c20 6c69 7374 5f61 6c6c  tsName, list_all
-00027c00: 5f6d 6174 6368 6573 3d54 7275 6529 0a20  _matches=True). 
-00027c10: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00027c20: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
-00027c30: 7273 0a20 2020 2020 2020 2020 2020 2020  rs.             
-00027c40: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-00027c50: 2865 2c20 5f4d 756c 7469 706c 654d 6174  (e, _MultipleMat
-00027c60: 6368 290a 2020 2020 2020 2020 2020 2020  ch).            
-00027c70: 5d0a 2020 2020 2020 2020 2020 2020 7365  ].            se
-00027c80: 6c66 2e6d 756c 7469 7265 7175 6972 6564  lf.multirequired
-00027c90: 203d 205b 0a20 2020 2020 2020 2020 2020   = [.           
-00027ca0: 2020 2020 2065 2e65 7870 722e 7365 745f       e.expr.set_
-00027cb0: 7265 7375 6c74 735f 6e61 6d65 2865 2e72  results_name(e.r
-00027cc0: 6573 756c 7473 4e61 6d65 2c20 6c69 7374  esultsName, list
-00027cd0: 5f61 6c6c 5f6d 6174 6368 6573 3d54 7275  _all_matches=Tru
-00027ce0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-00027cf0: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
-00027d00: 2e65 7870 7273 0a20 2020 2020 2020 2020  .exprs.         
-00027d10: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-00027d20: 616e 6365 2865 2c20 4f6e 654f 724d 6f72  ance(e, OneOrMor
-00027d30: 6529 0a20 2020 2020 2020 2020 2020 205d  e).            ]
-00027d40: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00027d50: 662e 7265 7175 6972 6564 203d 205b 0a20  f.required = [. 
-00027d60: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00027d70: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
-00027d80: 7870 7273 2069 6620 6e6f 7420 6973 696e  xprs if not isin
-00027d90: 7374 616e 6365 2865 2c20 284f 7074 2c20  stance(e, (Opt, 
-00027da0: 5a65 726f 4f72 4d6f 7265 2c20 4f6e 654f  ZeroOrMore, OneO
-00027db0: 724d 6f72 6529 290a 2020 2020 2020 2020  rMore)).        
-00027dc0: 2020 2020 5d0a 2020 2020 2020 2020 2020      ].          
-00027dd0: 2020 7365 6c66 2e72 6571 7569 7265 6420    self.required 
-00027de0: 2b3d 2073 656c 662e 6d75 6c74 6972 6571  += self.multireq
-00027df0: 7569 7265 640a 2020 2020 2020 2020 2020  uired.          
-00027e00: 2020 7365 6c66 2e69 6e69 7445 7870 7247    self.initExprG
-00027e10: 726f 7570 7320 3d20 4661 6c73 650a 0a20  roups = False.. 
-00027e20: 2020 2020 2020 2074 6d70 4c6f 6320 3d20         tmpLoc = 
-00027e30: 6c6f 630a 2020 2020 2020 2020 746d 7052  loc.        tmpR
-00027e40: 6571 6420 3d20 7365 6c66 2e72 6571 7569  eqd = self.requi
-00027e50: 7265 645b 3a5d 0a20 2020 2020 2020 2074  red[:].        t
-00027e60: 6d70 4f70 7420 3d20 7365 6c66 2e6f 7074  mpOpt = self.opt
-00027e70: 696f 6e61 6c73 5b3a 5d0a 2020 2020 2020  ionals[:].      
-00027e80: 2020 6d75 6c74 6973 203d 2073 656c 662e    multis = self.
-00027e90: 6d75 6c74 696f 7074 696f 6e61 6c73 5b3a  multioptionals[:
-00027ea0: 5d0a 2020 2020 2020 2020 6d61 7463 684f  ].        matchO
-00027eb0: 7264 6572 203d 205b 5d0a 0a20 2020 2020  rder = []..     
-00027ec0: 2020 206b 6565 704d 6174 6368 696e 6720     keepMatching 
-00027ed0: 3d20 5472 7565 0a20 2020 2020 2020 2066  = True.        f
-00027ee0: 6169 6c65 6420 3d20 5b5d 0a20 2020 2020  ailed = [].     
-00027ef0: 2020 2066 6174 616c 7320 3d20 5b5d 0a20     fatals = []. 
-00027f00: 2020 2020 2020 2077 6869 6c65 206b 6565         while kee
-00027f10: 704d 6174 6368 696e 673a 0a20 2020 2020  pMatching:.     
-00027f20: 2020 2020 2020 2074 6d70 4578 7072 7320         tmpExprs 
-00027f30: 3d20 746d 7052 6571 6420 2b20 746d 704f  = tmpReqd + tmpO
-00027f40: 7074 202b 206d 756c 7469 730a 2020 2020  pt + multis.    
-00027f50: 2020 2020 2020 2020 6661 696c 6564 2e63          failed.c
-00027f60: 6c65 6172 2829 0a20 2020 2020 2020 2020  lear().         
-00027f70: 2020 2066 6174 616c 732e 636c 6561 7228     fatals.clear(
-00027f80: 290a 2020 2020 2020 2020 2020 2020 666f  ).            fo
-00027f90: 7220 6520 696e 2074 6d70 4578 7072 733a  r e in tmpExprs:
+00023c10: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
+00023c20: 735b 6920 2b20 315d 203d 2064 656c 6574  s[i + 1] = delet
+00023c30: 6564 5f65 7870 725f 6d61 726b 6572 0a20  ed_expr_marker. 
+00023c40: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00023c50: 656c 662e 6578 7072 7320 3d20 5b65 2066  elf.exprs = [e f
+00023c60: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
+00023c70: 7273 2069 6620 6520 6973 206e 6f74 2064  rs if e is not d
+00023c80: 656c 6574 6564 5f65 7870 725f 6d61 726b  eleted_expr_mark
+00023c90: 6572 5d0a 0a20 2020 2020 2020 2073 7570  er]..        sup
+00023ca0: 6572 2829 2e73 7472 6561 6d6c 696e 6528  er().streamline(
+00023cb0: 290a 0a20 2020 2020 2020 2023 206c 696e  )..        # lin
+00023cc0: 6b20 616e 7920 496e 6465 6e74 6564 426c  k any IndentedBl
+00023cd0: 6f63 6b73 2074 6f20 7468 6520 7072 696f  ocks to the prio
+00023ce0: 7220 6578 7072 6573 7369 6f6e 0a20 2020  r expression.   
+00023cf0: 2020 2020 2070 7265 763a 2050 6172 7365       prev: Parse
+00023d00: 7245 6c65 6d65 6e74 0a20 2020 2020 2020  rElement.       
+00023d10: 2063 7572 3a20 5061 7273 6572 456c 656d   cur: ParserElem
+00023d20: 656e 740a 2020 2020 2020 2020 666f 7220  ent.        for 
+00023d30: 7072 6576 2c20 6375 7220 696e 207a 6970  prev, cur in zip
+00023d40: 2873 656c 662e 6578 7072 732c 2073 656c  (self.exprs, sel
+00023d50: 662e 6578 7072 735b 313a 5d29 3a0a 2020  f.exprs[1:]):.  
+00023d60: 2020 2020 2020 2020 2020 2320 7472 6176            # trav
+00023d70: 6572 7365 2063 7572 206f 7220 616e 7920  erse cur or any 
+00023d80: 6669 7273 7420 656d 6265 6464 6564 2065  first embedded e
+00023d90: 7870 7220 6f66 2063 7572 206c 6f6f 6b69  xpr of cur looki
+00023da0: 6e67 2066 6f72 2061 6e20 496e 6465 6e74  ng for an Indent
+00023db0: 6564 426c 6f63 6b0a 2020 2020 2020 2020  edBlock.        
+00023dc0: 2020 2020 2320 2862 7574 2077 6174 6368      # (but watch
+00023dd0: 206f 7574 2066 6f72 2072 6563 7572 7369   out for recursi
+00023de0: 7665 2067 7261 6d6d 6172 290a 2020 2020  ve grammar).    
+00023df0: 2020 2020 2020 2020 7365 656e 203d 2073          seen = s
+00023e00: 6574 2829 0a20 2020 2020 2020 2020 2020  et().           
+00023e10: 2077 6869 6c65 2054 7275 653a 0a20 2020   while True:.   
+00023e20: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00023e30: 6964 2863 7572 2920 696e 2073 6565 6e3a  id(cur) in seen:
+00023e40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023e50: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
+00023e60: 2020 2020 2020 2020 2020 2073 6565 6e2e             seen.
+00023e70: 6164 6428 6964 2863 7572 2929 0a20 2020  add(id(cur)).   
+00023e80: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00023e90: 6973 696e 7374 616e 6365 2863 7572 2c20  isinstance(cur, 
+00023ea0: 496e 6465 6e74 6564 426c 6f63 6b29 3a0a  IndentedBlock):.
+00023eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023ec0: 2020 2020 7072 6576 2e61 6464 5f70 6172      prev.add_par
+00023ed0: 7365 5f61 6374 696f 6e28 0a20 2020 2020  se_action(.     
+00023ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023ef0: 2020 206c 616d 6264 6120 732c 206c 2c20     lambda s, l, 
+00023f00: 742c 2063 7572 5f3d 6375 723a 2073 6574  t, cur_=cur: set
+00023f10: 6174 7472 280a 2020 2020 2020 2020 2020  attr(.          
+00023f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023f30: 2020 6375 725f 2c20 2270 6172 656e 745f    cur_, "parent_
+00023f40: 616e 6368 6f72 222c 2063 6f6c 286c 2c20  anchor", col(l, 
+00023f50: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
+00023f60: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00023f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023f80: 2029 0a20 2020 2020 2020 2020 2020 2020   ).             
+00023f90: 2020 2020 2020 2062 7265 616b 0a20 2020         break.   
+00023fa0: 2020 2020 2020 2020 2020 2020 2073 7562               sub
+00023fb0: 7320 3d20 6375 722e 7265 6375 7273 6528  s = cur.recurse(
+00023fc0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00023fd0: 2020 6e65 7874 5f66 6972 7374 203d 206e    next_first = n
+00023fe0: 6578 7428 6974 6572 2873 7562 7329 2c20  ext(iter(subs), 
+00023ff0: 4e6f 6e65 290a 2020 2020 2020 2020 2020  None).          
+00024000: 2020 2020 2020 6966 206e 6578 745f 6669        if next_fi
+00024010: 7273 7420 6973 204e 6f6e 653a 0a20 2020  rst is None:.   
+00024020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024030: 2062 7265 616b 0a20 2020 2020 2020 2020   break.         
+00024040: 2020 2020 2020 2063 7572 203d 2074 7970         cur = typ
+00024050: 696e 672e 6361 7374 2850 6172 7365 7245  ing.cast(ParserE
+00024060: 6c65 6d65 6e74 2c20 6e65 7874 5f66 6972  lement, next_fir
+00024070: 7374 290a 0a20 2020 2020 2020 2073 656c  st)..        sel
+00024080: 662e 6d61 7952 6574 7572 6e45 6d70 7479  f.mayReturnEmpty
+00024090: 203d 2061 6c6c 2865 2e6d 6179 5265 7475   = all(e.mayRetu
+000240a0: 726e 456d 7074 7920 666f 7220 6520 696e  rnEmpty for e in
+000240b0: 2073 656c 662e 6578 7072 7329 0a20 2020   self.exprs).   
+000240c0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+000240d0: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+000240e0: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
+000240f0: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
+00024100: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
+00024110: 2020 2320 7061 7373 2046 616c 7365 2061    # pass False a
+00024120: 7320 6361 6c6c 5072 6550 6172 7365 2061  s callPreParse a
+00024130: 7267 2074 6f20 5f70 6172 7365 2066 6f72  rg to _parse for
+00024140: 2066 6972 7374 2065 6c65 6d65 6e74 2c20   first element, 
+00024150: 7369 6e63 6520 7765 2061 6c72 6561 6479  since we already
+00024160: 0a20 2020 2020 2020 2023 2070 7265 2d70  .        # pre-p
+00024170: 6172 7365 6420 7468 6520 7374 7269 6e67  arsed the string
+00024180: 2061 7320 7061 7274 206f 6620 6f75 7220   as part of our 
+00024190: 416e 6420 7072 652d 7061 7273 696e 670a  And pre-parsing.
+000241a0: 2020 2020 2020 2020 6c6f 632c 2072 6573          loc, res
+000241b0: 756c 746c 6973 7420 3d20 7365 6c66 2e65  ultlist = self.e
+000241c0: 7870 7273 5b30 5d2e 5f70 6172 7365 280a  xprs[0]._parse(.
+000241d0: 2020 2020 2020 2020 2020 2020 696e 7374              inst
+000241e0: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+000241f0: 696f 6e73 2c20 6361 6c6c 5072 6550 6172  ions, callPrePar
+00024200: 7365 3d46 616c 7365 0a20 2020 2020 2020  se=False.       
+00024210: 2029 0a20 2020 2020 2020 2065 7272 6f72   ).        error
+00024220: 5374 6f70 203d 2046 616c 7365 0a20 2020  Stop = False.   
+00024230: 2020 2020 2066 6f72 2065 2069 6e20 7365       for e in se
+00024240: 6c66 2e65 7870 7273 5b31 3a5d 3a0a 2020  lf.exprs[1:]:.  
+00024250: 2020 2020 2020 2020 2020 2320 6966 2069            # if i
+00024260: 7369 6e73 7461 6e63 6528 652c 2041 6e64  sinstance(e, And
+00024270: 2e5f 4572 726f 7253 746f 7029 3a0a 2020  ._ErrorStop):.  
+00024280: 2020 2020 2020 2020 2020 6966 2074 7970            if typ
+00024290: 6528 6529 2069 7320 416e 642e 5f45 7272  e(e) is And._Err
+000242a0: 6f72 5374 6f70 3a0a 2020 2020 2020 2020  orStop:.        
+000242b0: 2020 2020 2020 2020 6572 726f 7253 746f          errorSto
+000242c0: 7020 3d20 5472 7565 0a20 2020 2020 2020  p = True.       
+000242d0: 2020 2020 2020 2020 2063 6f6e 7469 6e75           continu
+000242e0: 650a 2020 2020 2020 2020 2020 2020 6966  e.            if
+000242f0: 2065 7272 6f72 5374 6f70 3a0a 2020 2020   errorStop:.    
+00024300: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+00024310: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024320: 2020 2020 206c 6f63 2c20 6578 7072 746f       loc, exprto
+00024330: 6b65 6e73 203d 2065 2e5f 7061 7273 6528  kens = e._parse(
+00024340: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
+00024350: 6f41 6374 696f 6e73 290a 2020 2020 2020  oActions).      
+00024360: 2020 2020 2020 2020 2020 6578 6365 7074            except
+00024370: 2050 6172 7365 5379 6e74 6178 4578 6365   ParseSyntaxExce
+00024380: 7074 696f 6e3a 0a20 2020 2020 2020 2020  ption:.         
+00024390: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+000243a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000243b0: 2065 7863 6570 7420 5061 7273 6542 6173   except ParseBas
+000243c0: 6545 7863 6570 7469 6f6e 2061 7320 7065  eException as pe
+000243d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000243e0: 2020 2020 2020 7065 2e5f 5f74 7261 6365        pe.__trace
+000243f0: 6261 636b 5f5f 203d 204e 6f6e 650a 2020  back__ = None.  
+00024400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024410: 2020 7261 6973 6520 5061 7273 6553 796e    raise ParseSyn
+00024420: 7461 7845 7863 6570 7469 6f6e 2e5f 6672  taxException._fr
+00024430: 6f6d 5f65 7863 6570 7469 6f6e 2870 6529  om_exception(pe)
+00024440: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024450: 2065 7863 6570 7420 496e 6465 7845 7272   except IndexErr
+00024460: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
+00024470: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
+00024480: 7273 6553 796e 7461 7845 7863 6570 7469  rseSyntaxExcepti
+00024490: 6f6e 280a 2020 2020 2020 2020 2020 2020  on(.            
+000244a0: 2020 2020 2020 2020 2020 2020 696e 7374              inst
+000244b0: 7269 6e67 2c20 6c65 6e28 696e 7374 7269  ring, len(instri
+000244c0: 6e67 292c 2073 656c 662e 6572 726d 7367  ng), self.errmsg
+000244d0: 2c20 7365 6c66 0a20 2020 2020 2020 2020  , self.         
+000244e0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+000244f0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00024500: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00024510: 6f63 2c20 6578 7072 746f 6b65 6e73 203d  oc, exprtokens =
+00024520: 2065 2e5f 7061 7273 6528 696e 7374 7269   e._parse(instri
+00024530: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
+00024540: 6e73 290a 2020 2020 2020 2020 2020 2020  ns).            
+00024550: 7265 7375 6c74 6c69 7374 202b 3d20 6578  resultlist += ex
+00024560: 7072 746f 6b65 6e73 0a20 2020 2020 2020  prtokens.       
+00024570: 2072 6574 7572 6e20 6c6f 632c 2072 6573   return loc, res
+00024580: 756c 746c 6973 740a 0a20 2020 2064 6566  ultlist..    def
+00024590: 205f 5f69 6164 645f 5f28 7365 6c66 2c20   __iadd__(self, 
+000245a0: 6f74 6865 7229 3a0a 2020 2020 2020 2020  other):.        
+000245b0: 6966 2069 7369 6e73 7461 6e63 6528 6f74  if isinstance(ot
+000245c0: 6865 722c 2073 7472 5f74 7970 6529 3a0a  her, str_type):.
+000245d0: 2020 2020 2020 2020 2020 2020 6f74 6865              othe
+000245e0: 7220 3d20 7365 6c66 2e5f 6c69 7465 7261  r = self._litera
+000245f0: 6c53 7472 696e 6743 6c61 7373 286f 7468  lStringClass(oth
+00024600: 6572 290a 2020 2020 2020 2020 6966 206e  er).        if n
+00024610: 6f74 2069 7369 6e73 7461 6e63 6528 6f74  ot isinstance(ot
+00024620: 6865 722c 2050 6172 7365 7245 6c65 6d65  her, ParserEleme
+00024630: 6e74 293a 0a20 2020 2020 2020 2020 2020  nt):.           
+00024640: 2072 6574 7572 6e20 4e6f 7449 6d70 6c65   return NotImple
+00024650: 6d65 6e74 6564 0a20 2020 2020 2020 2072  mented.        r
+00024660: 6574 7572 6e20 7365 6c66 2e61 7070 656e  eturn self.appen
+00024670: 6428 6f74 6865 7229 2020 2320 416e 6428  d(other)  # And(
+00024680: 5b73 656c 662c 206f 7468 6572 5d29 0a0a  [self, other])..
+00024690: 2020 2020 6465 6620 5f63 6865 636b 5265      def _checkRe
+000246a0: 6375 7273 696f 6e28 7365 6c66 2c20 7061  cursion(self, pa
+000246b0: 7273 6545 6c65 6d65 6e74 4c69 7374 293a  rseElementList):
+000246c0: 0a20 2020 2020 2020 2073 7562 5265 6343  .        subRecC
+000246d0: 6865 636b 4c69 7374 203d 2070 6172 7365  heckList = parse
+000246e0: 456c 656d 656e 744c 6973 745b 3a5d 202b  ElementList[:] +
+000246f0: 205b 7365 6c66 5d0a 2020 2020 2020 2020   [self].        
+00024700: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
+00024710: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
+00024720: 2065 2e5f 6368 6563 6b52 6563 7572 7369   e._checkRecursi
+00024730: 6f6e 2873 7562 5265 6343 6865 636b 4c69  on(subRecCheckLi
+00024740: 7374 290a 2020 2020 2020 2020 2020 2020  st).            
+00024750: 6966 206e 6f74 2065 2e6d 6179 5265 7475  if not e.mayRetu
+00024760: 726e 456d 7074 793a 0a20 2020 2020 2020  rnEmpty:.       
+00024770: 2020 2020 2020 2020 2062 7265 616b 0a0a           break..
+00024780: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
+00024790: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
+000247a0: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
+000247b0: 2020 2069 6e6e 6572 203d 2022 2022 2e6a     inner = " ".j
+000247c0: 6f69 6e28 7374 7228 6529 2066 6f72 2065  oin(str(e) for e
+000247d0: 2069 6e20 7365 6c66 2e65 7870 7273 290a   in self.exprs).
+000247e0: 2020 2020 2020 2020 2320 7374 7269 7020          # strip 
+000247f0: 6f66 6620 7265 6475 6e64 616e 7420 696e  off redundant in
+00024800: 6e65 7220 7b7d 2773 0a20 2020 2020 2020  ner {}'s.       
+00024810: 2077 6869 6c65 206c 656e 2869 6e6e 6572   while len(inner
+00024820: 2920 3e20 3120 616e 6420 696e 6e65 725b  ) > 1 and inner[
+00024830: 3020 3a3a 206c 656e 2869 6e6e 6572 2920  0 :: len(inner) 
+00024840: 2d20 315d 203d 3d20 227b 7d22 3a0a 2020  - 1] == "{}":.  
+00024850: 2020 2020 2020 2020 2020 696e 6e65 7220            inner 
+00024860: 3d20 696e 6e65 725b 313a 2d31 5d0a 2020  = inner[1:-1].  
+00024870: 2020 2020 2020 7265 7475 726e 2022 7b22        return "{"
+00024880: 202b 2069 6e6e 6572 202b 2022 7d22 0a0a   + inner + "}"..
+00024890: 0a63 6c61 7373 204f 7228 5061 7273 6545  .class Or(ParseE
+000248a0: 7870 7265 7373 696f 6e29 3a0a 2020 2020  xpression):.    
+000248b0: 2222 2252 6571 7569 7265 7320 7468 6174  """Requires that
+000248c0: 2061 7420 6c65 6173 7420 6f6e 6520 3a63   at least one :c
+000248d0: 6c61 7373 3a60 5061 7273 6545 7870 7265  lass:`ParseExpre
+000248e0: 7373 696f 6e60 2069 7320 666f 756e 642e  ssion` is found.
+000248f0: 2049 660a 2020 2020 7477 6f20 6578 7072   If.    two expr
+00024900: 6573 7369 6f6e 7320 6d61 7463 682c 2074  essions match, t
+00024910: 6865 2065 7870 7265 7373 696f 6e20 7468  he expression th
+00024920: 6174 206d 6174 6368 6573 2074 6865 206c  at matches the l
+00024930: 6f6e 6765 7374 0a20 2020 2073 7472 696e  ongest.    strin
+00024940: 6720 7769 6c6c 2062 6520 7573 6564 2e20  g will be used. 
+00024950: 4d61 7920 6265 2063 6f6e 7374 7275 6374  May be construct
+00024960: 6564 2075 7369 6e67 2074 6865 2060 6027  ed using the ``'
+00024970: 5e27 6060 0a20 2020 206f 7065 7261 746f  ^'``.    operato
+00024980: 722e 0a0a 2020 2020 4578 616d 706c 653a  r...    Example:
+00024990: 3a0a 0a20 2020 2020 2020 2023 2063 6f6e  :..        # con
+000249a0: 7374 7275 6374 204f 7220 7573 696e 6720  struct Or using 
+000249b0: 275e 2720 6f70 6572 6174 6f72 0a0a 2020  '^' operator..  
+000249c0: 2020 2020 2020 6e75 6d62 6572 203d 2057        number = W
+000249d0: 6f72 6428 6e75 6d73 2920 5e20 436f 6d62  ord(nums) ^ Comb
+000249e0: 696e 6528 576f 7264 286e 756d 7329 202b  ine(Word(nums) +
+000249f0: 2027 2e27 202b 2057 6f72 6428 6e75 6d73   '.' + Word(nums
+00024a00: 2929 0a20 2020 2020 2020 2070 7269 6e74  )).        print
+00024a10: 286e 756d 6265 722e 7365 6172 6368 5f73  (number.search_s
+00024a20: 7472 696e 6728 2231 3233 2033 2e31 3431  tring("123 3.141
+00024a30: 3620 3738 3922 2929 0a0a 2020 2020 7072  6 789"))..    pr
+00024a40: 696e 7473 3a3a 0a0a 2020 2020 2020 2020  ints::..        
+00024a50: 5b5b 2731 3233 275d 2c20 5b27 332e 3134  [['123'], ['3.14
+00024a60: 3136 275d 2c20 5b27 3738 3927 5d5d 0a20  16'], ['789']]. 
+00024a70: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
+00024a80: 5f5f 696e 6974 5f5f 2873 656c 662c 2065  __init__(self, e
+00024a90: 7870 7273 3a20 7479 7069 6e67 2e49 7465  xprs: typing.Ite
+00024aa0: 7261 626c 655b 5061 7273 6572 456c 656d  rable[ParserElem
+00024ab0: 656e 745d 2c20 7361 7665 6c69 7374 3a20  ent], savelist: 
+00024ac0: 626f 6f6c 203d 2046 616c 7365 293a 0a20  bool = False):. 
+00024ad0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+00024ae0: 5f69 6e69 745f 5f28 6578 7072 732c 2073  _init__(exprs, s
+00024af0: 6176 656c 6973 7429 0a20 2020 2020 2020  avelist).       
+00024b00: 2069 6620 7365 6c66 2e65 7870 7273 3a0a   if self.exprs:.
+00024b10: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00024b20: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
+00024b30: 3d20 616e 7928 652e 6d61 7952 6574 7572  = any(e.mayRetur
+00024b40: 6e45 6d70 7479 2066 6f72 2065 2069 6e20  nEmpty for e in 
+00024b50: 7365 6c66 2e65 7870 7273 290a 2020 2020  self.exprs).    
+00024b60: 2020 2020 2020 2020 7365 6c66 2e73 6b69          self.ski
+00024b70: 7057 6869 7465 7370 6163 6520 3d20 616c  pWhitespace = al
+00024b80: 6c28 652e 736b 6970 5768 6974 6573 7061  l(e.skipWhitespa
+00024b90: 6365 2066 6f72 2065 2069 6e20 7365 6c66  ce for e in self
+00024ba0: 2e65 7870 7273 290a 2020 2020 2020 2020  .exprs).        
+00024bb0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00024bc0: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
+00024bd0: 456d 7074 7920 3d20 5472 7565 0a0a 2020  Empty = True..  
+00024be0: 2020 6465 6620 7374 7265 616d 6c69 6e65    def streamline
+00024bf0: 2873 656c 6629 202d 3e20 5061 7273 6572  (self) -> Parser
+00024c00: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
+00024c10: 2073 7570 6572 2829 2e73 7472 6561 6d6c   super().streaml
+00024c20: 696e 6528 290a 2020 2020 2020 2020 6966  ine().        if
+00024c30: 2073 656c 662e 6578 7072 733a 0a20 2020   self.exprs:.   
+00024c40: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+00024c50: 7952 6574 7572 6e45 6d70 7479 203d 2061  yReturnEmpty = a
+00024c60: 6e79 2865 2e6d 6179 5265 7475 726e 456d  ny(e.mayReturnEm
+00024c70: 7074 7920 666f 7220 6520 696e 2073 656c  pty for e in sel
+00024c80: 662e 6578 7072 7329 0a20 2020 2020 2020  f.exprs).       
+00024c90: 2020 2020 2073 656c 662e 7361 7665 4173       self.saveAs
+00024ca0: 4c69 7374 203d 2061 6e79 2865 2e73 6176  List = any(e.sav
+00024cb0: 6541 734c 6973 7420 666f 7220 6520 696e  eAsList for e in
+00024cc0: 2073 656c 662e 6578 7072 7329 0a20 2020   self.exprs).   
+00024cd0: 2020 2020 2020 2020 2073 656c 662e 736b           self.sk
+00024ce0: 6970 5768 6974 6573 7061 6365 203d 2061  ipWhitespace = a
+00024cf0: 6c6c 280a 2020 2020 2020 2020 2020 2020  ll(.            
+00024d00: 2020 2020 652e 736b 6970 5768 6974 6573      e.skipWhites
+00024d10: 7061 6365 2061 6e64 206e 6f74 2069 7369  pace and not isi
+00024d20: 6e73 7461 6e63 6528 652c 2057 6869 7465  nstance(e, White
+00024d30: 2920 666f 7220 6520 696e 2073 656c 662e  ) for e in self.
+00024d40: 6578 7072 730a 2020 2020 2020 2020 2020  exprs.          
+00024d50: 2020 290a 2020 2020 2020 2020 656c 7365    ).        else
+00024d60: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00024d70: 6c66 2e73 6176 6541 734c 6973 7420 3d20  lf.saveAsList = 
+00024d80: 4661 6c73 650a 2020 2020 2020 2020 7265  False.        re
+00024d90: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
+00024da0: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
+00024db0: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
+00024dc0: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
+00024dd0: 293a 0a20 2020 2020 2020 206d 6178 4578  ):.        maxEx
+00024de0: 634c 6f63 203d 202d 310a 2020 2020 2020  cLoc = -1.      
+00024df0: 2020 6d61 7845 7863 6570 7469 6f6e 203d    maxException =
+00024e00: 204e 6f6e 650a 2020 2020 2020 2020 6d61   None.        ma
+00024e10: 7463 6865 7320 3d20 5b5d 0a20 2020 2020  tches = [].     
+00024e20: 2020 2066 6174 616c 7320 3d20 5b5d 0a20     fatals = []. 
+00024e30: 2020 2020 2020 2069 6620 616c 6c28 652e         if all(e.
+00024e40: 6361 6c6c 5072 6570 6172 7365 2066 6f72  callPreparse for
+00024e50: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
+00024e60: 293a 0a20 2020 2020 2020 2020 2020 206c  ):.            l
+00024e70: 6f63 203d 2073 656c 662e 7072 6550 6172  oc = self.prePar
+00024e80: 7365 2869 6e73 7472 696e 672c 206c 6f63  se(instring, loc
+00024e90: 290a 2020 2020 2020 2020 666f 7220 6520  ).        for e 
+00024ea0: 696e 2073 656c 662e 6578 7072 733a 0a20  in self.exprs:. 
+00024eb0: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
+00024ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024ed0: 6c6f 6332 203d 2065 2e74 7279 5f70 6172  loc2 = e.try_par
+00024ee0: 7365 2869 6e73 7472 696e 672c 206c 6f63  se(instring, loc
+00024ef0: 2c20 7261 6973 655f 6661 7461 6c3d 5472  , raise_fatal=Tr
+00024f00: 7565 290a 2020 2020 2020 2020 2020 2020  ue).            
+00024f10: 6578 6365 7074 2050 6172 7365 4661 7461  except ParseFata
+00024f20: 6c45 7863 6570 7469 6f6e 2061 7320 7066  lException as pf
+00024f30: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00024f40: 2020 2070 6665 2e5f 5f74 7261 6365 6261     pfe.__traceba
+00024f50: 636b 5f5f 203d 204e 6f6e 650a 2020 2020  ck__ = None.    
+00024f60: 2020 2020 2020 2020 2020 2020 7066 652e              pfe.
+00024f70: 7061 7273 6572 5f65 6c65 6d65 6e74 203d  parser_element =
+00024f80: 2065 0a20 2020 2020 2020 2020 2020 2020   e.             
+00024f90: 2020 2066 6174 616c 732e 6170 7065 6e64     fatals.append
+00024fa0: 2870 6665 290a 2020 2020 2020 2020 2020  (pfe).          
+00024fb0: 2020 2020 2020 6d61 7845 7863 6570 7469        maxExcepti
+00024fc0: 6f6e 203d 204e 6f6e 650a 2020 2020 2020  on = None.      
+00024fd0: 2020 2020 2020 2020 2020 6d61 7845 7863            maxExc
+00024fe0: 4c6f 6320 3d20 2d31 0a20 2020 2020 2020  Loc = -1.       
+00024ff0: 2020 2020 2065 7863 6570 7420 5061 7273       except Pars
+00025000: 6545 7863 6570 7469 6f6e 2061 7320 6572  eException as er
+00025010: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
+00025020: 2020 2069 6620 6e6f 7420 6661 7461 6c73     if not fatals
+00025030: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00025040: 2020 2020 2020 6572 722e 5f5f 7472 6163        err.__trac
+00025050: 6562 6163 6b5f 5f20 3d20 4e6f 6e65 0a20  eback__ = None. 
+00025060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025070: 2020 2069 6620 6572 722e 6c6f 6320 3e20     if err.loc > 
+00025080: 6d61 7845 7863 4c6f 633a 0a20 2020 2020  maxExcLoc:.     
+00025090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000250a0: 2020 206d 6178 4578 6365 7074 696f 6e20     maxException 
+000250b0: 3d20 6572 720a 2020 2020 2020 2020 2020  = err.          
+000250c0: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
+000250d0: 7845 7863 4c6f 6320 3d20 6572 722e 6c6f  xExcLoc = err.lo
+000250e0: 630a 2020 2020 2020 2020 2020 2020 6578  c.            ex
+000250f0: 6365 7074 2049 6e64 6578 4572 726f 723a  cept IndexError:
+00025100: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025110: 2069 6620 6c65 6e28 696e 7374 7269 6e67   if len(instring
+00025120: 2920 3e20 6d61 7845 7863 4c6f 633a 0a20  ) > maxExcLoc:. 
+00025130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025140: 2020 206d 6178 4578 6365 7074 696f 6e20     maxException 
+00025150: 3d20 5061 7273 6545 7863 6570 7469 6f6e  = ParseException
+00025160: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00025170: 2020 2020 2020 2020 2020 696e 7374 7269            instri
+00025180: 6e67 2c20 6c65 6e28 696e 7374 7269 6e67  ng, len(instring
+00025190: 292c 2065 2e65 7272 6d73 672c 2073 656c  ), e.errmsg, sel
+000251a0: 660a 2020 2020 2020 2020 2020 2020 2020  f.              
+000251b0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+000251c0: 2020 2020 2020 2020 2020 2020 6d61 7845              maxE
+000251d0: 7863 4c6f 6320 3d20 6c65 6e28 696e 7374  xcLoc = len(inst
+000251e0: 7269 6e67 290a 2020 2020 2020 2020 2020  ring).          
+000251f0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00025200: 2020 2020 2020 2020 2320 7361 7665 206d          # save m
+00025210: 6174 6368 2061 6d6f 6e67 2061 6c6c 206d  atch among all m
+00025220: 6174 6368 6573 2c20 746f 2072 6574 7279  atches, to retry
+00025230: 206c 6f6e 6765 7374 2074 6f20 7368 6f72   longest to shor
+00025240: 7465 7374 0a20 2020 2020 2020 2020 2020  test.           
+00025250: 2020 2020 206d 6174 6368 6573 2e61 7070       matches.app
+00025260: 656e 6428 286c 6f63 322c 2065 2929 0a0a  end((loc2, e))..
+00025270: 2020 2020 2020 2020 6966 206d 6174 6368          if match
+00025280: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+00025290: 2320 7265 2d65 7661 6c75 6174 6520 616c  # re-evaluate al
+000252a0: 6c20 6d61 7463 6865 7320 696e 2064 6573  l matches in des
+000252b0: 6365 6e64 696e 6720 6f72 6465 7220 6f66  cending order of
+000252c0: 206c 656e 6774 6820 6f66 206d 6174 6368   length of match
+000252d0: 2c20 696e 2063 6173 6520 6174 7461 6368  , in case attach
+000252e0: 6564 2061 6374 696f 6e73 0a20 2020 2020  ed actions.     
+000252f0: 2020 2020 2020 2023 206d 6967 6874 2063         # might c
+00025300: 6861 6e67 6520 7768 6574 6865 7220 6f72  hange whether or
+00025310: 2068 6f77 206d 7563 6820 7468 6579 206d   how much they m
+00025320: 6174 6368 206f 6620 7468 6520 696e 7075  atch of the inpu
+00025330: 742e 0a20 2020 2020 2020 2020 2020 206d  t..            m
+00025340: 6174 6368 6573 2e73 6f72 7428 6b65 793d  atches.sort(key=
+00025350: 6974 656d 6765 7474 6572 2830 292c 2072  itemgetter(0), r
+00025360: 6576 6572 7365 3d54 7275 6529 0a0a 2020  everse=True)..  
+00025370: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
+00025380: 2064 6f41 6374 696f 6e73 3a0a 2020 2020   doActions:.    
+00025390: 2020 2020 2020 2020 2020 2020 2320 6e6f              # no
+000253a0: 2066 7572 7468 6572 2063 6f6e 6469 7469   further conditi
+000253b0: 6f6e 7320 6f72 2070 6172 7365 2061 6374  ons or parse act
+000253c0: 696f 6e73 2074 6f20 6368 616e 6765 2074  ions to change t
+000253d0: 6865 2073 656c 6563 7469 6f6e 206f 660a  he selection of.
+000253e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000253f0: 2320 616c 7465 726e 6174 6976 652c 2073  # alternative, s
+00025400: 6f20 7468 6520 6669 7273 7420 6d61 7463  o the first matc
+00025410: 6820 7769 6c6c 2062 6520 7468 6520 6265  h will be the be
+00025420: 7374 206d 6174 6368 0a20 2020 2020 2020  st match.       
+00025430: 2020 2020 2020 2020 2062 6573 745f 6578           best_ex
+00025440: 7072 203d 206d 6174 6368 6573 5b30 5d5b  pr = matches[0][
+00025450: 315d 0a20 2020 2020 2020 2020 2020 2020  1].             
+00025460: 2020 2072 6574 7572 6e20 6265 7374 5f65     return best_e
+00025470: 7870 722e 5f70 6172 7365 2869 6e73 7472  xpr._parse(instr
+00025480: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
+00025490: 6f6e 7329 0a0a 2020 2020 2020 2020 2020  ons)..          
+000254a0: 2020 6c6f 6e67 6573 7420 3d20 2d31 2c20    longest = -1, 
+000254b0: 4e6f 6e65 0a20 2020 2020 2020 2020 2020  None.           
+000254c0: 2066 6f72 206c 6f63 312c 2065 7870 7231   for loc1, expr1
+000254d0: 2069 6e20 6d61 7463 6865 733a 0a20 2020   in matches:.   
+000254e0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000254f0: 6c6f 6331 203c 3d20 6c6f 6e67 6573 745b  loc1 <= longest[
+00025500: 305d 3a0a 2020 2020 2020 2020 2020 2020  0]:.            
+00025510: 2020 2020 2020 2020 2320 616c 7265 6164          # alread
+00025520: 7920 6861 7665 2061 206c 6f6e 6765 7220  y have a longer 
+00025530: 6d61 7463 6820 7468 616e 2074 6869 7320  match than this 
+00025540: 6f6e 6520 7769 6c6c 2064 656c 6976 6572  one will deliver
+00025550: 2c20 7765 2061 7265 2064 6f6e 650a 2020  , we are done.  
+00025560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025570: 2020 7265 7475 726e 206c 6f6e 6765 7374    return longest
+00025580: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00025590: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+000255a0: 2020 2020 2020 2020 2020 206c 6f63 322c             loc2,
+000255b0: 2074 6f6b 7320 3d20 6578 7072 312e 5f70   toks = expr1._p
+000255c0: 6172 7365 2869 6e73 7472 696e 672c 206c  arse(instring, l
+000255d0: 6f63 2c20 646f 4163 7469 6f6e 7329 0a20  oc, doActions). 
+000255e0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000255f0: 7863 6570 7420 5061 7273 6545 7863 6570  xcept ParseExcep
+00025600: 7469 6f6e 2061 7320 6572 723a 0a20 2020  tion as err:.   
+00025610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025620: 2065 7272 2e5f 5f74 7261 6365 6261 636b   err.__traceback
+00025630: 5f5f 203d 204e 6f6e 650a 2020 2020 2020  __ = None.      
+00025640: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00025650: 2065 7272 2e6c 6f63 203e 206d 6178 4578   err.loc > maxEx
+00025660: 634c 6f63 3a0a 2020 2020 2020 2020 2020  cLoc:.          
+00025670: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
+00025680: 7845 7863 6570 7469 6f6e 203d 2065 7272  xException = err
+00025690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000256a0: 2020 2020 2020 2020 206d 6178 4578 634c           maxExcL
+000256b0: 6f63 203d 2065 7272 2e6c 6f63 0a20 2020  oc = err.loc.   
+000256c0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+000256d0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+000256e0: 2020 2020 2020 2069 6620 6c6f 6332 203e         if loc2 >
+000256f0: 3d20 6c6f 6331 3a0a 2020 2020 2020 2020  = loc1:.        
+00025700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025710: 7265 7475 726e 206c 6f63 322c 2074 6f6b  return loc2, tok
+00025720: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+00025730: 2020 2020 2020 2320 6469 646e 2774 206d        # didn't m
+00025740: 6174 6368 2061 7320 6d75 6368 2061 7320  atch as much as 
+00025750: 6265 666f 7265 0a20 2020 2020 2020 2020  before.         
+00025760: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+00025770: 6c6f 6332 203e 206c 6f6e 6765 7374 5b30  loc2 > longest[0
+00025780: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
+00025790: 2020 2020 2020 2020 2020 206c 6f6e 6765             longe
+000257a0: 7374 203d 206c 6f63 322c 2074 6f6b 730a  st = loc2, toks.
+000257b0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+000257c0: 6c6f 6e67 6573 7420 213d 2028 2d31 2c20  longest != (-1, 
+000257d0: 4e6f 6e65 293a 0a20 2020 2020 2020 2020  None):.         
+000257e0: 2020 2020 2020 2072 6574 7572 6e20 6c6f         return lo
+000257f0: 6e67 6573 740a 0a20 2020 2020 2020 2069  ngest..        i
+00025800: 6620 6661 7461 6c73 3a0a 2020 2020 2020  f fatals:.      
+00025810: 2020 2020 2020 6966 206c 656e 2866 6174        if len(fat
+00025820: 616c 7329 203e 2031 3a0a 2020 2020 2020  als) > 1:.      
+00025830: 2020 2020 2020 2020 2020 6661 7461 6c73            fatals
+00025840: 2e73 6f72 7428 6b65 793d 6c61 6d62 6461  .sort(key=lambda
+00025850: 2065 3a20 2d65 2e6c 6f63 290a 2020 2020   e: -e.loc).    
+00025860: 2020 2020 2020 2020 2020 2020 6966 2066              if f
+00025870: 6174 616c 735b 305d 2e6c 6f63 203d 3d20  atals[0].loc == 
+00025880: 6661 7461 6c73 5b31 5d2e 6c6f 633a 0a20  fatals[1].loc:. 
+00025890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000258a0: 2020 2066 6174 616c 732e 736f 7274 286b     fatals.sort(k
+000258b0: 6579 3d6c 616d 6264 6120 653a 2028 2d65  ey=lambda e: (-e
+000258c0: 2e6c 6f63 2c20 2d6c 656e 2873 7472 2865  .loc, -len(str(e
+000258d0: 2e70 6172 7365 725f 656c 656d 656e 7429  .parser_element)
+000258e0: 2929 290a 2020 2020 2020 2020 2020 2020  ))).            
+000258f0: 6d61 785f 6661 7461 6c20 3d20 6661 7461  max_fatal = fata
+00025900: 6c73 5b30 5d0a 2020 2020 2020 2020 2020  ls[0].          
+00025910: 2020 7261 6973 6520 6d61 785f 6661 7461    raise max_fata
+00025920: 6c0a 0a20 2020 2020 2020 2069 6620 6d61  l..        if ma
+00025930: 7845 7863 6570 7469 6f6e 2069 7320 6e6f  xException is no
+00025940: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+00025950: 2020 2020 2320 696e 6665 7220 6672 6f6d      # infer from
+00025960: 2074 6869 7320 6368 6563 6b20 7468 6174   this check that
+00025970: 2061 6c6c 2061 6c74 6572 6e61 7469 7665   all alternative
+00025980: 7320 6661 696c 6564 2061 7420 7468 6520  s failed at the 
+00025990: 6375 7272 656e 7420 706f 7369 7469 6f6e  current position
+000259a0: 0a20 2020 2020 2020 2020 2020 2023 2073  .            # s
+000259b0: 6f20 656d 6974 2074 6869 7320 636f 6c6c  o emit this coll
+000259c0: 6563 7469 7665 2065 7272 6f72 206d 6573  ective error mes
+000259d0: 7361 6765 2069 6e73 7465 6164 206f 6620  sage instead of 
+000259e0: 616e 7920 7369 6e67 6c65 2065 7272 6f72  any single error
+000259f0: 206d 6573 7361 6765 0a20 2020 2020 2020   message.       
+00025a00: 2020 2020 2069 6620 6d61 7845 7863 4c6f       if maxExcLo
+00025a10: 6320 3d3d 206c 6f63 3a0a 2020 2020 2020  c == loc:.      
+00025a20: 2020 2020 2020 2020 2020 6d61 7845 7863            maxExc
+00025a30: 6570 7469 6f6e 2e6d 7367 203d 2073 656c  eption.msg = sel
+00025a40: 662e 6572 726d 7367 0a20 2020 2020 2020  f.errmsg.       
+00025a50: 2020 2020 2072 6169 7365 206d 6178 4578       raise maxEx
+00025a60: 6365 7074 696f 6e0a 2020 2020 2020 2020  ception.        
+00025a70: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00025a80: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
+00025a90: 6570 7469 6f6e 280a 2020 2020 2020 2020  eption(.        
+00025aa0: 2020 2020 2020 2020 696e 7374 7269 6e67          instring
+00025ab0: 2c20 6c6f 632c 2022 6e6f 2064 6566 696e  , loc, "no defin
+00025ac0: 6564 2061 6c74 6572 6e61 7469 7665 7320  ed alternatives 
+00025ad0: 746f 206d 6174 6368 222c 2073 656c 660a  to match", self.
+00025ae0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
+00025af0: 2020 2064 6566 205f 5f69 786f 725f 5f28     def __ixor__(
+00025b00: 7365 6c66 2c20 6f74 6865 7229 3a0a 2020  self, other):.  
+00025b10: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+00025b20: 6e63 6528 6f74 6865 722c 2073 7472 5f74  nce(other, str_t
+00025b30: 7970 6529 3a0a 2020 2020 2020 2020 2020  ype):.          
+00025b40: 2020 6f74 6865 7220 3d20 7365 6c66 2e5f    other = self._
+00025b50: 6c69 7465 7261 6c53 7472 696e 6743 6c61  literalStringCla
+00025b60: 7373 286f 7468 6572 290a 2020 2020 2020  ss(other).      
+00025b70: 2020 6966 206e 6f74 2069 7369 6e73 7461    if not isinsta
+00025b80: 6e63 6528 6f74 6865 722c 2050 6172 7365  nce(other, Parse
+00025b90: 7245 6c65 6d65 6e74 293a 0a20 2020 2020  rElement):.     
+00025ba0: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
+00025bb0: 7449 6d70 6c65 6d65 6e74 6564 0a20 2020  tImplemented.   
+00025bc0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00025bd0: 2e61 7070 656e 6428 6f74 6865 7229 2020  .append(other)  
+00025be0: 2320 4f72 285b 7365 6c66 2c20 6f74 6865  # Or([self, othe
+00025bf0: 725d 290a 0a20 2020 2064 6566 205f 6765  r])..    def _ge
+00025c00: 6e65 7261 7465 4465 6661 756c 744e 616d  nerateDefaultNam
+00025c10: 6528 7365 6c66 2920 2d3e 2073 7472 3a0a  e(self) -> str:.
+00025c20: 2020 2020 2020 2020 7265 7475 726e 2022          return "
+00025c30: 7b22 202b 2022 205e 2022 2e6a 6f69 6e28  {" + " ^ ".join(
+00025c40: 7374 7228 6529 2066 6f72 2065 2069 6e20  str(e) for e in 
+00025c50: 7365 6c66 2e65 7870 7273 2920 2b20 227d  self.exprs) + "}
+00025c60: 220a 0a20 2020 2064 6566 205f 7365 7452  "..    def _setR
+00025c70: 6573 756c 7473 4e61 6d65 2873 656c 662c  esultsName(self,
+00025c80: 206e 616d 652c 206c 6973 7441 6c6c 4d61   name, listAllMa
+00025c90: 7463 6865 733d 4661 6c73 6529 3a0a 2020  tches=False):.  
+00025ca0: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
+00025cb0: 2020 2020 2020 205f 5f64 6961 675f 5f2e         __diag__.
+00025cc0: 7761 726e 5f6d 756c 7469 706c 655f 746f  warn_multiple_to
+00025cd0: 6b65 6e73 5f69 6e5f 6e61 6d65 645f 616c  kens_in_named_al
+00025ce0: 7465 726e 6174 696f 6e0a 2020 2020 2020  ternation.      
+00025cf0: 2020 2020 2020 616e 6420 4469 6167 6e6f        and Diagno
+00025d00: 7374 6963 732e 7761 726e 5f6d 756c 7469  stics.warn_multi
+00025d10: 706c 655f 746f 6b65 6e73 5f69 6e5f 6e61  ple_tokens_in_na
+00025d20: 6d65 645f 616c 7465 726e 6174 696f 6e0a  med_alternation.
+00025d30: 2020 2020 2020 2020 2020 2020 6e6f 7420              not 
+00025d40: 696e 2073 656c 662e 7375 7070 7265 7373  in self.suppress
+00025d50: 5f77 6172 6e69 6e67 735f 0a20 2020 2020  _warnings_.     
+00025d60: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
+00025d70: 2020 6966 2061 6e79 280a 2020 2020 2020    if any(.      
+00025d80: 2020 2020 2020 2020 2020 6973 696e 7374            isinst
+00025d90: 616e 6365 2865 2c20 416e 6429 0a20 2020  ance(e, And).   
+00025da0: 2020 2020 2020 2020 2020 2020 2061 6e64               and
+00025db0: 2044 6961 676e 6f73 7469 6373 2e77 6172   Diagnostics.war
+00025dc0: 6e5f 6d75 6c74 6970 6c65 5f74 6f6b 656e  n_multiple_token
+00025dd0: 735f 696e 5f6e 616d 6564 5f61 6c74 6572  s_in_named_alter
+00025de0: 6e61 7469 6f6e 0a20 2020 2020 2020 2020  nation.         
+00025df0: 2020 2020 2020 206e 6f74 2069 6e20 652e         not in e.
+00025e00: 7375 7070 7265 7373 5f77 6172 6e69 6e67  suppress_warning
+00025e10: 735f 0a20 2020 2020 2020 2020 2020 2020  s_.             
+00025e20: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
+00025e30: 2e65 7870 7273 0a20 2020 2020 2020 2020  .exprs.         
+00025e40: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
+00025e50: 2020 2020 2020 7761 726e 696e 6773 2e77        warnings.w
+00025e60: 6172 6e28 0a20 2020 2020 2020 2020 2020  arn(.           
+00025e70: 2020 2020 2020 2020 2022 7b7d 3a20 7365           "{}: se
+00025e80: 7474 696e 6720 7265 7375 6c74 7320 6e61  tting results na
+00025e90: 6d65 207b 2172 7d20 6f6e 207b 7d20 6578  me {!r} on {} ex
+00025ea0: 7072 6573 7369 6f6e 2022 0a20 2020 2020  pression ".     
+00025eb0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00025ec0: 7769 6c6c 2072 6574 7572 6e20 6120 6c69  will return a li
+00025ed0: 7374 206f 6620 616c 6c20 7061 7273 6564  st of all parsed
+00025ee0: 2074 6f6b 656e 7320 696e 2061 6e20 416e   tokens in an An
+00025ef0: 6420 616c 7465 726e 6174 6976 652c 2022  d alternative, "
+00025f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025f10: 2020 2020 2022 696e 2070 7269 6f72 2076       "in prior v
+00025f20: 6572 7369 6f6e 7320 6f6e 6c79 2074 6865  ersions only the
+00025f30: 2066 6972 7374 2074 6f6b 656e 2077 6173   first token was
+00025f40: 2072 6574 7572 6e65 643b 2065 6e63 6c6f   returned; enclo
+00025f50: 7365 2022 0a20 2020 2020 2020 2020 2020  se ".           
+00025f60: 2020 2020 2020 2020 2022 636f 6e74 6169           "contai
+00025f70: 6e65 6420 6172 6775 6d65 6e74 2069 6e20  ned argument in 
+00025f80: 4772 6f75 7022 2e66 6f72 6d61 7428 0a20  Group".format(. 
+00025f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025fa0: 2020 2020 2020 2022 7761 726e 5f6d 756c         "warn_mul
+00025fb0: 7469 706c 655f 746f 6b65 6e73 5f69 6e5f  tiple_tokens_in_
+00025fc0: 6e61 6d65 645f 616c 7465 726e 6174 696f  named_alternatio
+00025fd0: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
+00025fe0: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
+00025ff0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00026000: 2020 2020 2020 2020 2020 7479 7065 2873            type(s
+00026010: 656c 6629 2e5f 5f6e 616d 655f 5f2c 0a20  elf).__name__,. 
+00026020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026030: 2020 2029 2c0a 2020 2020 2020 2020 2020     ),.          
+00026040: 2020 2020 2020 2020 2020 7374 6163 6b6c            stackl
+00026050: 6576 656c 3d33 2c0a 2020 2020 2020 2020  evel=3,.        
+00026060: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+00026070: 2020 2072 6574 7572 6e20 7375 7065 7228     return super(
+00026080: 292e 5f73 6574 5265 7375 6c74 734e 616d  )._setResultsNam
+00026090: 6528 6e61 6d65 2c20 6c69 7374 416c 6c4d  e(name, listAllM
+000260a0: 6174 6368 6573 290a 0a0a 636c 6173 7320  atches)...class 
+000260b0: 4d61 7463 6846 6972 7374 2850 6172 7365  MatchFirst(Parse
+000260c0: 4578 7072 6573 7369 6f6e 293a 0a20 2020  Expression):.   
+000260d0: 2022 2222 5265 7175 6972 6573 2074 6861   """Requires tha
+000260e0: 7420 6174 206c 6561 7374 206f 6e65 203a  t at least one :
+000260f0: 636c 6173 733a 6050 6172 7365 4578 7072  class:`ParseExpr
+00026100: 6573 7369 6f6e 6020 6973 2066 6f75 6e64  ession` is found
+00026110: 2e20 4966 0a20 2020 206d 6f72 6520 7468  . If.    more th
+00026120: 616e 206f 6e65 2065 7870 7265 7373 696f  an one expressio
+00026130: 6e20 6d61 7463 6865 732c 2074 6865 2066  n matches, the f
+00026140: 6972 7374 206f 6e65 206c 6973 7465 6420  irst one listed 
+00026150: 6973 2074 6865 206f 6e65 2074 6861 7420  is the one that 
+00026160: 7769 6c6c 0a20 2020 206d 6174 6368 2e20  will.    match. 
+00026170: 4d61 7920 6265 2063 6f6e 7374 7275 6374  May be construct
+00026180: 6564 2075 7369 6e67 2074 6865 2060 6027  ed using the ``'
+00026190: 7c27 6060 206f 7065 7261 746f 722e 0a0a  |'`` operator...
+000261a0: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
+000261b0: 2020 2020 2020 2023 2063 6f6e 7374 7275         # constru
+000261c0: 6374 204d 6174 6368 4669 7273 7420 7573  ct MatchFirst us
+000261d0: 696e 6720 277c 2720 6f70 6572 6174 6f72  ing '|' operator
+000261e0: 0a0a 2020 2020 2020 2020 2320 7761 7463  ..        # watc
+000261f0: 6820 7468 6520 6f72 6465 7220 6f66 2065  h the order of e
+00026200: 7870 7265 7373 696f 6e73 2074 6f20 6d61  xpressions to ma
+00026210: 7463 680a 2020 2020 2020 2020 6e75 6d62  tch.        numb
+00026220: 6572 203d 2057 6f72 6428 6e75 6d73 2920  er = Word(nums) 
+00026230: 7c20 436f 6d62 696e 6528 576f 7264 286e  | Combine(Word(n
+00026240: 756d 7329 202b 2027 2e27 202b 2057 6f72  ums) + '.' + Wor
+00026250: 6428 6e75 6d73 2929 0a20 2020 2020 2020  d(nums)).       
+00026260: 2070 7269 6e74 286e 756d 6265 722e 7365   print(number.se
+00026270: 6172 6368 5f73 7472 696e 6728 2231 3233  arch_string("123
+00026280: 2033 2e31 3431 3620 3738 3922 2929 2023   3.1416 789")) #
+00026290: 2020 4661 696c 2120 2d3e 205b 5b27 3132    Fail! -> [['12
+000262a0: 3327 5d2c 205b 2733 275d 2c20 5b27 3134  3'], ['3'], ['14
+000262b0: 3136 275d 2c20 5b27 3738 3927 5d5d 0a0a  16'], ['789']]..
+000262c0: 2020 2020 2020 2020 2320 7075 7420 6d6f          # put mo
+000262d0: 7265 2073 656c 6563 7469 7665 2065 7870  re selective exp
+000262e0: 7265 7373 696f 6e20 6669 7273 740a 2020  ression first.  
+000262f0: 2020 2020 2020 6e75 6d62 6572 203d 2043        number = C
+00026300: 6f6d 6269 6e65 2857 6f72 6428 6e75 6d73  ombine(Word(nums
+00026310: 2920 2b20 272e 2720 2b20 576f 7264 286e  ) + '.' + Word(n
+00026320: 756d 7329 2920 7c20 576f 7264 286e 756d  ums)) | Word(num
+00026330: 7329 0a20 2020 2020 2020 2070 7269 6e74  s).        print
+00026340: 286e 756d 6265 722e 7365 6172 6368 5f73  (number.search_s
+00026350: 7472 696e 6728 2231 3233 2033 2e31 3431  tring("123 3.141
+00026360: 3620 3738 3922 2929 2023 2020 4265 7474  6 789")) #  Bett
+00026370: 6572 202d 3e20 5b5b 2731 3233 275d 2c20  er -> [['123'], 
+00026380: 5b27 332e 3134 3136 275d 2c20 5b27 3738  ['3.1416'], ['78
+00026390: 3927 5d5d 0a20 2020 2022 2222 0a0a 2020  9']].    """..  
+000263a0: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
+000263b0: 656c 662c 2065 7870 7273 3a20 7479 7069  elf, exprs: typi
+000263c0: 6e67 2e49 7465 7261 626c 655b 5061 7273  ng.Iterable[Pars
+000263d0: 6572 456c 656d 656e 745d 2c20 7361 7665  erElement], save
+000263e0: 6c69 7374 3a20 626f 6f6c 203d 2046 616c  list: bool = Fal
+000263f0: 7365 293a 0a20 2020 2020 2020 2073 7570  se):.        sup
+00026400: 6572 2829 2e5f 5f69 6e69 745f 5f28 6578  er().__init__(ex
+00026410: 7072 732c 2073 6176 656c 6973 7429 0a20  prs, savelist). 
+00026420: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
+00026430: 7870 7273 3a0a 2020 2020 2020 2020 2020  xprs:.          
+00026440: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
+00026450: 456d 7074 7920 3d20 616e 7928 652e 6d61  Empty = any(e.ma
+00026460: 7952 6574 7572 6e45 6d70 7479 2066 6f72  yReturnEmpty for
+00026470: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
+00026480: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+00026490: 6c66 2e73 6b69 7057 6869 7465 7370 6163  lf.skipWhitespac
+000264a0: 6520 3d20 616c 6c28 652e 736b 6970 5768  e = all(e.skipWh
+000264b0: 6974 6573 7061 6365 2066 6f72 2065 2069  itespace for e i
+000264c0: 6e20 7365 6c66 2e65 7870 7273 290a 2020  n self.exprs).  
+000264d0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+000264e0: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
+000264f0: 5265 7475 726e 456d 7074 7920 3d20 5472  ReturnEmpty = Tr
+00026500: 7565 0a0a 2020 2020 6465 6620 7374 7265  ue..    def stre
+00026510: 616d 6c69 6e65 2873 656c 6629 202d 3e20  amline(self) -> 
+00026520: 5061 7273 6572 456c 656d 656e 743a 0a20  ParserElement:. 
+00026530: 2020 2020 2020 2069 6620 7365 6c66 2e73         if self.s
+00026540: 7472 6561 6d6c 696e 6564 3a0a 2020 2020  treamlined:.    
+00026550: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00026560: 656c 660a 0a20 2020 2020 2020 2073 7570  elf..        sup
+00026570: 6572 2829 2e73 7472 6561 6d6c 696e 6528  er().streamline(
+00026580: 290a 2020 2020 2020 2020 6966 2073 656c  ).        if sel
+00026590: 662e 6578 7072 733a 0a20 2020 2020 2020  f.exprs:.       
+000265a0: 2020 2020 2073 656c 662e 7361 7665 4173       self.saveAs
+000265b0: 4c69 7374 203d 2061 6e79 2865 2e73 6176  List = any(e.sav
+000265c0: 6541 734c 6973 7420 666f 7220 6520 696e  eAsList for e in
+000265d0: 2073 656c 662e 6578 7072 7329 0a20 2020   self.exprs).   
+000265e0: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+000265f0: 7952 6574 7572 6e45 6d70 7479 203d 2061  yReturnEmpty = a
+00026600: 6e79 2865 2e6d 6179 5265 7475 726e 456d  ny(e.mayReturnEm
+00026610: 7074 7920 666f 7220 6520 696e 2073 656c  pty for e in sel
+00026620: 662e 6578 7072 7329 0a20 2020 2020 2020  f.exprs).       
+00026630: 2020 2020 2073 656c 662e 736b 6970 5768       self.skipWh
+00026640: 6974 6573 7061 6365 203d 2061 6c6c 280a  itespace = all(.
+00026650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026660: 652e 736b 6970 5768 6974 6573 7061 6365  e.skipWhitespace
+00026670: 2061 6e64 206e 6f74 2069 7369 6e73 7461   and not isinsta
+00026680: 6e63 6528 652c 2057 6869 7465 2920 666f  nce(e, White) fo
+00026690: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
+000266a0: 730a 2020 2020 2020 2020 2020 2020 290a  s.            ).
+000266b0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000266c0: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
+000266d0: 6176 6541 734c 6973 7420 3d20 4661 6c73  aveAsList = Fals
+000266e0: 650a 2020 2020 2020 2020 2020 2020 7365  e.            se
+000266f0: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
+00026700: 7920 3d20 5472 7565 0a20 2020 2020 2020  y = True.       
+00026710: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+00026720: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+00026730: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+00026740: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+00026750: 7275 6529 3a0a 2020 2020 2020 2020 6d61  rue):.        ma
+00026760: 7845 7863 4c6f 6320 3d20 2d31 0a20 2020  xExcLoc = -1.   
+00026770: 2020 2020 206d 6178 4578 6365 7074 696f       maxExceptio
+00026780: 6e20 3d20 4e6f 6e65 0a0a 2020 2020 2020  n = None..      
+00026790: 2020 666f 7220 6520 696e 2073 656c 662e    for e in self.
+000267a0: 6578 7072 733a 0a20 2020 2020 2020 2020  exprs:.         
+000267b0: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+000267c0: 2020 2020 2020 2020 7265 7475 726e 2065          return e
+000267d0: 2e5f 7061 7273 6528 0a20 2020 2020 2020  ._parse(.       
+000267e0: 2020 2020 2020 2020 2020 2020 2069 6e73               ins
+000267f0: 7472 696e 672c 0a20 2020 2020 2020 2020  tring,.         
+00026800: 2020 2020 2020 2020 2020 206c 6f63 2c0a             loc,.
+00026810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026820: 2020 2020 646f 4163 7469 6f6e 732c 0a20      doActions,. 
+00026830: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00026840: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+00026850: 6570 7420 5061 7273 6546 6174 616c 4578  ept ParseFatalEx
+00026860: 6365 7074 696f 6e20 6173 2070 6665 3a0a  ception as pfe:.
+00026870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026880: 7066 652e 5f5f 7472 6163 6562 6163 6b5f  pfe.__traceback_
+00026890: 5f20 3d20 4e6f 6e65 0a20 2020 2020 2020  _ = None.       
+000268a0: 2020 2020 2020 2020 2070 6665 2e70 6172           pfe.par
+000268b0: 7365 725f 656c 656d 656e 7420 3d20 650a  ser_element = e.
+000268c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000268d0: 7261 6973 650a 2020 2020 2020 2020 2020  raise.          
+000268e0: 2020 6578 6365 7074 2050 6172 7365 4578    except ParseEx
+000268f0: 6365 7074 696f 6e20 6173 2065 7272 3a0a  ception as err:.
+00026900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026910: 6966 2065 7272 2e6c 6f63 203e 206d 6178  if err.loc > max
+00026920: 4578 634c 6f63 3a0a 2020 2020 2020 2020  ExcLoc:.        
+00026930: 2020 2020 2020 2020 2020 2020 6d61 7845              maxE
+00026940: 7863 6570 7469 6f6e 203d 2065 7272 0a20  xception = err. 
+00026950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026960: 2020 206d 6178 4578 634c 6f63 203d 2065     maxExcLoc = e
+00026970: 7272 2e6c 6f63 0a20 2020 2020 2020 2020  rr.loc.         
+00026980: 2020 2065 7863 6570 7420 496e 6465 7845     except IndexE
+00026990: 7272 6f72 3a0a 2020 2020 2020 2020 2020  rror:.          
+000269a0: 2020 2020 2020 6966 206c 656e 2869 6e73        if len(ins
+000269b0: 7472 696e 6729 203e 206d 6178 4578 634c  tring) > maxExcL
+000269c0: 6f63 3a0a 2020 2020 2020 2020 2020 2020  oc:.            
+000269d0: 2020 2020 2020 2020 6d61 7845 7863 6570          maxExcep
+000269e0: 7469 6f6e 203d 2050 6172 7365 4578 6365  tion = ParseExce
+000269f0: 7074 696f 6e28 0a20 2020 2020 2020 2020  ption(.         
+00026a00: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00026a10: 6e73 7472 696e 672c 206c 656e 2869 6e73  nstring, len(ins
+00026a20: 7472 696e 6729 2c20 652e 6572 726d 7367  tring), e.errmsg
+00026a30: 2c20 7365 6c66 0a20 2020 2020 2020 2020  , self.         
+00026a40: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00026a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026a60: 206d 6178 4578 634c 6f63 203d 206c 656e   maxExcLoc = len
+00026a70: 2869 6e73 7472 696e 6729 0a0a 2020 2020  (instring)..    
+00026a80: 2020 2020 6966 206d 6178 4578 6365 7074      if maxExcept
+00026a90: 696f 6e20 6973 206e 6f74 204e 6f6e 653a  ion is not None:
+00026aa0: 0a20 2020 2020 2020 2020 2020 2023 2069  .            # i
+00026ab0: 6e66 6572 2066 726f 6d20 7468 6973 2063  nfer from this c
+00026ac0: 6865 636b 2074 6861 7420 616c 6c20 616c  heck that all al
+00026ad0: 7465 726e 6174 6976 6573 2066 6169 6c65  ternatives faile
+00026ae0: 6420 6174 2074 6865 2063 7572 7265 6e74  d at the current
+00026af0: 2070 6f73 6974 696f 6e0a 2020 2020 2020   position.      
+00026b00: 2020 2020 2020 2320 736f 2065 6d69 7420        # so emit 
+00026b10: 7468 6973 2063 6f6c 6c65 6374 6976 6520  this collective 
+00026b20: 6572 726f 7220 6d65 7373 6167 6520 696e  error message in
+00026b30: 7374 6561 6420 6f66 2061 6e79 2069 6e64  stead of any ind
+00026b40: 6976 6964 7561 6c20 6572 726f 7220 6d65  ividual error me
+00026b50: 7373 6167 650a 2020 2020 2020 2020 2020  ssage.          
+00026b60: 2020 6966 206d 6178 4578 634c 6f63 203d    if maxExcLoc =
+00026b70: 3d20 6c6f 633a 0a20 2020 2020 2020 2020  = loc:.         
+00026b80: 2020 2020 2020 206d 6178 4578 6365 7074         maxExcept
+00026b90: 696f 6e2e 6d73 6720 3d20 7365 6c66 2e65  ion.msg = self.e
+00026ba0: 7272 6d73 670a 2020 2020 2020 2020 2020  rrmsg.          
+00026bb0: 2020 7261 6973 6520 6d61 7845 7863 6570    raise maxExcep
+00026bc0: 7469 6f6e 0a20 2020 2020 2020 2065 6c73  tion.        els
+00026bd0: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00026be0: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
+00026bf0: 696f 6e28 0a20 2020 2020 2020 2020 2020  ion(.           
+00026c00: 2020 2020 2069 6e73 7472 696e 672c 206c       instring, l
+00026c10: 6f63 2c20 226e 6f20 6465 6669 6e65 6420  oc, "no defined 
+00026c20: 616c 7465 726e 6174 6976 6573 2074 6f20  alternatives to 
+00026c30: 6d61 7463 6822 2c20 7365 6c66 0a20 2020  match", self.   
+00026c40: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+00026c50: 6465 6620 5f5f 696f 725f 5f28 7365 6c66  def __ior__(self
+00026c60: 2c20 6f74 6865 7229 3a0a 2020 2020 2020  , other):.      
+00026c70: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+00026c80: 6f74 6865 722c 2073 7472 5f74 7970 6529  other, str_type)
+00026c90: 3a0a 2020 2020 2020 2020 2020 2020 6f74  :.            ot
+00026ca0: 6865 7220 3d20 7365 6c66 2e5f 6c69 7465  her = self._lite
+00026cb0: 7261 6c53 7472 696e 6743 6c61 7373 286f  ralStringClass(o
+00026cc0: 7468 6572 290a 2020 2020 2020 2020 6966  ther).        if
+00026cd0: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
+00026ce0: 6f74 6865 722c 2050 6172 7365 7245 6c65  other, ParserEle
+00026cf0: 6d65 6e74 293a 0a20 2020 2020 2020 2020  ment):.         
+00026d00: 2020 2072 6574 7572 6e20 4e6f 7449 6d70     return NotImp
+00026d10: 6c65 6d65 6e74 6564 0a20 2020 2020 2020  lemented.       
+00026d20: 2072 6574 7572 6e20 7365 6c66 2e61 7070   return self.app
+00026d30: 656e 6428 6f74 6865 7229 2020 2320 4d61  end(other)  # Ma
+00026d40: 7463 6846 6972 7374 285b 7365 6c66 2c20  tchFirst([self, 
+00026d50: 6f74 6865 725d 290a 0a20 2020 2064 6566  other])..    def
+00026d60: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
+00026d70: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
+00026d80: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
+00026d90: 726e 2022 7b22 202b 2022 207c 2022 2e6a  rn "{" + " | ".j
+00026da0: 6f69 6e28 7374 7228 6529 2066 6f72 2065  oin(str(e) for e
+00026db0: 2069 6e20 7365 6c66 2e65 7870 7273 2920   in self.exprs) 
+00026dc0: 2b20 227d 220a 0a20 2020 2064 6566 205f  + "}"..    def _
+00026dd0: 7365 7452 6573 756c 7473 4e61 6d65 2873  setResultsName(s
+00026de0: 656c 662c 206e 616d 652c 206c 6973 7441  elf, name, listA
+00026df0: 6c6c 4d61 7463 6865 733d 4661 6c73 6529  llMatches=False)
+00026e00: 3a0a 2020 2020 2020 2020 6966 2028 0a20  :.        if (. 
+00026e10: 2020 2020 2020 2020 2020 205f 5f64 6961             __dia
+00026e20: 675f 5f2e 7761 726e 5f6d 756c 7469 706c  g__.warn_multipl
+00026e30: 655f 746f 6b65 6e73 5f69 6e5f 6e61 6d65  e_tokens_in_name
+00026e40: 645f 616c 7465 726e 6174 696f 6e0a 2020  d_alternation.  
+00026e50: 2020 2020 2020 2020 2020 616e 6420 4469            and Di
+00026e60: 6167 6e6f 7374 6963 732e 7761 726e 5f6d  agnostics.warn_m
+00026e70: 756c 7469 706c 655f 746f 6b65 6e73 5f69  ultiple_tokens_i
+00026e80: 6e5f 6e61 6d65 645f 616c 7465 726e 6174  n_named_alternat
+00026e90: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
+00026ea0: 6e6f 7420 696e 2073 656c 662e 7375 7070  not in self.supp
+00026eb0: 7265 7373 5f77 6172 6e69 6e67 735f 0a20  ress_warnings_. 
+00026ec0: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
+00026ed0: 2020 2020 2020 6966 2061 6e79 280a 2020        if any(.  
+00026ee0: 2020 2020 2020 2020 2020 2020 2020 6973                is
+00026ef0: 696e 7374 616e 6365 2865 2c20 416e 6429  instance(e, And)
+00026f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00026f10: 2061 6e64 2044 6961 676e 6f73 7469 6373   and Diagnostics
+00026f20: 2e77 6172 6e5f 6d75 6c74 6970 6c65 5f74  .warn_multiple_t
+00026f30: 6f6b 656e 735f 696e 5f6e 616d 6564 5f61  okens_in_named_a
+00026f40: 6c74 6572 6e61 7469 6f6e 0a20 2020 2020  lternation.     
+00026f50: 2020 2020 2020 2020 2020 206e 6f74 2069             not i
+00026f60: 6e20 652e 7375 7070 7265 7373 5f77 6172  n e.suppress_war
+00026f70: 6e69 6e67 735f 0a20 2020 2020 2020 2020  nings_.         
+00026f80: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
+00026f90: 7365 6c66 2e65 7870 7273 0a20 2020 2020  self.exprs.     
+00026fa0: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
+00026fb0: 2020 2020 2020 2020 2020 7761 726e 696e            warnin
+00026fc0: 6773 2e77 6172 6e28 0a20 2020 2020 2020  gs.warn(.       
+00026fd0: 2020 2020 2020 2020 2020 2020 2022 7b7d               "{}
+00026fe0: 3a20 7365 7474 696e 6720 7265 7375 6c74  : setting result
+00026ff0: 7320 6e61 6d65 207b 2172 7d20 6f6e 207b  s name {!r} on {
+00027000: 7d20 6578 7072 6573 7369 6f6e 2022 0a20  } expression ". 
+00027010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027020: 2020 2022 7769 6c6c 2072 6574 7572 6e20     "will return 
+00027030: 6120 6c69 7374 206f 6620 616c 6c20 7061  a list of all pa
+00027040: 7273 6564 2074 6f6b 656e 7320 696e 2061  rsed tokens in a
+00027050: 6e20 416e 6420 616c 7465 726e 6174 6976  n And alternativ
+00027060: 652c 2022 0a20 2020 2020 2020 2020 2020  e, ".           
+00027070: 2020 2020 2020 2020 2022 696e 2070 7269           "in pri
+00027080: 6f72 2076 6572 7369 6f6e 7320 6f6e 6c79  or versions only
+00027090: 2074 6865 2066 6972 7374 2074 6f6b 656e   the first token
+000270a0: 2077 6173 2072 6574 7572 6e65 643b 2065   was returned; e
+000270b0: 6e63 6c6f 7365 2022 0a20 2020 2020 2020  nclose ".       
+000270c0: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+000270d0: 6e74 6169 6e65 6420 6172 6775 6d65 6e74  ntained argument
+000270e0: 2069 6e20 4772 6f75 7022 2e66 6f72 6d61   in Group".forma
+000270f0: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
+00027100: 2020 2020 2020 2020 2020 2022 7761 726e             "warn
+00027110: 5f6d 756c 7469 706c 655f 746f 6b65 6e73  _multiple_tokens
+00027120: 5f69 6e5f 6e61 6d65 645f 616c 7465 726e  _in_named_altern
+00027130: 6174 696f 6e22 2c0a 2020 2020 2020 2020  ation",.        
+00027140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027150: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
+00027160: 2020 2020 2020 2020 2020 2020 2020 7479                ty
+00027170: 7065 2873 656c 6629 2e5f 5f6e 616d 655f  pe(self).__name_
+00027180: 5f2c 0a20 2020 2020 2020 2020 2020 2020  _,.             
+00027190: 2020 2020 2020 2029 2c0a 2020 2020 2020         ),.      
+000271a0: 2020 2020 2020 2020 2020 2020 2020 7374                st
+000271b0: 6163 6b6c 6576 656c 3d33 2c0a 2020 2020  acklevel=3,.    
+000271c0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
+000271d0: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
+000271e0: 7065 7228 292e 5f73 6574 5265 7375 6c74  per()._setResult
+000271f0: 734e 616d 6528 6e61 6d65 2c20 6c69 7374  sName(name, list
+00027200: 416c 6c4d 6174 6368 6573 290a 0a0a 636c  AllMatches)...cl
+00027210: 6173 7320 4561 6368 2850 6172 7365 4578  ass Each(ParseEx
+00027220: 7072 6573 7369 6f6e 293a 0a20 2020 2022  pression):.    "
+00027230: 2222 5265 7175 6972 6573 2061 6c6c 2067  ""Requires all g
+00027240: 6976 656e 203a 636c 6173 733a 6050 6172  iven :class:`Par
+00027250: 7365 4578 7072 6573 7369 6f6e 6020 7320  seExpression` s 
+00027260: 746f 2062 6520 666f 756e 642c 2062 7574  to be found, but
+00027270: 2069 6e0a 2020 2020 616e 7920 6f72 6465   in.    any orde
+00027280: 722e 2045 7870 7265 7373 696f 6e73 206d  r. Expressions m
+00027290: 6179 2062 6520 7365 7061 7261 7465 6420  ay be separated 
+000272a0: 6279 2077 6869 7465 7370 6163 652e 0a0a  by whitespace...
+000272b0: 2020 2020 4d61 7920 6265 2063 6f6e 7374      May be const
+000272c0: 7275 6374 6564 2075 7369 6e67 2074 6865  ructed using the
+000272d0: 2060 6027 2627 6060 206f 7065 7261 746f   ``'&'`` operato
+000272e0: 722e 0a0a 2020 2020 4578 616d 706c 653a  r...    Example:
+000272f0: 3a0a 0a20 2020 2020 2020 2063 6f6c 6f72  :..        color
+00027300: 203d 206f 6e65 5f6f 6628 2252 4544 204f   = one_of("RED O
+00027310: 5241 4e47 4520 5945 4c4c 4f57 2047 5245  RANGE YELLOW GRE
+00027320: 454e 2042 4c55 4520 5055 5250 4c45 2042  EN BLUE PURPLE B
+00027330: 4c41 434b 2057 4849 5445 2042 524f 574e  LACK WHITE BROWN
+00027340: 2229 0a20 2020 2020 2020 2073 6861 7065  ").        shape
+00027350: 5f74 7970 6520 3d20 6f6e 655f 6f66 2822  _type = one_of("
+00027360: 5351 5541 5245 2043 4952 434c 4520 5452  SQUARE CIRCLE TR
+00027370: 4941 4e47 4c45 2053 5441 5220 4845 5841  IANGLE STAR HEXA
+00027380: 474f 4e20 4f43 5441 474f 4e22 290a 2020  GON OCTAGON").  
+00027390: 2020 2020 2020 696e 7465 6765 7220 3d20        integer = 
+000273a0: 576f 7264 286e 756d 7329 0a20 2020 2020  Word(nums).     
+000273b0: 2020 2073 6861 7065 5f61 7474 7220 3d20     shape_attr = 
+000273c0: 2273 6861 7065 3a22 202b 2073 6861 7065  "shape:" + shape
+000273d0: 5f74 7970 6528 2273 6861 7065 2229 0a20  _type("shape"). 
+000273e0: 2020 2020 2020 2070 6f73 6e5f 6174 7472         posn_attr
+000273f0: 203d 2022 706f 736e 3a22 202b 2047 726f   = "posn:" + Gro
+00027400: 7570 2869 6e74 6567 6572 2822 7822 2920  up(integer("x") 
+00027410: 2b20 272c 2720 2b20 696e 7465 6765 7228  + ',' + integer(
+00027420: 2279 2229 2928 2270 6f73 6e22 290a 2020  "y"))("posn").  
+00027430: 2020 2020 2020 636f 6c6f 725f 6174 7472        color_attr
+00027440: 203d 2022 636f 6c6f 723a 2220 2b20 636f   = "color:" + co
+00027450: 6c6f 7228 2263 6f6c 6f72 2229 0a20 2020  lor("color").   
+00027460: 2020 2020 2073 697a 655f 6174 7472 203d       size_attr =
+00027470: 2022 7369 7a65 3a22 202b 2069 6e74 6567   "size:" + integ
+00027480: 6572 2822 7369 7a65 2229 0a0a 2020 2020  er("size")..    
+00027490: 2020 2020 2320 7573 6520 4561 6368 2028      # use Each (
+000274a0: 7573 696e 6720 6f70 6572 6174 6f72 2027  using operator '
+000274b0: 2627 2920 746f 2061 6363 6570 7420 6174  &') to accept at
+000274c0: 7472 6962 7574 6573 2069 6e20 616e 7920  tributes in any 
+000274d0: 6f72 6465 720a 2020 2020 2020 2020 2320  order.        # 
+000274e0: 2873 6861 7065 2061 6e64 2070 6f73 6e20  (shape and posn 
+000274f0: 6172 6520 7265 7175 6972 6564 2c20 636f  are required, co
+00027500: 6c6f 7220 616e 6420 7369 7a65 2061 7265  lor and size are
+00027510: 206f 7074 696f 6e61 6c29 0a20 2020 2020   optional).     
+00027520: 2020 2073 6861 7065 5f73 7065 6320 3d20     shape_spec = 
+00027530: 7368 6170 655f 6174 7472 2026 2070 6f73  shape_attr & pos
+00027540: 6e5f 6174 7472 2026 204f 7074 2863 6f6c  n_attr & Opt(col
+00027550: 6f72 5f61 7474 7229 2026 204f 7074 2873  or_attr) & Opt(s
+00027560: 697a 655f 6174 7472 290a 0a20 2020 2020  ize_attr)..     
+00027570: 2020 2073 6861 7065 5f73 7065 632e 7275     shape_spec.ru
+00027580: 6e5f 7465 7374 7328 2727 270a 2020 2020  n_tests('''.    
+00027590: 2020 2020 2020 2020 7368 6170 653a 2053          shape: S
+000275a0: 5155 4152 4520 636f 6c6f 723a 2042 4c41  QUARE color: BLA
+000275b0: 434b 2070 6f73 6e3a 2031 3030 2c20 3132  CK posn: 100, 12
+000275c0: 300a 2020 2020 2020 2020 2020 2020 7368  0.            sh
+000275d0: 6170 653a 2043 4952 434c 4520 7369 7a65  ape: CIRCLE size
+000275e0: 3a20 3530 2063 6f6c 6f72 3a20 424c 5545  : 50 color: BLUE
+000275f0: 2070 6f73 6e3a 2035 302c 3830 0a20 2020   posn: 50,80.   
+00027600: 2020 2020 2020 2020 2063 6f6c 6f72 3a47           color:G
+00027610: 5245 454e 2073 697a 653a 3230 2073 6861  REEN size:20 sha
+00027620: 7065 3a54 5249 414e 474c 4520 706f 736e  pe:TRIANGLE posn
+00027630: 3a32 302c 3430 0a20 2020 2020 2020 2020  :20,40.         
+00027640: 2020 2027 2727 0a20 2020 2020 2020 2020     '''.         
+00027650: 2020 2029 0a0a 2020 2020 7072 696e 7473     )..    prints
+00027660: 3a3a 0a0a 2020 2020 2020 2020 7368 6170  ::..        shap
+00027670: 653a 2053 5155 4152 4520 636f 6c6f 723a  e: SQUARE color:
+00027680: 2042 4c41 434b 2070 6f73 6e3a 2031 3030   BLACK posn: 100
+00027690: 2c20 3132 300a 2020 2020 2020 2020 5b27  , 120.        ['
+000276a0: 7368 6170 653a 272c 2027 5351 5541 5245  shape:', 'SQUARE
+000276b0: 272c 2027 636f 6c6f 723a 272c 2027 424c  ', 'color:', 'BL
+000276c0: 4143 4b27 2c20 2770 6f73 6e3a 272c 205b  ACK', 'posn:', [
+000276d0: 2731 3030 272c 2027 2c27 2c20 2731 3230  '100', ',', '120
+000276e0: 275d 5d0a 2020 2020 2020 2020 2d20 636f  ']].        - co
+000276f0: 6c6f 723a 2042 4c41 434b 0a20 2020 2020  lor: BLACK.     
+00027700: 2020 202d 2070 6f73 6e3a 205b 2731 3030     - posn: ['100
+00027710: 272c 2027 2c27 2c20 2731 3230 275d 0a20  ', ',', '120']. 
+00027720: 2020 2020 2020 2020 202d 2078 3a20 3130           - x: 10
+00027730: 300a 2020 2020 2020 2020 2020 2d20 793a  0.          - y:
+00027740: 2031 3230 0a20 2020 2020 2020 202d 2073   120.        - s
+00027750: 6861 7065 3a20 5351 5541 5245 0a0a 0a20  hape: SQUARE... 
+00027760: 2020 2020 2020 2073 6861 7065 3a20 4349         shape: CI
+00027770: 5243 4c45 2073 697a 653a 2035 3020 636f  RCLE size: 50 co
+00027780: 6c6f 723a 2042 4c55 4520 706f 736e 3a20  lor: BLUE posn: 
+00027790: 3530 2c38 300a 2020 2020 2020 2020 5b27  50,80.        ['
+000277a0: 7368 6170 653a 272c 2027 4349 5243 4c45  shape:', 'CIRCLE
+000277b0: 272c 2027 7369 7a65 3a27 2c20 2735 3027  ', 'size:', '50'
+000277c0: 2c20 2763 6f6c 6f72 3a27 2c20 2742 4c55  , 'color:', 'BLU
+000277d0: 4527 2c20 2770 6f73 6e3a 272c 205b 2735  E', 'posn:', ['5
+000277e0: 3027 2c20 272c 272c 2027 3830 275d 5d0a  0', ',', '80']].
+000277f0: 2020 2020 2020 2020 2d20 636f 6c6f 723a          - color:
+00027800: 2042 4c55 450a 2020 2020 2020 2020 2d20   BLUE.        - 
+00027810: 706f 736e 3a20 5b27 3530 272c 2027 2c27  posn: ['50', ','
+00027820: 2c20 2738 3027 5d0a 2020 2020 2020 2020  , '80'].        
+00027830: 2020 2d20 783a 2035 300a 2020 2020 2020    - x: 50.      
+00027840: 2020 2020 2d20 793a 2038 300a 2020 2020      - y: 80.    
+00027850: 2020 2020 2d20 7368 6170 653a 2043 4952      - shape: CIR
+00027860: 434c 450a 2020 2020 2020 2020 2d20 7369  CLE.        - si
+00027870: 7a65 3a20 3530 0a0a 0a20 2020 2020 2020  ze: 50...       
+00027880: 2063 6f6c 6f72 3a20 4752 4545 4e20 7369   color: GREEN si
+00027890: 7a65 3a20 3230 2073 6861 7065 3a20 5452  ze: 20 shape: TR
+000278a0: 4941 4e47 4c45 2070 6f73 6e3a 2032 302c  IANGLE posn: 20,
+000278b0: 3430 0a20 2020 2020 2020 205b 2763 6f6c  40.        ['col
+000278c0: 6f72 3a27 2c20 2747 5245 454e 272c 2027  or:', 'GREEN', '
+000278d0: 7369 7a65 3a27 2c20 2732 3027 2c20 2773  size:', '20', 's
+000278e0: 6861 7065 3a27 2c20 2754 5249 414e 474c  hape:', 'TRIANGL
+000278f0: 4527 2c20 2770 6f73 6e3a 272c 205b 2732  E', 'posn:', ['2
+00027900: 3027 2c20 272c 272c 2027 3430 275d 5d0a  0', ',', '40']].
+00027910: 2020 2020 2020 2020 2d20 636f 6c6f 723a          - color:
+00027920: 2047 5245 454e 0a20 2020 2020 2020 202d   GREEN.        -
+00027930: 2070 6f73 6e3a 205b 2732 3027 2c20 272c   posn: ['20', ',
+00027940: 272c 2027 3430 275d 0a20 2020 2020 2020  ', '40'].       
+00027950: 2020 202d 2078 3a20 3230 0a20 2020 2020     - x: 20.     
+00027960: 2020 2020 202d 2079 3a20 3430 0a20 2020       - y: 40.   
+00027970: 2020 2020 202d 2073 6861 7065 3a20 5452       - shape: TR
+00027980: 4941 4e47 4c45 0a20 2020 2020 2020 202d  IANGLE.        -
+00027990: 2073 697a 653a 2032 300a 2020 2020 2222   size: 20.    ""
+000279a0: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+000279b0: 745f 5f28 7365 6c66 2c20 6578 7072 733a  t__(self, exprs:
+000279c0: 2074 7970 696e 672e 4974 6572 6162 6c65   typing.Iterable
+000279d0: 5b50 6172 7365 7245 6c65 6d65 6e74 5d2c  [ParserElement],
+000279e0: 2073 6176 656c 6973 743a 2062 6f6f 6c20   savelist: bool 
+000279f0: 3d20 5472 7565 293a 0a20 2020 2020 2020  = True):.       
+00027a00: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
+00027a10: 5f28 6578 7072 732c 2073 6176 656c 6973  _(exprs, savelis
+00027a20: 7429 0a20 2020 2020 2020 2069 6620 7365  t).        if se
+00027a30: 6c66 2e65 7870 7273 3a0a 2020 2020 2020  lf.exprs:.      
+00027a40: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
+00027a50: 7475 726e 456d 7074 7920 3d20 616c 6c28  turnEmpty = all(
+00027a60: 652e 6d61 7952 6574 7572 6e45 6d70 7479  e.mayReturnEmpty
+00027a70: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
+00027a80: 7870 7273 290a 2020 2020 2020 2020 656c  xprs).        el
+00027a90: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00027aa0: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
+00027ab0: 7074 7920 3d20 5472 7565 0a20 2020 2020  pty = True.     
+00027ac0: 2020 2073 656c 662e 736b 6970 5768 6974     self.skipWhit
+00027ad0: 6573 7061 6365 203d 2054 7275 650a 2020  espace = True.  
+00027ae0: 2020 2020 2020 7365 6c66 2e69 6e69 7445        self.initE
+00027af0: 7870 7247 726f 7570 7320 3d20 5472 7565  xprGroups = True
+00027b00: 0a20 2020 2020 2020 2073 656c 662e 7361  .        self.sa
+00027b10: 7665 4173 4c69 7374 203d 2054 7275 650a  veAsList = True.
+00027b20: 0a20 2020 2064 6566 205f 5f69 616e 645f  .    def __iand_
+00027b30: 5f28 7365 6c66 2c20 6f74 6865 7229 3a0a  _(self, other):.
+00027b40: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00027b50: 7461 6e63 6528 6f74 6865 722c 2073 7472  tance(other, str
+00027b60: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
+00027b70: 2020 2020 6f74 6865 7220 3d20 7365 6c66      other = self
+00027b80: 2e5f 6c69 7465 7261 6c53 7472 696e 6743  ._literalStringC
+00027b90: 6c61 7373 286f 7468 6572 290a 2020 2020  lass(other).    
+00027ba0: 2020 2020 6966 206e 6f74 2069 7369 6e73      if not isins
+00027bb0: 7461 6e63 6528 6f74 6865 722c 2050 6172  tance(other, Par
+00027bc0: 7365 7245 6c65 6d65 6e74 293a 0a20 2020  serElement):.   
+00027bd0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00027be0: 4e6f 7449 6d70 6c65 6d65 6e74 6564 0a20  NotImplemented. 
+00027bf0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00027c00: 6c66 2e61 7070 656e 6428 6f74 6865 7229  lf.append(other)
+00027c10: 2020 2320 4561 6368 285b 7365 6c66 2c20    # Each([self, 
+00027c20: 6f74 6865 725d 290a 0a20 2020 2064 6566  other])..    def
+00027c30: 2073 7472 6561 6d6c 696e 6528 7365 6c66   streamline(self
+00027c40: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
+00027c50: 6e74 3a0a 2020 2020 2020 2020 7375 7065  nt:.        supe
+00027c60: 7228 292e 7374 7265 616d 6c69 6e65 2829  r().streamline()
+00027c70: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+00027c80: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
+00027c90: 2020 2020 7365 6c66 2e6d 6179 5265 7475      self.mayRetu
+00027ca0: 726e 456d 7074 7920 3d20 616c 6c28 652e  rnEmpty = all(e.
+00027cb0: 6d61 7952 6574 7572 6e45 6d70 7479 2066  mayReturnEmpty f
+00027cc0: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
+00027cd0: 7273 290a 2020 2020 2020 2020 656c 7365  rs).        else
+00027ce0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00027cf0: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
+00027d00: 7920 3d20 5472 7565 0a20 2020 2020 2020  y = True.       
+00027d10: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+00027d20: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+00027d30: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+00027d40: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+00027d50: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
+00027d60: 2073 656c 662e 696e 6974 4578 7072 4772   self.initExprGr
+00027d70: 6f75 7073 3a0a 2020 2020 2020 2020 2020  oups:.          
+00027d80: 2020 7365 6c66 2e6f 7074 316d 6170 203d    self.opt1map =
+00027d90: 2064 6963 7428 0a20 2020 2020 2020 2020   dict(.         
+00027da0: 2020 2020 2020 2028 6964 2865 2e65 7870         (id(e.exp
+00027db0: 7229 2c20 6529 2066 6f72 2065 2069 6e20  r), e) for e in 
+00027dc0: 7365 6c66 2e65 7870 7273 2069 6620 6973  self.exprs if is
+00027dd0: 696e 7374 616e 6365 2865 2c20 4f70 7429  instance(e, Opt)
+00027de0: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
+00027df0: 2020 2020 2020 2020 2020 206f 7074 3120             opt1 
+00027e00: 3d20 5b65 2e65 7870 7220 666f 7220 6520  = [e.expr for e 
+00027e10: 696e 2073 656c 662e 6578 7072 7320 6966  in self.exprs if
+00027e20: 2069 7369 6e73 7461 6e63 6528 652c 204f   isinstance(e, O
+00027e30: 7074 295d 0a20 2020 2020 2020 2020 2020  pt)].           
+00027e40: 206f 7074 3220 3d20 5b0a 2020 2020 2020   opt2 = [.      
+00027e50: 2020 2020 2020 2020 2020 650a 2020 2020            e.    
+00027e60: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00027e70: 6520 696e 2073 656c 662e 6578 7072 730a  e in self.exprs.
+00027e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027e90: 6966 2065 2e6d 6179 5265 7475 726e 456d  if e.mayReturnEm
+00027ea0: 7074 7920 616e 6420 6e6f 7420 6973 696e  pty and not isin
+00027eb0: 7374 616e 6365 2865 2c20 284f 7074 2c20  stance(e, (Opt, 
+00027ec0: 5265 6765 782c 205a 6572 6f4f 724d 6f72  Regex, ZeroOrMor
+00027ed0: 6529 290a 2020 2020 2020 2020 2020 2020  e)).            
+00027ee0: 5d0a 2020 2020 2020 2020 2020 2020 7365  ].            se
+00027ef0: 6c66 2e6f 7074 696f 6e61 6c73 203d 206f  lf.optionals = o
+00027f00: 7074 3120 2b20 6f70 7432 0a20 2020 2020  pt1 + opt2.     
+00027f10: 2020 2020 2020 2073 656c 662e 6d75 6c74         self.mult
+00027f20: 696f 7074 696f 6e61 6c73 203d 205b 0a20  ioptionals = [. 
+00027f30: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00027f40: 2e65 7870 722e 7365 745f 7265 7375 6c74  .expr.set_result
+00027f50: 735f 6e61 6d65 2865 2e72 6573 756c 7473  s_name(e.results
+00027f60: 4e61 6d65 2c20 6c69 7374 5f61 6c6c 5f6d  Name, list_all_m
+00027f70: 6174 6368 6573 3d54 7275 6529 0a20 2020  atches=True).   
+00027f80: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+00027f90: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
 00027fa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00027fb0: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
-00027fc0: 2020 2020 2020 2020 2020 746d 704c 6f63            tmpLoc
-00027fd0: 203d 2065 2e74 7279 5f70 6172 7365 2869   = e.try_parse(i
-00027fe0: 6e73 7472 696e 672c 2074 6d70 4c6f 632c  nstring, tmpLoc,
-00027ff0: 2072 6169 7365 5f66 6174 616c 3d54 7275   raise_fatal=Tru
-00028000: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-00028010: 2020 2065 7863 6570 7420 5061 7273 6546     except ParseF
-00028020: 6174 616c 4578 6365 7074 696f 6e20 6173  atalException as
-00028030: 2070 6665 3a0a 2020 2020 2020 2020 2020   pfe:.          
-00028040: 2020 2020 2020 2020 2020 7066 652e 5f5f            pfe.__
-00028050: 7472 6163 6562 6163 6b5f 5f20 3d20 4e6f  traceback__ = No
-00028060: 6e65 0a20 2020 2020 2020 2020 2020 2020  ne.             
-00028070: 2020 2020 2020 2070 6665 2e70 6172 7365         pfe.parse
-00028080: 725f 656c 656d 656e 7420 3d20 650a 2020  r_element = e.  
-00028090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000280a0: 2020 6661 7461 6c73 2e61 7070 656e 6428    fatals.append(
-000280b0: 7066 6529 0a20 2020 2020 2020 2020 2020  pfe).           
-000280c0: 2020 2020 2020 2020 2066 6169 6c65 642e           failed.
-000280d0: 6170 7065 6e64 2865 290a 2020 2020 2020  append(e).      
-000280e0: 2020 2020 2020 2020 2020 6578 6365 7074            except
-000280f0: 2050 6172 7365 4578 6365 7074 696f 6e3a   ParseException:
-00028100: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028110: 2020 2020 2066 6169 6c65 642e 6170 7065       failed.appe
-00028120: 6e64 2865 290a 2020 2020 2020 2020 2020  nd(e).          
-00028130: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00028140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028150: 6d61 7463 684f 7264 6572 2e61 7070 656e  matchOrder.appen
-00028160: 6428 7365 6c66 2e6f 7074 316d 6170 2e67  d(self.opt1map.g
-00028170: 6574 2869 6428 6529 2c20 6529 290a 2020  et(id(e), e)).  
-00028180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028190: 2020 6966 2065 2069 6e20 746d 7052 6571    if e in tmpReq
-000281a0: 643a 0a20 2020 2020 2020 2020 2020 2020  d:.             
-000281b0: 2020 2020 2020 2020 2020 2074 6d70 5265             tmpRe
-000281c0: 7164 2e72 656d 6f76 6528 6529 0a20 2020  qd.remove(e).   
-000281d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000281e0: 2065 6c69 6620 6520 696e 2074 6d70 4f70   elif e in tmpOp
-000281f0: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-00028200: 2020 2020 2020 2020 2020 2074 6d70 4f70             tmpOp
-00028210: 742e 7265 6d6f 7665 2865 290a 2020 2020  t.remove(e).    
-00028220: 2020 2020 2020 2020 6966 206c 656e 2866          if len(f
-00028230: 6169 6c65 6429 203d 3d20 6c65 6e28 746d  ailed) == len(tm
-00028240: 7045 7870 7273 293a 0a20 2020 2020 2020  pExprs):.       
-00028250: 2020 2020 2020 2020 206b 6565 704d 6174           keepMat
-00028260: 6368 696e 6720 3d20 4661 6c73 650a 0a20  ching = False.. 
-00028270: 2020 2020 2020 2023 206c 6f6f 6b20 666f         # look fo
-00028280: 7220 616e 7920 5061 7273 6546 6174 616c  r any ParseFatal
-00028290: 4578 6365 7074 696f 6e73 0a20 2020 2020  Exceptions.     
-000282a0: 2020 2069 6620 6661 7461 6c73 3a0a 2020     if fatals:.  
-000282b0: 2020 2020 2020 2020 2020 6966 206c 656e            if len
-000282c0: 2866 6174 616c 7329 203e 2031 3a0a 2020  (fatals) > 1:.  
-000282d0: 2020 2020 2020 2020 2020 2020 2020 6661                fa
-000282e0: 7461 6c73 2e73 6f72 7428 6b65 793d 6c61  tals.sort(key=la
-000282f0: 6d62 6461 2065 3a20 2d65 2e6c 6f63 290a  mbda e: -e.loc).
-00028300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028310: 6966 2066 6174 616c 735b 305d 2e6c 6f63  if fatals[0].loc
-00028320: 203d 3d20 6661 7461 6c73 5b31 5d2e 6c6f   == fatals[1].lo
-00028330: 633a 0a20 2020 2020 2020 2020 2020 2020  c:.             
-00028340: 2020 2020 2020 2066 6174 616c 732e 736f         fatals.so
-00028350: 7274 286b 6579 3d6c 616d 6264 6120 653a  rt(key=lambda e:
-00028360: 2028 2d65 2e6c 6f63 2c20 2d6c 656e 2873   (-e.loc, -len(s
-00028370: 7472 2865 2e70 6172 7365 725f 656c 656d  tr(e.parser_elem
-00028380: 656e 7429 2929 290a 2020 2020 2020 2020  ent)))).        
-00028390: 2020 2020 6d61 785f 6661 7461 6c20 3d20      max_fatal = 
-000283a0: 6661 7461 6c73 5b30 5d0a 2020 2020 2020  fatals[0].      
-000283b0: 2020 2020 2020 7261 6973 6520 6d61 785f        raise max_
-000283c0: 6661 7461 6c0a 0a20 2020 2020 2020 2069  fatal..        i
-000283d0: 6620 746d 7052 6571 643a 0a20 2020 2020  f tmpReqd:.     
-000283e0: 2020 2020 2020 206d 6973 7369 6e67 203d         missing =
-000283f0: 2022 2c20 222e 6a6f 696e 285b 7374 7228   ", ".join([str(
-00028400: 6529 2066 6f72 2065 2069 6e20 746d 7052  e) for e in tmpR
-00028410: 6571 645d 290a 2020 2020 2020 2020 2020  eqd]).          
-00028420: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
-00028430: 6570 7469 6f6e 280a 2020 2020 2020 2020  eption(.        
-00028440: 2020 2020 2020 2020 696e 7374 7269 6e67          instring
-00028450: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00028460: 2020 6c6f 632c 0a20 2020 2020 2020 2020    loc,.         
-00028470: 2020 2020 2020 2066 224d 6973 7369 6e67         f"Missing
-00028480: 206f 6e65 206f 7220 6d6f 7265 2072 6571   one or more req
-00028490: 7569 7265 6420 656c 656d 656e 7473 2028  uired elements (
-000284a0: 7b6d 6973 7369 6e67 7d29 222c 0a20 2020  {missing})",.   
-000284b0: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
-000284c0: 2020 2020 2320 6164 6420 616e 7920 756e      # add any un
-000284d0: 6d61 7463 6865 6420 4f70 7473 2c20 696e  matched Opts, in
-000284e0: 2063 6173 6520 7468 6579 2068 6176 6520   case they have 
-000284f0: 6465 6661 756c 7420 7661 6c75 6573 2064  default values d
-00028500: 6566 696e 6564 0a20 2020 2020 2020 206d  efined.        m
-00028510: 6174 6368 4f72 6465 7220 2b3d 205b 6520  atchOrder += [e 
-00028520: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
-00028530: 7072 7320 6966 2069 7369 6e73 7461 6e63  prs if isinstanc
-00028540: 6528 652c 204f 7074 2920 616e 6420 652e  e(e, Opt) and e.
-00028550: 6578 7072 2069 6e20 746d 704f 7074 5d0a  expr in tmpOpt].
-00028560: 0a20 2020 2020 2020 2074 6f74 616c 5f72  .        total_r
-00028570: 6573 756c 7473 203d 2050 6172 7365 5265  esults = ParseRe
-00028580: 7375 6c74 7328 5b5d 290a 2020 2020 2020  sults([]).      
-00028590: 2020 666f 7220 6520 696e 206d 6174 6368    for e in match
-000285a0: 4f72 6465 723a 0a20 2020 2020 2020 2020  Order:.         
-000285b0: 2020 206c 6f63 2c20 7265 7375 6c74 7320     loc, results 
-000285c0: 3d20 652e 5f70 6172 7365 2869 6e73 7472  = e._parse(instr
-000285d0: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
-000285e0: 6f6e 7329 0a20 2020 2020 2020 2020 2020  ons).           
-000285f0: 2074 6f74 616c 5f72 6573 756c 7473 202b   total_results +
-00028600: 3d20 7265 7375 6c74 730a 0a20 2020 2020  = results..     
-00028610: 2020 2072 6574 7572 6e20 6c6f 632c 2074     return loc, t
-00028620: 6f74 616c 5f72 6573 756c 7473 0a0a 2020  otal_results..  
-00028630: 2020 6465 6620 5f67 656e 6572 6174 6544    def _generateD
-00028640: 6566 6175 6c74 4e61 6d65 2873 656c 6629  efaultName(self)
-00028650: 202d 3e20 7374 723a 0a20 2020 2020 2020   -> str:.       
-00028660: 2072 6574 7572 6e20 227b 2220 2b20 2220   return "{" + " 
-00028670: 2620 222e 6a6f 696e 2873 7472 2865 2920  & ".join(str(e) 
-00028680: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
-00028690: 7072 7329 202b 2022 7d22 0a0a 0a63 6c61  prs) + "}"...cla
-000286a0: 7373 2050 6172 7365 456c 656d 656e 7445  ss ParseElementE
-000286b0: 6e68 616e 6365 2850 6172 7365 7245 6c65  nhance(ParserEle
-000286c0: 6d65 6e74 293a 0a20 2020 2022 2222 4162  ment):.    """Ab
-000286d0: 7374 7261 6374 2073 7562 636c 6173 7320  stract subclass 
-000286e0: 6f66 203a 636c 6173 733a 6050 6172 7365  of :class:`Parse
-000286f0: 7245 6c65 6d65 6e74 602c 2066 6f72 2063  rElement`, for c
-00028700: 6f6d 6269 6e69 6e67 2061 6e64 0a20 2020  ombining and.   
-00028710: 2070 6f73 742d 7072 6f63 6573 7369 6e67   post-processing
-00028720: 2070 6172 7365 6420 746f 6b65 6e73 2e0a   parsed tokens..
-00028730: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
-00028740: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
-00028750: 6578 7072 3a20 556e 696f 6e5b 5061 7273  expr: Union[Pars
-00028760: 6572 456c 656d 656e 742c 2073 7472 5d2c  erElement, str],
-00028770: 2073 6176 656c 6973 743a 2062 6f6f 6c20   savelist: bool 
-00028780: 3d20 4661 6c73 6529 3a0a 2020 2020 2020  = False):.      
-00028790: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-000287a0: 5f5f 2873 6176 656c 6973 7429 0a20 2020  __(savelist).   
-000287b0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-000287c0: 6365 2865 7870 722c 2073 7472 5f74 7970  ce(expr, str_typ
-000287d0: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-000287e0: 6578 7072 5f73 7472 203d 2074 7970 696e  expr_str = typin
-000287f0: 672e 6361 7374 2873 7472 2c20 6578 7072  g.cast(str, expr
-00028800: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-00028810: 2069 7373 7562 636c 6173 7328 7365 6c66   issubclass(self
-00028820: 2e5f 6c69 7465 7261 6c53 7472 696e 6743  ._literalStringC
-00028830: 6c61 7373 2c20 546f 6b65 6e29 3a0a 2020  lass, Token):.  
-00028840: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-00028850: 7072 203d 2073 656c 662e 5f6c 6974 6572  pr = self._liter
-00028860: 616c 5374 7269 6e67 436c 6173 7328 6578  alStringClass(ex
-00028870: 7072 5f73 7472 2920 2023 2074 7970 653a  pr_str)  # type:
-00028880: 2069 676e 6f72 655b 6361 6c6c 2d61 7267   ignore[call-arg
-00028890: 5d0a 2020 2020 2020 2020 2020 2020 656c  ].            el
-000288a0: 6966 2069 7373 7562 636c 6173 7328 7479  if issubclass(ty
-000288b0: 7065 2873 656c 6629 2c20 7365 6c66 2e5f  pe(self), self._
-000288c0: 6c69 7465 7261 6c53 7472 696e 6743 6c61  literalStringCla
-000288d0: 7373 293a 0a20 2020 2020 2020 2020 2020  ss):.           
-000288e0: 2020 2020 2065 7870 7220 3d20 4c69 7465       expr = Lite
-000288f0: 7261 6c28 6578 7072 5f73 7472 290a 2020  ral(expr_str).  
-00028900: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00028910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028920: 6578 7072 203d 2073 656c 662e 5f6c 6974  expr = self._lit
-00028930: 6572 616c 5374 7269 6e67 436c 6173 7328  eralStringClass(
-00028940: 4c69 7465 7261 6c28 6578 7072 5f73 7472  Literal(expr_str
-00028950: 2929 2020 2320 7479 7065 3a20 6967 6e6f  ))  # type: igno
-00028960: 7265 5b61 7373 6967 6e6d 656e 742c 2063  re[assignment, c
-00028970: 616c 6c2d 6172 675d 0a20 2020 2020 2020  all-arg].       
-00028980: 2065 7870 7220 3d20 7479 7069 6e67 2e63   expr = typing.c
-00028990: 6173 7428 5061 7273 6572 456c 656d 656e  ast(ParserElemen
-000289a0: 742c 2065 7870 7229 0a20 2020 2020 2020  t, expr).       
-000289b0: 2073 656c 662e 6578 7072 203d 2065 7870   self.expr = exp
-000289c0: 720a 2020 2020 2020 2020 6966 2065 7870  r.        if exp
-000289d0: 7220 6973 206e 6f74 204e 6f6e 653a 0a20  r is not None:. 
-000289e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000289f0: 6d61 7949 6e64 6578 4572 726f 7220 3d20  mayIndexError = 
-00028a00: 6578 7072 2e6d 6179 496e 6465 7845 7272  expr.mayIndexErr
-00028a10: 6f72 0a20 2020 2020 2020 2020 2020 2073  or.            s
-00028a20: 656c 662e 6d61 7952 6574 7572 6e45 6d70  elf.mayReturnEmp
-00028a30: 7479 203d 2065 7870 722e 6d61 7952 6574  ty = expr.mayRet
-00028a40: 7572 6e45 6d70 7479 0a20 2020 2020 2020  urnEmpty.       
-00028a50: 2020 2020 2073 656c 662e 7365 745f 7768       self.set_wh
-00028a60: 6974 6573 7061 6365 5f63 6861 7273 280a  itespace_chars(.
-00028a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028a80: 6578 7072 2e77 6869 7465 4368 6172 732c  expr.whiteChars,
-00028a90: 2063 6f70 795f 6465 6661 756c 7473 3d65   copy_defaults=e
-00028aa0: 7870 722e 636f 7079 4465 6661 756c 7457  xpr.copyDefaultW
-00028ab0: 6869 7465 4368 6172 730a 2020 2020 2020  hiteChars.      
-00028ac0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00028ad0: 2020 2020 7365 6c66 2e73 6b69 7057 6869      self.skipWhi
-00028ae0: 7465 7370 6163 6520 3d20 6578 7072 2e73  tespace = expr.s
-00028af0: 6b69 7057 6869 7465 7370 6163 650a 2020  kipWhitespace.  
-00028b00: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
-00028b10: 6176 6541 734c 6973 7420 3d20 6578 7072  aveAsList = expr
-00028b20: 2e73 6176 6541 734c 6973 740a 2020 2020  .saveAsList.    
-00028b30: 2020 2020 2020 2020 7365 6c66 2e63 616c          self.cal
-00028b40: 6c50 7265 7061 7273 6520 3d20 6578 7072  lPreparse = expr
-00028b50: 2e63 616c 6c50 7265 7061 7273 650a 2020  .callPreparse.  
-00028b60: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
-00028b70: 676e 6f72 6545 7870 7273 2e65 7874 656e  gnoreExprs.exten
-00028b80: 6428 6578 7072 2e69 676e 6f72 6545 7870  d(expr.ignoreExp
-00028b90: 7273 290a 0a20 2020 2064 6566 2072 6563  rs)..    def rec
-00028ba0: 7572 7365 2873 656c 6629 202d 3e20 4c69  urse(self) -> Li
-00028bb0: 7374 5b50 6172 7365 7245 6c65 6d65 6e74  st[ParserElement
-00028bc0: 5d3a 0a20 2020 2020 2020 2072 6574 7572  ]:.        retur
-00028bd0: 6e20 5b73 656c 662e 6578 7072 5d20 6966  n [self.expr] if
-00028be0: 2073 656c 662e 6578 7072 2069 7320 6e6f   self.expr is no
-00028bf0: 7420 4e6f 6e65 2065 6c73 6520 5b5d 0a0a  t None else []..
-00028c00: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
-00028c10: 6c28 7365 6c66 2c20 696e 7374 7269 6e67  l(self, instring
-00028c20: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
-00028c30: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
-00028c40: 6966 2073 656c 662e 6578 7072 2069 7320  if self.expr is 
-00028c50: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-00028c60: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-00028c70: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00028c80: 6e20 7365 6c66 2e65 7870 722e 5f70 6172  n self.expr._par
-00028c90: 7365 2869 6e73 7472 696e 672c 206c 6f63  se(instring, loc
-00028ca0: 2c20 646f 4163 7469 6f6e 732c 2063 616c  , doActions, cal
-00028cb0: 6c50 7265 5061 7273 653d 4661 6c73 6529  lPreParse=False)
-00028cc0: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-00028cd0: 6570 7420 5061 7273 6542 6173 6545 7863  ept ParseBaseExc
-00028ce0: 6570 7469 6f6e 2061 7320 7062 653a 0a20  eption as pbe:. 
-00028cf0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00028d00: 6265 2e6d 7367 203d 2073 656c 662e 6572  be.msg = self.er
-00028d10: 726d 7367 0a20 2020 2020 2020 2020 2020  rmsg.           
-00028d20: 2020 2020 2072 6169 7365 0a20 2020 2020       raise.     
-00028d30: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00028d40: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
-00028d50: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
-00028d60: 6e67 2c20 6c6f 632c 2022 4e6f 2065 7870  ng, loc, "No exp
-00028d70: 7265 7373 696f 6e20 6465 6669 6e65 6422  ression defined"
-00028d80: 2c20 7365 6c66 290a 0a20 2020 2064 6566  , self)..    def
-00028d90: 206c 6561 7665 5f77 6869 7465 7370 6163   leave_whitespac
-00028da0: 6528 7365 6c66 2c20 7265 6375 7273 6976  e(self, recursiv
-00028db0: 653a 2062 6f6f 6c20 3d20 5472 7565 2920  e: bool = True) 
-00028dc0: 2d3e 2050 6172 7365 7245 6c65 6d65 6e74  -> ParserElement
-00028dd0: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
-00028de0: 292e 6c65 6176 655f 7768 6974 6573 7061  ).leave_whitespa
-00028df0: 6365 2872 6563 7572 7369 7665 290a 0a20  ce(recursive).. 
-00028e00: 2020 2020 2020 2069 6620 7265 6375 7273         if recurs
-00028e10: 6976 653a 0a20 2020 2020 2020 2020 2020  ive:.           
-00028e20: 2069 6620 7365 6c66 2e65 7870 7220 6973   if self.expr is
-00028e30: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-00028e40: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00028e50: 6578 7072 203d 2073 656c 662e 6578 7072  expr = self.expr
-00028e60: 2e63 6f70 7928 290a 2020 2020 2020 2020  .copy().        
-00028e70: 2020 2020 2020 2020 7365 6c66 2e65 7870          self.exp
-00028e80: 722e 6c65 6176 655f 7768 6974 6573 7061  r.leave_whitespa
-00028e90: 6365 2872 6563 7572 7369 7665 290a 2020  ce(recursive).  
-00028ea0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00028eb0: 660a 0a20 2020 2064 6566 2069 676e 6f72  f..    def ignor
-00028ec0: 655f 7768 6974 6573 7061 6365 2873 656c  e_whitespace(sel
-00028ed0: 662c 2072 6563 7572 7369 7665 3a20 626f  f, recursive: bo
-00028ee0: 6f6c 203d 2054 7275 6529 202d 3e20 5061  ol = True) -> Pa
-00028ef0: 7273 6572 456c 656d 656e 743a 0a20 2020  rserElement:.   
-00028f00: 2020 2020 2073 7570 6572 2829 2e69 676e       super().ign
-00028f10: 6f72 655f 7768 6974 6573 7061 6365 2872  ore_whitespace(r
-00028f20: 6563 7572 7369 7665 290a 0a20 2020 2020  ecursive)..     
-00028f30: 2020 2069 6620 7265 6375 7273 6976 653a     if recursive:
-00028f40: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00028f50: 7365 6c66 2e65 7870 7220 6973 206e 6f74  self.expr is not
-00028f60: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00028f70: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
-00028f80: 203d 2073 656c 662e 6578 7072 2e63 6f70   = self.expr.cop
-00028f90: 7928 290a 2020 2020 2020 2020 2020 2020  y().            
-00028fa0: 2020 2020 7365 6c66 2e65 7870 722e 6967      self.expr.ig
-00028fb0: 6e6f 7265 5f77 6869 7465 7370 6163 6528  nore_whitespace(
-00028fc0: 7265 6375 7273 6976 6529 0a20 2020 2020  recursive).     
-00028fd0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-00028fe0: 2020 2020 6465 6620 6967 6e6f 7265 2873      def ignore(s
-00028ff0: 656c 662c 206f 7468 6572 2920 2d3e 2050  elf, other) -> P
-00029000: 6172 7365 7245 6c65 6d65 6e74 3a0a 2020  arserElement:.  
-00029010: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-00029020: 6e63 6528 6f74 6865 722c 2053 7570 7072  nce(other, Suppr
-00029030: 6573 7329 3a0a 2020 2020 2020 2020 2020  ess):.          
-00029040: 2020 6966 206f 7468 6572 206e 6f74 2069    if other not i
-00029050: 6e20 7365 6c66 2e69 676e 6f72 6545 7870  n self.ignoreExp
-00029060: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
-00029070: 2020 2020 7375 7065 7228 292e 6967 6e6f      super().igno
-00029080: 7265 286f 7468 6572 290a 2020 2020 2020  re(other).      
-00029090: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-000290a0: 662e 6578 7072 2069 7320 6e6f 7420 4e6f  f.expr is not No
-000290b0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-000290c0: 2020 2020 2020 2020 7365 6c66 2e65 7870          self.exp
-000290d0: 722e 6967 6e6f 7265 2873 656c 662e 6967  r.ignore(self.ig
-000290e0: 6e6f 7265 4578 7072 735b 2d31 5d29 0a20  noreExprs[-1]). 
-000290f0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00029100: 2020 2020 2020 2020 2073 7570 6572 2829           super()
-00029110: 2e69 676e 6f72 6528 6f74 6865 7229 0a20  .ignore(other). 
-00029120: 2020 2020 2020 2020 2020 2069 6620 7365             if se
-00029130: 6c66 2e65 7870 7220 6973 206e 6f74 204e  lf.expr is not N
-00029140: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-00029150: 2020 2020 2073 656c 662e 6578 7072 2e69       self.expr.i
-00029160: 676e 6f72 6528 7365 6c66 2e69 676e 6f72  gnore(self.ignor
-00029170: 6545 7870 7273 5b2d 315d 290a 2020 2020  eExprs[-1]).    
-00029180: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
-00029190: 0a20 2020 2064 6566 2073 7472 6561 6d6c  .    def streaml
-000291a0: 696e 6528 7365 6c66 2920 2d3e 2050 6172  ine(self) -> Par
-000291b0: 7365 7245 6c65 6d65 6e74 3a0a 2020 2020  serElement:.    
-000291c0: 2020 2020 7375 7065 7228 292e 7374 7265      super().stre
-000291d0: 616d 6c69 6e65 2829 0a20 2020 2020 2020  amline().       
-000291e0: 2069 6620 7365 6c66 2e65 7870 7220 6973   if self.expr is
-000291f0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-00029200: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
-00029210: 2e73 7472 6561 6d6c 696e 6528 290a 2020  .streamline().  
-00029220: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00029230: 660a 0a20 2020 2064 6566 205f 6368 6563  f..    def _chec
-00029240: 6b52 6563 7572 7369 6f6e 2873 656c 662c  kRecursion(self,
-00029250: 2070 6172 7365 456c 656d 656e 744c 6973   parseElementLis
-00029260: 7429 3a0a 2020 2020 2020 2020 6966 2073  t):.        if s
-00029270: 656c 6620 696e 2070 6172 7365 456c 656d  elf in parseElem
-00029280: 656e 744c 6973 743a 0a20 2020 2020 2020  entList:.       
-00029290: 2020 2020 2072 6169 7365 2052 6563 7572       raise Recur
-000292a0: 7369 7665 4772 616d 6d61 7245 7863 6570  siveGrammarExcep
-000292b0: 7469 6f6e 2870 6172 7365 456c 656d 656e  tion(parseElemen
-000292c0: 744c 6973 7420 2b20 5b73 656c 665d 290a  tList + [self]).
-000292d0: 2020 2020 2020 2020 7375 6252 6563 4368          subRecCh
-000292e0: 6563 6b4c 6973 7420 3d20 7061 7273 6545  eckList = parseE
-000292f0: 6c65 6d65 6e74 4c69 7374 5b3a 5d20 2b20  lementList[:] + 
-00029300: 5b73 656c 665d 0a20 2020 2020 2020 2069  [self].        i
-00029310: 6620 7365 6c66 2e65 7870 7220 6973 206e  f self.expr is n
-00029320: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-00029330: 2020 2020 2073 656c 662e 6578 7072 2e5f       self.expr._
-00029340: 6368 6563 6b52 6563 7572 7369 6f6e 2873  checkRecursion(s
-00029350: 7562 5265 6343 6865 636b 4c69 7374 290a  ubRecCheckList).
-00029360: 0a20 2020 2064 6566 2076 616c 6964 6174  .    def validat
-00029370: 6528 7365 6c66 2c20 7661 6c69 6461 7465  e(self, validate
-00029380: 5472 6163 653d 4e6f 6e65 2920 2d3e 204e  Trace=None) -> N
-00029390: 6f6e 653a 0a20 2020 2020 2020 2077 6172  one:.        war
-000293a0: 6e69 6e67 732e 7761 726e 280a 2020 2020  nings.warn(.    
-000293b0: 2020 2020 2020 2020 2250 6172 7365 7245          "ParserE
-000293c0: 6c65 6d65 6e74 2e76 616c 6964 6174 6528  lement.validate(
-000293d0: 2920 6973 2064 6570 7265 6361 7465 642c  ) is deprecated,
-000293e0: 2061 6e64 2073 686f 756c 6420 6e6f 7420   and should not 
-000293f0: 6265 2075 7365 6420 746f 2063 6865 636b  be used to check
-00029400: 2066 6f72 206c 6566 7420 7265 6375 7273   for left recurs
-00029410: 696f 6e22 2c0a 2020 2020 2020 2020 2020  ion",.          
-00029420: 2020 4465 7072 6563 6174 696f 6e57 6172    DeprecationWar
-00029430: 6e69 6e67 2c0a 2020 2020 2020 2020 2020  ning,.          
-00029440: 2020 7374 6163 6b6c 6576 656c 3d32 2c0a    stacklevel=2,.
-00029450: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00029460: 2020 6966 2076 616c 6964 6174 6554 7261    if validateTra
-00029470: 6365 2069 7320 4e6f 6e65 3a0a 2020 2020  ce is None:.    
-00029480: 2020 2020 2020 2020 7661 6c69 6461 7465          validate
-00029490: 5472 6163 6520 3d20 5b5d 0a20 2020 2020  Trace = [].     
-000294a0: 2020 2074 6d70 203d 2076 616c 6964 6174     tmp = validat
-000294b0: 6554 7261 6365 5b3a 5d20 2b20 5b73 656c  eTrace[:] + [sel
-000294c0: 665d 0a20 2020 2020 2020 2069 6620 7365  f].        if se
-000294d0: 6c66 2e65 7870 7220 6973 206e 6f74 204e  lf.expr is not N
-000294e0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-000294f0: 2073 656c 662e 6578 7072 2e76 616c 6964   self.expr.valid
-00029500: 6174 6528 746d 7029 0a20 2020 2020 2020  ate(tmp).       
-00029510: 2073 656c 662e 5f63 6865 636b 5265 6375   self._checkRecu
-00029520: 7273 696f 6e28 5b5d 290a 0a20 2020 2064  rsion([])..    d
-00029530: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
-00029540: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
-00029550: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
-00029560: 7475 726e 2066 227b 7365 6c66 2e5f 5f63  turn f"{self.__c
-00029570: 6c61 7373 5f5f 2e5f 5f6e 616d 655f 5f7d  lass__.__name__}
-00029580: 3a28 7b73 7472 2873 656c 662e 6578 7072  :({str(self.expr
-00029590: 297d 2922 0a0a 2020 2020 2320 436f 6d70  )})"..    # Comp
-000295a0: 6174 6962 696c 6974 7920 7379 6e6f 6e79  atibility synony
-000295b0: 6d73 0a20 2020 2023 2066 6d74 3a20 6f66  ms.    # fmt: of
-000295c0: 660a 2020 2020 4072 6570 6c61 6365 645f  f.    @replaced_
-000295d0: 6279 5f70 6570 3828 6c65 6176 655f 7768  by_pep8(leave_wh
-000295e0: 6974 6573 7061 6365 290a 2020 2020 6465  itespace).    de
-000295f0: 6620 6c65 6176 6557 6869 7465 7370 6163  f leaveWhitespac
-00029600: 6528 7365 6c66 293a 202e 2e2e 0a0a 2020  e(self): .....  
-00029610: 2020 4072 6570 6c61 6365 645f 6279 5f70    @replaced_by_p
-00029620: 6570 3828 6967 6e6f 7265 5f77 6869 7465  ep8(ignore_white
-00029630: 7370 6163 6529 0a20 2020 2064 6566 2069  space).    def i
-00029640: 676e 6f72 6557 6869 7465 7370 6163 6528  gnoreWhitespace(
-00029650: 7365 6c66 293a 202e 2e2e 0a20 2020 2023  self): ....    #
-00029660: 2066 6d74 3a20 6f6e 0a0a 0a63 6c61 7373   fmt: on...class
-00029670: 2049 6e64 656e 7465 6442 6c6f 636b 2850   IndentedBlock(P
-00029680: 6172 7365 456c 656d 656e 7445 6e68 616e  arseElementEnhan
-00029690: 6365 293a 0a20 2020 2022 2222 0a20 2020  ce):.    """.   
-000296a0: 2045 7870 7265 7373 696f 6e20 746f 206d   Expression to m
-000296b0: 6174 6368 206f 6e65 206f 7220 6d6f 7265  atch one or more
-000296c0: 2065 7870 7265 7373 696f 6e73 2061 7420   expressions at 
-000296d0: 6120 6769 7665 6e20 696e 6465 6e74 6174  a given indentat
-000296e0: 696f 6e20 6c65 7665 6c2e 0a20 2020 2055  ion level..    U
-000296f0: 7365 6675 6c20 666f 7220 7061 7273 696e  seful for parsin
-00029700: 6720 7465 7874 2077 6865 7265 2073 7472  g text where str
-00029710: 7563 7475 7265 2069 7320 696d 706c 6965  ucture is implie
-00029720: 6420 6279 2069 6e64 656e 7461 7469 6f6e  d by indentation
-00029730: 2028 6c69 6b65 2050 7974 686f 6e20 736f   (like Python so
-00029740: 7572 6365 2063 6f64 6529 2e0a 2020 2020  urce code)..    
-00029750: 2222 220a 0a20 2020 2063 6c61 7373 205f  """..    class _
-00029760: 496e 6465 6e74 2845 6d70 7479 293a 0a20  Indent(Empty):. 
-00029770: 2020 2020 2020 2064 6566 205f 5f69 6e69         def __ini
-00029780: 745f 5f28 7365 6c66 2c20 7265 665f 636f  t__(self, ref_co
-00029790: 6c3a 2069 6e74 293a 0a20 2020 2020 2020  l: int):.       
-000297a0: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-000297b0: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
-000297c0: 2020 2020 7365 6c66 2e65 7272 6d73 6720      self.errmsg 
-000297d0: 3d20 6622 6578 7065 6374 6564 2069 6e64  = f"expected ind
-000297e0: 656e 7420 6174 2063 6f6c 756d 6e20 7b72  ent at column {r
-000297f0: 6566 5f63 6f6c 7d22 0a20 2020 2020 2020  ef_col}".       
-00029800: 2020 2020 2073 656c 662e 6164 645f 636f       self.add_co
-00029810: 6e64 6974 696f 6e28 6c61 6d62 6461 2073  ndition(lambda s
-00029820: 2c20 6c2c 2074 3a20 636f 6c28 6c2c 2073  , l, t: col(l, s
-00029830: 2920 3d3d 2072 6566 5f63 6f6c 290a 0a20  ) == ref_col).. 
-00029840: 2020 2063 6c61 7373 205f 496e 6465 6e74     class _Indent
-00029850: 4772 6561 7465 7228 456d 7074 7929 3a0a  Greater(Empty):.
-00029860: 2020 2020 2020 2020 6465 6620 5f5f 696e          def __in
-00029870: 6974 5f5f 2873 656c 662c 2072 6566 5f63  it__(self, ref_c
-00029880: 6f6c 3a20 696e 7429 3a0a 2020 2020 2020  ol: int):.      
-00029890: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
-000298a0: 696e 6974 5f5f 2829 0a20 2020 2020 2020  init__().       
-000298b0: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
-000298c0: 203d 2066 2265 7870 6563 7465 6420 696e   = f"expected in
-000298d0: 6465 6e74 2061 7420 636f 6c75 6d6e 2067  dent at column g
-000298e0: 7265 6174 6572 2074 6861 6e20 7b72 6566  reater than {ref
-000298f0: 5f63 6f6c 7d22 0a20 2020 2020 2020 2020  _col}".         
-00029900: 2020 2073 656c 662e 6164 645f 636f 6e64     self.add_cond
-00029910: 6974 696f 6e28 6c61 6d62 6461 2073 2c20  ition(lambda s, 
-00029920: 6c2c 2074 3a20 636f 6c28 6c2c 2073 2920  l, t: col(l, s) 
-00029930: 3e20 7265 665f 636f 6c29 0a0a 2020 2020  > ref_col)..    
-00029940: 6465 6620 5f5f 696e 6974 5f5f 280a 2020  def __init__(.  
-00029950: 2020 2020 2020 7365 6c66 2c20 6578 7072        self, expr
-00029960: 3a20 5061 7273 6572 456c 656d 656e 742c  : ParserElement,
-00029970: 202a 2c20 7265 6375 7273 6976 653a 2062   *, recursive: b
-00029980: 6f6f 6c20 3d20 4661 6c73 652c 2067 726f  ool = False, gro
-00029990: 7570 6564 3a20 626f 6f6c 203d 2054 7275  uped: bool = Tru
-000299a0: 650a 2020 2020 293a 0a20 2020 2020 2020  e.    ):.       
-000299b0: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
-000299c0: 5f28 6578 7072 2c20 7361 7665 6c69 7374  _(expr, savelist
-000299d0: 3d54 7275 6529 0a20 2020 2020 2020 2023  =True).        #
-000299e0: 2069 6620 7265 6375 7273 6976 653a 0a20   if recursive:. 
-000299f0: 2020 2020 2020 2023 2020 2020 2072 6169         #     rai
-00029a00: 7365 204e 6f74 496d 706c 656d 656e 7465  se NotImplemente
-00029a10: 6445 7272 6f72 2822 496e 6465 6e74 6564  dError("Indented
-00029a20: 426c 6f63 6b20 7769 7468 2072 6563 7572  Block with recur
-00029a30: 7369 7665 2069 7320 6e6f 7420 696d 706c  sive is not impl
-00029a40: 656d 656e 7465 6422 290a 2020 2020 2020  emented").      
-00029a50: 2020 7365 6c66 2e5f 7265 6375 7273 6976    self._recursiv
-00029a60: 6520 3d20 7265 6375 7273 6976 650a 2020  e = recursive.  
-00029a70: 2020 2020 2020 7365 6c66 2e5f 6772 6f75        self._grou
-00029a80: 7065 6420 3d20 6772 6f75 7065 640a 2020  ped = grouped.  
-00029a90: 2020 2020 2020 7365 6c66 2e70 6172 656e        self.paren
-00029aa0: 745f 616e 6368 6f72 203d 2031 0a0a 2020  t_anchor = 1..  
-00029ab0: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-00029ac0: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-00029ad0: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-00029ae0: 7275 6529 3a0a 2020 2020 2020 2020 2320  rue):.        # 
-00029af0: 6164 7661 6e63 6520 7061 7273 6520 706f  advance parse po
-00029b00: 7369 7469 6f6e 2074 6f20 6e6f 6e2d 7768  sition to non-wh
-00029b10: 6974 6573 7061 6365 2062 7920 7573 696e  itespace by usin
-00029b20: 6720 616e 2045 6d70 7479 2829 0a20 2020  g an Empty().   
-00029b30: 2020 2020 2023 2074 6869 7320 7368 6f75       # this shou
-00029b40: 6c64 2062 6520 7468 6520 636f 6c75 6d6e  ld be the column
-00029b50: 2074 6f20 6265 2075 7365 6420 666f 7220   to be used for 
-00029b60: 616c 6c20 7375 6273 6571 7565 6e74 2069  all subsequent i
-00029b70: 6e64 656e 7465 6420 6c69 6e65 730a 2020  ndented lines.  
-00029b80: 2020 2020 2020 616e 6368 6f72 5f6c 6f63        anchor_loc
-00029b90: 203d 2045 6d70 7479 2829 2e70 7265 5061   = Empty().prePa
-00029ba0: 7273 6528 696e 7374 7269 6e67 2c20 6c6f  rse(instring, lo
-00029bb0: 6329 0a0a 2020 2020 2020 2020 2320 7365  c)..        # se
-00029bc0: 6520 6966 2073 656c 662e 6578 7072 206d  e if self.expr m
-00029bd0: 6174 6368 6573 2061 7420 7468 6520 6375  atches at the cu
-00029be0: 7272 656e 7420 6c6f 6361 7469 6f6e 202d  rrent location -
-00029bf0: 2069 6620 6e6f 7420 6974 2077 696c 6c20   if not it will 
-00029c00: 7261 6973 6520 616e 2065 7863 6570 7469  raise an excepti
-00029c10: 6f6e 0a20 2020 2020 2020 2023 2061 6e64  on.        # and
-00029c20: 206e 6f20 6675 7274 6865 7220 776f 726b   no further work
-00029c30: 2069 7320 6e65 6365 7373 6172 790a 2020   is necessary.  
-00029c40: 2020 2020 2020 7365 6c66 2e65 7870 722e        self.expr.
-00029c50: 7472 795f 7061 7273 6528 696e 7374 7269  try_parse(instri
-00029c60: 6e67 2c20 616e 6368 6f72 5f6c 6f63 2c20  ng, anchor_loc, 
-00029c70: 646f 4163 7469 6f6e 7329 0a0a 2020 2020  doActions)..    
-00029c80: 2020 2020 696e 6465 6e74 5f63 6f6c 203d      indent_col =
-00029c90: 2063 6f6c 2861 6e63 686f 725f 6c6f 632c   col(anchor_loc,
-00029ca0: 2069 6e73 7472 696e 6729 0a20 2020 2020   instring).     
-00029cb0: 2020 2070 6565 725f 6465 7465 6374 5f65     peer_detect_e
-00029cc0: 7870 7220 3d20 7365 6c66 2e5f 496e 6465  xpr = self._Inde
-00029cd0: 6e74 2869 6e64 656e 745f 636f 6c29 0a0a  nt(indent_col)..
-00029ce0: 2020 2020 2020 2020 696e 6e65 725f 6578          inner_ex
-00029cf0: 7072 203d 2045 6d70 7479 2829 202b 2070  pr = Empty() + p
-00029d00: 6565 725f 6465 7465 6374 5f65 7870 7220  eer_detect_expr 
-00029d10: 2b20 7365 6c66 2e65 7870 720a 2020 2020  + self.expr.    
-00029d20: 2020 2020 6966 2073 656c 662e 5f72 6563      if self._rec
-00029d30: 7572 7369 7665 3a0a 2020 2020 2020 2020  ursive:.        
-00029d40: 2020 2020 7375 625f 696e 6465 6e74 203d      sub_indent =
-00029d50: 2073 656c 662e 5f49 6e64 656e 7447 7265   self._IndentGre
-00029d60: 6174 6572 2869 6e64 656e 745f 636f 6c29  ater(indent_col)
-00029d70: 0a20 2020 2020 2020 2020 2020 206e 6573  .            nes
-00029d80: 7465 645f 626c 6f63 6b20 3d20 496e 6465  ted_block = Inde
-00029d90: 6e74 6564 426c 6f63 6b28 0a20 2020 2020  ntedBlock(.     
-00029da0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00029db0: 6578 7072 2c20 7265 6375 7273 6976 653d  expr, recursive=
-00029dc0: 7365 6c66 2e5f 7265 6375 7273 6976 652c  self._recursive,
-00029dd0: 2067 726f 7570 6564 3d73 656c 662e 5f67   grouped=self._g
-00029de0: 726f 7570 6564 0a20 2020 2020 2020 2020  rouped.         
-00029df0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-00029e00: 206e 6573 7465 645f 626c 6f63 6b2e 7365   nested_block.se
-00029e10: 745f 6465 6275 6728 7365 6c66 2e64 6562  t_debug(self.deb
-00029e20: 7567 290a 2020 2020 2020 2020 2020 2020  ug).            
-00029e30: 6e65 7374 6564 5f62 6c6f 636b 2e70 6172  nested_block.par
-00029e40: 656e 745f 616e 6368 6f72 203d 2069 6e64  ent_anchor = ind
-00029e50: 656e 745f 636f 6c0a 2020 2020 2020 2020  ent_col.        
-00029e60: 2020 2020 696e 6e65 725f 6578 7072 202b      inner_expr +
-00029e70: 3d20 4f70 7428 7375 625f 696e 6465 6e74  = Opt(sub_indent
-00029e80: 202b 206e 6573 7465 645f 626c 6f63 6b29   + nested_block)
-00029e90: 0a0a 2020 2020 2020 2020 696e 6e65 725f  ..        inner_
-00029ea0: 6578 7072 2e73 6574 5f6e 616d 6528 6622  expr.set_name(f"
-00029eb0: 696e 6e65 7220 7b68 6578 2869 6428 696e  inner {hex(id(in
-00029ec0: 6e65 725f 6578 7072 2929 5b2d 343a 5d2e  ner_expr))[-4:].
-00029ed0: 7570 7065 7228 297d 407b 696e 6465 6e74  upper()}@{indent
-00029ee0: 5f63 6f6c 7d22 290a 2020 2020 2020 2020  _col}").        
-00029ef0: 626c 6f63 6b20 3d20 4f6e 654f 724d 6f72  block = OneOrMor
-00029f00: 6528 696e 6e65 725f 6578 7072 290a 0a20  e(inner_expr).. 
-00029f10: 2020 2020 2020 2074 7261 696c 696e 675f         trailing_
-00029f20: 756e 6465 6e74 203d 2073 656c 662e 5f49  undent = self._I
-00029f30: 6e64 656e 7428 7365 6c66 2e70 6172 656e  ndent(self.paren
-00029f40: 745f 616e 6368 6f72 2920 7c20 5374 7269  t_anchor) | Stri
-00029f50: 6e67 456e 6428 290a 0a20 2020 2020 2020  ngEnd()..       
-00029f60: 2069 6620 7365 6c66 2e5f 6772 6f75 7065   if self._groupe
-00029f70: 643a 0a20 2020 2020 2020 2020 2020 2077  d:.            w
-00029f80: 7261 7070 6572 203d 2047 726f 7570 0a20  rapper = Group. 
-00029f90: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00029fa0: 2020 2020 2020 2020 2077 7261 7070 6572           wrapper
-00029fb0: 203d 206c 616d 6264 6120 6578 7072 3a20   = lambda expr: 
-00029fc0: 6578 7072 0a20 2020 2020 2020 2072 6574  expr.        ret
-00029fd0: 7572 6e20 2877 7261 7070 6572 2862 6c6f  urn (wrapper(blo
-00029fe0: 636b 2920 2b20 4f70 7469 6f6e 616c 2874  ck) + Optional(t
-00029ff0: 7261 696c 696e 675f 756e 6465 6e74 2929  railing_undent))
-0002a000: 2e70 6172 7365 496d 706c 280a 2020 2020  .parseImpl(.    
-0002a010: 2020 2020 2020 2020 696e 7374 7269 6e67          instring
-0002a020: 2c20 616e 6368 6f72 5f6c 6f63 2c20 646f  , anchor_loc, do
-0002a030: 4163 7469 6f6e 730a 2020 2020 2020 2020  Actions.        
-0002a040: 290a 0a0a 636c 6173 7320 4174 5374 7269  )...class AtStri
-0002a050: 6e67 5374 6172 7428 5061 7273 6545 6c65  ngStart(ParseEle
-0002a060: 6d65 6e74 456e 6861 6e63 6529 3a0a 2020  mentEnhance):.  
-0002a070: 2020 2222 224d 6174 6368 6573 2069 6620    """Matches if 
-0002a080: 6578 7072 6573 7369 6f6e 206d 6174 6368  expression match
-0002a090: 6573 2061 7420 7468 6520 6265 6769 6e6e  es at the beginn
-0002a0a0: 696e 6720 6f66 2074 6865 2070 6172 7365  ing of the parse
-0002a0b0: 0a20 2020 2073 7472 696e 673a 3a0a 0a20  .    string::.. 
-0002a0c0: 2020 2020 2020 2041 7453 7472 696e 6753         AtStringS
-0002a0d0: 7461 7274 2857 6f72 6428 6e75 6d73 2929  tart(Word(nums))
-0002a0e0: 2e70 6172 7365 5f73 7472 696e 6728 2231  .parse_string("1
-0002a0f0: 3233 2229 0a20 2020 2020 2020 2023 2070  23").        # p
-0002a100: 7269 6e74 7320 5b22 3132 3322 5d0a 0a20  rints ["123"].. 
-0002a110: 2020 2020 2020 2041 7453 7472 696e 6753         AtStringS
-0002a120: 7461 7274 2857 6f72 6428 6e75 6d73 2929  tart(Word(nums))
-0002a130: 2e70 6172 7365 5f73 7472 696e 6728 2220  .parse_string(" 
-0002a140: 2020 2031 3233 2229 0a20 2020 2020 2020     123").       
-0002a150: 2023 2072 6169 7365 7320 5061 7273 6545   # raises ParseE
-0002a160: 7863 6570 7469 6f6e 0a20 2020 2022 2222  xception.    """
-0002a170: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
-0002a180: 5f5f 2873 656c 662c 2065 7870 723a 2055  __(self, expr: U
-0002a190: 6e69 6f6e 5b50 6172 7365 7245 6c65 6d65  nion[ParserEleme
-0002a1a0: 6e74 2c20 7374 725d 293a 0a20 2020 2020  nt, str]):.     
-0002a1b0: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-0002a1c0: 745f 5f28 6578 7072 290a 2020 2020 2020  t__(expr).      
-0002a1d0: 2020 7365 6c66 2e63 616c 6c50 7265 7061    self.callPrepa
-0002a1e0: 7273 6520 3d20 4661 6c73 650a 0a20 2020  rse = False..   
-0002a1f0: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
-0002a200: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
-0002a210: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
-0002a220: 7565 293a 0a20 2020 2020 2020 2069 6620  ue):.        if 
-0002a230: 6c6f 6320 213d 2030 3a0a 2020 2020 2020  loc != 0:.      
-0002a240: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
-0002a250: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
-0002a260: 696e 672c 206c 6f63 2c20 226e 6f74 2066  ing, loc, "not f
-0002a270: 6f75 6e64 2061 7420 7374 7269 6e67 2073  ound at string s
-0002a280: 7461 7274 2229 0a20 2020 2020 2020 2072  tart").        r
-0002a290: 6574 7572 6e20 7375 7065 7228 292e 7061  eturn super().pa
-0002a2a0: 7273 6549 6d70 6c28 696e 7374 7269 6e67  rseImpl(instring
-0002a2b0: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
-0002a2c0: 290a 0a0a 636c 6173 7320 4174 4c69 6e65  )...class AtLine
-0002a2d0: 5374 6172 7428 5061 7273 6545 6c65 6d65  Start(ParseEleme
-0002a2e0: 6e74 456e 6861 6e63 6529 3a0a 2020 2020  ntEnhance):.    
-0002a2f0: 7222 2222 4d61 7463 6865 7320 6966 2061  r"""Matches if a
-0002a300: 6e20 6578 7072 6573 7369 6f6e 206d 6174  n expression mat
-0002a310: 6368 6573 2061 7420 7468 6520 6265 6769  ches at the begi
-0002a320: 6e6e 696e 6720 6f66 2061 206c 696e 6520  nning of a line 
-0002a330: 7769 7468 696e 0a20 2020 2074 6865 2070  within.    the p
-0002a340: 6172 7365 2073 7472 696e 670a 0a20 2020  arse string..   
-0002a350: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
-0002a360: 2020 2020 7465 7374 203d 2027 2727 5c0a      test = '''\.
-0002a370: 2020 2020 2020 2020 4141 4120 7468 6973          AAA this
-0002a380: 206c 696e 650a 2020 2020 2020 2020 4141   line.        AA
-0002a390: 4120 616e 6420 7468 6973 206c 696e 650a  A and this line.
-0002a3a0: 2020 2020 2020 2020 2020 4141 4120 6275            AAA bu
-0002a3b0: 7420 6e6f 7420 7468 6973 206f 6e65 0a20  t not this one. 
-0002a3c0: 2020 2020 2020 2042 2041 4141 2061 6e64         B AAA and
-0002a3d0: 2064 6566 696e 6974 656c 7920 6e6f 7420   definitely not 
-0002a3e0: 7468 6973 206f 6e65 0a20 2020 2020 2020  this one.       
-0002a3f0: 2027 2727 0a0a 2020 2020 2020 2020 666f   '''..        fo
-0002a400: 7220 7420 696e 2028 4174 4c69 6e65 5374  r t in (AtLineSt
-0002a410: 6172 7428 2741 4141 2729 202b 2072 6573  art('AAA') + res
-0002a420: 745f 6f66 5f6c 696e 6529 2e73 6561 7263  t_of_line).searc
-0002a430: 685f 7374 7269 6e67 2874 6573 7429 3a0a  h_string(test):.
-0002a440: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-0002a450: 7428 7429 0a0a 2020 2020 7072 696e 7473  t(t)..    prints
-0002a460: 3a3a 0a0a 2020 2020 2020 2020 5b27 4141  ::..        ['AA
-0002a470: 4127 2c20 2720 7468 6973 206c 696e 6527  A', ' this line'
-0002a480: 5d0a 2020 2020 2020 2020 5b27 4141 4127  ].        ['AAA'
-0002a490: 2c20 2720 616e 6420 7468 6973 206c 696e  , ' and this lin
-0002a4a0: 6527 5d0a 0a20 2020 2022 2222 0a0a 2020  e']..    """..  
-0002a4b0: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
-0002a4c0: 656c 662c 2065 7870 723a 2055 6e69 6f6e  elf, expr: Union
-0002a4d0: 5b50 6172 7365 7245 6c65 6d65 6e74 2c20  [ParserElement, 
-0002a4e0: 7374 725d 293a 0a20 2020 2020 2020 2073  str]):.        s
-0002a4f0: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
-0002a500: 6578 7072 290a 2020 2020 2020 2020 7365  expr).        se
-0002a510: 6c66 2e63 616c 6c50 7265 7061 7273 6520  lf.callPreparse 
-0002a520: 3d20 4661 6c73 650a 0a20 2020 2064 6566  = False..    def
-0002a530: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
-0002a540: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
-0002a550: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
-0002a560: 0a20 2020 2020 2020 2069 6620 636f 6c28  .        if col(
-0002a570: 6c6f 632c 2069 6e73 7472 696e 6729 2021  loc, instring) !
-0002a580: 3d20 313a 0a20 2020 2020 2020 2020 2020  = 1:.           
-0002a590: 2072 6169 7365 2050 6172 7365 4578 6365   raise ParseExce
-0002a5a0: 7074 696f 6e28 696e 7374 7269 6e67 2c20  ption(instring, 
-0002a5b0: 6c6f 632c 2022 6e6f 7420 666f 756e 6420  loc, "not found 
-0002a5c0: 6174 206c 696e 6520 7374 6172 7422 290a  at line start").
-0002a5d0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0002a5e0: 7570 6572 2829 2e70 6172 7365 496d 706c  uper().parseImpl
-0002a5f0: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-0002a600: 646f 4163 7469 6f6e 7329 0a0a 0a63 6c61  doActions)...cla
-0002a610: 7373 2046 6f6c 6c6f 7765 6442 7928 5061  ss FollowedBy(Pa
-0002a620: 7273 6545 6c65 6d65 6e74 456e 6861 6e63  rseElementEnhanc
-0002a630: 6529 3a0a 2020 2020 2222 224c 6f6f 6b61  e):.    """Looka
-0002a640: 6865 6164 206d 6174 6368 696e 6720 6f66  head matching of
-0002a650: 2074 6865 2067 6976 656e 2070 6172 7365   the given parse
-0002a660: 2065 7870 7265 7373 696f 6e2e 0a20 2020   expression..   
-0002a670: 2060 6046 6f6c 6c6f 7765 6442 7960 6020   ``FollowedBy`` 
-0002a680: 646f 6573 202a 6e6f 742a 2061 6476 616e  does *not* advan
-0002a690: 6365 2074 6865 2070 6172 7369 6e67 2070  ce the parsing p
-0002a6a0: 6f73 6974 696f 6e20 7769 7468 696e 0a20  osition within. 
-0002a6b0: 2020 2074 6865 2069 6e70 7574 2073 7472     the input str
-0002a6c0: 696e 672c 2069 7420 6f6e 6c79 2076 6572  ing, it only ver
-0002a6d0: 6966 6965 7320 7468 6174 2074 6865 2073  ifies that the s
-0002a6e0: 7065 6369 6669 6564 2070 6172 7365 0a20  pecified parse. 
-0002a6f0: 2020 2065 7870 7265 7373 696f 6e20 6d61     expression ma
-0002a700: 7463 6865 7320 6174 2074 6865 2063 7572  tches at the cur
-0002a710: 7265 6e74 2070 6f73 6974 696f 6e2e 2020  rent position.  
-0002a720: 6060 466f 6c6c 6f77 6564 4279 6060 0a20  ``FollowedBy``. 
-0002a730: 2020 2061 6c77 6179 7320 7265 7475 726e     always return
-0002a740: 7320 6120 6e75 6c6c 2074 6f6b 656e 206c  s a null token l
-0002a750: 6973 742e 2049 6620 616e 7920 7265 7375  ist. If any resu
-0002a760: 6c74 7320 6e61 6d65 7320 6172 6520 6465  lts names are de
-0002a770: 6669 6e65 640a 2020 2020 696e 2074 6865  fined.    in the
-0002a780: 206c 6f6f 6b61 6865 6164 2065 7870 7265   lookahead expre
-0002a790: 7373 696f 6e2c 2074 686f 7365 202a 7769  ssion, those *wi
-0002a7a0: 6c6c 2a20 6265 2072 6574 7572 6e65 6420  ll* be returned 
-0002a7b0: 666f 7220 6163 6365 7373 2062 790a 2020  for access by.  
-0002a7c0: 2020 6e61 6d65 2e0a 0a20 2020 2045 7861    name...    Exa
-0002a7d0: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
-0002a7e0: 2320 7573 6520 466f 6c6c 6f77 6564 4279  # use FollowedBy
-0002a7f0: 2074 6f20 6d61 7463 6820 6120 6c61 6265   to match a labe
-0002a800: 6c20 6f6e 6c79 2069 6620 6974 2069 7320  l only if it is 
-0002a810: 666f 6c6c 6f77 6564 2062 7920 6120 273a  followed by a ':
-0002a820: 270a 2020 2020 2020 2020 6461 7461 5f77  '.        data_w
-0002a830: 6f72 6420 3d20 576f 7264 2861 6c70 6861  ord = Word(alpha
-0002a840: 7329 0a20 2020 2020 2020 206c 6162 656c  s).        label
-0002a850: 203d 2064 6174 615f 776f 7264 202b 2046   = data_word + F
-0002a860: 6f6c 6c6f 7765 6442 7928 273a 2729 0a20  ollowedBy(':'). 
-0002a870: 2020 2020 2020 2061 7474 725f 6578 7072         attr_expr
-0002a880: 203d 2047 726f 7570 286c 6162 656c 202b   = Group(label +
-0002a890: 2053 7570 7072 6573 7328 273a 2729 202b   Suppress(':') +
-0002a8a0: 204f 6e65 4f72 4d6f 7265 2864 6174 615f   OneOrMore(data_
-0002a8b0: 776f 7264 2c20 7374 6f70 5f6f 6e3d 6c61  word, stop_on=la
-0002a8c0: 6265 6c29 2e73 6574 5f70 6172 7365 5f61  bel).set_parse_a
-0002a8d0: 6374 696f 6e28 2720 272e 6a6f 696e 2929  ction(' '.join))
-0002a8e0: 0a0a 2020 2020 2020 2020 6174 7472 5f65  ..        attr_e
-0002a8f0: 7870 725b 312c 202e 2e2e 5d2e 7061 7273  xpr[1, ...].pars
-0002a900: 655f 7374 7269 6e67 2822 7368 6170 653a  e_string("shape:
-0002a910: 2053 5155 4152 4520 636f 6c6f 723a 2042   SQUARE color: B
-0002a920: 4c41 434b 2070 6f73 6e3a 2075 7070 6572  LACK posn: upper
-0002a930: 206c 6566 7422 292e 7070 7269 6e74 2829   left").pprint()
-0002a940: 0a0a 2020 2020 7072 696e 7473 3a3a 0a0a  ..    prints::..
-0002a950: 2020 2020 2020 2020 5b5b 2773 6861 7065          [['shape
-0002a960: 272c 2027 5351 5541 5245 275d 2c20 5b27  ', 'SQUARE'], ['
-0002a970: 636f 6c6f 7227 2c20 2742 4c41 434b 275d  color', 'BLACK']
-0002a980: 2c20 5b27 706f 736e 272c 2027 7570 7065  , ['posn', 'uppe
-0002a990: 7220 6c65 6674 275d 5d0a 2020 2020 2222  r left']].    ""
-0002a9a0: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-0002a9b0: 745f 5f28 7365 6c66 2c20 6578 7072 3a20  t__(self, expr: 
-0002a9c0: 556e 696f 6e5b 5061 7273 6572 456c 656d  Union[ParserElem
-0002a9d0: 656e 742c 2073 7472 5d29 3a0a 2020 2020  ent, str]):.    
-0002a9e0: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
-0002a9f0: 6974 5f5f 2865 7870 7229 0a20 2020 2020  it__(expr).     
-0002aa00: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
-0002aa10: 6e45 6d70 7479 203d 2054 7275 650a 0a20  nEmpty = True.. 
-0002aa20: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
-0002aa30: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-0002aa40: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
-0002aa50: 5472 7565 293a 0a20 2020 2020 2020 2023  True):.        #
-0002aa60: 2062 7920 7573 696e 6720 7365 6c66 2e5f   by using self._
-0002aa70: 6578 7072 2e70 6172 7365 2061 6e64 2064  expr.parse and d
-0002aa80: 656c 6574 696e 6720 7468 6520 636f 6e74  eleting the cont
-0002aa90: 656e 7473 206f 6620 7468 6520 7265 7475  ents of the retu
-0002aaa0: 726e 6564 2050 6172 7365 5265 7375 6c74  rned ParseResult
-0002aab0: 7320 6c69 7374 0a20 2020 2020 2020 2023  s list.        #
-0002aac0: 2077 6520 6b65 6570 2061 6e79 206e 616d   we keep any nam
-0002aad0: 6564 2072 6573 756c 7473 2074 6861 7420  ed results that 
-0002aae0: 7765 7265 2064 6566 696e 6564 2069 6e20  were defined in 
-0002aaf0: 7468 6520 466f 6c6c 6f77 6564 4279 2065  the FollowedBy e
-0002ab00: 7870 7265 7373 696f 6e0a 2020 2020 2020  xpression.      
-0002ab10: 2020 5f2c 2072 6574 203d 2073 656c 662e    _, ret = self.
-0002ab20: 6578 7072 2e5f 7061 7273 6528 696e 7374  expr._parse(inst
-0002ab30: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-0002ab40: 696f 6e73 3d64 6f41 6374 696f 6e73 290a  ions=doActions).
-0002ab50: 2020 2020 2020 2020 6465 6c20 7265 745b          del ret[
-0002ab60: 3a5d 0a0a 2020 2020 2020 2020 7265 7475  :]..        retu
-0002ab70: 726e 206c 6f63 2c20 7265 740a 0a0a 636c  rn loc, ret...cl
-0002ab80: 6173 7320 5072 6563 6564 6564 4279 2850  ass PrecededBy(P
-0002ab90: 6172 7365 456c 656d 656e 7445 6e68 616e  arseElementEnhan
-0002aba0: 6365 293a 0a20 2020 2022 2222 4c6f 6f6b  ce):.    """Look
-0002abb0: 6265 6869 6e64 206d 6174 6368 696e 6720  behind matching 
-0002abc0: 6f66 2074 6865 2067 6976 656e 2070 6172  of the given par
-0002abd0: 7365 2065 7870 7265 7373 696f 6e2e 0a20  se expression.. 
-0002abe0: 2020 2060 6050 7265 6365 6465 6442 7960     ``PrecededBy`
-0002abf0: 6020 646f 6573 206e 6f74 2061 6476 616e  ` does not advan
-0002ac00: 6365 2074 6865 2070 6172 7369 6e67 2070  ce the parsing p
-0002ac10: 6f73 6974 696f 6e20 7769 7468 696e 2074  osition within t
-0002ac20: 6865 0a20 2020 2069 6e70 7574 2073 7472  he.    input str
-0002ac30: 696e 672c 2069 7420 6f6e 6c79 2076 6572  ing, it only ver
-0002ac40: 6966 6965 7320 7468 6174 2074 6865 2073  ifies that the s
-0002ac50: 7065 6369 6669 6564 2070 6172 7365 2065  pecified parse e
-0002ac60: 7870 7265 7373 696f 6e0a 2020 2020 6d61  xpression.    ma
-0002ac70: 7463 6865 7320 7072 696f 7220 746f 2074  tches prior to t
-0002ac80: 6865 2063 7572 7265 6e74 2070 6f73 6974  he current posit
-0002ac90: 696f 6e2e 2020 6060 5072 6563 6564 6564  ion.  ``Preceded
-0002aca0: 4279 6060 2061 6c77 6179 730a 2020 2020  By`` always.    
-0002acb0: 7265 7475 726e 7320 6120 6e75 6c6c 2074  returns a null t
-0002acc0: 6f6b 656e 206c 6973 742c 2062 7574 2069  oken list, but i
-0002acd0: 6620 6120 7265 7375 6c74 7320 6e61 6d65  f a results name
-0002ace0: 2069 7320 6465 6669 6e65 6420 6f6e 2074   is defined on t
-0002acf0: 6865 0a20 2020 2067 6976 656e 2065 7870  he.    given exp
-0002ad00: 7265 7373 696f 6e2c 2069 7420 6973 2072  ression, it is r
-0002ad10: 6574 7572 6e65 642e 0a0a 2020 2020 5061  eturned...    Pa
-0002ad20: 7261 6d65 7465 7273 3a0a 0a20 2020 202d  rameters:..    -
-0002ad30: 2060 6065 7870 7260 6020 2d20 6578 7072   ``expr`` - expr
-0002ad40: 6573 7369 6f6e 2074 6861 7420 6d75 7374  ession that must
-0002ad50: 206d 6174 6368 2070 7269 6f72 2074 6f20   match prior to 
-0002ad60: 7468 6520 6375 7272 656e 7420 7061 7273  the current pars
-0002ad70: 650a 2020 2020 2020 6c6f 6361 7469 6f6e  e.      location
-0002ad80: 0a20 2020 202d 2060 6072 6574 7265 6174  .    - ``retreat
-0002ad90: 6060 202d 2028 6465 6661 756c 743d 2060  `` - (default= `
-0002ada0: 604e 6f6e 6560 6029 202d 2028 696e 7429  `None``) - (int)
-0002adb0: 206d 6178 696d 756d 206e 756d 6265 7220   maximum number 
-0002adc0: 6f66 2063 6861 7261 6374 6572 730a 2020  of characters.  
-0002add0: 2020 2020 746f 206c 6f6f 6b62 6568 696e      to lookbehin
-0002ade0: 6420 7072 696f 7220 746f 2074 6865 2063  d prior to the c
-0002adf0: 7572 7265 6e74 2070 6172 7365 206c 6f63  urrent parse loc
-0002ae00: 6174 696f 6e0a 0a20 2020 2049 6620 7468  ation..    If th
-0002ae10: 6520 6c6f 6f6b 6265 6869 6e64 2065 7870  e lookbehind exp
-0002ae20: 7265 7373 696f 6e20 6973 2061 2073 7472  ression is a str
-0002ae30: 696e 672c 203a 636c 6173 733a 604c 6974  ing, :class:`Lit
-0002ae40: 6572 616c 602c 0a20 2020 203a 636c 6173  eral`,.    :clas
-0002ae50: 733a 604b 6579 776f 7264 602c 206f 7220  s:`Keyword`, or 
-0002ae60: 6120 3a63 6c61 7373 3a60 576f 7264 6020  a :class:`Word` 
-0002ae70: 6f72 203a 636c 6173 733a 6043 6861 7273  or :class:`Chars
-0002ae80: 4e6f 7449 6e60 0a20 2020 2077 6974 6820  NotIn`.    with 
-0002ae90: 6120 7370 6563 6966 6965 6420 6578 6163  a specified exac
-0002aea0: 7420 6f72 206d 6178 696d 756d 206c 656e  t or maximum len
-0002aeb0: 6774 682c 2074 6865 6e20 7468 6520 7265  gth, then the re
-0002aec0: 7472 6561 740a 2020 2020 7061 7261 6d65  treat.    parame
-0002aed0: 7465 7220 6973 206e 6f74 2072 6571 7569  ter is not requi
-0002aee0: 7265 642e 204f 7468 6572 7769 7365 2c20  red. Otherwise, 
-0002aef0: 7265 7472 6561 7420 6d75 7374 2062 6520  retreat must be 
-0002af00: 7370 6563 6966 6965 6420 746f 0a20 2020  specified to.   
-0002af10: 2067 6976 6520 6120 6d61 7869 6d75 6d20   give a maximum 
-0002af20: 6e75 6d62 6572 206f 6620 6368 6172 6163  number of charac
-0002af30: 7465 7273 2074 6f20 6c6f 6f6b 2062 6163  ters to look bac
-0002af40: 6b20 6672 6f6d 0a20 2020 2074 6865 2063  k from.    the c
-0002af50: 7572 7265 6e74 2070 6172 7365 2070 6f73  urrent parse pos
-0002af60: 6974 696f 6e20 666f 7220 6120 6c6f 6f6b  ition for a look
-0002af70: 6265 6869 6e64 206d 6174 6368 2e0a 0a20  behind match... 
-0002af80: 2020 2045 7861 6d70 6c65 3a3a 0a0a 2020     Example::..  
-0002af90: 2020 2020 2020 2320 5642 2d73 7479 6c65        # VB-style
-0002afa0: 2076 6172 6961 626c 6520 6e61 6d65 7320   variable names 
-0002afb0: 7769 7468 2074 7970 6520 7072 6566 6978  with type prefix
-0002afc0: 6573 0a20 2020 2020 2020 2069 6e74 5f76  es.        int_v
-0002afd0: 6172 203d 2050 7265 6365 6465 6442 7928  ar = PrecededBy(
-0002afe0: 2223 2229 202b 2070 7970 6172 7369 6e67  "#") + pyparsing
-0002aff0: 5f63 6f6d 6d6f 6e2e 6964 656e 7469 6669  _common.identifi
-0002b000: 6572 0a20 2020 2020 2020 2073 7472 5f76  er.        str_v
-0002b010: 6172 203d 2050 7265 6365 6465 6442 7928  ar = PrecededBy(
-0002b020: 2224 2229 202b 2070 7970 6172 7369 6e67  "$") + pyparsing
-0002b030: 5f63 6f6d 6d6f 6e2e 6964 656e 7469 6669  _common.identifi
-0002b040: 6572 0a0a 2020 2020 2222 220a 0a20 2020  er..    """..   
-0002b050: 2064 6566 205f 5f69 6e69 745f 5f28 0a20   def __init__(. 
-0002b060: 2020 2020 2020 2073 656c 662c 2065 7870         self, exp
-0002b070: 723a 2055 6e69 6f6e 5b50 6172 7365 7245  r: Union[ParserE
-0002b080: 6c65 6d65 6e74 2c20 7374 725d 2c20 7265  lement, str], re
-0002b090: 7472 6561 743a 2074 7970 696e 672e 4f70  treat: typing.Op
-0002b0a0: 7469 6f6e 616c 5b69 6e74 5d20 3d20 4e6f  tional[int] = No
-0002b0b0: 6e65 0a20 2020 2029 3a0a 2020 2020 2020  ne.    ):.      
-0002b0c0: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-0002b0d0: 5f5f 2865 7870 7229 0a20 2020 2020 2020  __(expr).       
-0002b0e0: 2073 656c 662e 6578 7072 203d 2073 656c   self.expr = sel
-0002b0f0: 662e 6578 7072 2829 2e6c 6561 7665 5f77  f.expr().leave_w
-0002b100: 6869 7465 7370 6163 6528 290a 2020 2020  hitespace().    
-0002b110: 2020 2020 7365 6c66 2e6d 6179 5265 7475      self.mayRetu
-0002b120: 726e 456d 7074 7920 3d20 5472 7565 0a20  rnEmpty = True. 
-0002b130: 2020 2020 2020 2073 656c 662e 6d61 7949         self.mayI
-0002b140: 6e64 6578 4572 726f 7220 3d20 4661 6c73  ndexError = Fals
-0002b150: 650a 2020 2020 2020 2020 7365 6c66 2e65  e.        self.e
-0002b160: 7861 6374 203d 2046 616c 7365 0a20 2020  xact = False.   
-0002b170: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0002b180: 6365 2865 7870 722c 2073 7472 5f74 7970  ce(expr, str_typ
-0002b190: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-0002b1a0: 6578 7072 203d 2074 7970 696e 672e 6361  expr = typing.ca
-0002b1b0: 7374 2873 7472 2c20 6578 7072 290a 2020  st(str, expr).  
-0002b1c0: 2020 2020 2020 2020 2020 7265 7472 6561            retrea
-0002b1d0: 7420 3d20 6c65 6e28 6578 7072 290a 2020  t = len(expr).  
-0002b1e0: 2020 2020 2020 2020 2020 7365 6c66 2e65            self.e
-0002b1f0: 7861 6374 203d 2054 7275 650a 2020 2020  xact = True.    
-0002b200: 2020 2020 656c 6966 2069 7369 6e73 7461      elif isinsta
-0002b210: 6e63 6528 6578 7072 2c20 284c 6974 6572  nce(expr, (Liter
-0002b220: 616c 2c20 4b65 7977 6f72 6429 293a 0a20  al, Keyword)):. 
-0002b230: 2020 2020 2020 2020 2020 2072 6574 7265             retre
-0002b240: 6174 203d 2065 7870 722e 6d61 7463 684c  at = expr.matchL
-0002b250: 656e 0a20 2020 2020 2020 2020 2020 2073  en.            s
-0002b260: 656c 662e 6578 6163 7420 3d20 5472 7565  elf.exact = True
-0002b270: 0a20 2020 2020 2020 2065 6c69 6620 6973  .        elif is
-0002b280: 696e 7374 616e 6365 2865 7870 722c 2028  instance(expr, (
-0002b290: 576f 7264 2c20 4368 6172 734e 6f74 496e  Word, CharsNotIn
-0002b2a0: 2929 2061 6e64 2065 7870 722e 6d61 784c  )) and expr.maxL
-0002b2b0: 656e 2021 3d20 5f4d 4158 5f49 4e54 3a0a  en != _MAX_INT:.
-0002b2c0: 2020 2020 2020 2020 2020 2020 7265 7472              retr
-0002b2d0: 6561 7420 3d20 6578 7072 2e6d 6178 4c65  eat = expr.maxLe
-0002b2e0: 6e0a 2020 2020 2020 2020 2020 2020 7365  n.            se
-0002b2f0: 6c66 2e65 7861 6374 203d 2054 7275 650a  lf.exact = True.
-0002b300: 2020 2020 2020 2020 656c 6966 2069 7369          elif isi
-0002b310: 6e73 7461 6e63 6528 6578 7072 2c20 506f  nstance(expr, Po
-0002b320: 7369 7469 6f6e 546f 6b65 6e29 3a0a 2020  sitionToken):.  
-0002b330: 2020 2020 2020 2020 2020 7265 7472 6561            retrea
-0002b340: 7420 3d20 300a 2020 2020 2020 2020 2020  t = 0.          
-0002b350: 2020 7365 6c66 2e65 7861 6374 203d 2054    self.exact = T
-0002b360: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
-0002b370: 2e72 6574 7265 6174 203d 2072 6574 7265  .retreat = retre
-0002b380: 6174 0a20 2020 2020 2020 2073 656c 662e  at.        self.
-0002b390: 6572 726d 7367 203d 2022 6e6f 7420 7072  errmsg = "not pr
-0002b3a0: 6563 6564 6564 2062 7920 2220 2b20 7374  eceded by " + st
-0002b3b0: 7228 6578 7072 290a 2020 2020 2020 2020  r(expr).        
-0002b3c0: 7365 6c66 2e73 6b69 7057 6869 7465 7370  self.skipWhitesp
-0002b3d0: 6163 6520 3d20 4661 6c73 650a 2020 2020  ace = False.    
-0002b3e0: 2020 2020 7365 6c66 2e70 6172 7365 4163      self.parseAc
-0002b3f0: 7469 6f6e 2e61 7070 656e 6428 6c61 6d62  tion.append(lamb
-0002b400: 6461 2073 2c20 6c2c 2074 3a20 742e 5f5f  da s, l, t: t.__
-0002b410: 6465 6c69 7465 6d5f 5f28 736c 6963 6528  delitem__(slice(
-0002b420: 4e6f 6e65 2c20 4e6f 6e65 2929 290a 0a20  None, None))).. 
-0002b430: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
-0002b440: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-0002b450: 206c 6f63 3d30 2c20 646f 4163 7469 6f6e   loc=0, doAction
-0002b460: 733d 5472 7565 293a 0a20 2020 2020 2020  s=True):.       
-0002b470: 2069 6620 7365 6c66 2e65 7861 6374 3a0a   if self.exact:.
-0002b480: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-0002b490: 6f63 203c 2073 656c 662e 7265 7472 6561  oc < self.retrea
-0002b4a0: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-0002b4b0: 2020 2072 6169 7365 2050 6172 7365 4578     raise ParseEx
-0002b4c0: 6365 7074 696f 6e28 696e 7374 7269 6e67  ception(instring
-0002b4d0: 2c20 6c6f 632c 2073 656c 662e 6572 726d  , loc, self.errm
-0002b4e0: 7367 290a 2020 2020 2020 2020 2020 2020  sg).            
-0002b4f0: 7374 6172 7420 3d20 6c6f 6320 2d20 7365  start = loc - se
-0002b500: 6c66 2e72 6574 7265 6174 0a20 2020 2020  lf.retreat.     
-0002b510: 2020 2020 2020 205f 2c20 7265 7420 3d20         _, ret = 
-0002b520: 7365 6c66 2e65 7870 722e 5f70 6172 7365  self.expr._parse
-0002b530: 2869 6e73 7472 696e 672c 2073 7461 7274  (instring, start
-0002b540: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-0002b550: 2020 2020 2020 2020 2020 2020 2320 7265              # re
-0002b560: 7472 6561 7420 7370 6563 6966 6965 6420  treat specified 
-0002b570: 6120 6d61 7869 6d75 6d20 6c6f 6f6b 6265  a maximum lookbe
-0002b580: 6869 6e64 2077 696e 646f 772c 2069 7465  hind window, ite
-0002b590: 7261 7465 0a20 2020 2020 2020 2020 2020  rate.           
-0002b5a0: 2074 6573 745f 6578 7072 203d 2073 656c   test_expr = sel
-0002b5b0: 662e 6578 7072 202b 2053 7472 696e 6745  f.expr + StringE
-0002b5c0: 6e64 2829 0a20 2020 2020 2020 2020 2020  nd().           
-0002b5d0: 2069 6e73 7472 696e 675f 736c 6963 6520   instring_slice 
-0002b5e0: 3d20 696e 7374 7269 6e67 5b6d 6178 2830  = instring[max(0
-0002b5f0: 2c20 6c6f 6320 2d20 7365 6c66 2e72 6574  , loc - self.ret
-0002b600: 7265 6174 2920 3a20 6c6f 635d 0a20 2020  reat) : loc].   
-0002b610: 2020 2020 2020 2020 206c 6173 745f 6578           last_ex
-0002b620: 7072 203d 2050 6172 7365 4578 6365 7074  pr = ParseExcept
-0002b630: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
-0002b640: 632c 2073 656c 662e 6572 726d 7367 290a  c, self.errmsg).
-0002b650: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-0002b660: 6f66 6673 6574 2069 6e20 7261 6e67 6528  offset in range(
-0002b670: 312c 206d 696e 286c 6f63 2c20 7365 6c66  1, min(loc, self
-0002b680: 2e72 6574 7265 6174 202b 2031 2920 2b20  .retreat + 1) + 
-0002b690: 3129 3a0a 2020 2020 2020 2020 2020 2020  1):.            
-0002b6a0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-0002b6b0: 2020 2020 2020 2020 2020 2020 2023 2070               # p
-0002b6c0: 7269 6e74 2827 7472 7969 6e67 272c 206f  rint('trying', o
-0002b6d0: 6666 7365 742c 2069 6e73 7472 696e 675f  ffset, instring_
-0002b6e0: 736c 6963 652c 2072 6570 7228 696e 7374  slice, repr(inst
-0002b6f0: 7269 6e67 5f73 6c69 6365 5b6c 6f63 202d  ring_slice[loc -
-0002b700: 206f 6666 7365 743a 5d29 290a 2020 2020   offset:])).    
-0002b710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b720: 5f2c 2072 6574 203d 2074 6573 745f 6578  _, ret = test_ex
-0002b730: 7072 2e5f 7061 7273 6528 0a20 2020 2020  pr._parse(.     
-0002b740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b750: 2020 2069 6e73 7472 696e 675f 736c 6963     instring_slic
-0002b760: 652c 206c 656e 2869 6e73 7472 696e 675f  e, len(instring_
-0002b770: 736c 6963 6529 202d 206f 6666 7365 740a  slice) - offset.
-0002b780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b790: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
-0002b7a0: 2020 2020 2020 6578 6365 7074 2050 6172        except Par
-0002b7b0: 7365 4261 7365 4578 6365 7074 696f 6e20  seBaseException 
-0002b7c0: 6173 2070 6265 3a0a 2020 2020 2020 2020  as pbe:.        
-0002b7d0: 2020 2020 2020 2020 2020 2020 6c61 7374              last
-0002b7e0: 5f65 7870 7220 3d20 7062 650a 2020 2020  _expr = pbe.    
-0002b7f0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0002b800: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0002b810: 2020 2020 2020 6272 6561 6b0a 2020 2020        break.    
-0002b820: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0002b830: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-0002b840: 6973 6520 6c61 7374 5f65 7870 720a 2020  ise last_expr.  
-0002b850: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
-0002b860: 2c20 7265 740a 0a0a 636c 6173 7320 4c6f  , ret...class Lo
-0002b870: 6361 7465 6428 5061 7273 6545 6c65 6d65  cated(ParseEleme
-0002b880: 6e74 456e 6861 6e63 6529 3a0a 2020 2020  ntEnhance):.    
-0002b890: 2222 220a 2020 2020 4465 636f 7261 7465  """.    Decorate
-0002b8a0: 7320 6120 7265 7475 726e 6564 2074 6f6b  s a returned tok
-0002b8b0: 656e 2077 6974 6820 6974 7320 7374 6172  en with its star
-0002b8c0: 7469 6e67 2061 6e64 2065 6e64 696e 670a  ting and ending.
-0002b8d0: 2020 2020 6c6f 6361 7469 6f6e 7320 696e      locations in
-0002b8e0: 2074 6865 2069 6e70 7574 2073 7472 696e   the input strin
-0002b8f0: 672e 0a0a 2020 2020 5468 6973 2068 656c  g...    This hel
-0002b900: 7065 7220 6164 6473 2074 6865 2066 6f6c  per adds the fol
-0002b910: 6c6f 7769 6e67 2072 6573 756c 7473 206e  lowing results n
-0002b920: 616d 6573 3a0a 0a20 2020 202d 2060 606c  ames:..    - ``l
-0002b930: 6f63 6e5f 7374 6172 7460 6020 2d20 6c6f  ocn_start`` - lo
-0002b940: 6361 7469 6f6e 2077 6865 7265 206d 6174  cation where mat
-0002b950: 6368 6564 2065 7870 7265 7373 696f 6e20  ched expression 
-0002b960: 6265 6769 6e73 0a20 2020 202d 2060 606c  begins.    - ``l
-0002b970: 6f63 6e5f 656e 6460 6020 2d20 6c6f 6361  ocn_end`` - loca
-0002b980: 7469 6f6e 2077 6865 7265 206d 6174 6368  tion where match
-0002b990: 6564 2065 7870 7265 7373 696f 6e20 656e  ed expression en
-0002b9a0: 6473 0a20 2020 202d 2060 6076 616c 7565  ds.    - ``value
-0002b9b0: 6060 202d 2074 6865 2061 6374 7561 6c20  `` - the actual 
-0002b9c0: 7061 7273 6564 2072 6573 756c 7473 0a0a  parsed results..
-0002b9d0: 2020 2020 4265 2063 6172 6566 756c 2069      Be careful i
-0002b9e0: 6620 7468 6520 696e 7075 7420 7465 7874  f the input text
-0002b9f0: 2063 6f6e 7461 696e 7320 6060 3c54 4142   contains ``<TAB
-0002ba00: 3e60 6020 6368 6172 6163 7465 7273 2c20  >`` characters, 
-0002ba10: 796f 750a 2020 2020 6d61 7920 7761 6e74  you.    may want
-0002ba20: 2074 6f20 6361 6c6c 203a 636c 6173 733a   to call :class:
-0002ba30: 6050 6172 7365 7245 6c65 6d65 6e74 2e70  `ParserElement.p
-0002ba40: 6172 7365 5f77 6974 685f 7461 6273 600a  arse_with_tabs`.
-0002ba50: 0a20 2020 2045 7861 6d70 6c65 3a3a 0a0a  .    Example::..
-0002ba60: 2020 2020 2020 2020 7764 203d 2057 6f72          wd = Wor
-0002ba70: 6428 616c 7068 6173 290a 2020 2020 2020  d(alphas).      
-0002ba80: 2020 666f 7220 6d61 7463 6820 696e 204c    for match in L
-0002ba90: 6f63 6174 6564 2877 6429 2e73 6561 7263  ocated(wd).searc
-0002baa0: 685f 7374 7269 6e67 2822 6c6a 7364 6631  h_string("ljsdf1
-0002bab0: 3233 6c6b 7364 6a6a 6631 3233 6c6b 6b6a  23lksdjjf123lkkj
-0002bac0: 6a31 3232 3222 293a 0a20 2020 2020 2020  j1222"):.       
-0002bad0: 2020 2020 2070 7269 6e74 286d 6174 6368       print(match
-0002bae0: 290a 0a20 2020 2070 7269 6e74 733a 3a0a  )..    prints::.
-0002baf0: 0a20 2020 2020 2020 205b 302c 205b 276c  .        [0, ['l
-0002bb00: 6a73 6466 275d 2c20 355d 0a20 2020 2020  jsdf'], 5].     
-0002bb10: 2020 205b 382c 205b 276c 6b73 646a 6a66     [8, ['lksdjjf
-0002bb20: 275d 2c20 3135 5d0a 2020 2020 2020 2020  '], 15].        
-0002bb30: 5b31 382c 205b 276c 6b6b 6a6a 275d 2c20  [18, ['lkkjj'], 
-0002bb40: 3233 5d0a 0a20 2020 2022 2222 0a0a 2020  23]..    """..  
-0002bb50: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-0002bb60: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-0002bb70: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-0002bb80: 7275 6529 3a0a 2020 2020 2020 2020 7374  rue):.        st
-0002bb90: 6172 7420 3d20 6c6f 630a 2020 2020 2020  art = loc.      
-0002bba0: 2020 6c6f 632c 2074 6f6b 656e 7320 3d20    loc, tokens = 
-0002bbb0: 7365 6c66 2e65 7870 722e 5f70 6172 7365  self.expr._parse
-0002bbc0: 2869 6e73 7472 696e 672c 2073 7461 7274  (instring, start
-0002bbd0: 2c20 646f 4163 7469 6f6e 732c 2063 616c  , doActions, cal
-0002bbe0: 6c50 7265 5061 7273 653d 4661 6c73 6529  lPreParse=False)
-0002bbf0: 0a20 2020 2020 2020 2072 6574 5f74 6f6b  .        ret_tok
-0002bc00: 656e 7320 3d20 5061 7273 6552 6573 756c  ens = ParseResul
-0002bc10: 7473 285b 7374 6172 742c 2074 6f6b 656e  ts([start, token
-0002bc20: 732c 206c 6f63 5d29 0a20 2020 2020 2020  s, loc]).       
-0002bc30: 2072 6574 5f74 6f6b 656e 735b 226c 6f63   ret_tokens["loc
-0002bc40: 6e5f 7374 6172 7422 5d20 3d20 7374 6172  n_start"] = star
-0002bc50: 740a 2020 2020 2020 2020 7265 745f 746f  t.        ret_to
-0002bc60: 6b65 6e73 5b22 7661 6c75 6522 5d20 3d20  kens["value"] = 
-0002bc70: 746f 6b65 6e73 0a20 2020 2020 2020 2072  tokens.        r
-0002bc80: 6574 5f74 6f6b 656e 735b 226c 6f63 6e5f  et_tokens["locn_
-0002bc90: 656e 6422 5d20 3d20 6c6f 630a 2020 2020  end"] = loc.    
-0002bca0: 2020 2020 6966 2073 656c 662e 7265 7375      if self.resu
-0002bcb0: 6c74 734e 616d 653a 0a20 2020 2020 2020  ltsName:.       
-0002bcc0: 2020 2020 2023 206d 7573 7420 7265 7475       # must retu
-0002bcd0: 726e 2061 7320 6120 6c69 7374 2c20 736f  rn as a list, so
-0002bce0: 2074 6861 7420 7468 6520 6e61 6d65 2077   that the name w
-0002bcf0: 696c 6c20 6265 2061 7474 6163 6865 6420  ill be attached 
-0002bd00: 746f 2074 6865 2063 6f6d 706c 6574 6520  to the complete 
-0002bd10: 6772 6f75 700a 2020 2020 2020 2020 2020  group.          
-0002bd20: 2020 7265 7475 726e 206c 6f63 2c20 5b72    return loc, [r
-0002bd30: 6574 5f74 6f6b 656e 735d 0a20 2020 2020  et_tokens].     
-0002bd40: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0002bd50: 2020 2020 2072 6574 7572 6e20 6c6f 632c       return loc,
-0002bd60: 2072 6574 5f74 6f6b 656e 730a 0a0a 636c   ret_tokens...cl
-0002bd70: 6173 7320 4e6f 7441 6e79 2850 6172 7365  ass NotAny(Parse
-0002bd80: 456c 656d 656e 7445 6e68 616e 6365 293a  ElementEnhance):
-0002bd90: 0a20 2020 2022 2222 0a20 2020 204c 6f6f  .    """.    Loo
-0002bda0: 6b61 6865 6164 2074 6f20 6469 7361 6c6c  kahead to disall
-0002bdb0: 6f77 206d 6174 6368 696e 6720 7769 7468  ow matching with
-0002bdc0: 2074 6865 2067 6976 656e 2070 6172 7365   the given parse
-0002bdd0: 2065 7870 7265 7373 696f 6e2e 0a20 2020   expression..   
-0002bde0: 2060 604e 6f74 416e 7960 6020 646f 6573   ``NotAny`` does
-0002bdf0: 202a 6e6f 742a 2061 6476 616e 6365 2074   *not* advance t
-0002be00: 6865 2070 6172 7369 6e67 2070 6f73 6974  he parsing posit
-0002be10: 696f 6e20 7769 7468 696e 2074 6865 0a20  ion within the. 
-0002be20: 2020 2069 6e70 7574 2073 7472 696e 672c     input string,
-0002be30: 2069 7420 6f6e 6c79 2076 6572 6966 6965   it only verifie
-0002be40: 7320 7468 6174 2074 6865 2073 7065 6369  s that the speci
-0002be50: 6669 6564 2070 6172 7365 2065 7870 7265  fied parse expre
-0002be60: 7373 696f 6e0a 2020 2020 646f 6573 202a  ssion.    does *
-0002be70: 6e6f 742a 206d 6174 6368 2061 7420 7468  not* match at th
-0002be80: 6520 6375 7272 656e 7420 706f 7369 7469  e current positi
-0002be90: 6f6e 2e20 2041 6c73 6f2c 2060 604e 6f74  on.  Also, ``Not
-0002bea0: 416e 7960 6020 646f 6573 0a20 2020 202a  Any`` does.    *
-0002beb0: 6e6f 742a 2073 6b69 7020 6f76 6572 206c  not* skip over l
-0002bec0: 6561 6469 6e67 2077 6869 7465 7370 6163  eading whitespac
-0002bed0: 652e 2060 604e 6f74 416e 7960 6020 616c  e. ``NotAny`` al
-0002bee0: 7761 7973 2072 6574 7572 6e73 0a20 2020  ways returns.   
-0002bef0: 2061 206e 756c 6c20 746f 6b65 6e20 6c69   a null token li
-0002bf00: 7374 2e20 204d 6179 2062 6520 636f 6e73  st.  May be cons
-0002bf10: 7472 7563 7465 6420 7573 696e 6720 7468  tructed using th
-0002bf20: 6520 6060 277e 2760 6020 6f70 6572 6174  e ``'~'`` operat
-0002bf30: 6f72 2e0a 0a20 2020 2045 7861 6d70 6c65  or...    Example
-0002bf40: 3a3a 0a0a 2020 2020 2020 2020 414e 442c  ::..        AND,
-0002bf50: 204f 522c 204e 4f54 203d 206d 6170 2843   OR, NOT = map(C
-0002bf60: 6173 656c 6573 734b 6579 776f 7264 2c20  aselessKeyword, 
-0002bf70: 2241 4e44 204f 5220 4e4f 5422 2e73 706c  "AND OR NOT".spl
-0002bf80: 6974 2829 290a 0a20 2020 2020 2020 2023  it())..        #
-0002bf90: 2074 616b 6520 6361 7265 206e 6f74 2074   take care not t
-0002bfa0: 6f20 6d69 7374 616b 6520 6b65 7977 6f72  o mistake keywor
-0002bfb0: 6473 2066 6f72 2069 6465 6e74 6966 6965  ds for identifie
-0002bfc0: 7273 0a20 2020 2020 2020 2069 6465 6e74  rs.        ident
-0002bfd0: 203d 207e 2841 4e44 207c 204f 5220 7c20   = ~(AND | OR | 
-0002bfe0: 4e4f 5429 202b 2057 6f72 6428 616c 7068  NOT) + Word(alph
-0002bff0: 6173 290a 2020 2020 2020 2020 626f 6f6c  as).        bool
-0002c000: 6561 6e5f 7465 726d 203d 204f 7074 284e  ean_term = Opt(N
-0002c010: 4f54 2920 2b20 6964 656e 740a 0a20 2020  OT) + ident..   
-0002c020: 2020 2020 2023 2076 6572 7920 6372 7564       # very crud
-0002c030: 6520 626f 6f6c 6561 6e20 6578 7072 6573  e boolean expres
-0002c040: 7369 6f6e 202d 2074 6f20 7375 7070 6f72  sion - to suppor
-0002c050: 7420 7061 7265 6e74 6865 7369 7320 6772  t parenthesis gr
-0002c060: 6f75 7073 2061 6e64 0a20 2020 2020 2020  oups and.       
-0002c070: 2023 206f 7065 7261 7469 6f6e 2068 6965   # operation hie
-0002c080: 7261 7263 6879 2c20 7573 6520 696e 6669  rarchy, use infi
-0002c090: 785f 6e6f 7461 7469 6f6e 0a20 2020 2020  x_notation.     
-0002c0a0: 2020 2062 6f6f 6c65 616e 5f65 7870 7220     boolean_expr 
-0002c0b0: 3d20 626f 6f6c 6561 6e5f 7465 726d 202b  = boolean_term +
-0002c0c0: 2028 2841 4e44 207c 204f 5229 202b 2062   ((AND | OR) + b
-0002c0d0: 6f6f 6c65 616e 5f74 6572 6d29 5b2e 2e2e  oolean_term)[...
-0002c0e0: 5d0a 0a20 2020 2020 2020 2023 2069 6e74  ]..        # int
-0002c0f0: 6567 6572 7320 7468 6174 2061 7265 2066  egers that are f
-0002c100: 6f6c 6c6f 7765 6420 6279 2022 2e22 2061  ollowed by "." a
-0002c110: 7265 2061 6374 7561 6c6c 7920 666c 6f61  re actually floa
-0002c120: 7473 0a20 2020 2020 2020 2069 6e74 6567  ts.        integ
-0002c130: 6572 203d 2057 6f72 6428 6e75 6d73 2920  er = Word(nums) 
-0002c140: 2b20 7e43 6861 7228 222e 2229 0a20 2020  + ~Char(".").   
-0002c150: 2022 2222 0a0a 2020 2020 6465 6620 5f5f   """..    def __
-0002c160: 696e 6974 5f5f 2873 656c 662c 2065 7870  init__(self, exp
-0002c170: 723a 2055 6e69 6f6e 5b50 6172 7365 7245  r: Union[ParserE
-0002c180: 6c65 6d65 6e74 2c20 7374 725d 293a 0a20  lement, str]):. 
-0002c190: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
-0002c1a0: 5f69 6e69 745f 5f28 6578 7072 290a 2020  _init__(expr).  
-0002c1b0: 2020 2020 2020 2320 646f 204e 4f54 2075        # do NOT u
-0002c1c0: 7365 2073 656c 662e 6c65 6176 655f 7768  se self.leave_wh
-0002c1d0: 6974 6573 7061 6365 2829 2c20 646f 6e27  itespace(), don'
-0002c1e0: 7420 7761 6e74 2074 6f20 7072 6f70 6167  t want to propag
-0002c1f0: 6174 6520 746f 2065 7870 7273 0a20 2020  ate to exprs.   
-0002c200: 2020 2020 2023 2073 656c 662e 6c65 6176       # self.leav
-0002c210: 655f 7768 6974 6573 7061 6365 2829 0a20  e_whitespace(). 
-0002c220: 2020 2020 2020 2073 656c 662e 736b 6970         self.skip
-0002c230: 5768 6974 6573 7061 6365 203d 2046 616c  Whitespace = Fal
-0002c240: 7365 0a0a 2020 2020 2020 2020 7365 6c66  se..        self
-0002c250: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
-0002c260: 3d20 5472 7565 0a20 2020 2020 2020 2073  = True.        s
-0002c270: 656c 662e 6572 726d 7367 203d 2022 466f  elf.errmsg = "Fo
-0002c280: 756e 6420 756e 7761 6e74 6564 2074 6f6b  und unwanted tok
-0002c290: 656e 2c20 2220 2b20 7374 7228 7365 6c66  en, " + str(self
-0002c2a0: 2e65 7870 7229 0a0a 2020 2020 6465 6620  .expr)..    def 
-0002c2b0: 7061 7273 6549 6d70 6c28 7365 6c66 2c20  parseImpl(self, 
-0002c2c0: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
-0002c2d0: 6f41 6374 696f 6e73 3d54 7275 6529 3a0a  oActions=True):.
-0002c2e0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-0002c2f0: 6578 7072 2e63 616e 5f70 6172 7365 5f6e  expr.can_parse_n
-0002c300: 6578 7428 696e 7374 7269 6e67 2c20 6c6f  ext(instring, lo
-0002c310: 6329 3a0a 2020 2020 2020 2020 2020 2020  c):.            
-0002c320: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
-0002c330: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
-0002c340: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
-0002c350: 2073 656c 6629 0a20 2020 2020 2020 2072   self).        r
-0002c360: 6574 7572 6e20 6c6f 632c 205b 5d0a 0a20  eturn loc, [].. 
-0002c370: 2020 2064 6566 205f 6765 6e65 7261 7465     def _generate
-0002c380: 4465 6661 756c 744e 616d 6528 7365 6c66  DefaultName(self
-0002c390: 2920 2d3e 2073 7472 3a0a 2020 2020 2020  ) -> str:.      
-0002c3a0: 2020 7265 7475 726e 2022 7e7b 2220 2b20    return "~{" + 
-0002c3b0: 7374 7228 7365 6c66 2e65 7870 7229 202b  str(self.expr) +
-0002c3c0: 2022 7d22 0a0a 0a63 6c61 7373 205f 4d75   "}"...class _Mu
-0002c3d0: 6c74 6970 6c65 4d61 7463 6828 5061 7273  ltipleMatch(Pars
-0002c3e0: 6545 6c65 6d65 6e74 456e 6861 6e63 6529  eElementEnhance)
-0002c3f0: 3a0a 2020 2020 6465 6620 5f5f 696e 6974  :.    def __init
-0002c400: 5f5f 280a 2020 2020 2020 2020 7365 6c66  __(.        self
-0002c410: 2c0a 2020 2020 2020 2020 6578 7072 3a20  ,.        expr: 
-0002c420: 556e 696f 6e5b 7374 722c 2050 6172 7365  Union[str, Parse
-0002c430: 7245 6c65 6d65 6e74 5d2c 0a20 2020 2020  rElement],.     
-0002c440: 2020 2073 746f 705f 6f6e 3a20 7479 7069     stop_on: typi
-0002c450: 6e67 2e4f 7074 696f 6e61 6c5b 556e 696f  ng.Optional[Unio
-0002c460: 6e5b 5061 7273 6572 456c 656d 656e 742c  n[ParserElement,
-0002c470: 2073 7472 5d5d 203d 204e 6f6e 652c 0a20   str]] = None,. 
-0002c480: 2020 2020 2020 202a 2c0a 2020 2020 2020         *,.      
-0002c490: 2020 7374 6f70 4f6e 3a20 7479 7069 6e67    stopOn: typing
-0002c4a0: 2e4f 7074 696f 6e61 6c5b 556e 696f 6e5b  .Optional[Union[
-0002c4b0: 5061 7273 6572 456c 656d 656e 742c 2073  ParserElement, s
-0002c4c0: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
-0002c4d0: 2029 3a0a 2020 2020 2020 2020 7375 7065   ):.        supe
-0002c4e0: 7228 292e 5f5f 696e 6974 5f5f 2865 7870  r().__init__(exp
-0002c4f0: 7229 0a20 2020 2020 2020 2073 746f 704f  r).        stopO
-0002c500: 6e20 3d20 7374 6f70 4f6e 206f 7220 7374  n = stopOn or st
-0002c510: 6f70 5f6f 6e0a 2020 2020 2020 2020 7365  op_on.        se
-0002c520: 6c66 2e73 6176 6541 734c 6973 7420 3d20  lf.saveAsList = 
-0002c530: 5472 7565 0a20 2020 2020 2020 2065 6e64  True.        end
-0002c540: 6572 203d 2073 746f 704f 6e0a 2020 2020  er = stopOn.    
-0002c550: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-0002c560: 6528 656e 6465 722c 2073 7472 5f74 7970  e(ender, str_typ
-0002c570: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-0002c580: 656e 6465 7220 3d20 7365 6c66 2e5f 6c69  ender = self._li
-0002c590: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
-0002c5a0: 2865 6e64 6572 290a 2020 2020 2020 2020  (ender).        
-0002c5b0: 7365 6c66 2e73 746f 704f 6e28 656e 6465  self.stopOn(ende
-0002c5c0: 7229 0a0a 2020 2020 6465 6620 7374 6f70  r)..    def stop
-0002c5d0: 4f6e 2873 656c 662c 2065 6e64 6572 2920  On(self, ender) 
-0002c5e0: 2d3e 2050 6172 7365 7245 6c65 6d65 6e74  -> ParserElement
-0002c5f0: 3a0a 2020 2020 2020 2020 6966 2069 7369  :.        if isi
-0002c600: 6e73 7461 6e63 6528 656e 6465 722c 2073  nstance(ender, s
-0002c610: 7472 5f74 7970 6529 3a0a 2020 2020 2020  tr_type):.      
-0002c620: 2020 2020 2020 656e 6465 7220 3d20 7365        ender = se
-0002c630: 6c66 2e5f 6c69 7465 7261 6c53 7472 696e  lf._literalStrin
-0002c640: 6743 6c61 7373 2865 6e64 6572 290a 2020  gClass(ender).  
-0002c650: 2020 2020 2020 7365 6c66 2e6e 6f74 5f65        self.not_e
-0002c660: 6e64 6572 203d 207e 656e 6465 7220 6966  nder = ~ender if
-0002c670: 2065 6e64 6572 2069 7320 6e6f 7420 4e6f   ender is not No
-0002c680: 6e65 2065 6c73 6520 4e6f 6e65 0a20 2020  ne else None.   
-0002c690: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-0002c6a0: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
-0002c6b0: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
-0002c6c0: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
-0002c6d0: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
-0002c6e0: 2020 7365 6c66 5f65 7870 725f 7061 7273    self_expr_pars
-0002c6f0: 6520 3d20 7365 6c66 2e65 7870 722e 5f70  e = self.expr._p
-0002c700: 6172 7365 0a20 2020 2020 2020 2073 656c  arse.        sel
-0002c710: 665f 736b 6970 5f69 676e 6f72 6162 6c65  f_skip_ignorable
-0002c720: 7320 3d20 7365 6c66 2e5f 736b 6970 4967  s = self._skipIg
-0002c730: 6e6f 7261 626c 6573 0a20 2020 2020 2020  norables.       
-0002c740: 2063 6865 636b 5f65 6e64 6572 203d 2073   check_ender = s
-0002c750: 656c 662e 6e6f 745f 656e 6465 7220 6973  elf.not_ender is
-0002c760: 206e 6f74 204e 6f6e 650a 2020 2020 2020   not None.      
-0002c770: 2020 6966 2063 6865 636b 5f65 6e64 6572    if check_ender
-0002c780: 3a0a 2020 2020 2020 2020 2020 2020 7472  :.            tr
-0002c790: 795f 6e6f 745f 656e 6465 7220 3d20 7365  y_not_ender = se
-0002c7a0: 6c66 2e6e 6f74 5f65 6e64 6572 2e74 7279  lf.not_ender.try
-0002c7b0: 5f70 6172 7365 0a0a 2020 2020 2020 2020  _parse..        
-0002c7c0: 2320 6d75 7374 2062 6520 6174 206c 6561  # must be at lea
-0002c7d0: 7374 206f 6e65 2028 6275 7420 6669 7273  st one (but firs
-0002c7e0: 7420 7365 6520 6966 2077 6520 6172 6520  t see if we are 
-0002c7f0: 7468 6520 7374 6f70 4f6e 2073 656e 7469  the stopOn senti
-0002c800: 6e65 6c3b 0a20 2020 2020 2020 2023 2069  nel;.        # i
-0002c810: 6620 736f 2c20 6661 696c 290a 2020 2020  f so, fail).    
-0002c820: 2020 2020 6966 2063 6865 636b 5f65 6e64      if check_end
-0002c830: 6572 3a0a 2020 2020 2020 2020 2020 2020  er:.            
-0002c840: 7472 795f 6e6f 745f 656e 6465 7228 696e  try_not_ender(in
-0002c850: 7374 7269 6e67 2c20 6c6f 6329 0a20 2020  string, loc).   
-0002c860: 2020 2020 206c 6f63 2c20 746f 6b65 6e73       loc, tokens
-0002c870: 203d 2073 656c 665f 6578 7072 5f70 6172   = self_expr_par
-0002c880: 7365 2869 6e73 7472 696e 672c 206c 6f63  se(instring, loc
-0002c890: 2c20 646f 4163 7469 6f6e 7329 0a20 2020  , doActions).   
-0002c8a0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-0002c8b0: 2020 2020 2020 6861 7349 676e 6f72 6545        hasIgnoreE
-0002c8c0: 7870 7273 203d 206e 6f74 206e 6f74 2073  xprs = not not s
-0002c8d0: 656c 662e 6967 6e6f 7265 4578 7072 730a  elf.ignoreExprs.
-0002c8e0: 2020 2020 2020 2020 2020 2020 7768 696c              whil
-0002c8f0: 6520 313a 0a20 2020 2020 2020 2020 2020  e 1:.           
-0002c900: 2020 2020 2069 6620 6368 6563 6b5f 656e       if check_en
-0002c910: 6465 723a 0a20 2020 2020 2020 2020 2020  der:.           
-0002c920: 2020 2020 2020 2020 2074 7279 5f6e 6f74           try_not
-0002c930: 5f65 6e64 6572 2869 6e73 7472 696e 672c  _ender(instring,
-0002c940: 206c 6f63 290a 2020 2020 2020 2020 2020   loc).          
-0002c950: 2020 2020 2020 6966 2068 6173 4967 6e6f        if hasIgno
-0002c960: 7265 4578 7072 733a 0a20 2020 2020 2020  reExprs:.       
-0002c970: 2020 2020 2020 2020 2020 2020 2070 7265               pre
-0002c980: 6c6f 6320 3d20 7365 6c66 5f73 6b69 705f  loc = self_skip_
-0002c990: 6967 6e6f 7261 626c 6573 2869 6e73 7472  ignorables(instr
-0002c9a0: 696e 672c 206c 6f63 290a 2020 2020 2020  ing, loc).      
-0002c9b0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-0002c9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c9d0: 2020 2020 7072 656c 6f63 203d 206c 6f63      preloc = loc
-0002c9e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002c9f0: 206c 6f63 2c20 746d 7074 6f6b 656e 7320   loc, tmptokens 
-0002ca00: 3d20 7365 6c66 5f65 7870 725f 7061 7273  = self_expr_pars
-0002ca10: 6528 696e 7374 7269 6e67 2c20 7072 656c  e(instring, prel
-0002ca20: 6f63 2c20 646f 4163 7469 6f6e 7329 0a20  oc, doActions). 
-0002ca30: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0002ca40: 6f6b 656e 7320 2b3d 2074 6d70 746f 6b65  okens += tmptoke
-0002ca50: 6e73 0a20 2020 2020 2020 2065 7863 6570  ns.        excep
-0002ca60: 7420 2850 6172 7365 4578 6365 7074 696f  t (ParseExceptio
-0002ca70: 6e2c 2049 6e64 6578 4572 726f 7229 3a0a  n, IndexError):.
-0002ca80: 2020 2020 2020 2020 2020 2020 7061 7373              pass
-0002ca90: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0002caa0: 206c 6f63 2c20 746f 6b65 6e73 0a0a 2020   loc, tokens..  
-0002cab0: 2020 6465 6620 5f73 6574 5265 7375 6c74    def _setResult
-0002cac0: 734e 616d 6528 7365 6c66 2c20 6e61 6d65  sName(self, name
-0002cad0: 2c20 6c69 7374 416c 6c4d 6174 6368 6573  , listAllMatches
-0002cae0: 3d46 616c 7365 293a 0a20 2020 2020 2020  =False):.       
-0002caf0: 2069 6620 280a 2020 2020 2020 2020 2020   if (.          
-0002cb00: 2020 5f5f 6469 6167 5f5f 2e77 6172 6e5f    __diag__.warn_
-0002cb10: 756e 6772 6f75 7065 645f 6e61 6d65 645f  ungrouped_named_
-0002cb20: 746f 6b65 6e73 5f69 6e5f 636f 6c6c 6563  tokens_in_collec
-0002cb30: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
-0002cb40: 2061 6e64 2044 6961 676e 6f73 7469 6373   and Diagnostics
-0002cb50: 2e77 6172 6e5f 756e 6772 6f75 7065 645f  .warn_ungrouped_
-0002cb60: 6e61 6d65 645f 746f 6b65 6e73 5f69 6e5f  named_tokens_in_
-0002cb70: 636f 6c6c 6563 7469 6f6e 0a20 2020 2020  collection.     
-0002cb80: 2020 2020 2020 206e 6f74 2069 6e20 7365         not in se
-0002cb90: 6c66 2e73 7570 7072 6573 735f 7761 726e  lf.suppress_warn
-0002cba0: 696e 6773 5f0a 2020 2020 2020 2020 293a  ings_.        ):
-0002cbb0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-0002cbc0: 2065 2069 6e20 5b73 656c 662e 6578 7072   e in [self.expr
-0002cbd0: 5d20 2b20 7365 6c66 2e65 7870 722e 7265  ] + self.expr.re
-0002cbe0: 6375 7273 6528 293a 0a20 2020 2020 2020  curse():.       
-0002cbf0: 2020 2020 2020 2020 2069 6620 280a 2020           if (.  
-0002cc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cc10: 2020 6973 696e 7374 616e 6365 2865 2c20    isinstance(e, 
-0002cc20: 5061 7273 6572 456c 656d 656e 7429 0a20  ParserElement). 
-0002cc30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cc40: 2020 2061 6e64 2065 2e72 6573 756c 7473     and e.results
-0002cc50: 4e61 6d65 0a20 2020 2020 2020 2020 2020  Name.           
-0002cc60: 2020 2020 2020 2020 2061 6e64 2044 6961           and Dia
-0002cc70: 676e 6f73 7469 6373 2e77 6172 6e5f 756e  gnostics.warn_un
-0002cc80: 6772 6f75 7065 645f 6e61 6d65 645f 746f  grouped_named_to
-0002cc90: 6b65 6e73 5f69 6e5f 636f 6c6c 6563 7469  kens_in_collecti
-0002cca0: 6f6e 0a20 2020 2020 2020 2020 2020 2020  on.             
-0002ccb0: 2020 2020 2020 206e 6f74 2069 6e20 652e         not in e.
-0002ccc0: 7375 7070 7265 7373 5f77 6172 6e69 6e67  suppress_warning
-0002ccd0: 735f 0a20 2020 2020 2020 2020 2020 2020  s_.             
-0002cce0: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
-0002ccf0: 2020 2020 2020 2020 2020 7761 726e 696e            warnin
-0002cd00: 6773 2e77 6172 6e28 0a20 2020 2020 2020  gs.warn(.       
-0002cd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cd20: 2022 7b7d 3a20 7365 7474 696e 6720 7265   "{}: setting re
-0002cd30: 7375 6c74 7320 6e61 6d65 207b 2172 7d20  sults name {!r} 
-0002cd40: 6f6e 207b 7d20 6578 7072 6573 7369 6f6e  on {} expression
-0002cd50: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-0002cd60: 2020 2020 2020 2020 2020 2022 636f 6c6c             "coll
-0002cd70: 6964 6573 2077 6974 6820 7b21 727d 206f  ides with {!r} o
-0002cd80: 6e20 636f 6e74 6169 6e65 6420 6578 7072  n contained expr
-0002cd90: 6573 7369 6f6e 222e 666f 726d 6174 280a  ession".format(.
-0002cda0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cdb0: 2020 2020 2020 2020 2020 2020 2277 6172              "war
-0002cdc0: 6e5f 756e 6772 6f75 7065 645f 6e61 6d65  n_ungrouped_name
-0002cdd0: 645f 746f 6b65 6e73 5f69 6e5f 636f 6c6c  d_tokens_in_coll
-0002cde0: 6563 7469 6f6e 222c 0a20 2020 2020 2020  ection",.       
-0002cdf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ce00: 2020 2020 206e 616d 652c 0a20 2020 2020       name,.     
-0002ce10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ce20: 2020 2020 2020 2074 7970 6528 7365 6c66         type(self
-0002ce30: 292e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  ).__name__,.    
-0002ce40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ce50: 2020 2020 2020 2020 652e 7265 7375 6c74          e.result
-0002ce60: 734e 616d 652c 0a20 2020 2020 2020 2020  sName,.         
-0002ce70: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-0002ce80: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002ce90: 2020 2020 2020 2020 2020 7374 6163 6b6c            stackl
-0002cea0: 6576 656c 3d33 2c0a 2020 2020 2020 2020  evel=3,.        
-0002ceb0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
-0002cec0: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
-0002ced0: 7065 7228 292e 5f73 6574 5265 7375 6c74  per()._setResult
-0002cee0: 734e 616d 6528 6e61 6d65 2c20 6c69 7374  sName(name, list
-0002cef0: 416c 6c4d 6174 6368 6573 290a 0a0a 636c  AllMatches)...cl
-0002cf00: 6173 7320 4f6e 654f 724d 6f72 6528 5f4d  ass OneOrMore(_M
-0002cf10: 756c 7469 706c 654d 6174 6368 293a 0a20  ultipleMatch):. 
-0002cf20: 2020 2022 2222 0a20 2020 2052 6570 6574     """.    Repet
-0002cf30: 6974 696f 6e20 6f66 206f 6e65 206f 7220  ition of one or 
-0002cf40: 6d6f 7265 206f 6620 7468 6520 6769 7665  more of the give
-0002cf50: 6e20 6578 7072 6573 7369 6f6e 2e0a 0a20  n expression... 
-0002cf60: 2020 2050 6172 616d 6574 6572 733a 0a0a     Parameters:..
-0002cf70: 2020 2020 2d20 6060 6578 7072 6060 202d      - ``expr`` -
-0002cf80: 2065 7870 7265 7373 696f 6e20 7468 6174   expression that
-0002cf90: 206d 7573 7420 6d61 7463 6820 6f6e 6520   must match one 
-0002cfa0: 6f72 206d 6f72 6520 7469 6d65 730a 2020  or more times.  
-0002cfb0: 2020 2d20 6060 7374 6f70 5f6f 6e60 6020    - ``stop_on`` 
-0002cfc0: 2d20 2864 6566 6175 6c74 3d20 6060 4e6f  - (default= ``No
-0002cfd0: 6e65 6060 2920 2d20 6578 7072 6573 7369  ne``) - expressi
-0002cfe0: 6f6e 2066 6f72 2061 2074 6572 6d69 6e61  on for a termina
-0002cff0: 7469 6e67 2073 656e 7469 6e65 6c0a 2020  ting sentinel.  
-0002d000: 2020 2020 286f 6e6c 7920 7265 7175 6972      (only requir
-0002d010: 6564 2069 6620 7468 6520 7365 6e74 696e  ed if the sentin
-0002d020: 656c 2077 6f75 6c64 206f 7264 696e 6172  el would ordinar
-0002d030: 696c 7920 6d61 7463 6820 7468 6520 7265  ily match the re
-0002d040: 7065 7469 7469 6f6e 0a20 2020 2020 2065  petition.      e
-0002d050: 7870 7265 7373 696f 6e29 0a0a 2020 2020  xpression)..    
-0002d060: 4578 616d 706c 653a 3a0a 0a20 2020 2020  Example::..     
-0002d070: 2020 2064 6174 615f 776f 7264 203d 2057     data_word = W
-0002d080: 6f72 6428 616c 7068 6173 290a 2020 2020  ord(alphas).    
-0002d090: 2020 2020 6c61 6265 6c20 3d20 6461 7461      label = data
-0002d0a0: 5f77 6f72 6420 2b20 466f 6c6c 6f77 6564  _word + Followed
-0002d0b0: 4279 2827 3a27 290a 2020 2020 2020 2020  By(':').        
-0002d0c0: 6174 7472 5f65 7870 7220 3d20 4772 6f75  attr_expr = Grou
-0002d0d0: 7028 6c61 6265 6c20 2b20 5375 7070 7265  p(label + Suppre
-0002d0e0: 7373 2827 3a27 2920 2b20 4f6e 654f 724d  ss(':') + OneOrM
-0002d0f0: 6f72 6528 6461 7461 5f77 6f72 6429 2e73  ore(data_word).s
-0002d100: 6574 5f70 6172 7365 5f61 6374 696f 6e28  et_parse_action(
-0002d110: 2720 272e 6a6f 696e 2929 0a0a 2020 2020  ' '.join))..    
-0002d120: 2020 2020 7465 7874 203d 2022 7368 6170      text = "shap
-0002d130: 653a 2053 5155 4152 4520 706f 736e 3a20  e: SQUARE posn: 
-0002d140: 7570 7065 7220 6c65 6674 2063 6f6c 6f72  upper left color
-0002d150: 3a20 424c 4143 4b22 0a20 2020 2020 2020  : BLACK".       
-0002d160: 2061 7474 725f 6578 7072 5b31 2c20 2e2e   attr_expr[1, ..
-0002d170: 2e5d 2e70 6172 7365 5f73 7472 696e 6728  .].parse_string(
-0002d180: 7465 7874 292e 7070 7269 6e74 2829 2020  text).pprint()  
-0002d190: 2320 4661 696c 2120 7265 6164 2027 636f  # Fail! read 'co
-0002d1a0: 6c6f 7227 2061 7320 6461 7461 2069 6e73  lor' as data ins
-0002d1b0: 7465 6164 206f 6620 6e65 7874 206c 6162  tead of next lab
-0002d1c0: 656c 202d 3e20 5b5b 2773 6861 7065 272c  el -> [['shape',
-0002d1d0: 2027 5351 5541 5245 2063 6f6c 6f72 275d   'SQUARE color']
-0002d1e0: 5d0a 0a20 2020 2020 2020 2023 2075 7365  ]..        # use
-0002d1f0: 2073 746f 705f 6f6e 2061 7474 7269 6275   stop_on attribu
-0002d200: 7465 2066 6f72 204f 6e65 4f72 4d6f 7265  te for OneOrMore
-0002d210: 2074 6f20 6176 6f69 6420 7265 6164 696e   to avoid readin
-0002d220: 6720 6c61 6265 6c20 7374 7269 6e67 2061  g label string a
-0002d230: 7320 7061 7274 206f 6620 7468 6520 6461  s part of the da
-0002d240: 7461 0a20 2020 2020 2020 2061 7474 725f  ta.        attr_
-0002d250: 6578 7072 203d 2047 726f 7570 286c 6162  expr = Group(lab
-0002d260: 656c 202b 2053 7570 7072 6573 7328 273a  el + Suppress(':
-0002d270: 2729 202b 204f 6e65 4f72 4d6f 7265 2864  ') + OneOrMore(d
-0002d280: 6174 615f 776f 7264 2c20 7374 6f70 5f6f  ata_word, stop_o
-0002d290: 6e3d 6c61 6265 6c29 2e73 6574 5f70 6172  n=label).set_par
-0002d2a0: 7365 5f61 6374 696f 6e28 2720 272e 6a6f  se_action(' '.jo
-0002d2b0: 696e 2929 0a20 2020 2020 2020 204f 6e65  in)).        One
-0002d2c0: 4f72 4d6f 7265 2861 7474 725f 6578 7072  OrMore(attr_expr
-0002d2d0: 292e 7061 7273 655f 7374 7269 6e67 2874  ).parse_string(t
-0002d2e0: 6578 7429 2e70 7072 696e 7428 2920 2320  ext).pprint() # 
-0002d2f0: 4265 7474 6572 202d 3e20 5b5b 2773 6861  Better -> [['sha
-0002d300: 7065 272c 2027 5351 5541 5245 275d 2c20  pe', 'SQUARE'], 
-0002d310: 5b27 706f 736e 272c 2027 7570 7065 7220  ['posn', 'upper 
-0002d320: 6c65 6674 275d 2c20 5b27 636f 6c6f 7227  left'], ['color'
-0002d330: 2c20 2742 4c41 434b 275d 5d0a 0a20 2020  , 'BLACK']]..   
-0002d340: 2020 2020 2023 2063 6f75 6c64 2061 6c73       # could als
-0002d350: 6f20 6265 2077 7269 7474 656e 2061 730a  o be written as.
-0002d360: 2020 2020 2020 2020 2861 7474 725f 6578          (attr_ex
-0002d370: 7072 202a 2028 312c 2929 2e70 6172 7365  pr * (1,)).parse
-0002d380: 5f73 7472 696e 6728 7465 7874 292e 7070  _string(text).pp
-0002d390: 7269 6e74 2829 0a20 2020 2022 2222 0a0a  rint().    """..
-0002d3a0: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
-0002d3b0: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
-0002d3c0: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
-0002d3d0: 2020 2072 6574 7572 6e20 227b 2220 2b20     return "{" + 
-0002d3e0: 7374 7228 7365 6c66 2e65 7870 7229 202b  str(self.expr) +
-0002d3f0: 2022 7d2e 2e2e 220a 0a0a 636c 6173 7320   "}..."...class 
-0002d400: 5a65 726f 4f72 4d6f 7265 285f 4d75 6c74  ZeroOrMore(_Mult
-0002d410: 6970 6c65 4d61 7463 6829 3a0a 2020 2020  ipleMatch):.    
-0002d420: 2222 220a 2020 2020 4f70 7469 6f6e 616c  """.    Optional
-0002d430: 2072 6570 6574 6974 696f 6e20 6f66 207a   repetition of z
-0002d440: 6572 6f20 6f72 206d 6f72 6520 6f66 2074  ero or more of t
-0002d450: 6865 2067 6976 656e 2065 7870 7265 7373  he given express
-0002d460: 696f 6e2e 0a0a 2020 2020 5061 7261 6d65  ion...    Parame
-0002d470: 7465 7273 3a0a 0a20 2020 202d 2060 6065  ters:..    - ``e
-0002d480: 7870 7260 6020 2d20 6578 7072 6573 7369  xpr`` - expressi
-0002d490: 6f6e 2074 6861 7420 6d75 7374 206d 6174  on that must mat
-0002d4a0: 6368 207a 6572 6f20 6f72 206d 6f72 6520  ch zero or more 
-0002d4b0: 7469 6d65 730a 2020 2020 2d20 6060 7374  times.    - ``st
-0002d4c0: 6f70 5f6f 6e60 6020 2d20 6578 7072 6573  op_on`` - expres
-0002d4d0: 7369 6f6e 2066 6f72 2061 2074 6572 6d69  sion for a termi
-0002d4e0: 6e61 7469 6e67 2073 656e 7469 6e65 6c0a  nating sentinel.
-0002d4f0: 2020 2020 2020 286f 6e6c 7920 7265 7175        (only requ
-0002d500: 6972 6564 2069 6620 7468 6520 7365 6e74  ired if the sent
-0002d510: 696e 656c 2077 6f75 6c64 206f 7264 696e  inel would ordin
-0002d520: 6172 696c 7920 6d61 7463 6820 7468 6520  arily match the 
-0002d530: 7265 7065 7469 7469 6f6e 0a20 2020 2020  repetition.     
-0002d540: 2065 7870 7265 7373 696f 6e29 202d 2028   expression) - (
-0002d550: 6465 6661 756c 743d 2060 604e 6f6e 6560  default= ``None`
-0002d560: 6029 0a0a 2020 2020 4578 616d 706c 653a  `)..    Example:
-0002d570: 2073 696d 696c 6172 2074 6f20 3a63 6c61   similar to :cla
-0002d580: 7373 3a60 4f6e 654f 724d 6f72 6560 0a20  ss:`OneOrMore`. 
-0002d590: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
-0002d5a0: 5f5f 696e 6974 5f5f 280a 2020 2020 2020  __init__(.      
-0002d5b0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-0002d5c0: 6578 7072 3a20 556e 696f 6e5b 7374 722c  expr: Union[str,
-0002d5d0: 2050 6172 7365 7245 6c65 6d65 6e74 5d2c   ParserElement],
-0002d5e0: 0a20 2020 2020 2020 2073 746f 705f 6f6e  .        stop_on
-0002d5f0: 3a20 7479 7069 6e67 2e4f 7074 696f 6e61  : typing.Optiona
-0002d600: 6c5b 556e 696f 6e5b 5061 7273 6572 456c  l[Union[ParserEl
-0002d610: 656d 656e 742c 2073 7472 5d5d 203d 204e  ement, str]] = N
-0002d620: 6f6e 652c 0a20 2020 2020 2020 202a 2c0a  one,.        *,.
-0002d630: 2020 2020 2020 2020 7374 6f70 4f6e 3a20          stopOn: 
-0002d640: 7479 7069 6e67 2e4f 7074 696f 6e61 6c5b  typing.Optional[
-0002d650: 556e 696f 6e5b 5061 7273 6572 456c 656d  Union[ParserElem
-0002d660: 656e 742c 2073 7472 5d5d 203d 204e 6f6e  ent, str]] = Non
-0002d670: 652c 0a20 2020 2029 3a0a 2020 2020 2020  e,.    ):.      
-0002d680: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-0002d690: 5f5f 2865 7870 722c 2073 746f 704f 6e3d  __(expr, stopOn=
-0002d6a0: 7374 6f70 4f6e 206f 7220 7374 6f70 5f6f  stopOn or stop_o
-0002d6b0: 6e29 0a20 2020 2020 2020 2073 656c 662e  n).        self.
-0002d6c0: 6d61 7952 6574 7572 6e45 6d70 7479 203d  mayReturnEmpty =
-0002d6d0: 2054 7275 650a 0a20 2020 2064 6566 2070   True..    def p
-0002d6e0: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
-0002d6f0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-0002d700: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
-0002d710: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
-0002d720: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0002d730: 7570 6572 2829 2e70 6172 7365 496d 706c  uper().parseImpl
-0002d740: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-0002d750: 646f 4163 7469 6f6e 7329 0a20 2020 2020  doActions).     
-0002d760: 2020 2065 7863 6570 7420 2850 6172 7365     except (Parse
-0002d770: 4578 6365 7074 696f 6e2c 2049 6e64 6578  Exception, Index
-0002d780: 4572 726f 7229 3a0a 2020 2020 2020 2020  Error):.        
-0002d790: 2020 2020 7265 7475 726e 206c 6f63 2c20      return loc, 
-0002d7a0: 5061 7273 6552 6573 756c 7473 285b 5d2c  ParseResults([],
-0002d7b0: 206e 616d 653d 7365 6c66 2e72 6573 756c   name=self.resul
-0002d7c0: 7473 4e61 6d65 290a 0a20 2020 2064 6566  tsName)..    def
-0002d7d0: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
-0002d7e0: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
-0002d7f0: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
-0002d800: 726e 2022 5b22 202b 2073 7472 2873 656c  rn "[" + str(sel
-0002d810: 662e 6578 7072 2920 2b20 225d 2e2e 2e22  f.expr) + "]..."
-0002d820: 0a0a 0a63 6c61 7373 2044 656c 696d 6974  ...class Delimit
-0002d830: 6564 4c69 7374 2850 6172 7365 456c 656d  edList(ParseElem
-0002d840: 656e 7445 6e68 616e 6365 293a 0a20 2020  entEnhance):.   
-0002d850: 2064 6566 205f 5f69 6e69 745f 5f28 0a20   def __init__(. 
-0002d860: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0002d870: 2020 2020 2065 7870 723a 2055 6e69 6f6e       expr: Union
-0002d880: 5b73 7472 2c20 5061 7273 6572 456c 656d  [str, ParserElem
-0002d890: 656e 745d 2c0a 2020 2020 2020 2020 6465  ent],.        de
-0002d8a0: 6c69 6d3a 2055 6e69 6f6e 5b73 7472 2c20  lim: Union[str, 
-0002d8b0: 5061 7273 6572 456c 656d 656e 745d 203d  ParserElement] =
-0002d8c0: 2022 2c22 2c0a 2020 2020 2020 2020 636f   ",",.        co
-0002d8d0: 6d62 696e 653a 2062 6f6f 6c20 3d20 4661  mbine: bool = Fa
-0002d8e0: 6c73 652c 0a20 2020 2020 2020 206d 696e  lse,.        min
-0002d8f0: 3a20 7479 7069 6e67 2e4f 7074 696f 6e61  : typing.Optiona
-0002d900: 6c5b 696e 745d 203d 204e 6f6e 652c 0a20  l[int] = None,. 
-0002d910: 2020 2020 2020 206d 6178 3a20 7479 7069         max: typi
-0002d920: 6e67 2e4f 7074 696f 6e61 6c5b 696e 745d  ng.Optional[int]
-0002d930: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0002d940: 202a 2c0a 2020 2020 2020 2020 616c 6c6f   *,.        allo
-0002d950: 775f 7472 6169 6c69 6e67 5f64 656c 696d  w_trailing_delim
-0002d960: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
-0002d970: 2020 2020 293a 0a20 2020 2020 2020 2022      ):.        "
-0002d980: 2222 4865 6c70 6572 2074 6f20 6465 6669  ""Helper to defi
-0002d990: 6e65 2061 2064 656c 696d 6974 6564 206c  ne a delimited l
-0002d9a0: 6973 7420 6f66 2065 7870 7265 7373 696f  ist of expressio
-0002d9b0: 6e73 202d 2074 6865 2064 656c 696d 6974  ns - the delimit
-0002d9c0: 6572 0a20 2020 2020 2020 2064 6566 6175  er.        defau
-0002d9d0: 6c74 7320 746f 2027 2c27 2e20 4279 2064  lts to ','. By d
-0002d9e0: 6566 6175 6c74 2c20 7468 6520 6c69 7374  efault, the list
-0002d9f0: 2065 6c65 6d65 6e74 7320 616e 6420 6465   elements and de
-0002da00: 6c69 6d69 7465 7273 2063 616e 0a20 2020  limiters can.   
-0002da10: 2020 2020 2068 6176 6520 696e 7465 7276       have interv
-0002da20: 656e 696e 6720 7768 6974 6573 7061 6365  ening whitespace
-0002da30: 2c20 616e 6420 636f 6d6d 656e 7473 2c20  , and comments, 
-0002da40: 6275 7420 7468 6973 2063 616e 2062 650a  but this can be.
-0002da50: 2020 2020 2020 2020 6f76 6572 7269 6464          overridd
-0002da60: 656e 2062 7920 7061 7373 696e 6720 6060  en by passing ``
-0002da70: 636f 6d62 696e 653d 5472 7565 6060 2069  combine=True`` i
-0002da80: 6e20 7468 6520 636f 6e73 7472 7563 746f  n the constructo
-0002da90: 722e 2049 660a 2020 2020 2020 2020 6060  r. If.        ``
-0002daa0: 636f 6d62 696e 6560 6020 6973 2073 6574  combine`` is set
-0002dab0: 2074 6f20 6060 5472 7565 6060 2c20 7468   to ``True``, th
-0002dac0: 6520 6d61 7463 6869 6e67 2074 6f6b 656e  e matching token
-0002dad0: 7320 6172 650a 2020 2020 2020 2020 7265  s are.        re
-0002dae0: 7475 726e 6564 2061 7320 6120 7369 6e67  turned as a sing
-0002daf0: 6c65 2074 6f6b 656e 2073 7472 696e 672c  le token string,
-0002db00: 2077 6974 6820 7468 6520 6465 6c69 6d69   with the delimi
-0002db10: 7465 7273 2069 6e63 6c75 6465 643b 0a20  ters included;. 
-0002db20: 2020 2020 2020 206f 7468 6572 7769 7365         otherwise
-0002db30: 2c20 7468 6520 6d61 7463 6869 6e67 2074  , the matching t
-0002db40: 6f6b 656e 7320 6172 6520 7265 7475 726e  okens are return
-0002db50: 6564 2061 7320 6120 6c69 7374 206f 6620  ed as a list of 
-0002db60: 746f 6b65 6e73 2c0a 2020 2020 2020 2020  tokens,.        
-0002db70: 7769 7468 2074 6865 2064 656c 696d 6974  with the delimit
-0002db80: 6572 7320 7375 7070 7265 7373 6564 2e0a  ers suppressed..
-0002db90: 0a20 2020 2020 2020 2049 6620 6060 616c  .        If ``al
-0002dba0: 6c6f 775f 7472 6169 6c69 6e67 5f64 656c  low_trailing_del
-0002dbb0: 696d 6060 2069 7320 7365 7420 746f 2054  im`` is set to T
-0002dbc0: 7275 652c 2074 6865 6e20 7468 6520 6c69  rue, then the li
-0002dbd0: 7374 206d 6179 2065 6e64 2077 6974 680a  st may end with.
-0002dbe0: 2020 2020 2020 2020 6120 6465 6c69 6d69          a delimi
-0002dbf0: 7465 722e 0a0a 2020 2020 2020 2020 4578  ter...        Ex
-0002dc00: 616d 706c 653a 3a0a 0a20 2020 2020 2020  ample::..       
-0002dc10: 2020 2020 2044 656c 696d 6974 6564 4c69       DelimitedLi
-0002dc20: 7374 2857 6f72 6428 616c 7068 6173 2929  st(Word(alphas))
-0002dc30: 2e70 6172 7365 5f73 7472 696e 6728 2261  .parse_string("a
-0002dc40: 612c 6262 2c63 6322 2920 2320 2d3e 205b  a,bb,cc") # -> [
-0002dc50: 2761 6127 2c20 2762 6227 2c20 2763 6327  'aa', 'bb', 'cc'
-0002dc60: 5d0a 2020 2020 2020 2020 2020 2020 4465  ].            De
-0002dc70: 6c69 6d69 7465 644c 6973 7428 576f 7264  limitedList(Word
-0002dc80: 2868 6578 6e75 6d73 292c 2064 656c 696d  (hexnums), delim
-0002dc90: 3d27 3a27 2c20 636f 6d62 696e 653d 5472  =':', combine=Tr
-0002dca0: 7565 292e 7061 7273 655f 7374 7269 6e67  ue).parse_string
-0002dcb0: 2822 4141 3a42 423a 4343 3a44 443a 4545  ("AA:BB:CC:DD:EE
-0002dcc0: 2229 2023 202d 3e20 5b27 4141 3a42 423a  ") # -> ['AA:BB:
-0002dcd0: 4343 3a44 443a 4545 275d 0a20 2020 2020  CC:DD:EE'].     
-0002dce0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
-0002dcf0: 6620 6973 696e 7374 616e 6365 2865 7870  f isinstance(exp
-0002dd00: 722c 2073 7472 5f74 7970 6529 3a0a 2020  r, str_type):.  
-0002dd10: 2020 2020 2020 2020 2020 6578 7072 203d            expr =
-0002dd20: 2050 6172 7365 7245 6c65 6d65 6e74 2e5f   ParserElement._
-0002dd30: 6c69 7465 7261 6c53 7472 696e 6743 6c61  literalStringCla
-0002dd40: 7373 2865 7870 7229 0a20 2020 2020 2020  ss(expr).       
-0002dd50: 2065 7870 7220 3d20 7479 7069 6e67 2e63   expr = typing.c
-0002dd60: 6173 7428 5061 7273 6572 456c 656d 656e  ast(ParserElemen
-0002dd70: 742c 2065 7870 7229 0a0a 2020 2020 2020  t, expr)..      
-0002dd80: 2020 6966 206d 696e 2069 7320 6e6f 7420    if min is not 
-0002dd90: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-0002dda0: 2020 6966 206d 696e 203c 2031 3a0a 2020    if min < 1:.  
-0002ddb0: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-0002ddc0: 6973 6520 5661 6c75 6545 7272 6f72 2822  ise ValueError("
-0002ddd0: 6d69 6e20 6d75 7374 2062 6520 6772 6561  min must be grea
-0002dde0: 7465 7220 7468 616e 2030 2229 0a20 2020  ter than 0").   
-0002ddf0: 2020 2020 2069 6620 6d61 7820 6973 206e       if max is n
-0002de00: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-0002de10: 2020 2020 2069 6620 6d69 6e20 6973 206e       if min is n
-0002de20: 6f74 204e 6f6e 6520 616e 6420 6d61 7820  ot None and max 
-0002de30: 3c20 6d69 6e3a 0a20 2020 2020 2020 2020  < min:.         
-0002de40: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
-0002de50: 7565 4572 726f 7228 226d 6178 206d 7573  ueError("max mus
-0002de60: 7420 6265 2067 7265 6174 6572 2074 6861  t be greater tha
-0002de70: 6e2c 206f 7220 6571 7561 6c20 746f 206d  n, or equal to m
-0002de80: 696e 2229 0a0a 2020 2020 2020 2020 7365  in")..        se
-0002de90: 6c66 2e63 6f6e 7465 6e74 203d 2065 7870  lf.content = exp
-0002dea0: 720a 2020 2020 2020 2020 7365 6c66 2e72  r.        self.r
-0002deb0: 6177 5f64 656c 696d 203d 2073 7472 2864  aw_delim = str(d
-0002dec0: 656c 696d 290a 2020 2020 2020 2020 7365  elim).        se
-0002ded0: 6c66 2e64 656c 696d 203d 2064 656c 696d  lf.delim = delim
-0002dee0: 0a20 2020 2020 2020 2073 656c 662e 636f  .        self.co
-0002def0: 6d62 696e 6520 3d20 636f 6d62 696e 650a  mbine = combine.
-0002df00: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
-0002df10: 6f6d 6269 6e65 3a0a 2020 2020 2020 2020  ombine:.        
-0002df20: 2020 2020 7365 6c66 2e64 656c 696d 203d      self.delim =
-0002df30: 2053 7570 7072 6573 7328 6465 6c69 6d29   Suppress(delim)
-0002df40: 0a20 2020 2020 2020 2073 656c 662e 6d69  .        self.mi
-0002df50: 6e20 3d20 6d69 6e20 6f72 2031 0a20 2020  n = min or 1.   
-0002df60: 2020 2020 2073 656c 662e 6d61 7820 3d20       self.max = 
-0002df70: 6d61 780a 2020 2020 2020 2020 7365 6c66  max.        self
-0002df80: 2e61 6c6c 6f77 5f74 7261 696c 696e 675f  .allow_trailing_
-0002df90: 6465 6c69 6d20 3d20 616c 6c6f 775f 7472  delim = allow_tr
-0002dfa0: 6169 6c69 6e67 5f64 656c 696d 0a0a 2020  ailing_delim..  
-0002dfb0: 2020 2020 2020 6465 6c69 6d5f 6c69 7374        delim_list
-0002dfc0: 5f65 7870 7220 3d20 7365 6c66 2e63 6f6e  _expr = self.con
-0002dfd0: 7465 6e74 202b 2028 7365 6c66 2e64 656c  tent + (self.del
-0002dfe0: 696d 202b 2073 656c 662e 636f 6e74 656e  im + self.conten
-0002dff0: 7429 202a 2028 0a20 2020 2020 2020 2020  t) * (.         
-0002e000: 2020 2073 656c 662e 6d69 6e20 2d20 312c     self.min - 1,
-0002e010: 0a20 2020 2020 2020 2020 2020 204e 6f6e  .            Non
-0002e020: 6520 6966 2073 656c 662e 6d61 7820 6973  e if self.max is
-0002e030: 204e 6f6e 6520 656c 7365 2073 656c 662e   None else self.
-0002e040: 6d61 7820 2d20 312c 0a20 2020 2020 2020  max - 1,.       
-0002e050: 2029 0a20 2020 2020 2020 2069 6620 7365   ).        if se
-0002e060: 6c66 2e61 6c6c 6f77 5f74 7261 696c 696e  lf.allow_trailin
-0002e070: 675f 6465 6c69 6d3a 0a20 2020 2020 2020  g_delim:.       
-0002e080: 2020 2020 2064 656c 696d 5f6c 6973 745f       delim_list_
-0002e090: 6578 7072 202b 3d20 4f70 7428 7365 6c66  expr += Opt(self
-0002e0a0: 2e64 656c 696d 290a 0a20 2020 2020 2020  .delim)..       
-0002e0b0: 2069 6620 7365 6c66 2e63 6f6d 6269 6e65   if self.combine
-0002e0c0: 3a0a 2020 2020 2020 2020 2020 2020 6465  :.            de
-0002e0d0: 6c69 6d5f 6c69 7374 5f65 7870 7220 3d20  lim_list_expr = 
-0002e0e0: 436f 6d62 696e 6528 6465 6c69 6d5f 6c69  Combine(delim_li
-0002e0f0: 7374 5f65 7870 7229 0a0a 2020 2020 2020  st_expr)..      
-0002e100: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-0002e110: 5f5f 2864 656c 696d 5f6c 6973 745f 6578  __(delim_list_ex
-0002e120: 7072 2c20 7361 7665 6c69 7374 3d54 7275  pr, savelist=Tru
-0002e130: 6529 0a0a 2020 2020 6465 6620 5f67 656e  e)..    def _gen
-0002e140: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
-0002e150: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
-0002e160: 2020 2020 2020 2072 6574 7572 6e20 227b         return "{
-0002e170: 307d 205b 7b31 7d20 7b30 7d5d 2e2e 2e22  0} [{1} {0}]..."
-0002e180: 2e66 6f72 6d61 7428 7365 6c66 2e63 6f6e  .format(self.con
-0002e190: 7465 6e74 2e73 7472 6561 6d6c 696e 6528  tent.streamline(
-0002e1a0: 292c 2073 656c 662e 7261 775f 6465 6c69  ), self.raw_deli
-0002e1b0: 6d29 0a0a 0a63 6c61 7373 205f 4e75 6c6c  m)...class _Null
-0002e1c0: 546f 6b65 6e3a 0a20 2020 2064 6566 205f  Token:.    def _
-0002e1d0: 5f62 6f6f 6c5f 5f28 7365 6c66 293a 0a20  _bool__(self):. 
-0002e1e0: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
-0002e1f0: 6c73 650a 0a20 2020 2064 6566 205f 5f73  lse..    def __s
-0002e200: 7472 5f5f 2873 656c 6629 3a0a 2020 2020  tr__(self):.    
-0002e210: 2020 2020 7265 7475 726e 2022 220a 0a0a      return ""...
-0002e220: 636c 6173 7320 4f70 7428 5061 7273 6545  class Opt(ParseE
-0002e230: 6c65 6d65 6e74 456e 6861 6e63 6529 3a0a  lementEnhance):.
-0002e240: 2020 2020 2222 220a 2020 2020 4f70 7469      """.    Opti
-0002e250: 6f6e 616c 206d 6174 6368 696e 6720 6f66  onal matching of
-0002e260: 2074 6865 2067 6976 656e 2065 7870 7265   the given expre
-0002e270: 7373 696f 6e2e 0a0a 2020 2020 5061 7261  ssion...    Para
-0002e280: 6d65 7465 7273 3a0a 0a20 2020 202d 2060  meters:..    - `
-0002e290: 6065 7870 7260 6020 2d20 6578 7072 6573  `expr`` - expres
-0002e2a0: 7369 6f6e 2074 6861 7420 6d75 7374 206d  sion that must m
-0002e2b0: 6174 6368 207a 6572 6f20 6f72 206d 6f72  atch zero or mor
-0002e2c0: 6520 7469 6d65 730a 2020 2020 2d20 6060  e times.    - ``
-0002e2d0: 6465 6661 756c 7460 6020 286f 7074 696f  default`` (optio
-0002e2e0: 6e61 6c29 202d 2076 616c 7565 2074 6f20  nal) - value to 
-0002e2f0: 6265 2072 6574 7572 6e65 6420 6966 2074  be returned if t
-0002e300: 6865 206f 7074 696f 6e61 6c20 6578 7072  he optional expr
-0002e310: 6573 7369 6f6e 2069 7320 6e6f 7420 666f  ession is not fo
-0002e320: 756e 642e 0a0a 2020 2020 4578 616d 706c  und...    Exampl
-0002e330: 653a 3a0a 0a20 2020 2020 2020 2023 2055  e::..        # U
-0002e340: 5320 706f 7374 616c 2063 6f64 6520 6361  S postal code ca
-0002e350: 6e20 6265 2061 2035 2d64 6967 6974 207a  n be a 5-digit z
-0002e360: 6970 2c20 706c 7573 206f 7074 696f 6e61  ip, plus optiona
-0002e370: 6c20 342d 6469 6769 7420 7175 616c 6966  l 4-digit qualif
-0002e380: 6965 720a 2020 2020 2020 2020 7a69 7020  ier.        zip 
-0002e390: 3d20 436f 6d62 696e 6528 576f 7264 286e  = Combine(Word(n
-0002e3a0: 756d 732c 2065 7861 6374 3d35 2920 2b20  ums, exact=5) + 
-0002e3b0: 4f70 7428 272d 2720 2b20 576f 7264 286e  Opt('-' + Word(n
-0002e3c0: 756d 732c 2065 7861 6374 3d34 2929 290a  ums, exact=4))).
-0002e3d0: 2020 2020 2020 2020 7a69 702e 7275 6e5f          zip.run_
-0002e3e0: 7465 7374 7328 2727 270a 2020 2020 2020  tests('''.      
-0002e3f0: 2020 2020 2020 2320 7472 6164 6974 696f        # traditio
-0002e400: 6e61 6c20 5a49 5020 636f 6465 0a20 2020  nal ZIP code.   
-0002e410: 2020 2020 2020 2020 2031 3233 3435 0a0a           12345..
-0002e420: 2020 2020 2020 2020 2020 2020 2320 5a49              # ZI
-0002e430: 502b 3420 666f 726d 0a20 2020 2020 2020  P+4 form.       
-0002e440: 2020 2020 2031 3231 3031 2d30 3030 310a       12101-0001.
-0002e450: 0a20 2020 2020 2020 2020 2020 2023 2069  .            # i
-0002e460: 6e76 616c 6964 205a 4950 0a20 2020 2020  nvalid ZIP.     
-0002e470: 2020 2020 2020 2039 3837 3635 2d0a 2020         98765-.  
-0002e480: 2020 2020 2020 2020 2020 2727 2729 0a0a            ''')..
-0002e490: 2020 2020 7072 696e 7473 3a3a 0a0a 2020      prints::..  
-0002e4a0: 2020 2020 2020 2320 7472 6164 6974 696f        # traditio
-0002e4b0: 6e61 6c20 5a49 5020 636f 6465 0a20 2020  nal ZIP code.   
-0002e4c0: 2020 2020 2031 3233 3435 0a20 2020 2020       12345.     
-0002e4d0: 2020 205b 2731 3233 3435 275d 0a0a 2020     ['12345']..  
-0002e4e0: 2020 2020 2020 2320 5a49 502b 3420 666f        # ZIP+4 fo
-0002e4f0: 726d 0a20 2020 2020 2020 2031 3231 3031  rm.        12101
-0002e500: 2d30 3030 310a 2020 2020 2020 2020 5b27  -0001.        ['
-0002e510: 3132 3130 312d 3030 3031 275d 0a0a 2020  12101-0001']..  
-0002e520: 2020 2020 2020 2320 696e 7661 6c69 6420        # invalid 
-0002e530: 5a49 500a 2020 2020 2020 2020 3938 3736  ZIP.        9876
-0002e540: 352d 0a20 2020 2020 2020 2020 2020 2020  5-.             
-0002e550: 5e0a 2020 2020 2020 2020 4641 494c 3a20  ^.        FAIL: 
-0002e560: 4578 7065 6374 6564 2065 6e64 206f 6620  Expected end of 
-0002e570: 7465 7874 2028 6174 2063 6861 7220 3529  text (at char 5)
-0002e580: 2c20 286c 696e 653a 312c 2063 6f6c 3a36  , (line:1, col:6
-0002e590: 290a 2020 2020 2222 220a 0a20 2020 205f  ).    """..    _
-0002e5a0: 5f6f 7074 696f 6e61 6c4e 6f74 4d61 7463  _optionalNotMatc
-0002e5b0: 6865 6420 3d20 5f4e 756c 6c54 6f6b 656e  hed = _NullToken
-0002e5c0: 2829 0a0a 2020 2020 6465 6620 5f5f 696e  ()..    def __in
-0002e5d0: 6974 5f5f 280a 2020 2020 2020 2020 7365  it__(.        se
-0002e5e0: 6c66 2c20 6578 7072 3a20 556e 696f 6e5b  lf, expr: Union[
-0002e5f0: 5061 7273 6572 456c 656d 656e 742c 2073  ParserElement, s
-0002e600: 7472 5d2c 2064 6566 6175 6c74 3a20 416e  tr], default: An
-0002e610: 7920 3d20 5f5f 6f70 7469 6f6e 616c 4e6f  y = __optionalNo
-0002e620: 744d 6174 6368 6564 0a20 2020 2029 3a0a  tMatched.    ):.
-0002e630: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-0002e640: 5f5f 696e 6974 5f5f 2865 7870 722c 2073  __init__(expr, s
-0002e650: 6176 656c 6973 743d 4661 6c73 6529 0a20  avelist=False). 
-0002e660: 2020 2020 2020 2073 656c 662e 7361 7665         self.save
-0002e670: 4173 4c69 7374 203d 2073 656c 662e 6578  AsList = self.ex
-0002e680: 7072 2e73 6176 6541 734c 6973 740a 2020  pr.saveAsList.  
-0002e690: 2020 2020 2020 7365 6c66 2e64 6566 6175        self.defau
-0002e6a0: 6c74 5661 6c75 6520 3d20 6465 6661 756c  ltValue = defaul
-0002e6b0: 740a 2020 2020 2020 2020 7365 6c66 2e6d  t.        self.m
-0002e6c0: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
-0002e6d0: 5472 7565 0a0a 2020 2020 6465 6620 7061  True..    def pa
-0002e6e0: 7273 6549 6d70 6c28 7365 6c66 2c20 696e  rseImpl(self, in
-0002e6f0: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
-0002e700: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
-0002e710: 2020 2020 2020 7365 6c66 5f65 7870 7220        self_expr 
-0002e720: 3d20 7365 6c66 2e65 7870 720a 2020 2020  = self.expr.    
-0002e730: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-0002e740: 2020 2020 206c 6f63 2c20 746f 6b65 6e73       loc, tokens
-0002e750: 203d 2073 656c 665f 6578 7072 2e5f 7061   = self_expr._pa
-0002e760: 7273 6528 696e 7374 7269 6e67 2c20 6c6f  rse(instring, lo
-0002e770: 632c 2064 6f41 6374 696f 6e73 2c20 6361  c, doActions, ca
-0002e780: 6c6c 5072 6550 6172 7365 3d46 616c 7365  llPreParse=False
-0002e790: 290a 2020 2020 2020 2020 6578 6365 7074  ).        except
-0002e7a0: 2028 5061 7273 6545 7863 6570 7469 6f6e   (ParseException
-0002e7b0: 2c20 496e 6465 7845 7272 6f72 293a 0a20  , IndexError):. 
-0002e7c0: 2020 2020 2020 2020 2020 2064 6566 6175             defau
-0002e7d0: 6c74 5f76 616c 7565 203d 2073 656c 662e  lt_value = self.
-0002e7e0: 6465 6661 756c 7456 616c 7565 0a20 2020  defaultValue.   
-0002e7f0: 2020 2020 2020 2020 2069 6620 6465 6661           if defa
-0002e800: 756c 745f 7661 6c75 6520 6973 206e 6f74  ult_value is not
-0002e810: 2073 656c 662e 5f5f 6f70 7469 6f6e 616c   self.__optional
-0002e820: 4e6f 744d 6174 6368 6564 3a0a 2020 2020  NotMatched:.    
-0002e830: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-0002e840: 656c 665f 6578 7072 2e72 6573 756c 7473  elf_expr.results
-0002e850: 4e61 6d65 3a0a 2020 2020 2020 2020 2020  Name:.          
-0002e860: 2020 2020 2020 2020 2020 746f 6b65 6e73            tokens
-0002e870: 203d 2050 6172 7365 5265 7375 6c74 7328   = ParseResults(
-0002e880: 5b64 6566 6175 6c74 5f76 616c 7565 5d29  [default_value])
-0002e890: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002e8a0: 2020 2020 2074 6f6b 656e 735b 7365 6c66       tokens[self
-0002e8b0: 5f65 7870 722e 7265 7375 6c74 734e 616d  _expr.resultsNam
-0002e8c0: 655d 203d 2064 6566 6175 6c74 5f76 616c  e] = default_val
-0002e8d0: 7565 0a20 2020 2020 2020 2020 2020 2020  ue.             
-0002e8e0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0002e8f0: 2020 2020 2020 2020 2020 2020 2074 6f6b               tok
-0002e900: 656e 7320 3d20 5b64 6566 6175 6c74 5f76  ens = [default_v
-0002e910: 616c 7565 5d0a 2020 2020 2020 2020 2020  alue].          
-0002e920: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0002e930: 2020 2020 2020 2020 746f 6b65 6e73 203d          tokens =
-0002e940: 205b 5d0a 2020 2020 2020 2020 7265 7475   [].        retu
-0002e950: 726e 206c 6f63 2c20 746f 6b65 6e73 0a0a  rn loc, tokens..
-0002e960: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
-0002e970: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
-0002e980: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
-0002e990: 2020 2069 6e6e 6572 203d 2073 7472 2873     inner = str(s
-0002e9a0: 656c 662e 6578 7072 290a 2020 2020 2020  elf.expr).      
-0002e9b0: 2020 2320 7374 7269 7020 6f66 6620 7265    # strip off re
-0002e9c0: 6475 6e64 616e 7420 696e 6e65 7220 7b7d  dundant inner {}
-0002e9d0: 2773 0a20 2020 2020 2020 2077 6869 6c65  's.        while
-0002e9e0: 206c 656e 2869 6e6e 6572 2920 3e20 3120   len(inner) > 1 
-0002e9f0: 616e 6420 696e 6e65 725b 3020 3a3a 206c  and inner[0 :: l
-0002ea00: 656e 2869 6e6e 6572 2920 2d20 315d 203d  en(inner) - 1] =
-0002ea10: 3d20 227b 7d22 3a0a 2020 2020 2020 2020  = "{}":.        
-0002ea20: 2020 2020 696e 6e65 7220 3d20 696e 6e65      inner = inne
-0002ea30: 725b 313a 2d31 5d0a 2020 2020 2020 2020  r[1:-1].        
-0002ea40: 7265 7475 726e 2022 5b22 202b 2069 6e6e  return "[" + inn
-0002ea50: 6572 202b 2022 5d22 0a0a 0a4f 7074 696f  er + "]"...Optio
-0002ea60: 6e61 6c20 3d20 4f70 740a 0a0a 636c 6173  nal = Opt...clas
-0002ea70: 7320 536b 6970 546f 2850 6172 7365 456c  s SkipTo(ParseEl
-0002ea80: 656d 656e 7445 6e68 616e 6365 293a 0a20  ementEnhance):. 
-0002ea90: 2020 2022 2222 0a20 2020 2054 6f6b 656e     """.    Token
-0002eaa0: 2066 6f72 2073 6b69 7070 696e 6720 6f76   for skipping ov
-0002eab0: 6572 2061 6c6c 2075 6e64 6566 696e 6564  er all undefined
-0002eac0: 2074 6578 7420 756e 7469 6c20 7468 6520   text until the 
-0002ead0: 6d61 7463 6865 640a 2020 2020 6578 7072  matched.    expr
-0002eae0: 6573 7369 6f6e 2069 7320 666f 756e 642e  ession is found.
-0002eaf0: 0a0a 2020 2020 5061 7261 6d65 7465 7273  ..    Parameters
-0002eb00: 3a0a 0a20 2020 202d 2060 6065 7870 7260  :..    - ``expr`
-0002eb10: 6020 2d20 7461 7267 6574 2065 7870 7265  ` - target expre
-0002eb20: 7373 696f 6e20 6d61 726b 696e 6720 7468  ssion marking th
-0002eb30: 6520 656e 6420 6f66 2074 6865 2064 6174  e end of the dat
-0002eb40: 6120 746f 2062 6520 736b 6970 7065 640a  a to be skipped.
-0002eb50: 2020 2020 2d20 6060 696e 636c 7564 6560      - ``include`
-0002eb60: 6020 2d20 6966 2060 6054 7275 6560 602c  ` - if ``True``,
-0002eb70: 2074 6865 2074 6172 6765 7420 6578 7072   the target expr
-0002eb80: 6573 7369 6f6e 2069 7320 616c 736f 2070  ession is also p
-0002eb90: 6172 7365 640a 2020 2020 2020 2874 6865  arsed.      (the
-0002eba0: 2073 6b69 7070 6564 2074 6578 7420 616e   skipped text an
-0002ebb0: 6420 7461 7267 6574 2065 7870 7265 7373  d target express
-0002ebc0: 696f 6e20 6172 6520 7265 7475 726e 6564  ion are returned
-0002ebd0: 2061 7320 6120 322d 656c 656d 656e 740a   as a 2-element.
-0002ebe0: 2020 2020 2020 6c69 7374 2920 2864 6566        list) (def
-0002ebf0: 6175 6c74 3d20 6060 4661 6c73 6560 6029  ault= ``False``)
-0002ec00: 2e0a 2020 2020 2d20 6060 6967 6e6f 7265  ..    - ``ignore
-0002ec10: 6060 202d 2028 6465 6661 756c 743d 2060  `` - (default= `
-0002ec20: 604e 6f6e 6560 6029 2075 7365 6420 746f  `None``) used to
-0002ec30: 2064 6566 696e 6520 6772 616d 6d61 7273   define grammars
-0002ec40: 2028 7479 7069 6361 6c6c 7920 7175 6f74   (typically quot
-0002ec50: 6564 2073 7472 696e 6773 2061 6e64 0a20  ed strings and. 
-0002ec60: 2020 2020 2063 6f6d 6d65 6e74 7329 2074       comments) t
-0002ec70: 6861 7420 6d69 6768 7420 636f 6e74 6169  hat might contai
-0002ec80: 6e20 6661 6c73 6520 6d61 7463 6865 7320  n false matches 
-0002ec90: 746f 2074 6865 2074 6172 6765 7420 6578  to the target ex
-0002eca0: 7072 6573 7369 6f6e 0a20 2020 202d 2060  pression.    - `
-0002ecb0: 6066 6169 6c5f 6f6e 6060 202d 2028 6465  `fail_on`` - (de
-0002ecc0: 6661 756c 743d 2060 604e 6f6e 6560 6029  fault= ``None``)
-0002ecd0: 2064 6566 696e 6520 6578 7072 6573 7369   define expressi
-0002ece0: 6f6e 7320 7468 6174 2061 7265 206e 6f74  ons that are not
-0002ecf0: 2061 6c6c 6f77 6564 2074 6f20 6265 0a20   allowed to be. 
-0002ed00: 2020 2020 2069 6e63 6c75 6465 6420 696e       included in
-0002ed10: 2074 6865 2073 6b69 7070 6564 2074 6573   the skipped tes
-0002ed20: 743b 2069 6620 666f 756e 6420 6265 666f  t; if found befo
-0002ed30: 7265 2074 6865 2074 6172 6765 7420 6578  re the target ex
-0002ed40: 7072 6573 7369 6f6e 2069 7320 666f 756e  pression is foun
-0002ed50: 642c 0a20 2020 2020 2074 6865 203a 636c  d,.      the :cl
-0002ed60: 6173 733a 6053 6b69 7054 6f60 2069 7320  ass:`SkipTo` is 
-0002ed70: 6e6f 7420 6120 6d61 7463 680a 0a20 2020  not a match..   
-0002ed80: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
-0002ed90: 2020 2020 7265 706f 7274 203d 2027 2727      report = '''
-0002eda0: 0a20 2020 2020 2020 2020 2020 204f 7574  .            Out
-0002edb0: 7374 616e 6469 6e67 2049 7373 7565 7320  standing Issues 
-0002edc0: 5265 706f 7274 202d 2031 204a 616e 2032  Report - 1 Jan 2
-0002edd0: 3030 300a 0a20 2020 2020 2020 2020 2020  000..           
-0002ede0: 2020 2020 2320 7c20 5365 7665 7269 7479      # | Severity
-0002edf0: 207c 2044 6573 6372 6970 7469 6f6e 2020   | Description  
-0002ee00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ee10: 2020 2020 2020 2020 2020 2020 207c 2020               |  
-0002ee20: 4461 7973 204f 7065 6e0a 2020 2020 2020  Days Open.      
-0002ee30: 2020 2020 2020 2d2d 2d2d 2d2b 2d2d 2d2d        -----+----
-0002ee40: 2d2d 2d2d 2d2d 2b2d 2d2d 2d2d 2d2d 2d2d  ------+---------
-0002ee50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0002ee60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0002ee70: 2d2d 2b2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20  --+-----------. 
-0002ee80: 2020 2020 2020 2020 2020 2020 3130 3120              101 
-0002ee90: 7c20 4372 6974 6963 616c 207c 2049 6e74  | Critical | Int
-0002eea0: 6572 6d69 7474 656e 7420 7379 7374 656d  ermittent system
-0002eeb0: 2063 7261 7368 2020 2020 2020 2020 2020   crash          
-0002eec0: 2020 2020 2020 207c 2020 2020 2020 2020         |        
-0002eed0: 2020 360a 2020 2020 2020 2020 2020 2020    6.            
-0002eee0: 2020 3934 207c 2043 6f73 6d65 7469 6320    94 | Cosmetic 
-0002eef0: 7c20 5370 656c 6c69 6e67 2065 7272 6f72  | Spelling error
-0002ef00: 206f 6e20 4c6f 6769 6e20 2827 6c6f 677c   on Login ('log|
-0002ef10: 6e27 2920 2020 2020 2020 2020 7c20 2020  n')         |   
-0002ef20: 2020 2020 2020 3134 0a20 2020 2020 2020        14.       
-0002ef30: 2020 2020 2020 2037 3920 7c20 4d69 6e6f         79 | Mino
-0002ef40: 7220 2020 207c 2053 7973 7465 6d20 736c  r    | System sl
-0002ef50: 6f77 2077 6865 6e20 7275 6e6e 696e 6720  ow when running 
-0002ef60: 746f 6f20 6d61 6e79 2072 6570 6f72 7473  too many reports
-0002ef70: 207c 2020 2020 2020 2020 2034 370a 2020   |         47.  
-0002ef80: 2020 2020 2020 2020 2020 2727 270a 2020            '''.  
-0002ef90: 2020 2020 2020 696e 7465 6765 7220 3d20        integer = 
-0002efa0: 576f 7264 286e 756d 7329 0a20 2020 2020  Word(nums).     
-0002efb0: 2020 2053 4550 203d 2053 7570 7072 6573     SEP = Suppres
-0002efc0: 7328 277c 2729 0a20 2020 2020 2020 2023  s('|').        #
-0002efd0: 2075 7365 2053 6b69 7054 6f20 746f 2073   use SkipTo to s
-0002efe0: 696d 706c 7920 6d61 7463 6820 6576 6572  imply match ever
-0002eff0: 7974 6869 6e67 2075 7020 756e 7469 6c20  ything up until 
-0002f000: 7468 6520 6e65 7874 2053 4550 0a20 2020  the next SEP.   
-0002f010: 2020 2020 2023 202d 2069 676e 6f72 6520       # - ignore 
-0002f020: 7175 6f74 6564 2073 7472 696e 6773 2c20  quoted strings, 
-0002f030: 736f 2074 6861 7420 6120 277c 2720 6368  so that a '|' ch
-0002f040: 6172 6163 7465 7220 696e 7369 6465 2061  aracter inside a
-0002f050: 2071 756f 7465 6420 7374 7269 6e67 2064   quoted string d
-0002f060: 6f65 7320 6e6f 7420 6d61 7463 680a 2020  oes not match.  
-0002f070: 2020 2020 2020 2320 2d20 7061 7273 6520        # - parse 
-0002f080: 6163 7469 6f6e 2077 696c 6c20 6361 6c6c  action will call
-0002f090: 2074 6f6b 656e 2e73 7472 6970 2829 2066   token.strip() f
-0002f0a0: 6f72 2065 6163 6820 6d61 7463 6865 6420  or each matched 
-0002f0b0: 746f 6b65 6e2c 2069 2e65 2e2c 2074 6865  token, i.e., the
-0002f0c0: 2064 6573 6372 6970 7469 6f6e 2062 6f64   description bod
-0002f0d0: 790a 2020 2020 2020 2020 7374 7269 6e67  y.        string
-0002f0e0: 5f64 6174 6120 3d20 536b 6970 546f 2853  _data = SkipTo(S
-0002f0f0: 4550 2c20 6967 6e6f 7265 3d71 756f 7465  EP, ignore=quote
-0002f100: 645f 7374 7269 6e67 290a 2020 2020 2020  d_string).      
-0002f110: 2020 7374 7269 6e67 5f64 6174 612e 7365    string_data.se
-0002f120: 745f 7061 7273 655f 6163 7469 6f6e 2874  t_parse_action(t
-0002f130: 6f6b 656e 5f6d 6170 2873 7472 2e73 7472  oken_map(str.str
-0002f140: 6970 2929 0a20 2020 2020 2020 2074 6963  ip)).        tic
-0002f150: 6b65 745f 6578 7072 203d 2028 696e 7465  ket_expr = (inte
-0002f160: 6765 7228 2269 7373 7565 5f6e 756d 2229  ger("issue_num")
-0002f170: 202b 2053 4550 0a20 2020 2020 2020 2020   + SEP.         
-0002f180: 2020 2020 2020 2020 2020 2020 202b 2073               + s
-0002f190: 7472 696e 675f 6461 7461 2822 7365 7622  tring_data("sev"
-0002f1a0: 2920 2b20 5345 500a 2020 2020 2020 2020  ) + SEP.        
-0002f1b0: 2020 2020 2020 2020 2020 2020 2020 2b20                + 
-0002f1c0: 7374 7269 6e67 5f64 6174 6128 2264 6573  string_data("des
-0002f1d0: 6322 2920 2b20 5345 500a 2020 2020 2020  c") + SEP.      
-0002f1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f1f0: 2b20 696e 7465 6765 7228 2264 6179 735f  + integer("days_
-0002f200: 6f70 656e 2229 290a 0a20 2020 2020 2020  open"))..       
-0002f210: 2066 6f72 2074 6b74 2069 6e20 7469 636b   for tkt in tick
-0002f220: 6574 5f65 7870 722e 7365 6172 6368 5f73  et_expr.search_s
-0002f230: 7472 696e 6728 7265 706f 7274 293a 0a20  tring(report):. 
-0002f240: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-0002f250: 2074 6b74 2e64 756d 7028 290a 0a20 2020   tkt.dump()..   
-0002f260: 2070 7269 6e74 733a 3a0a 0a20 2020 2020   prints::..     
-0002f270: 2020 205b 2731 3031 272c 2027 4372 6974     ['101', 'Crit
-0002f280: 6963 616c 272c 2027 496e 7465 726d 6974  ical', 'Intermit
-0002f290: 7465 6e74 2073 7973 7465 6d20 6372 6173  tent system cras
-0002f2a0: 6827 2c20 2736 275d 0a20 2020 2020 2020  h', '6'].       
-0002f2b0: 202d 2064 6179 735f 6f70 656e 3a20 2736   - days_open: '6
-0002f2c0: 270a 2020 2020 2020 2020 2d20 6465 7363  '.        - desc
-0002f2d0: 3a20 2749 6e74 6572 6d69 7474 656e 7420  : 'Intermittent 
-0002f2e0: 7379 7374 656d 2063 7261 7368 270a 2020  system crash'.  
-0002f2f0: 2020 2020 2020 2d20 6973 7375 655f 6e75        - issue_nu
-0002f300: 6d3a 2027 3130 3127 0a20 2020 2020 2020  m: '101'.       
-0002f310: 202d 2073 6576 3a20 2743 7269 7469 6361   - sev: 'Critica
-0002f320: 6c27 0a20 2020 2020 2020 205b 2739 3427  l'.        ['94'
-0002f330: 2c20 2743 6f73 6d65 7469 6327 2c20 2253  , 'Cosmetic', "S
-0002f340: 7065 6c6c 696e 6720 6572 726f 7220 6f6e  pelling error on
-0002f350: 204c 6f67 696e 2028 276c 6f67 7c6e 2729   Login ('log|n')
-0002f360: 222c 2027 3134 275d 0a20 2020 2020 2020  ", '14'].       
-0002f370: 202d 2064 6179 735f 6f70 656e 3a20 2731   - days_open: '1
-0002f380: 3427 0a20 2020 2020 2020 202d 2064 6573  4'.        - des
-0002f390: 633a 2022 5370 656c 6c69 6e67 2065 7272  c: "Spelling err
-0002f3a0: 6f72 206f 6e20 4c6f 6769 6e20 2827 6c6f  or on Login ('lo
-0002f3b0: 677c 6e27 2922 0a20 2020 2020 2020 202d  g|n')".        -
-0002f3c0: 2069 7373 7565 5f6e 756d 3a20 2739 3427   issue_num: '94'
-0002f3d0: 0a20 2020 2020 2020 202d 2073 6576 3a20  .        - sev: 
-0002f3e0: 2743 6f73 6d65 7469 6327 0a20 2020 2020  'Cosmetic'.     
-0002f3f0: 2020 205b 2737 3927 2c20 274d 696e 6f72     ['79', 'Minor
-0002f400: 272c 2027 5379 7374 656d 2073 6c6f 7720  ', 'System slow 
-0002f410: 7768 656e 2072 756e 6e69 6e67 2074 6f6f  when running too
-0002f420: 206d 616e 7920 7265 706f 7274 7327 2c20   many reports', 
-0002f430: 2734 3727 5d0a 2020 2020 2020 2020 2d20  '47'].        - 
-0002f440: 6461 7973 5f6f 7065 6e3a 2027 3437 270a  days_open: '47'.
-0002f450: 2020 2020 2020 2020 2d20 6465 7363 3a20          - desc: 
-0002f460: 2753 7973 7465 6d20 736c 6f77 2077 6865  'System slow whe
-0002f470: 6e20 7275 6e6e 696e 6720 746f 6f20 6d61  n running too ma
-0002f480: 6e79 2072 6570 6f72 7473 270a 2020 2020  ny reports'.    
-0002f490: 2020 2020 2d20 6973 7375 655f 6e75 6d3a      - issue_num:
-0002f4a0: 2027 3739 270a 2020 2020 2020 2020 2d20   '79'.        - 
-0002f4b0: 7365 763a 2027 4d69 6e6f 7227 0a20 2020  sev: 'Minor'.   
-0002f4c0: 2022 2222 0a0a 2020 2020 6465 6620 5f5f   """..    def __
-0002f4d0: 696e 6974 5f5f 280a 2020 2020 2020 2020  init__(.        
-0002f4e0: 7365 6c66 2c0a 2020 2020 2020 2020 6f74  self,.        ot
-0002f4f0: 6865 723a 2055 6e69 6f6e 5b50 6172 7365  her: Union[Parse
-0002f500: 7245 6c65 6d65 6e74 2c20 7374 725d 2c0a  rElement, str],.
-0002f510: 2020 2020 2020 2020 696e 636c 7564 653a          include:
-0002f520: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-0002f530: 2020 2020 2020 2069 676e 6f72 653a 2074         ignore: t
-0002f540: 7970 696e 672e 4f70 7469 6f6e 616c 5b55  yping.Optional[U
-0002f550: 6e69 6f6e 5b50 6172 7365 7245 6c65 6d65  nion[ParserEleme
-0002f560: 6e74 2c20 7374 725d 5d20 3d20 4e6f 6e65  nt, str]] = None
-0002f570: 2c0a 2020 2020 2020 2020 6661 696c 5f6f  ,.        fail_o
-0002f580: 6e3a 2074 7970 696e 672e 4f70 7469 6f6e  n: typing.Option
-0002f590: 616c 5b55 6e69 6f6e 5b50 6172 7365 7245  al[Union[ParserE
-0002f5a0: 6c65 6d65 6e74 2c20 7374 725d 5d20 3d20  lement, str]] = 
-0002f5b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2a2c  None,.        *,
-0002f5c0: 0a20 2020 2020 2020 2066 6169 6c4f 6e3a  .        failOn:
-0002f5d0: 2074 7970 696e 672e 4f70 7469 6f6e 616c   typing.Optional
-0002f5e0: 5b55 6e69 6f6e 5b50 6172 7365 7245 6c65  [Union[ParserEle
-0002f5f0: 6d65 6e74 2c20 7374 725d 5d20 3d20 4e6f  ment, str]] = No
-0002f600: 6e65 2c0a 2020 2020 293a 0a20 2020 2020  ne,.    ):.     
-0002f610: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-0002f620: 745f 5f28 6f74 6865 7229 0a20 2020 2020  t__(other).     
-0002f630: 2020 2066 6169 6c4f 6e20 3d20 6661 696c     failOn = fail
-0002f640: 4f6e 206f 7220 6661 696c 5f6f 6e0a 2020  On or fail_on.  
-0002f650: 2020 2020 2020 7365 6c66 2e69 676e 6f72        self.ignor
-0002f660: 6545 7870 7220 3d20 6967 6e6f 7265 0a20  eExpr = ignore. 
-0002f670: 2020 2020 2020 2073 656c 662e 6d61 7952         self.mayR
-0002f680: 6574 7572 6e45 6d70 7479 203d 2054 7275  eturnEmpty = Tru
-0002f690: 650a 2020 2020 2020 2020 7365 6c66 2e6d  e.        self.m
-0002f6a0: 6179 496e 6465 7845 7272 6f72 203d 2046  ayIndexError = F
-0002f6b0: 616c 7365 0a20 2020 2020 2020 2073 656c  alse.        sel
-0002f6c0: 662e 696e 636c 7564 654d 6174 6368 203d  f.includeMatch =
-0002f6d0: 2069 6e63 6c75 6465 0a20 2020 2020 2020   include.       
-0002f6e0: 2073 656c 662e 7361 7665 4173 4c69 7374   self.saveAsList
-0002f6f0: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
-0002f700: 2069 6620 6973 696e 7374 616e 6365 2866   if isinstance(f
-0002f710: 6169 6c4f 6e2c 2073 7472 5f74 7970 6529  ailOn, str_type)
-0002f720: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0002f730: 6c66 2e66 6169 6c4f 6e20 3d20 7365 6c66  lf.failOn = self
-0002f740: 2e5f 6c69 7465 7261 6c53 7472 696e 6743  ._literalStringC
-0002f750: 6c61 7373 2866 6169 6c4f 6e29 0a20 2020  lass(failOn).   
-0002f760: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0002f770: 2020 2020 2020 2073 656c 662e 6661 696c         self.fail
-0002f780: 4f6e 203d 2066 6169 6c4f 6e0a 2020 2020  On = failOn.    
-0002f790: 2020 2020 7365 6c66 2e65 7272 6d73 6720      self.errmsg 
-0002f7a0: 3d20 224e 6f20 6d61 7463 6820 666f 756e  = "No match foun
-0002f7b0: 6420 666f 7220 2220 2b20 7374 7228 7365  d for " + str(se
-0002f7c0: 6c66 2e65 7870 7229 0a0a 2020 2020 6465  lf.expr)..    de
-0002f7d0: 6620 7061 7273 6549 6d70 6c28 7365 6c66  f parseImpl(self
-0002f7e0: 2c20 696e 7374 7269 6e67 2c20 6c6f 632c  , instring, loc,
-0002f7f0: 2064 6f41 6374 696f 6e73 3d54 7275 6529   doActions=True)
-0002f800: 3a0a 2020 2020 2020 2020 7374 6172 746c  :.        startl
-0002f810: 6f63 203d 206c 6f63 0a20 2020 2020 2020  oc = loc.       
-0002f820: 2069 6e73 7472 6c65 6e20 3d20 6c65 6e28   instrlen = len(
-0002f830: 696e 7374 7269 6e67 290a 2020 2020 2020  instring).      
-0002f840: 2020 7365 6c66 5f65 7870 725f 7061 7273    self_expr_pars
-0002f850: 6520 3d20 7365 6c66 2e65 7870 722e 5f70  e = self.expr._p
-0002f860: 6172 7365 0a20 2020 2020 2020 2073 656c  arse.        sel
-0002f870: 665f 6661 696c 4f6e 5f63 616e 5061 7273  f_failOn_canPars
-0002f880: 654e 6578 7420 3d20 280a 2020 2020 2020  eNext = (.      
-0002f890: 2020 2020 2020 7365 6c66 2e66 6169 6c4f        self.failO
-0002f8a0: 6e2e 6361 6e50 6172 7365 4e65 7874 2069  n.canParseNext i
-0002f8b0: 6620 7365 6c66 2e66 6169 6c4f 6e20 6973  f self.failOn is
-0002f8c0: 206e 6f74 204e 6f6e 6520 656c 7365 204e   not None else N
-0002f8d0: 6f6e 650a 2020 2020 2020 2020 290a 2020  one.        ).  
-0002f8e0: 2020 2020 2020 7365 6c66 5f69 676e 6f72        self_ignor
-0002f8f0: 6545 7870 725f 7472 7950 6172 7365 203d  eExpr_tryParse =
-0002f900: 2028 0a20 2020 2020 2020 2020 2020 2073   (.            s
-0002f910: 656c 662e 6967 6e6f 7265 4578 7072 2e74  elf.ignoreExpr.t
-0002f920: 7279 5f70 6172 7365 2069 6620 7365 6c66  ry_parse if self
-0002f930: 2e69 676e 6f72 6545 7870 7220 6973 206e  .ignoreExpr is n
-0002f940: 6f74 204e 6f6e 6520 656c 7365 204e 6f6e  ot None else Non
-0002f950: 650a 2020 2020 2020 2020 290a 0a20 2020  e.        )..   
-0002f960: 2020 2020 2074 6d70 6c6f 6320 3d20 6c6f       tmploc = lo
-0002f970: 630a 2020 2020 2020 2020 7768 696c 6520  c.        while 
-0002f980: 746d 706c 6f63 203c 3d20 696e 7374 726c  tmploc <= instrl
-0002f990: 656e 3a0a 2020 2020 2020 2020 2020 2020  en:.            
-0002f9a0: 6966 2073 656c 665f 6661 696c 4f6e 5f63  if self_failOn_c
-0002f9b0: 616e 5061 7273 654e 6578 7420 6973 206e  anParseNext is n
-0002f9c0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-0002f9d0: 2020 2020 2020 2020 2023 2062 7265 616b           # break
-0002f9e0: 2069 6620 6661 696c 4f6e 2065 7870 7265   if failOn expre
-0002f9f0: 7373 696f 6e20 6d61 7463 6865 730a 2020  ssion matches.  
-0002fa00: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0002fa10: 2073 656c 665f 6661 696c 4f6e 5f63 616e   self_failOn_can
-0002fa20: 5061 7273 654e 6578 7428 696e 7374 7269  ParseNext(instri
-0002fa30: 6e67 2c20 746d 706c 6f63 293a 0a20 2020  ng, tmploc):.   
-0002fa40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fa50: 2062 7265 616b 0a0a 2020 2020 2020 2020   break..        
-0002fa60: 2020 2020 6966 2073 656c 665f 6967 6e6f      if self_igno
-0002fa70: 7265 4578 7072 5f74 7279 5061 7273 6520  reExpr_tryParse 
-0002fa80: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-0002fa90: 2020 2020 2020 2020 2020 2020 2023 2061               # a
-0002faa0: 6476 616e 6365 2070 6173 7420 6967 6e6f  dvance past igno
-0002fab0: 7265 2065 7870 7265 7373 696f 6e73 0a20  re expressions. 
-0002fac0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
-0002fad0: 6869 6c65 2031 3a0a 2020 2020 2020 2020  hile 1:.        
-0002fae0: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-0002faf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002fb00: 2020 2020 2020 2020 2074 6d70 6c6f 6320           tmploc 
-0002fb10: 3d20 7365 6c66 5f69 676e 6f72 6545 7870  = self_ignoreExp
-0002fb20: 725f 7472 7950 6172 7365 2869 6e73 7472  r_tryParse(instr
-0002fb30: 696e 672c 2074 6d70 6c6f 6329 0a20 2020  ing, tmploc).   
-0002fb40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fb50: 2065 7863 6570 7420 5061 7273 6542 6173   except ParseBas
-0002fb60: 6545 7863 6570 7469 6f6e 3a0a 2020 2020  eException:.    
-0002fb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fb80: 2020 2020 6272 6561 6b0a 0a20 2020 2020      break..     
-0002fb90: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
-0002fba0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0002fbb0: 5f65 7870 725f 7061 7273 6528 696e 7374  _expr_parse(inst
-0002fbc0: 7269 6e67 2c20 746d 706c 6f63 2c20 646f  ring, tmploc, do
-0002fbd0: 4163 7469 6f6e 733d 4661 6c73 652c 2063  Actions=False, c
-0002fbe0: 616c 6c50 7265 5061 7273 653d 4661 6c73  allPreParse=Fals
-0002fbf0: 6529 0a20 2020 2020 2020 2020 2020 2065  e).            e
-0002fc00: 7863 6570 7420 2850 6172 7365 4578 6365  xcept (ParseExce
-0002fc10: 7074 696f 6e2c 2049 6e64 6578 4572 726f  ption, IndexErro
-0002fc20: 7229 3a0a 2020 2020 2020 2020 2020 2020  r):.            
-0002fc30: 2020 2020 2320 6e6f 206d 6174 6368 2c20      # no match, 
-0002fc40: 6164 7661 6e63 6520 6c6f 6320 696e 2073  advance loc in s
-0002fc50: 7472 696e 670a 2020 2020 2020 2020 2020  tring.          
-0002fc60: 2020 2020 2020 746d 706c 6f63 202b 3d20        tmploc += 
-0002fc70: 310a 2020 2020 2020 2020 2020 2020 656c  1.            el
-0002fc80: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0002fc90: 2020 2020 2320 6d61 7463 6865 6420 736b      # matched sk
-0002fca0: 6970 746f 2065 7870 722c 2064 6f6e 650a  ipto expr, done.
-0002fcb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fcc0: 6272 6561 6b0a 0a20 2020 2020 2020 2065  break..        e
-0002fcd0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0002fce0: 2023 2072 616e 206f 6666 2074 6865 2065   # ran off the e
-0002fcf0: 6e64 206f 6620 7468 6520 696e 7075 7420  nd of the input 
-0002fd00: 7374 7269 6e67 2077 6974 686f 7574 206d  string without m
-0002fd10: 6174 6368 696e 6720 736b 6970 746f 2065  atching skipto e
-0002fd20: 7870 722c 2066 6169 6c0a 2020 2020 2020  xpr, fail.      
-0002fd30: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
-0002fd40: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
-0002fd50: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
-0002fd60: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
-0002fd70: 2020 2020 2020 2320 6275 696c 6420 7570        # build up
-0002fd80: 2072 6574 7572 6e20 7661 6c75 6573 0a20   return values. 
-0002fd90: 2020 2020 2020 206c 6f63 203d 2074 6d70         loc = tmp
-0002fda0: 6c6f 630a 2020 2020 2020 2020 736b 6970  loc.        skip
-0002fdb0: 7465 7874 203d 2069 6e73 7472 696e 675b  text = instring[
-0002fdc0: 7374 6172 746c 6f63 3a6c 6f63 5d0a 2020  startloc:loc].  
-0002fdd0: 2020 2020 2020 736b 6970 7265 7375 6c74        skipresult
-0002fde0: 203d 2050 6172 7365 5265 7375 6c74 7328   = ParseResults(
-0002fdf0: 736b 6970 7465 7874 290a 0a20 2020 2020  skiptext)..     
-0002fe00: 2020 2069 6620 7365 6c66 2e69 6e63 6c75     if self.inclu
-0002fe10: 6465 4d61 7463 683a 0a20 2020 2020 2020  deMatch:.       
-0002fe20: 2020 2020 206c 6f63 2c20 6d61 7420 3d20       loc, mat = 
-0002fe30: 7365 6c66 5f65 7870 725f 7061 7273 6528  self_expr_parse(
-0002fe40: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
-0002fe50: 6f41 6374 696f 6e73 2c20 6361 6c6c 5072  oActions, callPr
-0002fe60: 6550 6172 7365 3d46 616c 7365 290a 2020  eParse=False).  
-0002fe70: 2020 2020 2020 2020 2020 736b 6970 7265            skipre
-0002fe80: 7375 6c74 202b 3d20 6d61 740a 0a20 2020  sult += mat..   
-0002fe90: 2020 2020 2072 6574 7572 6e20 6c6f 632c       return loc,
-0002fea0: 2073 6b69 7072 6573 756c 740a 0a0a 636c   skipresult...cl
-0002feb0: 6173 7320 466f 7277 6172 6428 5061 7273  ass Forward(Pars
-0002fec0: 6545 6c65 6d65 6e74 456e 6861 6e63 6529  eElementEnhance)
-0002fed0: 3a0a 2020 2020 2222 220a 2020 2020 466f  :.    """.    Fo
-0002fee0: 7277 6172 6420 6465 636c 6172 6174 696f  rward declaratio
-0002fef0: 6e20 6f66 2061 6e20 6578 7072 6573 7369  n of an expressi
-0002ff00: 6f6e 2074 6f20 6265 2064 6566 696e 6564  on to be defined
-0002ff10: 206c 6174 6572 202d 0a20 2020 2075 7365   later -.    use
-0002ff20: 6420 666f 7220 7265 6375 7273 6976 6520  d for recursive 
-0002ff30: 6772 616d 6d61 7273 2c20 7375 6368 2061  grammars, such a
-0002ff40: 7320 616c 6765 6272 6169 6320 696e 6669  s algebraic infi
-0002ff50: 7820 6e6f 7461 7469 6f6e 2e0a 2020 2020  x notation..    
-0002ff60: 5768 656e 2074 6865 2065 7870 7265 7373  When the express
-0002ff70: 696f 6e20 6973 206b 6e6f 776e 2c20 6974  ion is known, it
-0002ff80: 2069 7320 6173 7369 676e 6564 2074 6f20   is assigned to 
-0002ff90: 7468 6520 6060 466f 7277 6172 6460 600a  the ``Forward``.
-0002ffa0: 2020 2020 7661 7269 6162 6c65 2075 7369      variable usi
-0002ffb0: 6e67 2074 6865 2060 6027 3c3c 2760 6020  ng the ``'<<'`` 
-0002ffc0: 6f70 6572 6174 6f72 2e0a 0a20 2020 204e  operator...    N
-0002ffd0: 6f74 653a 2074 616b 6520 6361 7265 2077  ote: take care w
-0002ffe0: 6865 6e20 6173 7369 676e 696e 6720 746f  hen assigning to
-0002fff0: 2060 6046 6f72 7761 7264 6060 206e 6f74   ``Forward`` not
-00030000: 2074 6f20 6f76 6572 6c6f 6f6b 0a20 2020   to overlook.   
-00030010: 2070 7265 6365 6465 6e63 6520 6f66 206f   precedence of o
-00030020: 7065 7261 746f 7273 2e0a 0a20 2020 2053  perators...    S
-00030030: 7065 6369 6669 6361 6c6c 792c 2060 6027  pecifically, ``'
-00030040: 7c27 6060 2068 6173 2061 206c 6f77 6572  |'`` has a lower
-00030050: 2070 7265 6365 6465 6e63 6520 7468 616e   precedence than
-00030060: 2060 6027 3c3c 2760 602c 2073 6f20 7468   ``'<<'``, so th
-00030070: 6174 3a3a 0a0a 2020 2020 2020 2020 6677  at::..        fw
-00030080: 645f 6578 7072 203c 3c20 6120 7c20 6220  d_expr << a | b 
-00030090: 7c20 630a 0a20 2020 2077 696c 6c20 6163  | c..    will ac
-000300a0: 7475 616c 6c79 2062 6520 6576 616c 7561  tually be evalua
-000300b0: 7465 6420 6173 3a3a 0a0a 2020 2020 2020  ted as::..      
-000300c0: 2020 2866 7764 5f65 7870 7220 3c3c 2061    (fwd_expr << a
-000300d0: 2920 7c20 6220 7c20 630a 0a20 2020 2074  ) | b | c..    t
-000300e0: 6865 7265 6279 206c 6561 7669 6e67 2062  hereby leaving b
-000300f0: 2061 6e64 2063 206f 7574 2061 7320 7061   and c out as pa
-00030100: 7273 6561 626c 6520 616c 7465 726e 6174  rseable alternat
-00030110: 6976 6573 2e20 2049 7420 6973 2072 6563  ives.  It is rec
-00030120: 6f6d 6d65 6e64 6564 2074 6861 7420 796f  ommended that yo
-00030130: 750a 2020 2020 6578 706c 6963 6974 6c79  u.    explicitly
-00030140: 2067 726f 7570 2074 6865 2076 616c 7565   group the value
-00030150: 7320 696e 7365 7274 6564 2069 6e74 6f20  s inserted into 
-00030160: 7468 6520 6060 466f 7277 6172 6460 603a  the ``Forward``:
-00030170: 3a0a 0a20 2020 2020 2020 2066 7764 5f65  :..        fwd_e
-00030180: 7870 7220 3c3c 2028 6120 7c20 6220 7c20  xpr << (a | b | 
-00030190: 6329 0a0a 2020 2020 436f 6e76 6572 7469  c)..    Converti
-000301a0: 6e67 2074 6f20 7573 6520 7468 6520 6060  ng to use the ``
-000301b0: 273c 3c3d 2760 6020 6f70 6572 6174 6f72  '<<='`` operator
-000301c0: 2069 6e73 7465 6164 2077 696c 6c20 6176   instead will av
-000301d0: 6f69 6420 7468 6973 2070 726f 626c 656d  oid this problem
-000301e0: 2e0a 0a20 2020 2053 6565 203a 636c 6173  ...    See :clas
-000301f0: 733a 6050 6172 7365 5265 7375 6c74 732e  s:`ParseResults.
-00030200: 7070 7269 6e74 6020 666f 7220 616e 2065  pprint` for an e
-00030210: 7861 6d70 6c65 206f 6620 6120 7265 6375  xample of a recu
-00030220: 7273 6976 650a 2020 2020 7061 7273 6572  rsive.    parser
-00030230: 2063 7265 6174 6564 2075 7369 6e67 2060   created using `
-00030240: 6046 6f72 7761 7264 6060 2e0a 2020 2020  `Forward``..    
-00030250: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
-00030260: 6e69 745f 5f28 7365 6c66 2c20 6f74 6865  nit__(self, othe
-00030270: 723a 2074 7970 696e 672e 4f70 7469 6f6e  r: typing.Option
-00030280: 616c 5b55 6e69 6f6e 5b50 6172 7365 7245  al[Union[ParserE
-00030290: 6c65 6d65 6e74 2c20 7374 725d 5d20 3d20  lement, str]] = 
-000302a0: 4e6f 6e65 293a 0a20 2020 2020 2020 2073  None):.        s
-000302b0: 656c 662e 6361 6c6c 6572 5f66 7261 6d65  elf.caller_frame
-000302c0: 203d 2074 7261 6365 6261 636b 2e65 7874   = traceback.ext
-000302d0: 7261 6374 5f73 7461 636b 286c 696d 6974  ract_stack(limit
-000302e0: 3d32 295b 305d 0a20 2020 2020 2020 2073  =2)[0].        s
-000302f0: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
-00030300: 6f74 6865 722c 2073 6176 656c 6973 743d  other, savelist=
-00030310: 4661 6c73 6529 2020 2320 7479 7065 3a20  False)  # type: 
-00030320: 6967 6e6f 7265 5b61 7267 2d74 7970 655d  ignore[arg-type]
-00030330: 0a20 2020 2020 2020 2073 656c 662e 6c73  .        self.ls
-00030340: 6869 6674 5f6c 696e 6520 3d20 4e6f 6e65  hift_line = None
-00030350: 0a0a 2020 2020 6465 6620 5f5f 6c73 6869  ..    def __lshi
-00030360: 6674 5f5f 2873 656c 662c 206f 7468 6572  ft__(self, other
-00030370: 2920 2d3e 2022 466f 7277 6172 6422 3a0a  ) -> "Forward":.
-00030380: 2020 2020 2020 2020 6966 2068 6173 6174          if hasat
-00030390: 7472 2873 656c 662c 2022 6361 6c6c 6572  tr(self, "caller
-000303a0: 5f66 7261 6d65 2229 3a0a 2020 2020 2020  _frame"):.      
-000303b0: 2020 2020 2020 6465 6c20 7365 6c66 2e63        del self.c
-000303c0: 616c 6c65 725f 6672 616d 650a 2020 2020  aller_frame.    
-000303d0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-000303e0: 6528 6f74 6865 722c 2073 7472 5f74 7970  e(other, str_typ
-000303f0: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-00030400: 6f74 6865 7220 3d20 7365 6c66 2e5f 6c69  other = self._li
-00030410: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
-00030420: 286f 7468 6572 290a 0a20 2020 2020 2020  (other)..       
-00030430: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
-00030440: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
-00030450: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
-00030460: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
-00030470: 496d 706c 656d 656e 7465 640a 0a20 2020  Implemented..   
-00030480: 2020 2020 2073 656c 662e 6578 7072 203d       self.expr =
-00030490: 206f 7468 6572 0a20 2020 2020 2020 2073   other.        s
-000304a0: 656c 662e 7374 7265 616d 6c69 6e65 6420  elf.streamlined 
-000304b0: 3d20 6f74 6865 722e 7374 7265 616d 6c69  = other.streamli
-000304c0: 6e65 640a 2020 2020 2020 2020 7365 6c66  ned.        self
-000304d0: 2e6d 6179 496e 6465 7845 7272 6f72 203d  .mayIndexError =
-000304e0: 2073 656c 662e 6578 7072 2e6d 6179 496e   self.expr.mayIn
-000304f0: 6465 7845 7272 6f72 0a20 2020 2020 2020  dexError.       
-00030500: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
-00030510: 6d70 7479 203d 2073 656c 662e 6578 7072  mpty = self.expr
-00030520: 2e6d 6179 5265 7475 726e 456d 7074 790a  .mayReturnEmpty.
-00030530: 2020 2020 2020 2020 7365 6c66 2e73 6574          self.set
-00030540: 5f77 6869 7465 7370 6163 655f 6368 6172  _whitespace_char
-00030550: 7328 0a20 2020 2020 2020 2020 2020 2073  s(.            s
-00030560: 656c 662e 6578 7072 2e77 6869 7465 4368  elf.expr.whiteCh
-00030570: 6172 732c 2063 6f70 795f 6465 6661 756c  ars, copy_defaul
-00030580: 7473 3d73 656c 662e 6578 7072 2e63 6f70  ts=self.expr.cop
-00030590: 7944 6566 6175 6c74 5768 6974 6543 6861  yDefaultWhiteCha
-000305a0: 7273 0a20 2020 2020 2020 2029 0a20 2020  rs.        ).   
-000305b0: 2020 2020 2073 656c 662e 736b 6970 5768       self.skipWh
-000305c0: 6974 6573 7061 6365 203d 2073 656c 662e  itespace = self.
-000305d0: 6578 7072 2e73 6b69 7057 6869 7465 7370  expr.skipWhitesp
-000305e0: 6163 650a 2020 2020 2020 2020 7365 6c66  ace.        self
-000305f0: 2e73 6176 6541 734c 6973 7420 3d20 7365  .saveAsList = se
-00030600: 6c66 2e65 7870 722e 7361 7665 4173 4c69  lf.expr.saveAsLi
-00030610: 7374 0a20 2020 2020 2020 2073 656c 662e  st.        self.
-00030620: 6967 6e6f 7265 4578 7072 732e 6578 7465  ignoreExprs.exte
-00030630: 6e64 2873 656c 662e 6578 7072 2e69 676e  nd(self.expr.ign
-00030640: 6f72 6545 7870 7273 290a 2020 2020 2020  oreExprs).      
-00030650: 2020 7365 6c66 2e6c 7368 6966 745f 6c69    self.lshift_li
-00030660: 6e65 203d 2074 7261 6365 6261 636b 2e65  ne = traceback.e
-00030670: 7874 7261 6374 5f73 7461 636b 286c 696d  xtract_stack(lim
-00030680: 6974 3d32 295b 2d32 5d20 2023 2074 7970  it=2)[-2]  # typ
-00030690: 653a 2069 676e 6f72 655b 6173 7369 676e  e: ignore[assign
-000306a0: 6d65 6e74 5d0a 2020 2020 2020 2020 7265  ment].        re
-000306b0: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
-000306c0: 6566 205f 5f69 6c73 6869 6674 5f5f 2873  ef __ilshift__(s
-000306d0: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
-000306e0: 466f 7277 6172 6422 3a0a 2020 2020 2020  Forward":.      
-000306f0: 2020 6966 206e 6f74 2069 7369 6e73 7461    if not isinsta
-00030700: 6e63 6528 6f74 6865 722c 2050 6172 7365  nce(other, Parse
-00030710: 7245 6c65 6d65 6e74 293a 0a20 2020 2020  rElement):.     
-00030720: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
-00030730: 7449 6d70 6c65 6d65 6e74 6564 0a0a 2020  tImplemented..  
-00030740: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00030750: 6620 3c3c 206f 7468 6572 0a0a 2020 2020  f << other..    
-00030760: 6465 6620 5f5f 6f72 5f5f 2873 656c 662c  def __or__(self,
-00030770: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
-00030780: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
-00030790: 2020 2020 6361 6c6c 6572 5f6c 696e 6520      caller_line 
-000307a0: 3d20 7472 6163 6562 6163 6b2e 6578 7472  = traceback.extr
-000307b0: 6163 745f 7374 6163 6b28 6c69 6d69 743d  act_stack(limit=
-000307c0: 3229 5b2d 325d 0a20 2020 2020 2020 2069  2)[-2].        i
-000307d0: 6620 280a 2020 2020 2020 2020 2020 2020  f (.            
-000307e0: 5f5f 6469 6167 5f5f 2e77 6172 6e5f 6f6e  __diag__.warn_on
-000307f0: 5f6d 6174 6368 5f66 6972 7374 5f77 6974  _match_first_wit
-00030800: 685f 6c73 6869 6674 5f6f 7065 7261 746f  h_lshift_operato
-00030810: 720a 2020 2020 2020 2020 2020 2020 616e  r.            an
-00030820: 6420 6361 6c6c 6572 5f6c 696e 6520 3d3d  d caller_line ==
-00030830: 2073 656c 662e 6c73 6869 6674 5f6c 696e   self.lshift_lin
-00030840: 650a 2020 2020 2020 2020 2020 2020 616e  e.            an
-00030850: 6420 4469 6167 6e6f 7374 6963 732e 7761  d Diagnostics.wa
-00030860: 726e 5f6f 6e5f 6d61 7463 685f 6669 7273  rn_on_match_firs
-00030870: 745f 7769 7468 5f6c 7368 6966 745f 6f70  t_with_lshift_op
-00030880: 6572 6174 6f72 0a20 2020 2020 2020 2020  erator.         
-00030890: 2020 206e 6f74 2069 6e20 7365 6c66 2e73     not in self.s
-000308a0: 7570 7072 6573 735f 7761 726e 696e 6773  uppress_warnings
-000308b0: 5f0a 2020 2020 2020 2020 293a 0a20 2020  _.        ):.   
-000308c0: 2020 2020 2020 2020 2077 6172 6e69 6e67           warning
-000308d0: 732e 7761 726e 280a 2020 2020 2020 2020  s.warn(.        
-000308e0: 2020 2020 2020 2020 2275 7369 6e67 2027          "using '
-000308f0: 3c3c 2720 6f70 6572 6174 6f72 2077 6974  <<' operator wit
-00030900: 6820 277c 2720 6973 2070 726f 6261 626c  h '|' is probabl
-00030910: 7920 616e 2065 7272 6f72 2c20 7573 6520  y an error, use 
-00030920: 273c 3c3d 2722 2c0a 2020 2020 2020 2020  '<<='",.        
-00030930: 2020 2020 2020 2020 7374 6163 6b6c 6576          stacklev
-00030940: 656c 3d32 2c0a 2020 2020 2020 2020 2020  el=2,.          
-00030950: 2020 290a 2020 2020 2020 2020 7265 7420    ).        ret 
-00030960: 3d20 7375 7065 7228 292e 5f5f 6f72 5f5f  = super().__or__
-00030970: 286f 7468 6572 290a 2020 2020 2020 2020  (other).        
-00030980: 7265 7475 726e 2072 6574 0a0a 2020 2020  return ret..    
-00030990: 6465 6620 5f5f 6465 6c5f 5f28 7365 6c66  def __del__(self
-000309a0: 293a 0a20 2020 2020 2020 2023 2073 6565  ):.        # see
-000309b0: 2069 6620 7765 2061 7265 2067 6574 7469   if we are getti
-000309c0: 6e67 2064 726f 7070 6564 2062 6563 6175  ng dropped becau
-000309d0: 7365 206f 6620 273d 2720 7265 6173 7369  se of '=' reassi
-000309e0: 676e 6d65 6e74 206f 6620 7661 7220 696e  gnment of var in
-000309f0: 7374 6561 6420 6f66 2027 3c3c 3d27 206f  stead of '<<=' o
-00030a00: 7220 273c 3c27 0a20 2020 2020 2020 2069  r '<<'.        i
-00030a10: 6620 280a 2020 2020 2020 2020 2020 2020  f (.            
-00030a20: 7365 6c66 2e65 7870 7220 6973 204e 6f6e  self.expr is Non
-00030a30: 650a 2020 2020 2020 2020 2020 2020 616e  e.            an
-00030a40: 6420 5f5f 6469 6167 5f5f 2e77 6172 6e5f  d __diag__.warn_
-00030a50: 6f6e 5f61 7373 6967 6e6d 656e 745f 746f  on_assignment_to
-00030a60: 5f46 6f72 7761 7264 0a20 2020 2020 2020  _Forward.       
-00030a70: 2020 2020 2061 6e64 2044 6961 676e 6f73       and Diagnos
-00030a80: 7469 6373 2e77 6172 6e5f 6f6e 5f61 7373  tics.warn_on_ass
-00030a90: 6967 6e6d 656e 745f 746f 5f46 6f72 7761  ignment_to_Forwa
-00030aa0: 7264 206e 6f74 2069 6e20 7365 6c66 2e73  rd not in self.s
-00030ab0: 7570 7072 6573 735f 7761 726e 696e 6773  uppress_warnings
-00030ac0: 5f0a 2020 2020 2020 2020 293a 0a20 2020  _.        ):.   
-00030ad0: 2020 2020 2020 2020 2077 6172 6e69 6e67           warning
-00030ae0: 732e 7761 726e 5f65 7870 6c69 6369 7428  s.warn_explicit(
-00030af0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00030b00: 2022 466f 7277 6172 6420 6465 6669 6e65   "Forward define
-00030b10: 6420 6865 7265 2062 7574 206e 6f20 6578  d here but no ex
-00030b20: 7072 6573 7369 6f6e 2061 7474 6163 6865  pression attache
-00030b30: 6420 6c61 7465 7220 7573 696e 6720 273c  d later using '<
-00030b40: 3c3d 2720 6f72 2027 3c3c 2722 2c0a 2020  <=' or '<<'",.  
-00030b50: 2020 2020 2020 2020 2020 2020 2020 5573                Us
-00030b60: 6572 5761 726e 696e 672c 0a20 2020 2020  erWarning,.     
-00030b70: 2020 2020 2020 2020 2020 2066 696c 656e             filen
-00030b80: 616d 653d 7365 6c66 2e63 616c 6c65 725f  ame=self.caller_
-00030b90: 6672 616d 652e 6669 6c65 6e61 6d65 2c0a  frame.filename,.
-00030ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030bb0: 6c69 6e65 6e6f 3d73 656c 662e 6361 6c6c  lineno=self.call
-00030bc0: 6572 5f66 7261 6d65 2e6c 696e 656e 6f2c  er_frame.lineno,
-00030bd0: 0a20 2020 2020 2020 2020 2020 2029 0a0a  .            )..
-00030be0: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
-00030bf0: 6c28 7365 6c66 2c20 696e 7374 7269 6e67  l(self, instring
-00030c00: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
-00030c10: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
-00030c20: 6966 2028 0a20 2020 2020 2020 2020 2020  if (.           
-00030c30: 2073 656c 662e 6578 7072 2069 7320 4e6f   self.expr is No
-00030c40: 6e65 0a20 2020 2020 2020 2020 2020 2061  ne.            a
-00030c50: 6e64 205f 5f64 6961 675f 5f2e 7761 726e  nd __diag__.warn
-00030c60: 5f6f 6e5f 7061 7273 655f 7573 696e 675f  _on_parse_using_
-00030c70: 656d 7074 795f 466f 7277 6172 640a 2020  empty_Forward.  
-00030c80: 2020 2020 2020 2020 2020 616e 6420 4469            and Di
-00030c90: 6167 6e6f 7374 6963 732e 7761 726e 5f6f  agnostics.warn_o
-00030ca0: 6e5f 7061 7273 655f 7573 696e 675f 656d  n_parse_using_em
-00030cb0: 7074 795f 466f 7277 6172 640a 2020 2020  pty_Forward.    
-00030cc0: 2020 2020 2020 2020 6e6f 7420 696e 2073          not in s
-00030cd0: 656c 662e 7375 7070 7265 7373 5f77 6172  elf.suppress_war
-00030ce0: 6e69 6e67 735f 0a20 2020 2020 2020 2029  nings_.        )
-00030cf0: 3a0a 2020 2020 2020 2020 2020 2020 2320  :.            # 
-00030d00: 7761 6c6b 2073 7461 636b 2075 6e74 696c  walk stack until
-00030d10: 2070 6172 7365 5f73 7472 696e 672c 2073   parse_string, s
-00030d20: 6361 6e5f 7374 7269 6e67 2c20 7365 6172  can_string, sear
-00030d30: 6368 5f73 7472 696e 672c 206f 7220 7472  ch_string, or tr
-00030d40: 616e 7366 6f72 6d5f 7374 7269 6e67 2069  ansform_string i
-00030d50: 7320 666f 756e 640a 2020 2020 2020 2020  s found.        
-00030d60: 2020 2020 7061 7273 655f 666e 7320 3d20      parse_fns = 
-00030d70: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00030d80: 2020 2270 6172 7365 5f73 7472 696e 6722    "parse_string"
-00030d90: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00030da0: 2020 2273 6361 6e5f 7374 7269 6e67 222c    "scan_string",
-00030db0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00030dc0: 2022 7365 6172 6368 5f73 7472 696e 6722   "search_string"
-00030dd0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00030de0: 2020 2274 7261 6e73 666f 726d 5f73 7472    "transform_str
-00030df0: 696e 6722 2c0a 2020 2020 2020 2020 2020  ing",.          
-00030e00: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-00030e10: 7462 203d 2074 7261 6365 6261 636b 2e65  tb = traceback.e
-00030e20: 7874 7261 6374 5f73 7461 636b 286c 696d  xtract_stack(lim
-00030e30: 6974 3d32 3030 290a 2020 2020 2020 2020  it=200).        
-00030e40: 2020 2020 666f 7220 692c 2066 726d 2069      for i, frm i
-00030e50: 6e20 656e 756d 6572 6174 6528 7265 7665  n enumerate(reve
-00030e60: 7273 6564 2874 6229 2c20 7374 6172 743d  rsed(tb), start=
-00030e70: 3129 3a0a 2020 2020 2020 2020 2020 2020  1):.            
-00030e80: 2020 2020 6966 2066 726d 2e6e 616d 6520      if frm.name 
-00030e90: 696e 2070 6172 7365 5f66 6e73 3a0a 2020  in parse_fns:.  
-00030ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030eb0: 2020 7374 6163 6b6c 6576 656c 203d 2069    stacklevel = i
-00030ec0: 202b 2031 0a20 2020 2020 2020 2020 2020   + 1.           
-00030ed0: 2020 2020 2020 2020 2062 7265 616b 0a20           break. 
-00030ee0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00030ef0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00030f00: 2073 7461 636b 6c65 7665 6c20 3d20 320a   stacklevel = 2.
-00030f10: 2020 2020 2020 2020 2020 2020 7761 726e              warn
-00030f20: 696e 6773 2e77 6172 6e28 0a20 2020 2020  ings.warn(.     
-00030f30: 2020 2020 2020 2020 2020 2022 466f 7277             "Forw
-00030f40: 6172 6420 6578 7072 6573 7369 6f6e 2077  ard expression w
-00030f50: 6173 206e 6576 6572 2061 7373 6967 6e65  as never assigne
-00030f60: 6420 6120 7661 6c75 652c 2077 696c 6c20  d a value, will 
-00030f70: 6e6f 7420 7061 7273 6520 616e 7920 696e  not parse any in
-00030f80: 7075 7422 2c0a 2020 2020 2020 2020 2020  put",.          
-00030f90: 2020 2020 2020 7374 6163 6b6c 6576 656c        stacklevel
-00030fa0: 3d73 7461 636b 6c65 7665 6c2c 0a20 2020  =stacklevel,.   
-00030fb0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-00030fc0: 2020 2069 6620 6e6f 7420 5061 7273 6572     if not Parser
-00030fd0: 456c 656d 656e 742e 5f6c 6566 745f 7265  Element._left_re
-00030fe0: 6375 7273 696f 6e5f 656e 6162 6c65 643a  cursion_enabled:
-00030ff0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00031000: 7572 6e20 7375 7065 7228 292e 7061 7273  urn super().pars
-00031010: 6549 6d70 6c28 696e 7374 7269 6e67 2c20  eImpl(instring, 
-00031020: 6c6f 632c 2064 6f41 6374 696f 6e73 290a  loc, doActions).
-00031030: 2020 2020 2020 2020 2320 2323 2042 6f75          # ## Bou
-00031040: 6e64 6564 2052 6563 7572 7369 6f6e 2061  nded Recursion a
-00031050: 6c67 6f72 6974 686d 2023 230a 2020 2020  lgorithm ##.    
-00031060: 2020 2020 2320 5265 6375 7273 696f 6e20      # Recursion 
-00031070: 6f6e 6c79 206e 6565 6473 2074 6f20 6265  only needs to be
-00031080: 2070 726f 6365 7373 6564 2061 7420 6060   processed at ``
-00031090: 466f 7277 6172 6460 6020 656c 656d 656e  Forward`` elemen
-000310a0: 7473 2c20 7369 6e63 6520 7468 6579 2061  ts, since they a
-000310b0: 7265 0a20 2020 2020 2020 2023 2074 6865  re.        # the
-000310c0: 206f 6e6c 7920 6f6e 6573 2074 6861 7420   only ones that 
-000310d0: 6361 6e20 6163 7475 616c 6c79 2072 6566  can actually ref
-000310e0: 6572 2074 6f20 7468 656d 7365 6c76 6573  er to themselves
-000310f0: 2e20 5468 6520 6765 6e65 7261 6c20 6964  . The general id
-00031100: 6561 2069 730a 2020 2020 2020 2020 2320  ea is.        # 
-00031110: 746f 2068 616e 646c 6520 7265 6375 7273  to handle recurs
-00031120: 696f 6e20 7374 6570 7769 7365 3a20 5765  ion stepwise: We
-00031130: 2073 7461 7274 2061 7420 6e6f 2072 6563   start at no rec
-00031140: 7572 7369 6f6e 2c20 7468 656e 2072 6563  ursion, then rec
-00031150: 7572 7365 206f 6e63 652c 0a20 2020 2020  urse once,.     
-00031160: 2020 2023 2072 6563 7572 7365 2074 7769     # recurse twi
-00031170: 6365 2c20 2e2e 2e2c 2075 6e74 696c 206d  ce, ..., until m
-00031180: 6f72 6520 7265 6375 7273 696f 6e20 6f66  ore recursion of
-00031190: 6665 7273 206e 6f20 6265 6e65 6669 7420  fers no benefit 
-000311a0: 2877 6520 6869 7420 7468 6520 626f 756e  (we hit the boun
-000311b0: 6429 2e0a 2020 2020 2020 2020 230a 2020  d)..        #.  
-000311c0: 2020 2020 2020 2320 5468 6520 2274 7269        # The "tri
-000311d0: 636b 2220 6865 7265 2069 7320 7468 6174  ck" here is that
-000311e0: 2065 6163 6820 6060 466f 7277 6172 6460   each ``Forward`
-000311f0: 6020 6765 7473 2065 7661 6c75 6174 6564  ` gets evaluated
-00031200: 2069 6e20 7477 6f20 636f 6e74 6578 7473   in two contexts
-00031210: 0a20 2020 2020 2020 2023 202d 2074 6f20  .        # - to 
-00031220: 2a6d 6174 6368 2a20 6120 7370 6563 6966  *match* a specif
-00031230: 6963 2072 6563 7572 7369 6f6e 206c 6576  ic recursion lev
-00031240: 656c 2c20 616e 640a 2020 2020 2020 2020  el, and.        
-00031250: 2320 2d20 746f 202a 7365 6172 6368 2a20  # - to *search* 
-00031260: 7468 6520 626f 756e 6465 6420 7265 6375  the bounded recu
-00031270: 7273 696f 6e20 6c65 7665 6c0a 2020 2020  rsion level.    
-00031280: 2020 2020 2320 616e 6420 7468 6520 7477      # and the tw
-00031290: 6f20 7275 6e20 636f 6e63 7572 7265 6e74  o run concurrent
-000312a0: 6c79 2e20 5468 6520 2a73 6561 7263 682a  ly. The *search*
-000312b0: 206d 7573 7420 2a6d 6174 6368 2a20 6561   must *match* ea
-000312c0: 6368 2072 6563 7572 7369 6f6e 206c 6576  ch recursion lev
-000312d0: 656c 0a20 2020 2020 2020 2023 2074 6f20  el.        # to 
-000312e0: 6669 6e64 2074 6865 2062 6573 7420 706f  find the best po
-000312f0: 7373 6962 6c65 206d 6174 6368 2e20 5468  ssible match. Th
-00031300: 6973 2069 7320 6861 6e64 6c65 6420 6279  is is handled by
-00031310: 2061 206d 656d 6f20 7461 626c 652c 2077   a memo table, w
-00031320: 6869 6368 0a20 2020 2020 2020 2023 2070  hich.        # p
-00031330: 726f 7669 6465 7320 7468 6520 7072 6576  rovides the prev
-00031340: 696f 7573 206d 6174 6368 2074 6f20 7468  ious match to th
-00031350: 6520 6e65 7874 206c 6576 656c 206d 6174  e next level mat
-00031360: 6368 2061 7474 656d 7074 2e0a 2020 2020  ch attempt..    
-00031370: 2020 2020 230a 2020 2020 2020 2020 2320      #.        # 
-00031380: 5365 6520 616c 736f 2022 4c65 6674 2052  See also "Left R
-00031390: 6563 7572 7369 6f6e 2069 6e20 5061 7273  ecursion in Pars
-000313a0: 696e 6720 4578 7072 6573 7369 6f6e 2047  ing Expression G
-000313b0: 7261 6d6d 6172 7322 2c20 4d65 6465 6972  rammars", Medeir
-000313c0: 6f73 2065 7420 616c 2e0a 2020 2020 2020  os et al..      
-000313d0: 2020 230a 2020 2020 2020 2020 2320 5468    #.        # Th
-000313e0: 6572 6520 6973 2061 2063 6f6d 706c 6963  ere is a complic
-000313f0: 6174 696f 6e20 7369 6e63 6520 7765 206e  ation since we n
-00031400: 6f74 206f 6e6c 7920 2a70 6172 7365 2a20  ot only *parse* 
-00031410: 6275 7420 616c 736f 202a 7472 616e 7366  but also *transf
-00031420: 6f72 6d2a 2076 6961 0a20 2020 2020 2020  orm* via.       
-00031430: 2023 2061 6374 696f 6e73 3a20 5765 2064   # actions: We d
-00031440: 6f20 6e6f 7420 7761 6e74 2074 6f20 7275  o not want to ru
-00031450: 6e20 7468 6520 6163 7469 6f6e 7320 746f  n the actions to
-00031460: 6f20 6f66 7465 6e20 7768 696c 6520 6578  o often while ex
-00031470: 7061 6e64 696e 672e 2054 6875 732c 0a20  panding. Thus,. 
-00031480: 2020 2020 2020 2023 2077 6520 6578 7061         # we expa
-00031490: 6e64 2075 7369 6e67 2060 646f 4163 7469  nd using `doActi
-000314a0: 6f6e 733d 4661 6c73 6560 2061 6e64 206f  ons=False` and o
-000314b0: 6e6c 7920 7275 6e20 6064 6f41 6374 696f  nly run `doActio
-000314c0: 6e73 3d54 7275 6560 2069 6620 7468 6520  ns=True` if the 
-000314d0: 6e65 7874 0a20 2020 2020 2020 2023 2072  next.        # r
-000314e0: 6563 7572 7369 6f6e 206c 6576 656c 2069  ecursion level i
-000314f0: 7320 6163 6365 7074 6162 6c65 2e0a 2020  s acceptable..  
-00031500: 2020 2020 2020 7769 7468 2050 6172 7365        with Parse
-00031510: 7245 6c65 6d65 6e74 2e72 6563 7572 7369  rElement.recursi
-00031520: 6f6e 5f6c 6f63 6b3a 0a20 2020 2020 2020  on_lock:.       
-00031530: 2020 2020 206d 656d 6f20 3d20 5061 7273       memo = Pars
-00031540: 6572 456c 656d 656e 742e 7265 6375 7273  erElement.recurs
-00031550: 696f 6e5f 6d65 6d6f 730a 2020 2020 2020  ion_memos.      
-00031560: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-00031570: 2020 2020 2020 2020 2020 2023 2077 6520             # we 
-00031580: 6172 6520 7061 7273 696e 6720 6174 2061  are parsing at a
-00031590: 2073 7065 6369 6669 6320 7265 6375 7273   specific recurs
-000315a0: 696f 6e20 6578 7061 6e73 696f 6e20 2d20  ion expansion - 
-000315b0: 7573 6520 6974 2061 732d 6973 0a20 2020  use it as-is.   
-000315c0: 2020 2020 2020 2020 2020 2020 2070 7265               pre
-000315d0: 765f 6c6f 632c 2070 7265 765f 7265 7375  v_loc, prev_resu
-000315e0: 6c74 203d 206d 656d 6f5b 6c6f 632c 2073  lt = memo[loc, s
-000315f0: 656c 662c 2064 6f41 6374 696f 6e73 5d0a  elf, doActions].
-00031600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031610: 6966 2069 7369 6e73 7461 6e63 6528 7072  if isinstance(pr
-00031620: 6576 5f72 6573 756c 742c 2045 7863 6570  ev_result, Excep
-00031630: 7469 6f6e 293a 0a20 2020 2020 2020 2020  tion):.         
-00031640: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00031650: 2070 7265 765f 7265 7375 6c74 0a20 2020   prev_result.   
-00031660: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00031670: 7572 6e20 7072 6576 5f6c 6f63 2c20 7072  urn prev_loc, pr
-00031680: 6576 5f72 6573 756c 742e 636f 7079 2829  ev_result.copy()
-00031690: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-000316a0: 6570 7420 4b65 7945 7272 6f72 3a0a 2020  ept KeyError:.  
-000316b0: 2020 2020 2020 2020 2020 2020 2020 6163                ac
-000316c0: 745f 6b65 7920 3d20 286c 6f63 2c20 7365  t_key = (loc, se
-000316d0: 6c66 2c20 5472 7565 290a 2020 2020 2020  lf, True).      
-000316e0: 2020 2020 2020 2020 2020 7065 656b 5f6b            peek_k
-000316f0: 6579 203d 2028 6c6f 632c 2073 656c 662c  ey = (loc, self,
-00031700: 2046 616c 7365 290a 2020 2020 2020 2020   False).        
-00031710: 2020 2020 2020 2020 2320 7765 2061 7265          # we are
-00031720: 2073 6561 7263 6869 6e67 2066 6f72 2074   searching for t
-00031730: 6865 2062 6573 7420 7265 6375 7273 696f  he best recursio
-00031740: 6e20 6578 7061 6e73 696f 6e20 2d20 6b65  n expansion - ke
-00031750: 6570 206f 6e20 696d 7072 6f76 696e 670a  ep on improving.
-00031760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031770: 2320 626f 7468 2060 646f 4163 7469 6f6e  # both `doAction
-00031780: 7360 2063 6173 6573 206d 7573 7420 6265  s` cases must be
-00031790: 2074 7261 636b 6564 2073 6570 6172 6174   tracked separat
-000317a0: 656c 7920 6865 7265 210a 2020 2020 2020  ely here!.      
-000317b0: 2020 2020 2020 2020 2020 7072 6576 5f6c            prev_l
-000317c0: 6f63 2c20 7072 6576 5f70 6565 6b20 3d20  oc, prev_peek = 
-000317d0: 6d65 6d6f 5b70 6565 6b5f 6b65 795d 203d  memo[peek_key] =
-000317e0: 2028 0a20 2020 2020 2020 2020 2020 2020   (.             
-000317f0: 2020 2020 2020 206c 6f63 202d 2031 2c0a         loc - 1,.
-00031800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031810: 2020 2020 5061 7273 6545 7863 6570 7469      ParseExcepti
-00031820: 6f6e 280a 2020 2020 2020 2020 2020 2020  on(.            
-00031830: 2020 2020 2020 2020 2020 2020 696e 7374              inst
-00031840: 7269 6e67 2c20 6c6f 632c 2022 466f 7277  ring, loc, "Forw
-00031850: 6172 6420 7265 6375 7273 696f 6e20 7769  ard recursion wi
-00031860: 7468 6f75 7420 6261 7365 2063 6173 6522  thout base case"
-00031870: 2c20 7365 6c66 0a20 2020 2020 2020 2020  , self.         
-00031880: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
-00031890: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-000318a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000318b0: 6966 2064 6f41 6374 696f 6e73 3a0a 2020  if doActions:.  
-000318c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000318d0: 2020 6d65 6d6f 5b61 6374 5f6b 6579 5d20    memo[act_key] 
-000318e0: 3d20 6d65 6d6f 5b70 6565 6b5f 6b65 795d  = memo[peek_key]
-000318f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031900: 2077 6869 6c65 2054 7275 653a 0a20 2020   while True:.   
-00031910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031920: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
-00031930: 2020 2020 2020 2020 2020 2020 2020 6e65                ne
-00031940: 775f 6c6f 632c 206e 6577 5f70 6565 6b20  w_loc, new_peek 
-00031950: 3d20 7375 7065 7228 292e 7061 7273 6549  = super().parseI
-00031960: 6d70 6c28 696e 7374 7269 6e67 2c20 6c6f  mpl(instring, lo
-00031970: 632c 2046 616c 7365 290a 2020 2020 2020  c, False).      
-00031980: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-00031990: 6365 7074 2050 6172 7365 4578 6365 7074  cept ParseExcept
-000319a0: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
-000319b0: 2020 2020 2020 2020 2020 2020 2023 2077               # w
-000319c0: 6520 6661 696c 6564 2062 6566 6f72 6520  e failed before 
-000319d0: 6765 7474 696e 6720 616e 7920 6d61 7463  getting any matc
-000319e0: 6820 e280 9320 646f 206e 6f74 2068 6964  h ... do not hid
-000319f0: 6520 7468 6520 6572 726f 720a 2020 2020  e the error.    
-00031a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031a10: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-00031a20: 6528 7072 6576 5f70 6565 6b2c 2045 7863  e(prev_peek, Exc
-00031a30: 6570 7469 6f6e 293a 0a20 2020 2020 2020  eption):.       
-00031a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031a50: 2020 2020 2072 6169 7365 0a20 2020 2020       raise.     
-00031a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031a70: 2020 206e 6577 5f6c 6f63 2c20 6e65 775f     new_loc, new_
-00031a80: 7065 656b 203d 2070 7265 765f 6c6f 632c  peek = prev_loc,
-00031a90: 2070 7265 765f 7065 656b 0a20 2020 2020   prev_peek.     
-00031aa0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00031ab0: 2074 6865 206d 6174 6368 2064 6964 206e   the match did n
-00031ac0: 6f74 2067 6574 2062 6574 7465 723a 2077  ot get better: w
-00031ad0: 6520 6172 6520 646f 6e65 0a20 2020 2020  e are done.     
-00031ae0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00031af0: 6620 6e65 775f 6c6f 6320 3c3d 2070 7265  f new_loc <= pre
-00031b00: 765f 6c6f 633a 0a20 2020 2020 2020 2020  v_loc:.         
-00031b10: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00031b20: 6620 646f 4163 7469 6f6e 733a 0a20 2020  f doActions:.   
+00027fb0: 2069 6620 6973 696e 7374 616e 6365 2865   if isinstance(e
+00027fc0: 2c20 5f4d 756c 7469 706c 654d 6174 6368  , _MultipleMatch
+00027fd0: 290a 2020 2020 2020 2020 2020 2020 5d0a  ).            ].
+00027fe0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00027ff0: 2e6d 756c 7469 7265 7175 6972 6564 203d  .multirequired =
+00028000: 205b 0a20 2020 2020 2020 2020 2020 2020   [.             
+00028010: 2020 2065 2e65 7870 722e 7365 745f 7265     e.expr.set_re
+00028020: 7375 6c74 735f 6e61 6d65 2865 2e72 6573  sults_name(e.res
+00028030: 756c 7473 4e61 6d65 2c20 6c69 7374 5f61  ultsName, list_a
+00028040: 6c6c 5f6d 6174 6368 6573 3d54 7275 6529  ll_matches=True)
+00028050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028060: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
+00028070: 7870 7273 0a20 2020 2020 2020 2020 2020  xprs.           
+00028080: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+00028090: 6365 2865 2c20 4f6e 654f 724d 6f72 6529  ce(e, OneOrMore)
+000280a0: 0a20 2020 2020 2020 2020 2020 205d 0a20  .            ]. 
+000280b0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000280c0: 7265 7175 6972 6564 203d 205b 0a20 2020  required = [.   
+000280d0: 2020 2020 2020 2020 2020 2020 2065 2066               e f
+000280e0: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
+000280f0: 7273 2069 6620 6e6f 7420 6973 696e 7374  rs if not isinst
+00028100: 616e 6365 2865 2c20 284f 7074 2c20 5a65  ance(e, (Opt, Ze
+00028110: 726f 4f72 4d6f 7265 2c20 4f6e 654f 724d  roOrMore, OneOrM
+00028120: 6f72 6529 290a 2020 2020 2020 2020 2020  ore)).          
+00028130: 2020 5d0a 2020 2020 2020 2020 2020 2020    ].            
+00028140: 7365 6c66 2e72 6571 7569 7265 6420 2b3d  self.required +=
+00028150: 2073 656c 662e 6d75 6c74 6972 6571 7569   self.multirequi
+00028160: 7265 640a 2020 2020 2020 2020 2020 2020  red.            
+00028170: 7365 6c66 2e69 6e69 7445 7870 7247 726f  self.initExprGro
+00028180: 7570 7320 3d20 4661 6c73 650a 0a20 2020  ups = False..   
+00028190: 2020 2020 2074 6d70 4c6f 6320 3d20 6c6f       tmpLoc = lo
+000281a0: 630a 2020 2020 2020 2020 746d 7052 6571  c.        tmpReq
+000281b0: 6420 3d20 7365 6c66 2e72 6571 7569 7265  d = self.require
+000281c0: 645b 3a5d 0a20 2020 2020 2020 2074 6d70  d[:].        tmp
+000281d0: 4f70 7420 3d20 7365 6c66 2e6f 7074 696f  Opt = self.optio
+000281e0: 6e61 6c73 5b3a 5d0a 2020 2020 2020 2020  nals[:].        
+000281f0: 6d75 6c74 6973 203d 2073 656c 662e 6d75  multis = self.mu
+00028200: 6c74 696f 7074 696f 6e61 6c73 5b3a 5d0a  ltioptionals[:].
+00028210: 2020 2020 2020 2020 6d61 7463 684f 7264          matchOrd
+00028220: 6572 203d 205b 5d0a 0a20 2020 2020 2020  er = []..       
+00028230: 206b 6565 704d 6174 6368 696e 6720 3d20   keepMatching = 
+00028240: 5472 7565 0a20 2020 2020 2020 2066 6169  True.        fai
+00028250: 6c65 6420 3d20 5b5d 0a20 2020 2020 2020  led = [].       
+00028260: 2066 6174 616c 7320 3d20 5b5d 0a20 2020   fatals = [].   
+00028270: 2020 2020 2077 6869 6c65 206b 6565 704d       while keepM
+00028280: 6174 6368 696e 673a 0a20 2020 2020 2020  atching:.       
+00028290: 2020 2020 2074 6d70 4578 7072 7320 3d20       tmpExprs = 
+000282a0: 746d 7052 6571 6420 2b20 746d 704f 7074  tmpReqd + tmpOpt
+000282b0: 202b 206d 756c 7469 730a 2020 2020 2020   + multis.      
+000282c0: 2020 2020 2020 6661 696c 6564 2e63 6c65        failed.cle
+000282d0: 6172 2829 0a20 2020 2020 2020 2020 2020  ar().           
+000282e0: 2066 6174 616c 732e 636c 6561 7228 290a   fatals.clear().
+000282f0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00028300: 6520 696e 2074 6d70 4578 7072 733a 0a20  e in tmpExprs:. 
+00028310: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00028320: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00028330: 2020 2020 2020 2020 746d 704c 6f63 203d          tmpLoc =
+00028340: 2065 2e74 7279 5f70 6172 7365 2869 6e73   e.try_parse(ins
+00028350: 7472 696e 672c 2074 6d70 4c6f 632c 2072  tring, tmpLoc, r
+00028360: 6169 7365 5f66 6174 616c 3d54 7275 6529  aise_fatal=True)
+00028370: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028380: 2065 7863 6570 7420 5061 7273 6546 6174   except ParseFat
+00028390: 616c 4578 6365 7074 696f 6e20 6173 2070  alException as p
+000283a0: 6665 3a0a 2020 2020 2020 2020 2020 2020  fe:.            
+000283b0: 2020 2020 2020 2020 7066 652e 5f5f 7472          pfe.__tr
+000283c0: 6163 6562 6163 6b5f 5f20 3d20 4e6f 6e65  aceback__ = None
+000283d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000283e0: 2020 2020 2070 6665 2e70 6172 7365 725f       pfe.parser_
+000283f0: 656c 656d 656e 7420 3d20 650a 2020 2020  element = e.    
+00028400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028410: 6661 7461 6c73 2e61 7070 656e 6428 7066  fatals.append(pf
+00028420: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+00028430: 2020 2020 2020 2066 6169 6c65 642e 6170         failed.ap
+00028440: 7065 6e64 2865 290a 2020 2020 2020 2020  pend(e).        
+00028450: 2020 2020 2020 2020 6578 6365 7074 2050          except P
+00028460: 6172 7365 4578 6365 7074 696f 6e3a 0a20  arseException:. 
+00028470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028480: 2020 2066 6169 6c65 642e 6170 7065 6e64     failed.append
+00028490: 2865 290a 2020 2020 2020 2020 2020 2020  (e).            
+000284a0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000284b0: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
+000284c0: 7463 684f 7264 6572 2e61 7070 656e 6428  tchOrder.append(
+000284d0: 7365 6c66 2e6f 7074 316d 6170 2e67 6574  self.opt1map.get
+000284e0: 2869 6428 6529 2c20 6529 290a 2020 2020  (id(e), e)).    
+000284f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028500: 6966 2065 2069 6e20 746d 7052 6571 643a  if e in tmpReqd:
+00028510: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028520: 2020 2020 2020 2020 2074 6d70 5265 7164           tmpReqd
+00028530: 2e72 656d 6f76 6528 6529 0a20 2020 2020  .remove(e).     
+00028540: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00028550: 6c69 6620 6520 696e 2074 6d70 4f70 743a  lif e in tmpOpt:
+00028560: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028570: 2020 2020 2020 2020 2074 6d70 4f70 742e           tmpOpt.
+00028580: 7265 6d6f 7665 2865 290a 2020 2020 2020  remove(e).      
+00028590: 2020 2020 2020 6966 206c 656e 2866 6169        if len(fai
+000285a0: 6c65 6429 203d 3d20 6c65 6e28 746d 7045  led) == len(tmpE
+000285b0: 7870 7273 293a 0a20 2020 2020 2020 2020  xprs):.         
+000285c0: 2020 2020 2020 206b 6565 704d 6174 6368         keepMatch
+000285d0: 696e 6720 3d20 4661 6c73 650a 0a20 2020  ing = False..   
+000285e0: 2020 2020 2023 206c 6f6f 6b20 666f 7220       # look for 
+000285f0: 616e 7920 5061 7273 6546 6174 616c 4578  any ParseFatalEx
+00028600: 6365 7074 696f 6e73 0a20 2020 2020 2020  ceptions.       
+00028610: 2069 6620 6661 7461 6c73 3a0a 2020 2020   if fatals:.    
+00028620: 2020 2020 2020 2020 6966 206c 656e 2866          if len(f
+00028630: 6174 616c 7329 203e 2031 3a0a 2020 2020  atals) > 1:.    
+00028640: 2020 2020 2020 2020 2020 2020 6661 7461              fata
+00028650: 6c73 2e73 6f72 7428 6b65 793d 6c61 6d62  ls.sort(key=lamb
+00028660: 6461 2065 3a20 2d65 2e6c 6f63 290a 2020  da e: -e.loc).  
+00028670: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00028680: 2066 6174 616c 735b 305d 2e6c 6f63 203d   fatals[0].loc =
+00028690: 3d20 6661 7461 6c73 5b31 5d2e 6c6f 633a  = fatals[1].loc:
+000286a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000286b0: 2020 2020 2066 6174 616c 732e 736f 7274       fatals.sort
+000286c0: 286b 6579 3d6c 616d 6264 6120 653a 2028  (key=lambda e: (
+000286d0: 2d65 2e6c 6f63 2c20 2d6c 656e 2873 7472  -e.loc, -len(str
+000286e0: 2865 2e70 6172 7365 725f 656c 656d 656e  (e.parser_elemen
+000286f0: 7429 2929 290a 2020 2020 2020 2020 2020  t)))).          
+00028700: 2020 6d61 785f 6661 7461 6c20 3d20 6661    max_fatal = fa
+00028710: 7461 6c73 5b30 5d0a 2020 2020 2020 2020  tals[0].        
+00028720: 2020 2020 7261 6973 6520 6d61 785f 6661      raise max_fa
+00028730: 7461 6c0a 0a20 2020 2020 2020 2069 6620  tal..        if 
+00028740: 746d 7052 6571 643a 0a20 2020 2020 2020  tmpReqd:.       
+00028750: 2020 2020 206d 6973 7369 6e67 203d 2022       missing = "
+00028760: 2c20 222e 6a6f 696e 285b 7374 7228 6529  , ".join([str(e)
+00028770: 2066 6f72 2065 2069 6e20 746d 7052 6571   for e in tmpReq
+00028780: 645d 290a 2020 2020 2020 2020 2020 2020  d]).            
+00028790: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
+000287a0: 7469 6f6e 280a 2020 2020 2020 2020 2020  tion(.          
+000287b0: 2020 2020 2020 696e 7374 7269 6e67 2c0a        instring,.
+000287c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000287d0: 6c6f 632c 0a20 2020 2020 2020 2020 2020  loc,.           
+000287e0: 2020 2020 2066 224d 6973 7369 6e67 206f       f"Missing o
+000287f0: 6e65 206f 7220 6d6f 7265 2072 6571 7569  ne or more requi
+00028800: 7265 6420 656c 656d 656e 7473 2028 7b6d  red elements ({m
+00028810: 6973 7369 6e67 7d29 222c 0a20 2020 2020  issing})",.     
+00028820: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+00028830: 2020 2320 6164 6420 616e 7920 756e 6d61    # add any unma
+00028840: 7463 6865 6420 4f70 7473 2c20 696e 2063  tched Opts, in c
+00028850: 6173 6520 7468 6579 2068 6176 6520 6465  ase they have de
+00028860: 6661 756c 7420 7661 6c75 6573 2064 6566  fault values def
+00028870: 696e 6564 0a20 2020 2020 2020 206d 6174  ined.        mat
+00028880: 6368 4f72 6465 7220 2b3d 205b 6520 666f  chOrder += [e fo
+00028890: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
+000288a0: 7320 6966 2069 7369 6e73 7461 6e63 6528  s if isinstance(
+000288b0: 652c 204f 7074 2920 616e 6420 652e 6578  e, Opt) and e.ex
+000288c0: 7072 2069 6e20 746d 704f 7074 5d0a 0a20  pr in tmpOpt].. 
+000288d0: 2020 2020 2020 2074 6f74 616c 5f72 6573         total_res
+000288e0: 756c 7473 203d 2050 6172 7365 5265 7375  ults = ParseResu
+000288f0: 6c74 7328 5b5d 290a 2020 2020 2020 2020  lts([]).        
+00028900: 666f 7220 6520 696e 206d 6174 6368 4f72  for e in matchOr
+00028910: 6465 723a 0a20 2020 2020 2020 2020 2020  der:.           
+00028920: 206c 6f63 2c20 7265 7375 6c74 7320 3d20   loc, results = 
+00028930: 652e 5f70 6172 7365 2869 6e73 7472 696e  e._parse(instrin
+00028940: 672c 206c 6f63 2c20 646f 4163 7469 6f6e  g, loc, doAction
+00028950: 7329 0a20 2020 2020 2020 2020 2020 2074  s).            t
+00028960: 6f74 616c 5f72 6573 756c 7473 202b 3d20  otal_results += 
+00028970: 7265 7375 6c74 730a 0a20 2020 2020 2020  results..       
+00028980: 2072 6574 7572 6e20 6c6f 632c 2074 6f74   return loc, tot
+00028990: 616c 5f72 6573 756c 7473 0a0a 2020 2020  al_results..    
+000289a0: 6465 6620 5f67 656e 6572 6174 6544 6566  def _generateDef
+000289b0: 6175 6c74 4e61 6d65 2873 656c 6629 202d  aultName(self) -
+000289c0: 3e20 7374 723a 0a20 2020 2020 2020 2072  > str:.        r
+000289d0: 6574 7572 6e20 227b 2220 2b20 2220 2620  eturn "{" + " & 
+000289e0: 222e 6a6f 696e 2873 7472 2865 2920 666f  ".join(str(e) fo
+000289f0: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
+00028a00: 7329 202b 2022 7d22 0a0a 0a63 6c61 7373  s) + "}"...class
+00028a10: 2050 6172 7365 456c 656d 656e 7445 6e68   ParseElementEnh
+00028a20: 616e 6365 2850 6172 7365 7245 6c65 6d65  ance(ParserEleme
+00028a30: 6e74 293a 0a20 2020 2022 2222 4162 7374  nt):.    """Abst
+00028a40: 7261 6374 2073 7562 636c 6173 7320 6f66  ract subclass of
+00028a50: 203a 636c 6173 733a 6050 6172 7365 7245   :class:`ParserE
+00028a60: 6c65 6d65 6e74 602c 2066 6f72 2063 6f6d  lement`, for com
+00028a70: 6269 6e69 6e67 2061 6e64 0a20 2020 2070  bining and.    p
+00028a80: 6f73 742d 7072 6f63 6573 7369 6e67 2070  ost-processing p
+00028a90: 6172 7365 6420 746f 6b65 6e73 2e0a 2020  arsed tokens..  
+00028aa0: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
+00028ab0: 5f69 6e69 745f 5f28 7365 6c66 2c20 6578  _init__(self, ex
+00028ac0: 7072 3a20 556e 696f 6e5b 5061 7273 6572  pr: Union[Parser
+00028ad0: 456c 656d 656e 742c 2073 7472 5d2c 2073  Element, str], s
+00028ae0: 6176 656c 6973 743a 2062 6f6f 6c20 3d20  avelist: bool = 
+00028af0: 4661 6c73 6529 3a0a 2020 2020 2020 2020  False):.        
+00028b00: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+00028b10: 2873 6176 656c 6973 7429 0a20 2020 2020  (savelist).     
+00028b20: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+00028b30: 2865 7870 722c 2073 7472 5f74 7970 6529  (expr, str_type)
+00028b40: 3a0a 2020 2020 2020 2020 2020 2020 6578  :.            ex
+00028b50: 7072 5f73 7472 203d 2074 7970 696e 672e  pr_str = typing.
+00028b60: 6361 7374 2873 7472 2c20 6578 7072 290a  cast(str, expr).
+00028b70: 2020 2020 2020 2020 2020 2020 6966 2069              if i
+00028b80: 7373 7562 636c 6173 7328 7365 6c66 2e5f  ssubclass(self._
+00028b90: 6c69 7465 7261 6c53 7472 696e 6743 6c61  literalStringCla
+00028ba0: 7373 2c20 546f 6b65 6e29 3a0a 2020 2020  ss, Token):.    
+00028bb0: 2020 2020 2020 2020 2020 2020 6578 7072              expr
+00028bc0: 203d 2073 656c 662e 5f6c 6974 6572 616c   = self._literal
+00028bd0: 5374 7269 6e67 436c 6173 7328 6578 7072  StringClass(expr
+00028be0: 5f73 7472 2920 2023 2074 7970 653a 2069  _str)  # type: i
+00028bf0: 676e 6f72 655b 6361 6c6c 2d61 7267 5d0a  gnore[call-arg].
+00028c00: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00028c10: 2069 7373 7562 636c 6173 7328 7479 7065   issubclass(type
+00028c20: 2873 656c 6629 2c20 7365 6c66 2e5f 6c69  (self), self._li
+00028c30: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
+00028c40: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00028c50: 2020 2065 7870 7220 3d20 4c69 7465 7261     expr = Litera
+00028c60: 6c28 6578 7072 5f73 7472 290a 2020 2020  l(expr_str).    
+00028c70: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00028c80: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+00028c90: 7072 203d 2073 656c 662e 5f6c 6974 6572  pr = self._liter
+00028ca0: 616c 5374 7269 6e67 436c 6173 7328 4c69  alStringClass(Li
+00028cb0: 7465 7261 6c28 6578 7072 5f73 7472 2929  teral(expr_str))
+00028cc0: 2020 2320 7479 7065 3a20 6967 6e6f 7265    # type: ignore
+00028cd0: 5b61 7373 6967 6e6d 656e 742c 2063 616c  [assignment, cal
+00028ce0: 6c2d 6172 675d 0a20 2020 2020 2020 2065  l-arg].        e
+00028cf0: 7870 7220 3d20 7479 7069 6e67 2e63 6173  xpr = typing.cas
+00028d00: 7428 5061 7273 6572 456c 656d 656e 742c  t(ParserElement,
+00028d10: 2065 7870 7229 0a20 2020 2020 2020 2073   expr).        s
+00028d20: 656c 662e 6578 7072 203d 2065 7870 720a  elf.expr = expr.
+00028d30: 2020 2020 2020 2020 6966 2065 7870 7220          if expr 
+00028d40: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+00028d50: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+00028d60: 7949 6e64 6578 4572 726f 7220 3d20 6578  yIndexError = ex
+00028d70: 7072 2e6d 6179 496e 6465 7845 7272 6f72  pr.mayIndexError
+00028d80: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00028d90: 662e 6d61 7952 6574 7572 6e45 6d70 7479  f.mayReturnEmpty
+00028da0: 203d 2065 7870 722e 6d61 7952 6574 7572   = expr.mayRetur
+00028db0: 6e45 6d70 7479 0a20 2020 2020 2020 2020  nEmpty.         
+00028dc0: 2020 2073 656c 662e 7365 745f 7768 6974     self.set_whit
+00028dd0: 6573 7061 6365 5f63 6861 7273 280a 2020  espace_chars(.  
+00028de0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+00028df0: 7072 2e77 6869 7465 4368 6172 732c 2063  pr.whiteChars, c
+00028e00: 6f70 795f 6465 6661 756c 7473 3d65 7870  opy_defaults=exp
+00028e10: 722e 636f 7079 4465 6661 756c 7457 6869  r.copyDefaultWhi
+00028e20: 7465 4368 6172 730a 2020 2020 2020 2020  teChars.        
+00028e30: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+00028e40: 2020 7365 6c66 2e73 6b69 7057 6869 7465    self.skipWhite
+00028e50: 7370 6163 6520 3d20 6578 7072 2e73 6b69  space = expr.ski
+00028e60: 7057 6869 7465 7370 6163 650a 2020 2020  pWhitespace.    
+00028e70: 2020 2020 2020 2020 7365 6c66 2e73 6176          self.sav
+00028e80: 6541 734c 6973 7420 3d20 6578 7072 2e73  eAsList = expr.s
+00028e90: 6176 6541 734c 6973 740a 2020 2020 2020  aveAsList.      
+00028ea0: 2020 2020 2020 7365 6c66 2e63 616c 6c50        self.callP
+00028eb0: 7265 7061 7273 6520 3d20 6578 7072 2e63  reparse = expr.c
+00028ec0: 616c 6c50 7265 7061 7273 650a 2020 2020  allPreparse.    
+00028ed0: 2020 2020 2020 2020 7365 6c66 2e69 676e          self.ign
+00028ee0: 6f72 6545 7870 7273 2e65 7874 656e 6428  oreExprs.extend(
+00028ef0: 6578 7072 2e69 676e 6f72 6545 7870 7273  expr.ignoreExprs
+00028f00: 290a 0a20 2020 2064 6566 2072 6563 7572  )..    def recur
+00028f10: 7365 2873 656c 6629 202d 3e20 4c69 7374  se(self) -> List
+00028f20: 5b50 6172 7365 7245 6c65 6d65 6e74 5d3a  [ParserElement]:
+00028f30: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00028f40: 5b73 656c 662e 6578 7072 5d20 6966 2073  [self.expr] if s
+00028f50: 656c 662e 6578 7072 2069 7320 6e6f 7420  elf.expr is not 
+00028f60: 4e6f 6e65 2065 6c73 6520 5b5d 0a0a 2020  None else []..  
+00028f70: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+00028f80: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+00028f90: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+00028fa0: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
+00028fb0: 2073 656c 662e 6578 7072 2069 7320 6e6f   self.expr is no
+00028fc0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+00028fd0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+00028fe0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00028ff0: 7365 6c66 2e65 7870 722e 5f70 6172 7365  self.expr._parse
+00029000: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+00029010: 646f 4163 7469 6f6e 732c 2063 616c 6c50  doActions, callP
+00029020: 7265 5061 7273 653d 4661 6c73 6529 0a20  reParse=False). 
+00029030: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+00029040: 7420 5061 7273 6542 6173 6545 7863 6570  t ParseBaseExcep
+00029050: 7469 6f6e 2061 7320 7062 653a 0a20 2020  tion as pbe:.   
+00029060: 2020 2020 2020 2020 2020 2020 2070 6265               pbe
+00029070: 2e6d 7367 203d 2073 656c 662e 6572 726d  .msg = self.errm
+00029080: 7367 0a20 2020 2020 2020 2020 2020 2020  sg.             
+00029090: 2020 2072 6169 7365 0a20 2020 2020 2020     raise.       
+000290a0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+000290b0: 2020 2072 6169 7365 2050 6172 7365 4578     raise ParseEx
+000290c0: 6365 7074 696f 6e28 696e 7374 7269 6e67  ception(instring
+000290d0: 2c20 6c6f 632c 2022 4e6f 2065 7870 7265  , loc, "No expre
+000290e0: 7373 696f 6e20 6465 6669 6e65 6422 2c20  ssion defined", 
+000290f0: 7365 6c66 290a 0a20 2020 2064 6566 206c  self)..    def l
+00029100: 6561 7665 5f77 6869 7465 7370 6163 6528  eave_whitespace(
+00029110: 7365 6c66 2c20 7265 6375 7273 6976 653a  self, recursive:
+00029120: 2062 6f6f 6c20 3d20 5472 7565 2920 2d3e   bool = True) ->
+00029130: 2050 6172 7365 7245 6c65 6d65 6e74 3a0a   ParserElement:.
+00029140: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+00029150: 6c65 6176 655f 7768 6974 6573 7061 6365  leave_whitespace
+00029160: 2872 6563 7572 7369 7665 290a 0a20 2020  (recursive)..   
+00029170: 2020 2020 2069 6620 7265 6375 7273 6976       if recursiv
+00029180: 653a 0a20 2020 2020 2020 2020 2020 2069  e:.            i
+00029190: 6620 7365 6c66 2e65 7870 7220 6973 206e  f self.expr is n
+000291a0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+000291b0: 2020 2020 2020 2020 2073 656c 662e 6578           self.ex
+000291c0: 7072 203d 2073 656c 662e 6578 7072 2e63  pr = self.expr.c
+000291d0: 6f70 7928 290a 2020 2020 2020 2020 2020  opy().          
+000291e0: 2020 2020 2020 7365 6c66 2e65 7870 722e        self.expr.
+000291f0: 6c65 6176 655f 7768 6974 6573 7061 6365  leave_whitespace
+00029200: 2872 6563 7572 7369 7665 290a 2020 2020  (recursive).    
+00029210: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
+00029220: 0a20 2020 2064 6566 2069 676e 6f72 655f  .    def ignore_
+00029230: 7768 6974 6573 7061 6365 2873 656c 662c  whitespace(self,
+00029240: 2072 6563 7572 7369 7665 3a20 626f 6f6c   recursive: bool
+00029250: 203d 2054 7275 6529 202d 3e20 5061 7273   = True) -> Pars
+00029260: 6572 456c 656d 656e 743a 0a20 2020 2020  erElement:.     
+00029270: 2020 2073 7570 6572 2829 2e69 676e 6f72     super().ignor
+00029280: 655f 7768 6974 6573 7061 6365 2872 6563  e_whitespace(rec
+00029290: 7572 7369 7665 290a 0a20 2020 2020 2020  ursive)..       
+000292a0: 2069 6620 7265 6375 7273 6976 653a 0a20   if recursive:. 
+000292b0: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+000292c0: 6c66 2e65 7870 7220 6973 206e 6f74 204e  lf.expr is not N
+000292d0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+000292e0: 2020 2020 2073 656c 662e 6578 7072 203d       self.expr =
+000292f0: 2073 656c 662e 6578 7072 2e63 6f70 7928   self.expr.copy(
+00029300: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00029310: 2020 7365 6c66 2e65 7870 722e 6967 6e6f    self.expr.igno
+00029320: 7265 5f77 6869 7465 7370 6163 6528 7265  re_whitespace(re
+00029330: 6375 7273 6976 6529 0a20 2020 2020 2020  cursive).       
+00029340: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+00029350: 2020 6465 6620 6967 6e6f 7265 2873 656c    def ignore(sel
+00029360: 662c 206f 7468 6572 2920 2d3e 2050 6172  f, other) -> Par
+00029370: 7365 7245 6c65 6d65 6e74 3a0a 2020 2020  serElement:.    
+00029380: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+00029390: 6528 6f74 6865 722c 2053 7570 7072 6573  e(other, Suppres
+000293a0: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
+000293b0: 6966 206f 7468 6572 206e 6f74 2069 6e20  if other not in 
+000293c0: 7365 6c66 2e69 676e 6f72 6545 7870 7273  self.ignoreExprs
+000293d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000293e0: 2020 7375 7065 7228 292e 6967 6e6f 7265    super().ignore
+000293f0: 286f 7468 6572 290a 2020 2020 2020 2020  (other).        
+00029400: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00029410: 6578 7072 2069 7320 6e6f 7420 4e6f 6e65  expr is not None
+00029420: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00029430: 2020 2020 2020 7365 6c66 2e65 7870 722e        self.expr.
+00029440: 6967 6e6f 7265 2873 656c 662e 6967 6e6f  ignore(self.igno
+00029450: 7265 4578 7072 735b 2d31 5d29 0a20 2020  reExprs[-1]).   
+00029460: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00029470: 2020 2020 2020 2073 7570 6572 2829 2e69         super().i
+00029480: 676e 6f72 6528 6f74 6865 7229 0a20 2020  gnore(other).   
+00029490: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+000294a0: 2e65 7870 7220 6973 206e 6f74 204e 6f6e  .expr is not Non
+000294b0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+000294c0: 2020 2073 656c 662e 6578 7072 2e69 676e     self.expr.ign
+000294d0: 6f72 6528 7365 6c66 2e69 676e 6f72 6545  ore(self.ignoreE
+000294e0: 7870 7273 5b2d 315d 290a 2020 2020 2020  xprs[-1]).      
+000294f0: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
+00029500: 2020 2064 6566 2073 7472 6561 6d6c 696e     def streamlin
+00029510: 6528 7365 6c66 2920 2d3e 2050 6172 7365  e(self) -> Parse
+00029520: 7245 6c65 6d65 6e74 3a0a 2020 2020 2020  rElement:.      
+00029530: 2020 7375 7065 7228 292e 7374 7265 616d    super().stream
+00029540: 6c69 6e65 2829 0a20 2020 2020 2020 2069  line().        i
+00029550: 6620 7365 6c66 2e65 7870 7220 6973 206e  f self.expr is n
+00029560: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+00029570: 2020 2020 2073 656c 662e 6578 7072 2e73       self.expr.s
+00029580: 7472 6561 6d6c 696e 6528 290a 2020 2020  treamline().    
+00029590: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
+000295a0: 0a20 2020 2064 6566 205f 6368 6563 6b52  .    def _checkR
+000295b0: 6563 7572 7369 6f6e 2873 656c 662c 2070  ecursion(self, p
+000295c0: 6172 7365 456c 656d 656e 744c 6973 7429  arseElementList)
+000295d0: 3a0a 2020 2020 2020 2020 6966 2073 656c  :.        if sel
+000295e0: 6620 696e 2070 6172 7365 456c 656d 656e  f in parseElemen
+000295f0: 744c 6973 743a 0a20 2020 2020 2020 2020  tList:.         
+00029600: 2020 2072 6169 7365 2052 6563 7572 7369     raise Recursi
+00029610: 7665 4772 616d 6d61 7245 7863 6570 7469  veGrammarExcepti
+00029620: 6f6e 2870 6172 7365 456c 656d 656e 744c  on(parseElementL
+00029630: 6973 7420 2b20 5b73 656c 665d 290a 2020  ist + [self]).  
+00029640: 2020 2020 2020 7375 6252 6563 4368 6563        subRecChec
+00029650: 6b4c 6973 7420 3d20 7061 7273 6545 6c65  kList = parseEle
+00029660: 6d65 6e74 4c69 7374 5b3a 5d20 2b20 5b73  mentList[:] + [s
+00029670: 656c 665d 0a20 2020 2020 2020 2069 6620  elf].        if 
+00029680: 7365 6c66 2e65 7870 7220 6973 206e 6f74  self.expr is not
+00029690: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+000296a0: 2020 2073 656c 662e 6578 7072 2e5f 6368     self.expr._ch
+000296b0: 6563 6b52 6563 7572 7369 6f6e 2873 7562  eckRecursion(sub
+000296c0: 5265 6343 6865 636b 4c69 7374 290a 0a20  RecCheckList).. 
+000296d0: 2020 2064 6566 2076 616c 6964 6174 6528     def validate(
+000296e0: 7365 6c66 2c20 7661 6c69 6461 7465 5472  self, validateTr
+000296f0: 6163 653d 4e6f 6e65 2920 2d3e 204e 6f6e  ace=None) -> Non
+00029700: 653a 0a20 2020 2020 2020 2077 6172 6e69  e:.        warni
+00029710: 6e67 732e 7761 726e 280a 2020 2020 2020  ngs.warn(.      
+00029720: 2020 2020 2020 2250 6172 7365 7245 6c65        "ParserEle
+00029730: 6d65 6e74 2e76 616c 6964 6174 6528 2920  ment.validate() 
+00029740: 6973 2064 6570 7265 6361 7465 642c 2061  is deprecated, a
+00029750: 6e64 2073 686f 756c 6420 6e6f 7420 6265  nd should not be
+00029760: 2075 7365 6420 746f 2063 6865 636b 2066   used to check f
+00029770: 6f72 206c 6566 7420 7265 6375 7273 696f  or left recursio
+00029780: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
+00029790: 4465 7072 6563 6174 696f 6e57 6172 6e69  DeprecationWarni
+000297a0: 6e67 2c0a 2020 2020 2020 2020 2020 2020  ng,.            
+000297b0: 7374 6163 6b6c 6576 656c 3d32 2c0a 2020  stacklevel=2,.  
+000297c0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+000297d0: 6966 2076 616c 6964 6174 6554 7261 6365  if validateTrace
+000297e0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+000297f0: 2020 2020 2020 7661 6c69 6461 7465 5472        validateTr
+00029800: 6163 6520 3d20 5b5d 0a20 2020 2020 2020  ace = [].       
+00029810: 2074 6d70 203d 2076 616c 6964 6174 6554   tmp = validateT
+00029820: 7261 6365 5b3a 5d20 2b20 5b73 656c 665d  race[:] + [self]
+00029830: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+00029840: 2e65 7870 7220 6973 206e 6f74 204e 6f6e  .expr is not Non
+00029850: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+00029860: 656c 662e 6578 7072 2e76 616c 6964 6174  elf.expr.validat
+00029870: 6528 746d 7029 0a20 2020 2020 2020 2073  e(tmp).        s
+00029880: 656c 662e 5f63 6865 636b 5265 6375 7273  elf._checkRecurs
+00029890: 696f 6e28 5b5d 290a 0a20 2020 2064 6566  ion([])..    def
+000298a0: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
+000298b0: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
+000298c0: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
+000298d0: 726e 2066 227b 7365 6c66 2e5f 5f63 6c61  rn f"{self.__cla
+000298e0: 7373 5f5f 2e5f 5f6e 616d 655f 5f7d 3a28  ss__.__name__}:(
+000298f0: 7b73 7472 2873 656c 662e 6578 7072 297d  {str(self.expr)}
+00029900: 2922 0a0a 2020 2020 2320 436f 6d70 6174  )"..    # Compat
+00029910: 6962 696c 6974 7920 7379 6e6f 6e79 6d73  ibility synonyms
+00029920: 0a20 2020 2023 2066 6d74 3a20 6f66 660a  .    # fmt: off.
+00029930: 2020 2020 4072 6570 6c61 6365 645f 6279      @replaced_by
+00029940: 5f70 6570 3828 6c65 6176 655f 7768 6974  _pep8(leave_whit
+00029950: 6573 7061 6365 290a 2020 2020 6465 6620  espace).    def 
+00029960: 6c65 6176 6557 6869 7465 7370 6163 6528  leaveWhitespace(
+00029970: 7365 6c66 293a 202e 2e2e 0a0a 2020 2020  self): .....    
+00029980: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
+00029990: 3828 6967 6e6f 7265 5f77 6869 7465 7370  8(ignore_whitesp
+000299a0: 6163 6529 0a20 2020 2064 6566 2069 676e  ace).    def ign
+000299b0: 6f72 6557 6869 7465 7370 6163 6528 7365  oreWhitespace(se
+000299c0: 6c66 293a 202e 2e2e 0a20 2020 2023 2066  lf): ....    # f
+000299d0: 6d74 3a20 6f6e 0a0a 0a63 6c61 7373 2049  mt: on...class I
+000299e0: 6e64 656e 7465 6442 6c6f 636b 2850 6172  ndentedBlock(Par
+000299f0: 7365 456c 656d 656e 7445 6e68 616e 6365  seElementEnhance
+00029a00: 293a 0a20 2020 2022 2222 0a20 2020 2045  ):.    """.    E
+00029a10: 7870 7265 7373 696f 6e20 746f 206d 6174  xpression to mat
+00029a20: 6368 206f 6e65 206f 7220 6d6f 7265 2065  ch one or more e
+00029a30: 7870 7265 7373 696f 6e73 2061 7420 6120  xpressions at a 
+00029a40: 6769 7665 6e20 696e 6465 6e74 6174 696f  given indentatio
+00029a50: 6e20 6c65 7665 6c2e 0a20 2020 2055 7365  n level..    Use
+00029a60: 6675 6c20 666f 7220 7061 7273 696e 6720  ful for parsing 
+00029a70: 7465 7874 2077 6865 7265 2073 7472 7563  text where struc
+00029a80: 7475 7265 2069 7320 696d 706c 6965 6420  ture is implied 
+00029a90: 6279 2069 6e64 656e 7461 7469 6f6e 2028  by indentation (
+00029aa0: 6c69 6b65 2050 7974 686f 6e20 736f 7572  like Python sour
+00029ab0: 6365 2063 6f64 6529 2e0a 2020 2020 2222  ce code)..    ""
+00029ac0: 220a 0a20 2020 2063 6c61 7373 205f 496e  "..    class _In
+00029ad0: 6465 6e74 2845 6d70 7479 293a 0a20 2020  dent(Empty):.   
+00029ae0: 2020 2020 2064 6566 205f 5f69 6e69 745f       def __init_
+00029af0: 5f28 7365 6c66 2c20 7265 665f 636f 6c3a  _(self, ref_col:
+00029b00: 2069 6e74 293a 0a20 2020 2020 2020 2020   int):.         
+00029b10: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
+00029b20: 745f 5f28 290a 2020 2020 2020 2020 2020  t__().          
+00029b30: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
+00029b40: 6622 6578 7065 6374 6564 2069 6e64 656e  f"expected inden
+00029b50: 7420 6174 2063 6f6c 756d 6e20 7b72 6566  t at column {ref
+00029b60: 5f63 6f6c 7d22 0a20 2020 2020 2020 2020  _col}".         
+00029b70: 2020 2073 656c 662e 6164 645f 636f 6e64     self.add_cond
+00029b80: 6974 696f 6e28 6c61 6d62 6461 2073 2c20  ition(lambda s, 
+00029b90: 6c2c 2074 3a20 636f 6c28 6c2c 2073 2920  l, t: col(l, s) 
+00029ba0: 3d3d 2072 6566 5f63 6f6c 290a 0a20 2020  == ref_col)..   
+00029bb0: 2063 6c61 7373 205f 496e 6465 6e74 4772   class _IndentGr
+00029bc0: 6561 7465 7228 456d 7074 7929 3a0a 2020  eater(Empty):.  
+00029bd0: 2020 2020 2020 6465 6620 5f5f 696e 6974        def __init
+00029be0: 5f5f 2873 656c 662c 2072 6566 5f63 6f6c  __(self, ref_col
+00029bf0: 3a20 696e 7429 3a0a 2020 2020 2020 2020  : int):.        
+00029c00: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+00029c10: 6974 5f5f 2829 0a20 2020 2020 2020 2020  it__().         
+00029c20: 2020 2073 656c 662e 6572 726d 7367 203d     self.errmsg =
+00029c30: 2066 2265 7870 6563 7465 6420 696e 6465   f"expected inde
+00029c40: 6e74 2061 7420 636f 6c75 6d6e 2067 7265  nt at column gre
+00029c50: 6174 6572 2074 6861 6e20 7b72 6566 5f63  ater than {ref_c
+00029c60: 6f6c 7d22 0a20 2020 2020 2020 2020 2020  ol}".           
+00029c70: 2073 656c 662e 6164 645f 636f 6e64 6974   self.add_condit
+00029c80: 696f 6e28 6c61 6d62 6461 2073 2c20 6c2c  ion(lambda s, l,
+00029c90: 2074 3a20 636f 6c28 6c2c 2073 2920 3e20   t: col(l, s) > 
+00029ca0: 7265 665f 636f 6c29 0a0a 2020 2020 6465  ref_col)..    de
+00029cb0: 6620 5f5f 696e 6974 5f5f 280a 2020 2020  f __init__(.    
+00029cc0: 2020 2020 7365 6c66 2c20 6578 7072 3a20      self, expr: 
+00029cd0: 5061 7273 6572 456c 656d 656e 742c 202a  ParserElement, *
+00029ce0: 2c20 7265 6375 7273 6976 653a 2062 6f6f  , recursive: boo
+00029cf0: 6c20 3d20 4661 6c73 652c 2067 726f 7570  l = False, group
+00029d00: 6564 3a20 626f 6f6c 203d 2054 7275 650a  ed: bool = True.
+00029d10: 2020 2020 293a 0a20 2020 2020 2020 2073      ):.        s
+00029d20: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
+00029d30: 6578 7072 2c20 7361 7665 6c69 7374 3d54  expr, savelist=T
+00029d40: 7275 6529 0a20 2020 2020 2020 2023 2069  rue).        # i
+00029d50: 6620 7265 6375 7273 6976 653a 0a20 2020  f recursive:.   
+00029d60: 2020 2020 2023 2020 2020 2072 6169 7365       #     raise
+00029d70: 204e 6f74 496d 706c 656d 656e 7465 6445   NotImplementedE
+00029d80: 7272 6f72 2822 496e 6465 6e74 6564 426c  rror("IndentedBl
+00029d90: 6f63 6b20 7769 7468 2072 6563 7572 7369  ock with recursi
+00029da0: 7665 2069 7320 6e6f 7420 696d 706c 656d  ve is not implem
+00029db0: 656e 7465 6422 290a 2020 2020 2020 2020  ented").        
+00029dc0: 7365 6c66 2e5f 7265 6375 7273 6976 6520  self._recursive 
+00029dd0: 3d20 7265 6375 7273 6976 650a 2020 2020  = recursive.    
+00029de0: 2020 2020 7365 6c66 2e5f 6772 6f75 7065      self._groupe
+00029df0: 6420 3d20 6772 6f75 7065 640a 2020 2020  d = grouped.    
+00029e00: 2020 2020 7365 6c66 2e70 6172 656e 745f      self.parent_
+00029e10: 616e 6368 6f72 203d 2031 0a0a 2020 2020  anchor = 1..    
+00029e20: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
+00029e30: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
+00029e40: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
+00029e50: 6529 3a0a 2020 2020 2020 2020 2320 6164  e):.        # ad
+00029e60: 7661 6e63 6520 7061 7273 6520 706f 7369  vance parse posi
+00029e70: 7469 6f6e 2074 6f20 6e6f 6e2d 7768 6974  tion to non-whit
+00029e80: 6573 7061 6365 2062 7920 7573 696e 6720  espace by using 
+00029e90: 616e 2045 6d70 7479 2829 0a20 2020 2020  an Empty().     
+00029ea0: 2020 2023 2074 6869 7320 7368 6f75 6c64     # this should
+00029eb0: 2062 6520 7468 6520 636f 6c75 6d6e 2074   be the column t
+00029ec0: 6f20 6265 2075 7365 6420 666f 7220 616c  o be used for al
+00029ed0: 6c20 7375 6273 6571 7565 6e74 2069 6e64  l subsequent ind
+00029ee0: 656e 7465 6420 6c69 6e65 730a 2020 2020  ented lines.    
+00029ef0: 2020 2020 616e 6368 6f72 5f6c 6f63 203d      anchor_loc =
+00029f00: 2045 6d70 7479 2829 2e70 7265 5061 7273   Empty().prePars
+00029f10: 6528 696e 7374 7269 6e67 2c20 6c6f 6329  e(instring, loc)
+00029f20: 0a0a 2020 2020 2020 2020 2320 7365 6520  ..        # see 
+00029f30: 6966 2073 656c 662e 6578 7072 206d 6174  if self.expr mat
+00029f40: 6368 6573 2061 7420 7468 6520 6375 7272  ches at the curr
+00029f50: 656e 7420 6c6f 6361 7469 6f6e 202d 2069  ent location - i
+00029f60: 6620 6e6f 7420 6974 2077 696c 6c20 7261  f not it will ra
+00029f70: 6973 6520 616e 2065 7863 6570 7469 6f6e  ise an exception
+00029f80: 0a20 2020 2020 2020 2023 2061 6e64 206e  .        # and n
+00029f90: 6f20 6675 7274 6865 7220 776f 726b 2069  o further work i
+00029fa0: 7320 6e65 6365 7373 6172 790a 2020 2020  s necessary.    
+00029fb0: 2020 2020 7365 6c66 2e65 7870 722e 7472      self.expr.tr
+00029fc0: 795f 7061 7273 6528 696e 7374 7269 6e67  y_parse(instring
+00029fd0: 2c20 616e 6368 6f72 5f6c 6f63 2c20 646f  , anchor_loc, do
+00029fe0: 4163 7469 6f6e 7329 0a0a 2020 2020 2020  Actions)..      
+00029ff0: 2020 696e 6465 6e74 5f63 6f6c 203d 2063    indent_col = c
+0002a000: 6f6c 2861 6e63 686f 725f 6c6f 632c 2069  ol(anchor_loc, i
+0002a010: 6e73 7472 696e 6729 0a20 2020 2020 2020  nstring).       
+0002a020: 2070 6565 725f 6465 7465 6374 5f65 7870   peer_detect_exp
+0002a030: 7220 3d20 7365 6c66 2e5f 496e 6465 6e74  r = self._Indent
+0002a040: 2869 6e64 656e 745f 636f 6c29 0a0a 2020  (indent_col)..  
+0002a050: 2020 2020 2020 696e 6e65 725f 6578 7072        inner_expr
+0002a060: 203d 2045 6d70 7479 2829 202b 2070 6565   = Empty() + pee
+0002a070: 725f 6465 7465 6374 5f65 7870 7220 2b20  r_detect_expr + 
+0002a080: 7365 6c66 2e65 7870 720a 2020 2020 2020  self.expr.      
+0002a090: 2020 6966 2073 656c 662e 5f72 6563 7572    if self._recur
+0002a0a0: 7369 7665 3a0a 2020 2020 2020 2020 2020  sive:.          
+0002a0b0: 2020 7375 625f 696e 6465 6e74 203d 2073    sub_indent = s
+0002a0c0: 656c 662e 5f49 6e64 656e 7447 7265 6174  elf._IndentGreat
+0002a0d0: 6572 2869 6e64 656e 745f 636f 6c29 0a20  er(indent_col). 
+0002a0e0: 2020 2020 2020 2020 2020 206e 6573 7465             neste
+0002a0f0: 645f 626c 6f63 6b20 3d20 496e 6465 6e74  d_block = Indent
+0002a100: 6564 426c 6f63 6b28 0a20 2020 2020 2020  edBlock(.       
+0002a110: 2020 2020 2020 2020 2073 656c 662e 6578           self.ex
+0002a120: 7072 2c20 7265 6375 7273 6976 653d 7365  pr, recursive=se
+0002a130: 6c66 2e5f 7265 6375 7273 6976 652c 2067  lf._recursive, g
+0002a140: 726f 7570 6564 3d73 656c 662e 5f67 726f  rouped=self._gro
+0002a150: 7570 6564 0a20 2020 2020 2020 2020 2020  uped.           
+0002a160: 2029 0a20 2020 2020 2020 2020 2020 206e   ).            n
+0002a170: 6573 7465 645f 626c 6f63 6b2e 7365 745f  ested_block.set_
+0002a180: 6465 6275 6728 7365 6c66 2e64 6562 7567  debug(self.debug
+0002a190: 290a 2020 2020 2020 2020 2020 2020 6e65  ).            ne
+0002a1a0: 7374 6564 5f62 6c6f 636b 2e70 6172 656e  sted_block.paren
+0002a1b0: 745f 616e 6368 6f72 203d 2069 6e64 656e  t_anchor = inden
+0002a1c0: 745f 636f 6c0a 2020 2020 2020 2020 2020  t_col.          
+0002a1d0: 2020 696e 6e65 725f 6578 7072 202b 3d20    inner_expr += 
+0002a1e0: 4f70 7428 7375 625f 696e 6465 6e74 202b  Opt(sub_indent +
+0002a1f0: 206e 6573 7465 645f 626c 6f63 6b29 0a0a   nested_block)..
+0002a200: 2020 2020 2020 2020 696e 6e65 725f 6578          inner_ex
+0002a210: 7072 2e73 6574 5f6e 616d 6528 6622 696e  pr.set_name(f"in
+0002a220: 6e65 7220 7b68 6578 2869 6428 696e 6e65  ner {hex(id(inne
+0002a230: 725f 6578 7072 2929 5b2d 343a 5d2e 7570  r_expr))[-4:].up
+0002a240: 7065 7228 297d 407b 696e 6465 6e74 5f63  per()}@{indent_c
+0002a250: 6f6c 7d22 290a 2020 2020 2020 2020 626c  ol}").        bl
+0002a260: 6f63 6b20 3d20 4f6e 654f 724d 6f72 6528  ock = OneOrMore(
+0002a270: 696e 6e65 725f 6578 7072 290a 0a20 2020  inner_expr)..   
+0002a280: 2020 2020 2074 7261 696c 696e 675f 756e       trailing_un
+0002a290: 6465 6e74 203d 2073 656c 662e 5f49 6e64  dent = self._Ind
+0002a2a0: 656e 7428 7365 6c66 2e70 6172 656e 745f  ent(self.parent_
+0002a2b0: 616e 6368 6f72 2920 7c20 5374 7269 6e67  anchor) | String
+0002a2c0: 456e 6428 290a 0a20 2020 2020 2020 2069  End()..        i
+0002a2d0: 6620 7365 6c66 2e5f 6772 6f75 7065 643a  f self._grouped:
+0002a2e0: 0a20 2020 2020 2020 2020 2020 2077 7261  .            wra
+0002a2f0: 7070 6572 203d 2047 726f 7570 0a20 2020  pper = Group.   
+0002a300: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0002a310: 2020 2020 2020 2077 7261 7070 6572 203d         wrapper =
+0002a320: 206c 616d 6264 6120 6578 7072 3a20 6578   lambda expr: ex
+0002a330: 7072 0a20 2020 2020 2020 2072 6574 7572  pr.        retur
+0002a340: 6e20 2877 7261 7070 6572 2862 6c6f 636b  n (wrapper(block
+0002a350: 2920 2b20 4f70 7469 6f6e 616c 2874 7261  ) + Optional(tra
+0002a360: 696c 696e 675f 756e 6465 6e74 2929 2e70  iling_undent)).p
+0002a370: 6172 7365 496d 706c 280a 2020 2020 2020  arseImpl(.      
+0002a380: 2020 2020 2020 696e 7374 7269 6e67 2c20        instring, 
+0002a390: 616e 6368 6f72 5f6c 6f63 2c20 646f 4163  anchor_loc, doAc
+0002a3a0: 7469 6f6e 730a 2020 2020 2020 2020 290a  tions.        ).
+0002a3b0: 0a0a 636c 6173 7320 4174 5374 7269 6e67  ..class AtString
+0002a3c0: 5374 6172 7428 5061 7273 6545 6c65 6d65  Start(ParseEleme
+0002a3d0: 6e74 456e 6861 6e63 6529 3a0a 2020 2020  ntEnhance):.    
+0002a3e0: 2222 224d 6174 6368 6573 2069 6620 6578  """Matches if ex
+0002a3f0: 7072 6573 7369 6f6e 206d 6174 6368 6573  pression matches
+0002a400: 2061 7420 7468 6520 6265 6769 6e6e 696e   at the beginnin
+0002a410: 6720 6f66 2074 6865 2070 6172 7365 0a20  g of the parse. 
+0002a420: 2020 2073 7472 696e 673a 3a0a 0a20 2020     string::..   
+0002a430: 2020 2020 2041 7453 7472 696e 6753 7461       AtStringSta
+0002a440: 7274 2857 6f72 6428 6e75 6d73 2929 2e70  rt(Word(nums)).p
+0002a450: 6172 7365 5f73 7472 696e 6728 2231 3233  arse_string("123
+0002a460: 2229 0a20 2020 2020 2020 2023 2070 7269  ").        # pri
+0002a470: 6e74 7320 5b22 3132 3322 5d0a 0a20 2020  nts ["123"]..   
+0002a480: 2020 2020 2041 7453 7472 696e 6753 7461       AtStringSta
+0002a490: 7274 2857 6f72 6428 6e75 6d73 2929 2e70  rt(Word(nums)).p
+0002a4a0: 6172 7365 5f73 7472 696e 6728 2220 2020  arse_string("   
+0002a4b0: 2031 3233 2229 0a20 2020 2020 2020 2023   123").        #
+0002a4c0: 2072 6169 7365 7320 5061 7273 6545 7863   raises ParseExc
+0002a4d0: 6570 7469 6f6e 0a20 2020 2022 2222 0a0a  eption.    """..
+0002a4e0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+0002a4f0: 2873 656c 662c 2065 7870 723a 2055 6e69  (self, expr: Uni
+0002a500: 6f6e 5b50 6172 7365 7245 6c65 6d65 6e74  on[ParserElement
+0002a510: 2c20 7374 725d 293a 0a20 2020 2020 2020  , str]):.       
+0002a520: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
+0002a530: 5f28 6578 7072 290a 2020 2020 2020 2020  _(expr).        
+0002a540: 7365 6c66 2e63 616c 6c50 7265 7061 7273  self.callPrepars
+0002a550: 6520 3d20 4661 6c73 650a 0a20 2020 2064  e = False..    d
+0002a560: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
+0002a570: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
+0002a580: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
+0002a590: 293a 0a20 2020 2020 2020 2069 6620 6c6f  ):.        if lo
+0002a5a0: 6320 213d 2030 3a0a 2020 2020 2020 2020  c != 0:.        
+0002a5b0: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
+0002a5c0: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
+0002a5d0: 672c 206c 6f63 2c20 226e 6f74 2066 6f75  g, loc, "not fou
+0002a5e0: 6e64 2061 7420 7374 7269 6e67 2073 7461  nd at string sta
+0002a5f0: 7274 2229 0a20 2020 2020 2020 2072 6574  rt").        ret
+0002a600: 7572 6e20 7375 7065 7228 292e 7061 7273  urn super().pars
+0002a610: 6549 6d70 6c28 696e 7374 7269 6e67 2c20  eImpl(instring, 
+0002a620: 6c6f 632c 2064 6f41 6374 696f 6e73 290a  loc, doActions).
+0002a630: 0a0a 636c 6173 7320 4174 4c69 6e65 5374  ..class AtLineSt
+0002a640: 6172 7428 5061 7273 6545 6c65 6d65 6e74  art(ParseElement
+0002a650: 456e 6861 6e63 6529 3a0a 2020 2020 7222  Enhance):.    r"
+0002a660: 2222 4d61 7463 6865 7320 6966 2061 6e20  ""Matches if an 
+0002a670: 6578 7072 6573 7369 6f6e 206d 6174 6368  expression match
+0002a680: 6573 2061 7420 7468 6520 6265 6769 6e6e  es at the beginn
+0002a690: 696e 6720 6f66 2061 206c 696e 6520 7769  ing of a line wi
+0002a6a0: 7468 696e 0a20 2020 2074 6865 2070 6172  thin.    the par
+0002a6b0: 7365 2073 7472 696e 670a 0a20 2020 2045  se string..    E
+0002a6c0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
+0002a6d0: 2020 7465 7374 203d 2027 2727 5c0a 2020    test = '''\.  
+0002a6e0: 2020 2020 2020 4141 4120 7468 6973 206c        AAA this l
+0002a6f0: 696e 650a 2020 2020 2020 2020 4141 4120  ine.        AAA 
+0002a700: 616e 6420 7468 6973 206c 696e 650a 2020  and this line.  
+0002a710: 2020 2020 2020 2020 4141 4120 6275 7420          AAA but 
+0002a720: 6e6f 7420 7468 6973 206f 6e65 0a20 2020  not this one.   
+0002a730: 2020 2020 2042 2041 4141 2061 6e64 2064       B AAA and d
+0002a740: 6566 696e 6974 656c 7920 6e6f 7420 7468  efinitely not th
+0002a750: 6973 206f 6e65 0a20 2020 2020 2020 2027  is one.        '
+0002a760: 2727 0a0a 2020 2020 2020 2020 666f 7220  ''..        for 
+0002a770: 7420 696e 2028 4174 4c69 6e65 5374 6172  t in (AtLineStar
+0002a780: 7428 2741 4141 2729 202b 2072 6573 745f  t('AAA') + rest_
+0002a790: 6f66 5f6c 696e 6529 2e73 6561 7263 685f  of_line).search_
+0002a7a0: 7374 7269 6e67 2874 6573 7429 3a0a 2020  string(test):.  
+0002a7b0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+0002a7c0: 7429 0a0a 2020 2020 7072 696e 7473 3a3a  t)..    prints::
+0002a7d0: 0a0a 2020 2020 2020 2020 5b27 4141 4127  ..        ['AAA'
+0002a7e0: 2c20 2720 7468 6973 206c 696e 6527 5d0a  , ' this line'].
+0002a7f0: 2020 2020 2020 2020 5b27 4141 4127 2c20          ['AAA', 
+0002a800: 2720 616e 6420 7468 6973 206c 696e 6527  ' and this line'
+0002a810: 5d0a 0a20 2020 2022 2222 0a0a 2020 2020  ]..    """..    
+0002a820: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
+0002a830: 662c 2065 7870 723a 2055 6e69 6f6e 5b50  f, expr: Union[P
+0002a840: 6172 7365 7245 6c65 6d65 6e74 2c20 7374  arserElement, st
+0002a850: 725d 293a 0a20 2020 2020 2020 2073 7570  r]):.        sup
+0002a860: 6572 2829 2e5f 5f69 6e69 745f 5f28 6578  er().__init__(ex
+0002a870: 7072 290a 2020 2020 2020 2020 7365 6c66  pr).        self
+0002a880: 2e63 616c 6c50 7265 7061 7273 6520 3d20  .callPreparse = 
+0002a890: 4661 6c73 650a 0a20 2020 2064 6566 2070  False..    def p
+0002a8a0: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
+0002a8b0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+0002a8c0: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
+0002a8d0: 2020 2020 2020 2069 6620 636f 6c28 6c6f         if col(lo
+0002a8e0: 632c 2069 6e73 7472 696e 6729 2021 3d20  c, instring) != 
+0002a8f0: 313a 0a20 2020 2020 2020 2020 2020 2072  1:.            r
+0002a900: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
+0002a910: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
+0002a920: 632c 2022 6e6f 7420 666f 756e 6420 6174  c, "not found at
+0002a930: 206c 696e 6520 7374 6172 7422 290a 2020   line start").  
+0002a940: 2020 2020 2020 7265 7475 726e 2073 7570        return sup
+0002a950: 6572 2829 2e70 6172 7365 496d 706c 2869  er().parseImpl(i
+0002a960: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+0002a970: 4163 7469 6f6e 7329 0a0a 0a63 6c61 7373  Actions)...class
+0002a980: 2046 6f6c 6c6f 7765 6442 7928 5061 7273   FollowedBy(Pars
+0002a990: 6545 6c65 6d65 6e74 456e 6861 6e63 6529  eElementEnhance)
+0002a9a0: 3a0a 2020 2020 2222 224c 6f6f 6b61 6865  :.    """Lookahe
+0002a9b0: 6164 206d 6174 6368 696e 6720 6f66 2074  ad matching of t
+0002a9c0: 6865 2067 6976 656e 2070 6172 7365 2065  he given parse e
+0002a9d0: 7870 7265 7373 696f 6e2e 0a20 2020 2060  xpression..    `
+0002a9e0: 6046 6f6c 6c6f 7765 6442 7960 6020 646f  `FollowedBy`` do
+0002a9f0: 6573 202a 6e6f 742a 2061 6476 616e 6365  es *not* advance
+0002aa00: 2074 6865 2070 6172 7369 6e67 2070 6f73   the parsing pos
+0002aa10: 6974 696f 6e20 7769 7468 696e 0a20 2020  ition within.   
+0002aa20: 2074 6865 2069 6e70 7574 2073 7472 696e   the input strin
+0002aa30: 672c 2069 7420 6f6e 6c79 2076 6572 6966  g, it only verif
+0002aa40: 6965 7320 7468 6174 2074 6865 2073 7065  ies that the spe
+0002aa50: 6369 6669 6564 2070 6172 7365 0a20 2020  cified parse.   
+0002aa60: 2065 7870 7265 7373 696f 6e20 6d61 7463   expression matc
+0002aa70: 6865 7320 6174 2074 6865 2063 7572 7265  hes at the curre
+0002aa80: 6e74 2070 6f73 6974 696f 6e2e 2020 6060  nt position.  ``
+0002aa90: 466f 6c6c 6f77 6564 4279 6060 0a20 2020  FollowedBy``.   
+0002aaa0: 2061 6c77 6179 7320 7265 7475 726e 7320   always returns 
+0002aab0: 6120 6e75 6c6c 2074 6f6b 656e 206c 6973  a null token lis
+0002aac0: 742e 2049 6620 616e 7920 7265 7375 6c74  t. If any result
+0002aad0: 7320 6e61 6d65 7320 6172 6520 6465 6669  s names are defi
+0002aae0: 6e65 640a 2020 2020 696e 2074 6865 206c  ned.    in the l
+0002aaf0: 6f6f 6b61 6865 6164 2065 7870 7265 7373  ookahead express
+0002ab00: 696f 6e2c 2074 686f 7365 202a 7769 6c6c  ion, those *will
+0002ab10: 2a20 6265 2072 6574 7572 6e65 6420 666f  * be returned fo
+0002ab20: 7220 6163 6365 7373 2062 790a 2020 2020  r access by.    
+0002ab30: 6e61 6d65 2e0a 0a20 2020 2045 7861 6d70  name...    Examp
+0002ab40: 6c65 3a3a 0a0a 2020 2020 2020 2020 2320  le::..        # 
+0002ab50: 7573 6520 466f 6c6c 6f77 6564 4279 2074  use FollowedBy t
+0002ab60: 6f20 6d61 7463 6820 6120 6c61 6265 6c20  o match a label 
+0002ab70: 6f6e 6c79 2069 6620 6974 2069 7320 666f  only if it is fo
+0002ab80: 6c6c 6f77 6564 2062 7920 6120 273a 270a  llowed by a ':'.
+0002ab90: 2020 2020 2020 2020 6461 7461 5f77 6f72          data_wor
+0002aba0: 6420 3d20 576f 7264 2861 6c70 6861 7329  d = Word(alphas)
+0002abb0: 0a20 2020 2020 2020 206c 6162 656c 203d  .        label =
+0002abc0: 2064 6174 615f 776f 7264 202b 2046 6f6c   data_word + Fol
+0002abd0: 6c6f 7765 6442 7928 273a 2729 0a20 2020  lowedBy(':').   
+0002abe0: 2020 2020 2061 7474 725f 6578 7072 203d       attr_expr =
+0002abf0: 2047 726f 7570 286c 6162 656c 202b 2053   Group(label + S
+0002ac00: 7570 7072 6573 7328 273a 2729 202b 204f  uppress(':') + O
+0002ac10: 6e65 4f72 4d6f 7265 2864 6174 615f 776f  neOrMore(data_wo
+0002ac20: 7264 2c20 7374 6f70 5f6f 6e3d 6c61 6265  rd, stop_on=labe
+0002ac30: 6c29 2e73 6574 5f70 6172 7365 5f61 6374  l).set_parse_act
+0002ac40: 696f 6e28 2720 272e 6a6f 696e 2929 0a0a  ion(' '.join))..
+0002ac50: 2020 2020 2020 2020 6174 7472 5f65 7870          attr_exp
+0002ac60: 725b 312c 202e 2e2e 5d2e 7061 7273 655f  r[1, ...].parse_
+0002ac70: 7374 7269 6e67 2822 7368 6170 653a 2053  string("shape: S
+0002ac80: 5155 4152 4520 636f 6c6f 723a 2042 4c41  QUARE color: BLA
+0002ac90: 434b 2070 6f73 6e3a 2075 7070 6572 206c  CK posn: upper l
+0002aca0: 6566 7422 292e 7070 7269 6e74 2829 0a0a  eft").pprint()..
+0002acb0: 2020 2020 7072 696e 7473 3a3a 0a0a 2020      prints::..  
+0002acc0: 2020 2020 2020 5b5b 2773 6861 7065 272c        [['shape',
+0002acd0: 2027 5351 5541 5245 275d 2c20 5b27 636f   'SQUARE'], ['co
+0002ace0: 6c6f 7227 2c20 2742 4c41 434b 275d 2c20  lor', 'BLACK'], 
+0002acf0: 5b27 706f 736e 272c 2027 7570 7065 7220  ['posn', 'upper 
+0002ad00: 6c65 6674 275d 5d0a 2020 2020 2222 220a  left']].    """.
+0002ad10: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
+0002ad20: 5f28 7365 6c66 2c20 6578 7072 3a20 556e  _(self, expr: Un
+0002ad30: 696f 6e5b 5061 7273 6572 456c 656d 656e  ion[ParserElemen
+0002ad40: 742c 2073 7472 5d29 3a0a 2020 2020 2020  t, str]):.      
+0002ad50: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
+0002ad60: 5f5f 2865 7870 7229 0a20 2020 2020 2020  __(expr).       
+0002ad70: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
+0002ad80: 6d70 7479 203d 2054 7275 650a 0a20 2020  mpty = True..   
+0002ad90: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
+0002ada0: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+0002adb0: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+0002adc0: 7565 293a 0a20 2020 2020 2020 2023 2062  ue):.        # b
+0002add0: 7920 7573 696e 6720 7365 6c66 2e5f 6578  y using self._ex
+0002ade0: 7072 2e70 6172 7365 2061 6e64 2064 656c  pr.parse and del
+0002adf0: 6574 696e 6720 7468 6520 636f 6e74 656e  eting the conten
+0002ae00: 7473 206f 6620 7468 6520 7265 7475 726e  ts of the return
+0002ae10: 6564 2050 6172 7365 5265 7375 6c74 7320  ed ParseResults 
+0002ae20: 6c69 7374 0a20 2020 2020 2020 2023 2077  list.        # w
+0002ae30: 6520 6b65 6570 2061 6e79 206e 616d 6564  e keep any named
+0002ae40: 2072 6573 756c 7473 2074 6861 7420 7765   results that we
+0002ae50: 7265 2064 6566 696e 6564 2069 6e20 7468  re defined in th
+0002ae60: 6520 466f 6c6c 6f77 6564 4279 2065 7870  e FollowedBy exp
+0002ae70: 7265 7373 696f 6e0a 2020 2020 2020 2020  ression.        
+0002ae80: 5f2c 2072 6574 203d 2073 656c 662e 6578  _, ret = self.ex
+0002ae90: 7072 2e5f 7061 7273 6528 696e 7374 7269  pr._parse(instri
+0002aea0: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
+0002aeb0: 6e73 3d64 6f41 6374 696f 6e73 290a 2020  ns=doActions).  
+0002aec0: 2020 2020 2020 6465 6c20 7265 745b 3a5d        del ret[:]
+0002aed0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0002aee0: 206c 6f63 2c20 7265 740a 0a0a 636c 6173   loc, ret...clas
+0002aef0: 7320 5072 6563 6564 6564 4279 2850 6172  s PrecededBy(Par
+0002af00: 7365 456c 656d 656e 7445 6e68 616e 6365  seElementEnhance
+0002af10: 293a 0a20 2020 2022 2222 4c6f 6f6b 6265  ):.    """Lookbe
+0002af20: 6869 6e64 206d 6174 6368 696e 6720 6f66  hind matching of
+0002af30: 2074 6865 2067 6976 656e 2070 6172 7365   the given parse
+0002af40: 2065 7870 7265 7373 696f 6e2e 0a20 2020   expression..   
+0002af50: 2060 6050 7265 6365 6465 6442 7960 6020   ``PrecededBy`` 
+0002af60: 646f 6573 206e 6f74 2061 6476 616e 6365  does not advance
+0002af70: 2074 6865 2070 6172 7369 6e67 2070 6f73   the parsing pos
+0002af80: 6974 696f 6e20 7769 7468 696e 2074 6865  ition within the
+0002af90: 0a20 2020 2069 6e70 7574 2073 7472 696e  .    input strin
+0002afa0: 672c 2069 7420 6f6e 6c79 2076 6572 6966  g, it only verif
+0002afb0: 6965 7320 7468 6174 2074 6865 2073 7065  ies that the spe
+0002afc0: 6369 6669 6564 2070 6172 7365 2065 7870  cified parse exp
+0002afd0: 7265 7373 696f 6e0a 2020 2020 6d61 7463  ression.    matc
+0002afe0: 6865 7320 7072 696f 7220 746f 2074 6865  hes prior to the
+0002aff0: 2063 7572 7265 6e74 2070 6f73 6974 696f   current positio
+0002b000: 6e2e 2020 6060 5072 6563 6564 6564 4279  n.  ``PrecededBy
+0002b010: 6060 2061 6c77 6179 730a 2020 2020 7265  `` always.    re
+0002b020: 7475 726e 7320 6120 6e75 6c6c 2074 6f6b  turns a null tok
+0002b030: 656e 206c 6973 742c 2062 7574 2069 6620  en list, but if 
+0002b040: 6120 7265 7375 6c74 7320 6e61 6d65 2069  a results name i
+0002b050: 7320 6465 6669 6e65 6420 6f6e 2074 6865  s defined on the
+0002b060: 0a20 2020 2067 6976 656e 2065 7870 7265  .    given expre
+0002b070: 7373 696f 6e2c 2069 7420 6973 2072 6574  ssion, it is ret
+0002b080: 7572 6e65 642e 0a0a 2020 2020 5061 7261  urned...    Para
+0002b090: 6d65 7465 7273 3a0a 0a20 2020 202d 2060  meters:..    - `
+0002b0a0: 6065 7870 7260 6020 2d20 6578 7072 6573  `expr`` - expres
+0002b0b0: 7369 6f6e 2074 6861 7420 6d75 7374 206d  sion that must m
+0002b0c0: 6174 6368 2070 7269 6f72 2074 6f20 7468  atch prior to th
+0002b0d0: 6520 6375 7272 656e 7420 7061 7273 650a  e current parse.
+0002b0e0: 2020 2020 2020 6c6f 6361 7469 6f6e 0a20        location. 
+0002b0f0: 2020 202d 2060 6072 6574 7265 6174 6060     - ``retreat``
+0002b100: 202d 2028 6465 6661 756c 743d 2060 604e   - (default= ``N
+0002b110: 6f6e 6560 6029 202d 2028 696e 7429 206d  one``) - (int) m
+0002b120: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
+0002b130: 2063 6861 7261 6374 6572 730a 2020 2020   characters.    
+0002b140: 2020 746f 206c 6f6f 6b62 6568 696e 6420    to lookbehind 
+0002b150: 7072 696f 7220 746f 2074 6865 2063 7572  prior to the cur
+0002b160: 7265 6e74 2070 6172 7365 206c 6f63 6174  rent parse locat
+0002b170: 696f 6e0a 0a20 2020 2049 6620 7468 6520  ion..    If the 
+0002b180: 6c6f 6f6b 6265 6869 6e64 2065 7870 7265  lookbehind expre
+0002b190: 7373 696f 6e20 6973 2061 2073 7472 696e  ssion is a strin
+0002b1a0: 672c 203a 636c 6173 733a 604c 6974 6572  g, :class:`Liter
+0002b1b0: 616c 602c 0a20 2020 203a 636c 6173 733a  al`,.    :class:
+0002b1c0: 604b 6579 776f 7264 602c 206f 7220 6120  `Keyword`, or a 
+0002b1d0: 3a63 6c61 7373 3a60 576f 7264 6020 6f72  :class:`Word` or
+0002b1e0: 203a 636c 6173 733a 6043 6861 7273 4e6f   :class:`CharsNo
+0002b1f0: 7449 6e60 0a20 2020 2077 6974 6820 6120  tIn`.    with a 
+0002b200: 7370 6563 6966 6965 6420 6578 6163 7420  specified exact 
+0002b210: 6f72 206d 6178 696d 756d 206c 656e 6774  or maximum lengt
+0002b220: 682c 2074 6865 6e20 7468 6520 7265 7472  h, then the retr
+0002b230: 6561 740a 2020 2020 7061 7261 6d65 7465  eat.    paramete
+0002b240: 7220 6973 206e 6f74 2072 6571 7569 7265  r is not require
+0002b250: 642e 204f 7468 6572 7769 7365 2c20 7265  d. Otherwise, re
+0002b260: 7472 6561 7420 6d75 7374 2062 6520 7370  treat must be sp
+0002b270: 6563 6966 6965 6420 746f 0a20 2020 2067  ecified to.    g
+0002b280: 6976 6520 6120 6d61 7869 6d75 6d20 6e75  ive a maximum nu
+0002b290: 6d62 6572 206f 6620 6368 6172 6163 7465  mber of characte
+0002b2a0: 7273 2074 6f20 6c6f 6f6b 2062 6163 6b20  rs to look back 
+0002b2b0: 6672 6f6d 0a20 2020 2074 6865 2063 7572  from.    the cur
+0002b2c0: 7265 6e74 2070 6172 7365 2070 6f73 6974  rent parse posit
+0002b2d0: 696f 6e20 666f 7220 6120 6c6f 6f6b 6265  ion for a lookbe
+0002b2e0: 6869 6e64 206d 6174 6368 2e0a 0a20 2020  hind match...   
+0002b2f0: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
+0002b300: 2020 2020 2320 5642 2d73 7479 6c65 2076      # VB-style v
+0002b310: 6172 6961 626c 6520 6e61 6d65 7320 7769  ariable names wi
+0002b320: 7468 2074 7970 6520 7072 6566 6978 6573  th type prefixes
+0002b330: 0a20 2020 2020 2020 2069 6e74 5f76 6172  .        int_var
+0002b340: 203d 2050 7265 6365 6465 6442 7928 2223   = PrecededBy("#
+0002b350: 2229 202b 2070 7970 6172 7369 6e67 5f63  ") + pyparsing_c
+0002b360: 6f6d 6d6f 6e2e 6964 656e 7469 6669 6572  ommon.identifier
+0002b370: 0a20 2020 2020 2020 2073 7472 5f76 6172  .        str_var
+0002b380: 203d 2050 7265 6365 6465 6442 7928 2224   = PrecededBy("$
+0002b390: 2229 202b 2070 7970 6172 7369 6e67 5f63  ") + pyparsing_c
+0002b3a0: 6f6d 6d6f 6e2e 6964 656e 7469 6669 6572  ommon.identifier
+0002b3b0: 0a0a 2020 2020 2222 220a 0a20 2020 2064  ..    """..    d
+0002b3c0: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
+0002b3d0: 2020 2020 2073 656c 662c 2065 7870 723a       self, expr:
+0002b3e0: 2055 6e69 6f6e 5b50 6172 7365 7245 6c65   Union[ParserEle
+0002b3f0: 6d65 6e74 2c20 7374 725d 2c20 7265 7472  ment, str], retr
+0002b400: 6561 743a 2074 7970 696e 672e 4f70 7469  eat: typing.Opti
+0002b410: 6f6e 616c 5b69 6e74 5d20 3d20 4e6f 6e65  onal[int] = None
+0002b420: 0a20 2020 2029 3a0a 2020 2020 2020 2020  .    ):.        
+0002b430: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+0002b440: 2865 7870 7229 0a20 2020 2020 2020 2073  (expr).        s
+0002b450: 656c 662e 6578 7072 203d 2073 656c 662e  elf.expr = self.
+0002b460: 6578 7072 2829 2e6c 6561 7665 5f77 6869  expr().leave_whi
+0002b470: 7465 7370 6163 6528 290a 2020 2020 2020  tespace().      
+0002b480: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
+0002b490: 456d 7074 7920 3d20 5472 7565 0a20 2020  Empty = True.   
+0002b4a0: 2020 2020 2073 656c 662e 6d61 7949 6e64       self.mayInd
+0002b4b0: 6578 4572 726f 7220 3d20 4661 6c73 650a  exError = False.
+0002b4c0: 2020 2020 2020 2020 7365 6c66 2e65 7861          self.exa
+0002b4d0: 6374 203d 2046 616c 7365 0a20 2020 2020  ct = False.     
+0002b4e0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+0002b4f0: 2865 7870 722c 2073 7472 5f74 7970 6529  (expr, str_type)
+0002b500: 3a0a 2020 2020 2020 2020 2020 2020 6578  :.            ex
+0002b510: 7072 203d 2074 7970 696e 672e 6361 7374  pr = typing.cast
+0002b520: 2873 7472 2c20 6578 7072 290a 2020 2020  (str, expr).    
+0002b530: 2020 2020 2020 2020 7265 7472 6561 7420          retreat 
+0002b540: 3d20 6c65 6e28 6578 7072 290a 2020 2020  = len(expr).    
+0002b550: 2020 2020 2020 2020 7365 6c66 2e65 7861          self.exa
+0002b560: 6374 203d 2054 7275 650a 2020 2020 2020  ct = True.      
+0002b570: 2020 656c 6966 2069 7369 6e73 7461 6e63    elif isinstanc
+0002b580: 6528 6578 7072 2c20 284c 6974 6572 616c  e(expr, (Literal
+0002b590: 2c20 4b65 7977 6f72 6429 293a 0a20 2020  , Keyword)):.   
+0002b5a0: 2020 2020 2020 2020 2072 6574 7265 6174           retreat
+0002b5b0: 203d 2065 7870 722e 6d61 7463 684c 656e   = expr.matchLen
+0002b5c0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0002b5d0: 662e 6578 6163 7420 3d20 5472 7565 0a20  f.exact = True. 
+0002b5e0: 2020 2020 2020 2065 6c69 6620 6973 696e         elif isin
+0002b5f0: 7374 616e 6365 2865 7870 722c 2028 576f  stance(expr, (Wo
+0002b600: 7264 2c20 4368 6172 734e 6f74 496e 2929  rd, CharsNotIn))
+0002b610: 2061 6e64 2065 7870 722e 6d61 784c 656e   and expr.maxLen
+0002b620: 2021 3d20 5f4d 4158 5f49 4e54 3a0a 2020   != _MAX_INT:.  
+0002b630: 2020 2020 2020 2020 2020 7265 7472 6561            retrea
+0002b640: 7420 3d20 6578 7072 2e6d 6178 4c65 6e0a  t = expr.maxLen.
+0002b650: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0002b660: 2e65 7861 6374 203d 2054 7275 650a 2020  .exact = True.  
+0002b670: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
+0002b680: 7461 6e63 6528 6578 7072 2c20 506f 7369  tance(expr, Posi
+0002b690: 7469 6f6e 546f 6b65 6e29 3a0a 2020 2020  tionToken):.    
+0002b6a0: 2020 2020 2020 2020 7265 7472 6561 7420          retreat 
+0002b6b0: 3d20 300a 2020 2020 2020 2020 2020 2020  = 0.            
+0002b6c0: 7365 6c66 2e65 7861 6374 203d 2054 7275  self.exact = Tru
+0002b6d0: 650a 2020 2020 2020 2020 7365 6c66 2e72  e.        self.r
+0002b6e0: 6574 7265 6174 203d 2072 6574 7265 6174  etreat = retreat
+0002b6f0: 0a20 2020 2020 2020 2073 656c 662e 6572  .        self.er
+0002b700: 726d 7367 203d 2022 6e6f 7420 7072 6563  rmsg = "not prec
+0002b710: 6564 6564 2062 7920 2220 2b20 7374 7228  eded by " + str(
+0002b720: 6578 7072 290a 2020 2020 2020 2020 7365  expr).        se
+0002b730: 6c66 2e73 6b69 7057 6869 7465 7370 6163  lf.skipWhitespac
+0002b740: 6520 3d20 4661 6c73 650a 2020 2020 2020  e = False.      
+0002b750: 2020 7365 6c66 2e70 6172 7365 4163 7469    self.parseActi
+0002b760: 6f6e 2e61 7070 656e 6428 6c61 6d62 6461  on.append(lambda
+0002b770: 2073 2c20 6c2c 2074 3a20 742e 5f5f 6465   s, l, t: t.__de
+0002b780: 6c69 7465 6d5f 5f28 736c 6963 6528 4e6f  litem__(slice(No
+0002b790: 6e65 2c20 4e6f 6e65 2929 290a 0a20 2020  ne, None)))..   
+0002b7a0: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
+0002b7b0: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+0002b7c0: 6f63 3d30 2c20 646f 4163 7469 6f6e 733d  oc=0, doActions=
+0002b7d0: 5472 7565 293a 0a20 2020 2020 2020 2069  True):.        i
+0002b7e0: 6620 7365 6c66 2e65 7861 6374 3a0a 2020  f self.exact:.  
+0002b7f0: 2020 2020 2020 2020 2020 6966 206c 6f63            if loc
+0002b800: 203c 2073 656c 662e 7265 7472 6561 743a   < self.retreat:
+0002b810: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002b820: 2072 6169 7365 2050 6172 7365 4578 6365   raise ParseExce
+0002b830: 7074 696f 6e28 696e 7374 7269 6e67 2c20  ption(instring, 
+0002b840: 6c6f 632c 2073 656c 662e 6572 726d 7367  loc, self.errmsg
+0002b850: 290a 2020 2020 2020 2020 2020 2020 7374  ).            st
+0002b860: 6172 7420 3d20 6c6f 6320 2d20 7365 6c66  art = loc - self
+0002b870: 2e72 6574 7265 6174 0a20 2020 2020 2020  .retreat.       
+0002b880: 2020 2020 205f 2c20 7265 7420 3d20 7365       _, ret = se
+0002b890: 6c66 2e65 7870 722e 5f70 6172 7365 2869  lf.expr._parse(i
+0002b8a0: 6e73 7472 696e 672c 2073 7461 7274 290a  nstring, start).
+0002b8b0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0002b8c0: 2020 2020 2020 2020 2020 2320 7265 7472            # retr
+0002b8d0: 6561 7420 7370 6563 6966 6965 6420 6120  eat specified a 
+0002b8e0: 6d61 7869 6d75 6d20 6c6f 6f6b 6265 6869  maximum lookbehi
+0002b8f0: 6e64 2077 696e 646f 772c 2069 7465 7261  nd window, itera
+0002b900: 7465 0a20 2020 2020 2020 2020 2020 2074  te.            t
+0002b910: 6573 745f 6578 7072 203d 2073 656c 662e  est_expr = self.
+0002b920: 6578 7072 202b 2053 7472 696e 6745 6e64  expr + StringEnd
+0002b930: 2829 0a20 2020 2020 2020 2020 2020 2069  ().            i
+0002b940: 6e73 7472 696e 675f 736c 6963 6520 3d20  nstring_slice = 
+0002b950: 696e 7374 7269 6e67 5b6d 6178 2830 2c20  instring[max(0, 
+0002b960: 6c6f 6320 2d20 7365 6c66 2e72 6574 7265  loc - self.retre
+0002b970: 6174 2920 3a20 6c6f 635d 0a20 2020 2020  at) : loc].     
+0002b980: 2020 2020 2020 206c 6173 745f 6578 7072         last_expr
+0002b990: 203d 2050 6172 7365 4578 6365 7074 696f   = ParseExceptio
+0002b9a0: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
+0002b9b0: 2073 656c 662e 6572 726d 7367 290a 2020   self.errmsg).  
+0002b9c0: 2020 2020 2020 2020 2020 666f 7220 6f66            for of
+0002b9d0: 6673 6574 2069 6e20 7261 6e67 6528 312c  fset in range(1,
+0002b9e0: 206d 696e 286c 6f63 2c20 7365 6c66 2e72   min(loc, self.r
+0002b9f0: 6574 7265 6174 202b 2031 2920 2b20 3129  etreat + 1) + 1)
+0002ba00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0002ba10: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+0002ba20: 2020 2020 2020 2020 2020 2023 2070 7269             # pri
+0002ba30: 6e74 2827 7472 7969 6e67 272c 206f 6666  nt('trying', off
+0002ba40: 7365 742c 2069 6e73 7472 696e 675f 736c  set, instring_sl
+0002ba50: 6963 652c 2072 6570 7228 696e 7374 7269  ice, repr(instri
+0002ba60: 6e67 5f73 6c69 6365 5b6c 6f63 202d 206f  ng_slice[loc - o
+0002ba70: 6666 7365 743a 5d29 290a 2020 2020 2020  ffset:])).      
+0002ba80: 2020 2020 2020 2020 2020 2020 2020 5f2c                _,
+0002ba90: 2072 6574 203d 2074 6573 745f 6578 7072   ret = test_expr
+0002baa0: 2e5f 7061 7273 6528 0a20 2020 2020 2020  ._parse(.       
+0002bab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bac0: 2069 6e73 7472 696e 675f 736c 6963 652c   instring_slice,
+0002bad0: 206c 656e 2869 6e73 7472 696e 675f 736c   len(instring_sl
+0002bae0: 6963 6529 202d 206f 6666 7365 740a 2020  ice) - offset.  
+0002baf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bb00: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+0002bb10: 2020 2020 6578 6365 7074 2050 6172 7365      except Parse
+0002bb20: 4261 7365 4578 6365 7074 696f 6e20 6173  BaseException as
+0002bb30: 2070 6265 3a0a 2020 2020 2020 2020 2020   pbe:.          
+0002bb40: 2020 2020 2020 2020 2020 6c61 7374 5f65            last_e
+0002bb50: 7870 7220 3d20 7062 650a 2020 2020 2020  xpr = pbe.      
+0002bb60: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0002bb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bb80: 2020 2020 6272 6561 6b0a 2020 2020 2020      break.      
+0002bb90: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0002bba0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0002bbb0: 6520 6c61 7374 5f65 7870 720a 2020 2020  e last_expr.    
+0002bbc0: 2020 2020 7265 7475 726e 206c 6f63 2c20      return loc, 
+0002bbd0: 7265 740a 0a0a 636c 6173 7320 4c6f 6361  ret...class Loca
+0002bbe0: 7465 6428 5061 7273 6545 6c65 6d65 6e74  ted(ParseElement
+0002bbf0: 456e 6861 6e63 6529 3a0a 2020 2020 2222  Enhance):.    ""
+0002bc00: 220a 2020 2020 4465 636f 7261 7465 7320  ".    Decorates 
+0002bc10: 6120 7265 7475 726e 6564 2074 6f6b 656e  a returned token
+0002bc20: 2077 6974 6820 6974 7320 7374 6172 7469   with its starti
+0002bc30: 6e67 2061 6e64 2065 6e64 696e 670a 2020  ng and ending.  
+0002bc40: 2020 6c6f 6361 7469 6f6e 7320 696e 2074    locations in t
+0002bc50: 6865 2069 6e70 7574 2073 7472 696e 672e  he input string.
+0002bc60: 0a0a 2020 2020 5468 6973 2068 656c 7065  ..    This helpe
+0002bc70: 7220 6164 6473 2074 6865 2066 6f6c 6c6f  r adds the follo
+0002bc80: 7769 6e67 2072 6573 756c 7473 206e 616d  wing results nam
+0002bc90: 6573 3a0a 0a20 2020 202d 2060 606c 6f63  es:..    - ``loc
+0002bca0: 6e5f 7374 6172 7460 6020 2d20 6c6f 6361  n_start`` - loca
+0002bcb0: 7469 6f6e 2077 6865 7265 206d 6174 6368  tion where match
+0002bcc0: 6564 2065 7870 7265 7373 696f 6e20 6265  ed expression be
+0002bcd0: 6769 6e73 0a20 2020 202d 2060 606c 6f63  gins.    - ``loc
+0002bce0: 6e5f 656e 6460 6020 2d20 6c6f 6361 7469  n_end`` - locati
+0002bcf0: 6f6e 2077 6865 7265 206d 6174 6368 6564  on where matched
+0002bd00: 2065 7870 7265 7373 696f 6e20 656e 6473   expression ends
+0002bd10: 0a20 2020 202d 2060 6076 616c 7565 6060  .    - ``value``
+0002bd20: 202d 2074 6865 2061 6374 7561 6c20 7061   - the actual pa
+0002bd30: 7273 6564 2072 6573 756c 7473 0a0a 2020  rsed results..  
+0002bd40: 2020 4265 2063 6172 6566 756c 2069 6620    Be careful if 
+0002bd50: 7468 6520 696e 7075 7420 7465 7874 2063  the input text c
+0002bd60: 6f6e 7461 696e 7320 6060 3c54 4142 3e60  ontains ``<TAB>`
+0002bd70: 6020 6368 6172 6163 7465 7273 2c20 796f  ` characters, yo
+0002bd80: 750a 2020 2020 6d61 7920 7761 6e74 2074  u.    may want t
+0002bd90: 6f20 6361 6c6c 203a 636c 6173 733a 6050  o call :class:`P
+0002bda0: 6172 7365 7245 6c65 6d65 6e74 2e70 6172  arserElement.par
+0002bdb0: 7365 5f77 6974 685f 7461 6273 600a 0a20  se_with_tabs`.. 
+0002bdc0: 2020 2045 7861 6d70 6c65 3a3a 0a0a 2020     Example::..  
+0002bdd0: 2020 2020 2020 7764 203d 2057 6f72 6428        wd = Word(
+0002bde0: 616c 7068 6173 290a 2020 2020 2020 2020  alphas).        
+0002bdf0: 666f 7220 6d61 7463 6820 696e 204c 6f63  for match in Loc
+0002be00: 6174 6564 2877 6429 2e73 6561 7263 685f  ated(wd).search_
+0002be10: 7374 7269 6e67 2822 6c6a 7364 6631 3233  string("ljsdf123
+0002be20: 6c6b 7364 6a6a 6631 3233 6c6b 6b6a 6a31  lksdjjf123lkkjj1
+0002be30: 3232 3222 293a 0a20 2020 2020 2020 2020  222"):.         
+0002be40: 2020 2070 7269 6e74 286d 6174 6368 290a     print(match).
+0002be50: 0a20 2020 2070 7269 6e74 733a 3a0a 0a20  .    prints::.. 
+0002be60: 2020 2020 2020 205b 302c 205b 276c 6a73         [0, ['ljs
+0002be70: 6466 275d 2c20 355d 0a20 2020 2020 2020  df'], 5].       
+0002be80: 205b 382c 205b 276c 6b73 646a 6a66 275d   [8, ['lksdjjf']
+0002be90: 2c20 3135 5d0a 2020 2020 2020 2020 5b31  , 15].        [1
+0002bea0: 382c 205b 276c 6b6b 6a6a 275d 2c20 3233  8, ['lkkjj'], 23
+0002beb0: 5d0a 0a20 2020 2022 2222 0a0a 2020 2020  ]..    """..    
+0002bec0: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
+0002bed0: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
+0002bee0: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
+0002bef0: 6529 3a0a 2020 2020 2020 2020 7374 6172  e):.        star
+0002bf00: 7420 3d20 6c6f 630a 2020 2020 2020 2020  t = loc.        
+0002bf10: 6c6f 632c 2074 6f6b 656e 7320 3d20 7365  loc, tokens = se
+0002bf20: 6c66 2e65 7870 722e 5f70 6172 7365 2869  lf.expr._parse(i
+0002bf30: 6e73 7472 696e 672c 2073 7461 7274 2c20  nstring, start, 
+0002bf40: 646f 4163 7469 6f6e 732c 2063 616c 6c50  doActions, callP
+0002bf50: 7265 5061 7273 653d 4661 6c73 6529 0a20  reParse=False). 
+0002bf60: 2020 2020 2020 2072 6574 5f74 6f6b 656e         ret_token
+0002bf70: 7320 3d20 5061 7273 6552 6573 756c 7473  s = ParseResults
+0002bf80: 285b 7374 6172 742c 2074 6f6b 656e 732c  ([start, tokens,
+0002bf90: 206c 6f63 5d29 0a20 2020 2020 2020 2072   loc]).        r
+0002bfa0: 6574 5f74 6f6b 656e 735b 226c 6f63 6e5f  et_tokens["locn_
+0002bfb0: 7374 6172 7422 5d20 3d20 7374 6172 740a  start"] = start.
+0002bfc0: 2020 2020 2020 2020 7265 745f 746f 6b65          ret_toke
+0002bfd0: 6e73 5b22 7661 6c75 6522 5d20 3d20 746f  ns["value"] = to
+0002bfe0: 6b65 6e73 0a20 2020 2020 2020 2072 6574  kens.        ret
+0002bff0: 5f74 6f6b 656e 735b 226c 6f63 6e5f 656e  _tokens["locn_en
+0002c000: 6422 5d20 3d20 6c6f 630a 2020 2020 2020  d"] = loc.      
+0002c010: 2020 6966 2073 656c 662e 7265 7375 6c74    if self.result
+0002c020: 734e 616d 653a 0a20 2020 2020 2020 2020  sName:.         
+0002c030: 2020 2023 206d 7573 7420 7265 7475 726e     # must return
+0002c040: 2061 7320 6120 6c69 7374 2c20 736f 2074   as a list, so t
+0002c050: 6861 7420 7468 6520 6e61 6d65 2077 696c  hat the name wil
+0002c060: 6c20 6265 2061 7474 6163 6865 6420 746f  l be attached to
+0002c070: 2074 6865 2063 6f6d 706c 6574 6520 6772   the complete gr
+0002c080: 6f75 700a 2020 2020 2020 2020 2020 2020  oup.            
+0002c090: 7265 7475 726e 206c 6f63 2c20 5b72 6574  return loc, [ret
+0002c0a0: 5f74 6f6b 656e 735d 0a20 2020 2020 2020  _tokens].       
+0002c0b0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0002c0c0: 2020 2072 6574 7572 6e20 6c6f 632c 2072     return loc, r
+0002c0d0: 6574 5f74 6f6b 656e 730a 0a0a 636c 6173  et_tokens...clas
+0002c0e0: 7320 4e6f 7441 6e79 2850 6172 7365 456c  s NotAny(ParseEl
+0002c0f0: 656d 656e 7445 6e68 616e 6365 293a 0a20  ementEnhance):. 
+0002c100: 2020 2022 2222 0a20 2020 204c 6f6f 6b61     """.    Looka
+0002c110: 6865 6164 2074 6f20 6469 7361 6c6c 6f77  head to disallow
+0002c120: 206d 6174 6368 696e 6720 7769 7468 2074   matching with t
+0002c130: 6865 2067 6976 656e 2070 6172 7365 2065  he given parse e
+0002c140: 7870 7265 7373 696f 6e2e 0a20 2020 2060  xpression..    `
+0002c150: 604e 6f74 416e 7960 6020 646f 6573 202a  `NotAny`` does *
+0002c160: 6e6f 742a 2061 6476 616e 6365 2074 6865  not* advance the
+0002c170: 2070 6172 7369 6e67 2070 6f73 6974 696f   parsing positio
+0002c180: 6e20 7769 7468 696e 2074 6865 0a20 2020  n within the.   
+0002c190: 2069 6e70 7574 2073 7472 696e 672c 2069   input string, i
+0002c1a0: 7420 6f6e 6c79 2076 6572 6966 6965 7320  t only verifies 
+0002c1b0: 7468 6174 2074 6865 2073 7065 6369 6669  that the specifi
+0002c1c0: 6564 2070 6172 7365 2065 7870 7265 7373  ed parse express
+0002c1d0: 696f 6e0a 2020 2020 646f 6573 202a 6e6f  ion.    does *no
+0002c1e0: 742a 206d 6174 6368 2061 7420 7468 6520  t* match at the 
+0002c1f0: 6375 7272 656e 7420 706f 7369 7469 6f6e  current position
+0002c200: 2e20 2041 6c73 6f2c 2060 604e 6f74 416e  .  Also, ``NotAn
+0002c210: 7960 6020 646f 6573 0a20 2020 202a 6e6f  y`` does.    *no
+0002c220: 742a 2073 6b69 7020 6f76 6572 206c 6561  t* skip over lea
+0002c230: 6469 6e67 2077 6869 7465 7370 6163 652e  ding whitespace.
+0002c240: 2060 604e 6f74 416e 7960 6020 616c 7761   ``NotAny`` alwa
+0002c250: 7973 2072 6574 7572 6e73 0a20 2020 2061  ys returns.    a
+0002c260: 206e 756c 6c20 746f 6b65 6e20 6c69 7374   null token list
+0002c270: 2e20 204d 6179 2062 6520 636f 6e73 7472  .  May be constr
+0002c280: 7563 7465 6420 7573 696e 6720 7468 6520  ucted using the 
+0002c290: 6060 277e 2760 6020 6f70 6572 6174 6f72  ``'~'`` operator
+0002c2a0: 2e0a 0a20 2020 2045 7861 6d70 6c65 3a3a  ...    Example::
+0002c2b0: 0a0a 2020 2020 2020 2020 414e 442c 204f  ..        AND, O
+0002c2c0: 522c 204e 4f54 203d 206d 6170 2843 6173  R, NOT = map(Cas
+0002c2d0: 656c 6573 734b 6579 776f 7264 2c20 2241  elessKeyword, "A
+0002c2e0: 4e44 204f 5220 4e4f 5422 2e73 706c 6974  ND OR NOT".split
+0002c2f0: 2829 290a 0a20 2020 2020 2020 2023 2074  ())..        # t
+0002c300: 616b 6520 6361 7265 206e 6f74 2074 6f20  ake care not to 
+0002c310: 6d69 7374 616b 6520 6b65 7977 6f72 6473  mistake keywords
+0002c320: 2066 6f72 2069 6465 6e74 6966 6965 7273   for identifiers
+0002c330: 0a20 2020 2020 2020 2069 6465 6e74 203d  .        ident =
+0002c340: 207e 2841 4e44 207c 204f 5220 7c20 4e4f   ~(AND | OR | NO
+0002c350: 5429 202b 2057 6f72 6428 616c 7068 6173  T) + Word(alphas
+0002c360: 290a 2020 2020 2020 2020 626f 6f6c 6561  ).        boolea
+0002c370: 6e5f 7465 726d 203d 204f 7074 284e 4f54  n_term = Opt(NOT
+0002c380: 2920 2b20 6964 656e 740a 0a20 2020 2020  ) + ident..     
+0002c390: 2020 2023 2076 6572 7920 6372 7564 6520     # very crude 
+0002c3a0: 626f 6f6c 6561 6e20 6578 7072 6573 7369  boolean expressi
+0002c3b0: 6f6e 202d 2074 6f20 7375 7070 6f72 7420  on - to support 
+0002c3c0: 7061 7265 6e74 6865 7369 7320 6772 6f75  parenthesis grou
+0002c3d0: 7073 2061 6e64 0a20 2020 2020 2020 2023  ps and.        #
+0002c3e0: 206f 7065 7261 7469 6f6e 2068 6965 7261   operation hiera
+0002c3f0: 7263 6879 2c20 7573 6520 696e 6669 785f  rchy, use infix_
+0002c400: 6e6f 7461 7469 6f6e 0a20 2020 2020 2020  notation.       
+0002c410: 2062 6f6f 6c65 616e 5f65 7870 7220 3d20   boolean_expr = 
+0002c420: 626f 6f6c 6561 6e5f 7465 726d 202b 2028  boolean_term + (
+0002c430: 2841 4e44 207c 204f 5229 202b 2062 6f6f  (AND | OR) + boo
+0002c440: 6c65 616e 5f74 6572 6d29 5b2e 2e2e 5d0a  lean_term)[...].
+0002c450: 0a20 2020 2020 2020 2023 2069 6e74 6567  .        # integ
+0002c460: 6572 7320 7468 6174 2061 7265 2066 6f6c  ers that are fol
+0002c470: 6c6f 7765 6420 6279 2022 2e22 2061 7265  lowed by "." are
+0002c480: 2061 6374 7561 6c6c 7920 666c 6f61 7473   actually floats
+0002c490: 0a20 2020 2020 2020 2069 6e74 6567 6572  .        integer
+0002c4a0: 203d 2057 6f72 6428 6e75 6d73 2920 2b20   = Word(nums) + 
+0002c4b0: 7e43 6861 7228 222e 2229 0a20 2020 2022  ~Char(".").    "
+0002c4c0: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
+0002c4d0: 6974 5f5f 2873 656c 662c 2065 7870 723a  it__(self, expr:
+0002c4e0: 2055 6e69 6f6e 5b50 6172 7365 7245 6c65   Union[ParserEle
+0002c4f0: 6d65 6e74 2c20 7374 725d 293a 0a20 2020  ment, str]):.   
+0002c500: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
+0002c510: 6e69 745f 5f28 6578 7072 290a 2020 2020  nit__(expr).    
+0002c520: 2020 2020 2320 646f 204e 4f54 2075 7365      # do NOT use
+0002c530: 2073 656c 662e 6c65 6176 655f 7768 6974   self.leave_whit
+0002c540: 6573 7061 6365 2829 2c20 646f 6e27 7420  espace(), don't 
+0002c550: 7761 6e74 2074 6f20 7072 6f70 6167 6174  want to propagat
+0002c560: 6520 746f 2065 7870 7273 0a20 2020 2020  e to exprs.     
+0002c570: 2020 2023 2073 656c 662e 6c65 6176 655f     # self.leave_
+0002c580: 7768 6974 6573 7061 6365 2829 0a20 2020  whitespace().   
+0002c590: 2020 2020 2073 656c 662e 736b 6970 5768       self.skipWh
+0002c5a0: 6974 6573 7061 6365 203d 2046 616c 7365  itespace = False
+0002c5b0: 0a0a 2020 2020 2020 2020 7365 6c66 2e6d  ..        self.m
+0002c5c0: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
+0002c5d0: 5472 7565 0a20 2020 2020 2020 2073 656c  True.        sel
+0002c5e0: 662e 6572 726d 7367 203d 2022 466f 756e  f.errmsg = "Foun
+0002c5f0: 6420 756e 7761 6e74 6564 2074 6f6b 656e  d unwanted token
+0002c600: 2c20 2220 2b20 7374 7228 7365 6c66 2e65  , " + str(self.e
+0002c610: 7870 7229 0a0a 2020 2020 6465 6620 7061  xpr)..    def pa
+0002c620: 7273 6549 6d70 6c28 7365 6c66 2c20 696e  rseImpl(self, in
+0002c630: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
+0002c640: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
+0002c650: 2020 2020 2020 6966 2073 656c 662e 6578        if self.ex
+0002c660: 7072 2e63 616e 5f70 6172 7365 5f6e 6578  pr.can_parse_nex
+0002c670: 7428 696e 7374 7269 6e67 2c20 6c6f 6329  t(instring, loc)
+0002c680: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+0002c690: 6973 6520 5061 7273 6545 7863 6570 7469  ise ParseExcepti
+0002c6a0: 6f6e 2869 6e73 7472 696e 672c 206c 6f63  on(instring, loc
+0002c6b0: 2c20 7365 6c66 2e65 7272 6d73 672c 2073  , self.errmsg, s
+0002c6c0: 656c 6629 0a20 2020 2020 2020 2072 6574  elf).        ret
+0002c6d0: 7572 6e20 6c6f 632c 205b 5d0a 0a20 2020  urn loc, []..   
+0002c6e0: 2064 6566 205f 6765 6e65 7261 7465 4465   def _generateDe
+0002c6f0: 6661 756c 744e 616d 6528 7365 6c66 2920  faultName(self) 
+0002c700: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
+0002c710: 7265 7475 726e 2022 7e7b 2220 2b20 7374  return "~{" + st
+0002c720: 7228 7365 6c66 2e65 7870 7229 202b 2022  r(self.expr) + "
+0002c730: 7d22 0a0a 0a63 6c61 7373 205f 4d75 6c74  }"...class _Mult
+0002c740: 6970 6c65 4d61 7463 6828 5061 7273 6545  ipleMatch(ParseE
+0002c750: 6c65 6d65 6e74 456e 6861 6e63 6529 3a0a  lementEnhance):.
+0002c760: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+0002c770: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+0002c780: 2020 2020 2020 2020 6578 7072 3a20 556e          expr: Un
+0002c790: 696f 6e5b 7374 722c 2050 6172 7365 7245  ion[str, ParserE
+0002c7a0: 6c65 6d65 6e74 5d2c 0a20 2020 2020 2020  lement],.       
+0002c7b0: 2073 746f 705f 6f6e 3a20 7479 7069 6e67   stop_on: typing
+0002c7c0: 2e4f 7074 696f 6e61 6c5b 556e 696f 6e5b  .Optional[Union[
+0002c7d0: 5061 7273 6572 456c 656d 656e 742c 2073  ParserElement, s
+0002c7e0: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
+0002c7f0: 2020 2020 202a 2c0a 2020 2020 2020 2020       *,.        
+0002c800: 7374 6f70 4f6e 3a20 7479 7069 6e67 2e4f  stopOn: typing.O
+0002c810: 7074 696f 6e61 6c5b 556e 696f 6e5b 5061  ptional[Union[Pa
+0002c820: 7273 6572 456c 656d 656e 742c 2073 7472  rserElement, str
+0002c830: 5d5d 203d 204e 6f6e 652c 0a20 2020 2029  ]] = None,.    )
+0002c840: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
+0002c850: 292e 5f5f 696e 6974 5f5f 2865 7870 7229  ).__init__(expr)
+0002c860: 0a20 2020 2020 2020 2073 746f 704f 6e20  .        stopOn 
+0002c870: 3d20 7374 6f70 4f6e 206f 7220 7374 6f70  = stopOn or stop
+0002c880: 5f6f 6e0a 2020 2020 2020 2020 7365 6c66  _on.        self
+0002c890: 2e73 6176 6541 734c 6973 7420 3d20 5472  .saveAsList = Tr
+0002c8a0: 7565 0a20 2020 2020 2020 2065 6e64 6572  ue.        ender
+0002c8b0: 203d 2073 746f 704f 6e0a 2020 2020 2020   = stopOn.      
+0002c8c0: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+0002c8d0: 656e 6465 722c 2073 7472 5f74 7970 6529  ender, str_type)
+0002c8e0: 3a0a 2020 2020 2020 2020 2020 2020 656e  :.            en
+0002c8f0: 6465 7220 3d20 7365 6c66 2e5f 6c69 7465  der = self._lite
+0002c900: 7261 6c53 7472 696e 6743 6c61 7373 2865  ralStringClass(e
+0002c910: 6e64 6572 290a 2020 2020 2020 2020 7365  nder).        se
+0002c920: 6c66 2e73 746f 704f 6e28 656e 6465 7229  lf.stopOn(ender)
+0002c930: 0a0a 2020 2020 6465 6620 7374 6f70 4f6e  ..    def stopOn
+0002c940: 2873 656c 662c 2065 6e64 6572 2920 2d3e  (self, ender) ->
+0002c950: 2050 6172 7365 7245 6c65 6d65 6e74 3a0a   ParserElement:.
+0002c960: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+0002c970: 7461 6e63 6528 656e 6465 722c 2073 7472  tance(ender, str
+0002c980: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
+0002c990: 2020 2020 656e 6465 7220 3d20 7365 6c66      ender = self
+0002c9a0: 2e5f 6c69 7465 7261 6c53 7472 696e 6743  ._literalStringC
+0002c9b0: 6c61 7373 2865 6e64 6572 290a 2020 2020  lass(ender).    
+0002c9c0: 2020 2020 7365 6c66 2e6e 6f74 5f65 6e64      self.not_end
+0002c9d0: 6572 203d 207e 656e 6465 7220 6966 2065  er = ~ender if e
+0002c9e0: 6e64 6572 2069 7320 6e6f 7420 4e6f 6e65  nder is not None
+0002c9f0: 2065 6c73 6520 4e6f 6e65 0a20 2020 2020   else None.     
+0002ca00: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+0002ca10: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
+0002ca20: 6c28 7365 6c66 2c20 696e 7374 7269 6e67  l(self, instring
+0002ca30: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
+0002ca40: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
+0002ca50: 7365 6c66 5f65 7870 725f 7061 7273 6520  self_expr_parse 
+0002ca60: 3d20 7365 6c66 2e65 7870 722e 5f70 6172  = self.expr._par
+0002ca70: 7365 0a20 2020 2020 2020 2073 656c 665f  se.        self_
+0002ca80: 736b 6970 5f69 676e 6f72 6162 6c65 7320  skip_ignorables 
+0002ca90: 3d20 7365 6c66 2e5f 736b 6970 4967 6e6f  = self._skipIgno
+0002caa0: 7261 626c 6573 0a20 2020 2020 2020 2063  rables.        c
+0002cab0: 6865 636b 5f65 6e64 6572 203d 2073 656c  heck_ender = sel
+0002cac0: 662e 6e6f 745f 656e 6465 7220 6973 206e  f.not_ender is n
+0002cad0: 6f74 204e 6f6e 650a 2020 2020 2020 2020  ot None.        
+0002cae0: 6966 2063 6865 636b 5f65 6e64 6572 3a0a  if check_ender:.
+0002caf0: 2020 2020 2020 2020 2020 2020 7472 795f              try_
+0002cb00: 6e6f 745f 656e 6465 7220 3d20 7365 6c66  not_ender = self
+0002cb10: 2e6e 6f74 5f65 6e64 6572 2e74 7279 5f70  .not_ender.try_p
+0002cb20: 6172 7365 0a0a 2020 2020 2020 2020 2320  arse..        # 
+0002cb30: 6d75 7374 2062 6520 6174 206c 6561 7374  must be at least
+0002cb40: 206f 6e65 2028 6275 7420 6669 7273 7420   one (but first 
+0002cb50: 7365 6520 6966 2077 6520 6172 6520 7468  see if we are th
+0002cb60: 6520 7374 6f70 4f6e 2073 656e 7469 6e65  e stopOn sentine
+0002cb70: 6c3b 0a20 2020 2020 2020 2023 2069 6620  l;.        # if 
+0002cb80: 736f 2c20 6661 696c 290a 2020 2020 2020  so, fail).      
+0002cb90: 2020 6966 2063 6865 636b 5f65 6e64 6572    if check_ender
+0002cba0: 3a0a 2020 2020 2020 2020 2020 2020 7472  :.            tr
+0002cbb0: 795f 6e6f 745f 656e 6465 7228 696e 7374  y_not_ender(inst
+0002cbc0: 7269 6e67 2c20 6c6f 6329 0a20 2020 2020  ring, loc).     
+0002cbd0: 2020 206c 6f63 2c20 746f 6b65 6e73 203d     loc, tokens =
+0002cbe0: 2073 656c 665f 6578 7072 5f70 6172 7365   self_expr_parse
+0002cbf0: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+0002cc00: 646f 4163 7469 6f6e 7329 0a20 2020 2020  doActions).     
+0002cc10: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+0002cc20: 2020 2020 6861 7349 676e 6f72 6545 7870      hasIgnoreExp
+0002cc30: 7273 203d 206e 6f74 206e 6f74 2073 656c  rs = not not sel
+0002cc40: 662e 6967 6e6f 7265 4578 7072 730a 2020  f.ignoreExprs.  
+0002cc50: 2020 2020 2020 2020 2020 7768 696c 6520            while 
+0002cc60: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
+0002cc70: 2020 2069 6620 6368 6563 6b5f 656e 6465     if check_ende
+0002cc80: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
+0002cc90: 2020 2020 2020 2074 7279 5f6e 6f74 5f65         try_not_e
+0002cca0: 6e64 6572 2869 6e73 7472 696e 672c 206c  nder(instring, l
+0002ccb0: 6f63 290a 2020 2020 2020 2020 2020 2020  oc).            
+0002ccc0: 2020 2020 6966 2068 6173 4967 6e6f 7265      if hasIgnore
+0002ccd0: 4578 7072 733a 0a20 2020 2020 2020 2020  Exprs:.         
+0002cce0: 2020 2020 2020 2020 2020 2070 7265 6c6f             prelo
+0002ccf0: 6320 3d20 7365 6c66 5f73 6b69 705f 6967  c = self_skip_ig
+0002cd00: 6e6f 7261 626c 6573 2869 6e73 7472 696e  norables(instrin
+0002cd10: 672c 206c 6f63 290a 2020 2020 2020 2020  g, loc).        
+0002cd20: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0002cd30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cd40: 2020 7072 656c 6f63 203d 206c 6f63 0a20    preloc = loc. 
+0002cd50: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+0002cd60: 6f63 2c20 746d 7074 6f6b 656e 7320 3d20  oc, tmptokens = 
+0002cd70: 7365 6c66 5f65 7870 725f 7061 7273 6528  self_expr_parse(
+0002cd80: 696e 7374 7269 6e67 2c20 7072 656c 6f63  instring, preloc
+0002cd90: 2c20 646f 4163 7469 6f6e 7329 0a20 2020  , doActions).   
+0002cda0: 2020 2020 2020 2020 2020 2020 2074 6f6b               tok
+0002cdb0: 656e 7320 2b3d 2074 6d70 746f 6b65 6e73  ens += tmptokens
+0002cdc0: 0a20 2020 2020 2020 2065 7863 6570 7420  .        except 
+0002cdd0: 2850 6172 7365 4578 6365 7074 696f 6e2c  (ParseException,
+0002cde0: 2049 6e64 6578 4572 726f 7229 3a0a 2020   IndexError):.  
+0002cdf0: 2020 2020 2020 2020 2020 7061 7373 0a0a            pass..
+0002ce00: 2020 2020 2020 2020 7265 7475 726e 206c          return l
+0002ce10: 6f63 2c20 746f 6b65 6e73 0a0a 2020 2020  oc, tokens..    
+0002ce20: 6465 6620 5f73 6574 5265 7375 6c74 734e  def _setResultsN
+0002ce30: 616d 6528 7365 6c66 2c20 6e61 6d65 2c20  ame(self, name, 
+0002ce40: 6c69 7374 416c 6c4d 6174 6368 6573 3d46  listAllMatches=F
+0002ce50: 616c 7365 293a 0a20 2020 2020 2020 2069  alse):.        i
+0002ce60: 6620 280a 2020 2020 2020 2020 2020 2020  f (.            
+0002ce70: 5f5f 6469 6167 5f5f 2e77 6172 6e5f 756e  __diag__.warn_un
+0002ce80: 6772 6f75 7065 645f 6e61 6d65 645f 746f  grouped_named_to
+0002ce90: 6b65 6e73 5f69 6e5f 636f 6c6c 6563 7469  kens_in_collecti
+0002cea0: 6f6e 0a20 2020 2020 2020 2020 2020 2061  on.            a
+0002ceb0: 6e64 2044 6961 676e 6f73 7469 6373 2e77  nd Diagnostics.w
+0002cec0: 6172 6e5f 756e 6772 6f75 7065 645f 6e61  arn_ungrouped_na
+0002ced0: 6d65 645f 746f 6b65 6e73 5f69 6e5f 636f  med_tokens_in_co
+0002cee0: 6c6c 6563 7469 6f6e 0a20 2020 2020 2020  llection.       
+0002cef0: 2020 2020 206e 6f74 2069 6e20 7365 6c66       not in self
+0002cf00: 2e73 7570 7072 6573 735f 7761 726e 696e  .suppress_warnin
+0002cf10: 6773 5f0a 2020 2020 2020 2020 293a 0a20  gs_.        ):. 
+0002cf20: 2020 2020 2020 2020 2020 2066 6f72 2065             for e
+0002cf30: 2069 6e20 5b73 656c 662e 6578 7072 5d20   in [self.expr] 
+0002cf40: 2b20 7365 6c66 2e65 7870 722e 7265 6375  + self.expr.recu
+0002cf50: 7273 6528 293a 0a20 2020 2020 2020 2020  rse():.         
+0002cf60: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
+0002cf70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cf80: 6973 696e 7374 616e 6365 2865 2c20 5061  isinstance(e, Pa
+0002cf90: 7273 6572 456c 656d 656e 7429 0a20 2020  rserElement).   
+0002cfa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cfb0: 2061 6e64 2065 2e72 6573 756c 7473 4e61   and e.resultsNa
+0002cfc0: 6d65 0a20 2020 2020 2020 2020 2020 2020  me.             
+0002cfd0: 2020 2020 2020 2061 6e64 2044 6961 676e         and Diagn
+0002cfe0: 6f73 7469 6373 2e77 6172 6e5f 756e 6772  ostics.warn_ungr
+0002cff0: 6f75 7065 645f 6e61 6d65 645f 746f 6b65  ouped_named_toke
+0002d000: 6e73 5f69 6e5f 636f 6c6c 6563 7469 6f6e  ns_in_collection
+0002d010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d020: 2020 2020 206e 6f74 2069 6e20 652e 7375       not in e.su
+0002d030: 7070 7265 7373 5f77 6172 6e69 6e67 735f  ppress_warnings_
+0002d040: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d050: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
+0002d060: 2020 2020 2020 2020 7761 726e 696e 6773          warnings
+0002d070: 2e77 6172 6e28 0a20 2020 2020 2020 2020  .warn(.         
+0002d080: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0002d090: 7b7d 3a20 7365 7474 696e 6720 7265 7375  {}: setting resu
+0002d0a0: 6c74 7320 6e61 6d65 207b 2172 7d20 6f6e  lts name {!r} on
+0002d0b0: 207b 7d20 6578 7072 6573 7369 6f6e 2022   {} expression "
+0002d0c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d0d0: 2020 2020 2020 2020 2022 636f 6c6c 6964           "collid
+0002d0e0: 6573 2077 6974 6820 7b21 727d 206f 6e20  es with {!r} on 
+0002d0f0: 636f 6e74 6169 6e65 6420 6578 7072 6573  contained expres
+0002d100: 7369 6f6e 222e 666f 726d 6174 280a 2020  sion".format(.  
+0002d110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d120: 2020 2020 2020 2020 2020 2277 6172 6e5f            "warn_
+0002d130: 756e 6772 6f75 7065 645f 6e61 6d65 645f  ungrouped_named_
+0002d140: 746f 6b65 6e73 5f69 6e5f 636f 6c6c 6563  tokens_in_collec
+0002d150: 7469 6f6e 222c 0a20 2020 2020 2020 2020  tion",.         
+0002d160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d170: 2020 206e 616d 652c 0a20 2020 2020 2020     name,.       
+0002d180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d190: 2020 2020 2074 7970 6528 7365 6c66 292e       type(self).
+0002d1a0: 5f5f 6e61 6d65 5f5f 2c0a 2020 2020 2020  __name__,.      
+0002d1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d1c0: 2020 2020 2020 652e 7265 7375 6c74 734e        e.resultsN
+0002d1d0: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
+0002d1e0: 2020 2020 2020 2020 2020 2020 2029 2c0a               ),.
+0002d1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d200: 2020 2020 2020 2020 7374 6163 6b6c 6576          stacklev
+0002d210: 656c 3d33 2c0a 2020 2020 2020 2020 2020  el=3,.          
+0002d220: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
+0002d230: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
+0002d240: 7228 292e 5f73 6574 5265 7375 6c74 734e  r()._setResultsN
+0002d250: 616d 6528 6e61 6d65 2c20 6c69 7374 416c  ame(name, listAl
+0002d260: 6c4d 6174 6368 6573 290a 0a0a 636c 6173  lMatches)...clas
+0002d270: 7320 4f6e 654f 724d 6f72 6528 5f4d 756c  s OneOrMore(_Mul
+0002d280: 7469 706c 654d 6174 6368 293a 0a20 2020  tipleMatch):.   
+0002d290: 2022 2222 0a20 2020 2052 6570 6574 6974   """.    Repetit
+0002d2a0: 696f 6e20 6f66 206f 6e65 206f 7220 6d6f  ion of one or mo
+0002d2b0: 7265 206f 6620 7468 6520 6769 7665 6e20  re of the given 
+0002d2c0: 6578 7072 6573 7369 6f6e 2e0a 0a20 2020  expression...   
+0002d2d0: 2050 6172 616d 6574 6572 733a 0a0a 2020   Parameters:..  
+0002d2e0: 2020 2d20 6060 6578 7072 6060 202d 2065    - ``expr`` - e
+0002d2f0: 7870 7265 7373 696f 6e20 7468 6174 206d  xpression that m
+0002d300: 7573 7420 6d61 7463 6820 6f6e 6520 6f72  ust match one or
+0002d310: 206d 6f72 6520 7469 6d65 730a 2020 2020   more times.    
+0002d320: 2d20 6060 7374 6f70 5f6f 6e60 6020 2d20  - ``stop_on`` - 
+0002d330: 2864 6566 6175 6c74 3d20 6060 4e6f 6e65  (default= ``None
+0002d340: 6060 2920 2d20 6578 7072 6573 7369 6f6e  ``) - expression
+0002d350: 2066 6f72 2061 2074 6572 6d69 6e61 7469   for a terminati
+0002d360: 6e67 2073 656e 7469 6e65 6c0a 2020 2020  ng sentinel.    
+0002d370: 2020 286f 6e6c 7920 7265 7175 6972 6564    (only required
+0002d380: 2069 6620 7468 6520 7365 6e74 696e 656c   if the sentinel
+0002d390: 2077 6f75 6c64 206f 7264 696e 6172 696c   would ordinaril
+0002d3a0: 7920 6d61 7463 6820 7468 6520 7265 7065  y match the repe
+0002d3b0: 7469 7469 6f6e 0a20 2020 2020 2065 7870  tition.      exp
+0002d3c0: 7265 7373 696f 6e29 0a0a 2020 2020 4578  ression)..    Ex
+0002d3d0: 616d 706c 653a 3a0a 0a20 2020 2020 2020  ample::..       
+0002d3e0: 2064 6174 615f 776f 7264 203d 2057 6f72   data_word = Wor
+0002d3f0: 6428 616c 7068 6173 290a 2020 2020 2020  d(alphas).      
+0002d400: 2020 6c61 6265 6c20 3d20 6461 7461 5f77    label = data_w
+0002d410: 6f72 6420 2b20 466f 6c6c 6f77 6564 4279  ord + FollowedBy
+0002d420: 2827 3a27 290a 2020 2020 2020 2020 6174  (':').        at
+0002d430: 7472 5f65 7870 7220 3d20 4772 6f75 7028  tr_expr = Group(
+0002d440: 6c61 6265 6c20 2b20 5375 7070 7265 7373  label + Suppress
+0002d450: 2827 3a27 2920 2b20 4f6e 654f 724d 6f72  (':') + OneOrMor
+0002d460: 6528 6461 7461 5f77 6f72 6429 2e73 6574  e(data_word).set
+0002d470: 5f70 6172 7365 5f61 6374 696f 6e28 2720  _parse_action(' 
+0002d480: 272e 6a6f 696e 2929 0a0a 2020 2020 2020  '.join))..      
+0002d490: 2020 7465 7874 203d 2022 7368 6170 653a    text = "shape:
+0002d4a0: 2053 5155 4152 4520 706f 736e 3a20 7570   SQUARE posn: up
+0002d4b0: 7065 7220 6c65 6674 2063 6f6c 6f72 3a20  per left color: 
+0002d4c0: 424c 4143 4b22 0a20 2020 2020 2020 2061  BLACK".        a
+0002d4d0: 7474 725f 6578 7072 5b31 2c20 2e2e 2e5d  ttr_expr[1, ...]
+0002d4e0: 2e70 6172 7365 5f73 7472 696e 6728 7465  .parse_string(te
+0002d4f0: 7874 292e 7070 7269 6e74 2829 2020 2320  xt).pprint()  # 
+0002d500: 4661 696c 2120 7265 6164 2027 636f 6c6f  Fail! read 'colo
+0002d510: 7227 2061 7320 6461 7461 2069 6e73 7465  r' as data inste
+0002d520: 6164 206f 6620 6e65 7874 206c 6162 656c  ad of next label
+0002d530: 202d 3e20 5b5b 2773 6861 7065 272c 2027   -> [['shape', '
+0002d540: 5351 5541 5245 2063 6f6c 6f72 275d 5d0a  SQUARE color']].
+0002d550: 0a20 2020 2020 2020 2023 2075 7365 2073  .        # use s
+0002d560: 746f 705f 6f6e 2061 7474 7269 6275 7465  top_on attribute
+0002d570: 2066 6f72 204f 6e65 4f72 4d6f 7265 2074   for OneOrMore t
+0002d580: 6f20 6176 6f69 6420 7265 6164 696e 6720  o avoid reading 
+0002d590: 6c61 6265 6c20 7374 7269 6e67 2061 7320  label string as 
+0002d5a0: 7061 7274 206f 6620 7468 6520 6461 7461  part of the data
+0002d5b0: 0a20 2020 2020 2020 2061 7474 725f 6578  .        attr_ex
+0002d5c0: 7072 203d 2047 726f 7570 286c 6162 656c  pr = Group(label
+0002d5d0: 202b 2053 7570 7072 6573 7328 273a 2729   + Suppress(':')
+0002d5e0: 202b 204f 6e65 4f72 4d6f 7265 2864 6174   + OneOrMore(dat
+0002d5f0: 615f 776f 7264 2c20 7374 6f70 5f6f 6e3d  a_word, stop_on=
+0002d600: 6c61 6265 6c29 2e73 6574 5f70 6172 7365  label).set_parse
+0002d610: 5f61 6374 696f 6e28 2720 272e 6a6f 696e  _action(' '.join
+0002d620: 2929 0a20 2020 2020 2020 204f 6e65 4f72  )).        OneOr
+0002d630: 4d6f 7265 2861 7474 725f 6578 7072 292e  More(attr_expr).
+0002d640: 7061 7273 655f 7374 7269 6e67 2874 6578  parse_string(tex
+0002d650: 7429 2e70 7072 696e 7428 2920 2320 4265  t).pprint() # Be
+0002d660: 7474 6572 202d 3e20 5b5b 2773 6861 7065  tter -> [['shape
+0002d670: 272c 2027 5351 5541 5245 275d 2c20 5b27  ', 'SQUARE'], ['
+0002d680: 706f 736e 272c 2027 7570 7065 7220 6c65  posn', 'upper le
+0002d690: 6674 275d 2c20 5b27 636f 6c6f 7227 2c20  ft'], ['color', 
+0002d6a0: 2742 4c41 434b 275d 5d0a 0a20 2020 2020  'BLACK']]..     
+0002d6b0: 2020 2023 2063 6f75 6c64 2061 6c73 6f20     # could also 
+0002d6c0: 6265 2077 7269 7474 656e 2061 730a 2020  be written as.  
+0002d6d0: 2020 2020 2020 2861 7474 725f 6578 7072        (attr_expr
+0002d6e0: 202a 2028 312c 2929 2e70 6172 7365 5f73   * (1,)).parse_s
+0002d6f0: 7472 696e 6728 7465 7874 292e 7070 7269  tring(text).ppri
+0002d700: 6e74 2829 0a20 2020 2022 2222 0a0a 2020  nt().    """..  
+0002d710: 2020 6465 6620 5f67 656e 6572 6174 6544    def _generateD
+0002d720: 6566 6175 6c74 4e61 6d65 2873 656c 6629  efaultName(self)
+0002d730: 202d 3e20 7374 723a 0a20 2020 2020 2020   -> str:.       
+0002d740: 2072 6574 7572 6e20 227b 2220 2b20 7374   return "{" + st
+0002d750: 7228 7365 6c66 2e65 7870 7229 202b 2022  r(self.expr) + "
+0002d760: 7d2e 2e2e 220a 0a0a 636c 6173 7320 5a65  }..."...class Ze
+0002d770: 726f 4f72 4d6f 7265 285f 4d75 6c74 6970  roOrMore(_Multip
+0002d780: 6c65 4d61 7463 6829 3a0a 2020 2020 2222  leMatch):.    ""
+0002d790: 220a 2020 2020 4f70 7469 6f6e 616c 2072  ".    Optional r
+0002d7a0: 6570 6574 6974 696f 6e20 6f66 207a 6572  epetition of zer
+0002d7b0: 6f20 6f72 206d 6f72 6520 6f66 2074 6865  o or more of the
+0002d7c0: 2067 6976 656e 2065 7870 7265 7373 696f   given expressio
+0002d7d0: 6e2e 0a0a 2020 2020 5061 7261 6d65 7465  n...    Paramete
+0002d7e0: 7273 3a0a 0a20 2020 202d 2060 6065 7870  rs:..    - ``exp
+0002d7f0: 7260 6020 2d20 6578 7072 6573 7369 6f6e  r`` - expression
+0002d800: 2074 6861 7420 6d75 7374 206d 6174 6368   that must match
+0002d810: 207a 6572 6f20 6f72 206d 6f72 6520 7469   zero or more ti
+0002d820: 6d65 730a 2020 2020 2d20 6060 7374 6f70  mes.    - ``stop
+0002d830: 5f6f 6e60 6020 2d20 6578 7072 6573 7369  _on`` - expressi
+0002d840: 6f6e 2066 6f72 2061 2074 6572 6d69 6e61  on for a termina
+0002d850: 7469 6e67 2073 656e 7469 6e65 6c0a 2020  ting sentinel.  
+0002d860: 2020 2020 286f 6e6c 7920 7265 7175 6972      (only requir
+0002d870: 6564 2069 6620 7468 6520 7365 6e74 696e  ed if the sentin
+0002d880: 656c 2077 6f75 6c64 206f 7264 696e 6172  el would ordinar
+0002d890: 696c 7920 6d61 7463 6820 7468 6520 7265  ily match the re
+0002d8a0: 7065 7469 7469 6f6e 0a20 2020 2020 2065  petition.      e
+0002d8b0: 7870 7265 7373 696f 6e29 202d 2028 6465  xpression) - (de
+0002d8c0: 6661 756c 743d 2060 604e 6f6e 6560 6029  fault= ``None``)
+0002d8d0: 0a0a 2020 2020 4578 616d 706c 653a 2073  ..    Example: s
+0002d8e0: 696d 696c 6172 2074 6f20 3a63 6c61 7373  imilar to :class
+0002d8f0: 3a60 4f6e 654f 724d 6f72 6560 0a20 2020  :`OneOrMore`.   
+0002d900: 2022 2222 0a0a 2020 2020 6465 6620 5f5f   """..    def __
+0002d910: 696e 6974 5f5f 280a 2020 2020 2020 2020  init__(.        
+0002d920: 7365 6c66 2c0a 2020 2020 2020 2020 6578  self,.        ex
+0002d930: 7072 3a20 556e 696f 6e5b 7374 722c 2050  pr: Union[str, P
+0002d940: 6172 7365 7245 6c65 6d65 6e74 5d2c 0a20  arserElement],. 
+0002d950: 2020 2020 2020 2073 746f 705f 6f6e 3a20         stop_on: 
+0002d960: 7479 7069 6e67 2e4f 7074 696f 6e61 6c5b  typing.Optional[
+0002d970: 556e 696f 6e5b 5061 7273 6572 456c 656d  Union[ParserElem
+0002d980: 656e 742c 2073 7472 5d5d 203d 204e 6f6e  ent, str]] = Non
+0002d990: 652c 0a20 2020 2020 2020 202a 2c0a 2020  e,.        *,.  
+0002d9a0: 2020 2020 2020 7374 6f70 4f6e 3a20 7479        stopOn: ty
+0002d9b0: 7069 6e67 2e4f 7074 696f 6e61 6c5b 556e  ping.Optional[Un
+0002d9c0: 696f 6e5b 5061 7273 6572 456c 656d 656e  ion[ParserElemen
+0002d9d0: 742c 2073 7472 5d5d 203d 204e 6f6e 652c  t, str]] = None,
+0002d9e0: 0a20 2020 2029 3a0a 2020 2020 2020 2020  .    ):.        
+0002d9f0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+0002da00: 2865 7870 722c 2073 746f 704f 6e3d 7374  (expr, stopOn=st
+0002da10: 6f70 4f6e 206f 7220 7374 6f70 5f6f 6e29  opOn or stop_on)
+0002da20: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
+0002da30: 7952 6574 7572 6e45 6d70 7479 203d 2054  yReturnEmpty = T
+0002da40: 7275 650a 0a20 2020 2064 6566 2070 6172  rue..    def par
+0002da50: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
+0002da60: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+0002da70: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
+0002da80: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+0002da90: 2020 2020 2020 7265 7475 726e 2073 7570        return sup
+0002daa0: 6572 2829 2e70 6172 7365 496d 706c 2869  er().parseImpl(i
+0002dab0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+0002dac0: 4163 7469 6f6e 7329 0a20 2020 2020 2020  Actions).       
+0002dad0: 2065 7863 6570 7420 2850 6172 7365 4578   except (ParseEx
+0002dae0: 6365 7074 696f 6e2c 2049 6e64 6578 4572  ception, IndexEr
+0002daf0: 726f 7229 3a0a 2020 2020 2020 2020 2020  ror):.          
+0002db00: 2020 7265 7475 726e 206c 6f63 2c20 5061    return loc, Pa
+0002db10: 7273 6552 6573 756c 7473 285b 5d2c 206e  rseResults([], n
+0002db20: 616d 653d 7365 6c66 2e72 6573 756c 7473  ame=self.results
+0002db30: 4e61 6d65 290a 0a20 2020 2064 6566 205f  Name)..    def _
+0002db40: 6765 6e65 7261 7465 4465 6661 756c 744e  generateDefaultN
+0002db50: 616d 6528 7365 6c66 2920 2d3e 2073 7472  ame(self) -> str
+0002db60: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+0002db70: 2022 5b22 202b 2073 7472 2873 656c 662e   "[" + str(self.
+0002db80: 6578 7072 2920 2b20 225d 2e2e 2e22 0a0a  expr) + "]..."..
+0002db90: 0a63 6c61 7373 2044 656c 696d 6974 6564  .class Delimited
+0002dba0: 4c69 7374 2850 6172 7365 456c 656d 656e  List(ParseElemen
+0002dbb0: 7445 6e68 616e 6365 293a 0a20 2020 2064  tEnhance):.    d
+0002dbc0: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
+0002dbd0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+0002dbe0: 2020 2065 7870 723a 2055 6e69 6f6e 5b73     expr: Union[s
+0002dbf0: 7472 2c20 5061 7273 6572 456c 656d 656e  tr, ParserElemen
+0002dc00: 745d 2c0a 2020 2020 2020 2020 6465 6c69  t],.        deli
+0002dc10: 6d3a 2055 6e69 6f6e 5b73 7472 2c20 5061  m: Union[str, Pa
+0002dc20: 7273 6572 456c 656d 656e 745d 203d 2022  rserElement] = "
+0002dc30: 2c22 2c0a 2020 2020 2020 2020 636f 6d62  ,",.        comb
+0002dc40: 696e 653a 2062 6f6f 6c20 3d20 4661 6c73  ine: bool = Fals
+0002dc50: 652c 0a20 2020 2020 2020 206d 696e 3a20  e,.        min: 
+0002dc60: 7479 7069 6e67 2e4f 7074 696f 6e61 6c5b  typing.Optional[
+0002dc70: 696e 745d 203d 204e 6f6e 652c 0a20 2020  int] = None,.   
+0002dc80: 2020 2020 206d 6178 3a20 7479 7069 6e67       max: typing
+0002dc90: 2e4f 7074 696f 6e61 6c5b 696e 745d 203d  .Optional[int] =
+0002dca0: 204e 6f6e 652c 0a20 2020 2020 2020 202a   None,.        *
+0002dcb0: 2c0a 2020 2020 2020 2020 616c 6c6f 775f  ,.        allow_
+0002dcc0: 7472 6169 6c69 6e67 5f64 656c 696d 3a20  trailing_delim: 
+0002dcd0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+0002dce0: 2020 293a 0a20 2020 2020 2020 2022 2222    ):.        """
+0002dcf0: 4865 6c70 6572 2074 6f20 6465 6669 6e65  Helper to define
+0002dd00: 2061 2064 656c 696d 6974 6564 206c 6973   a delimited lis
+0002dd10: 7420 6f66 2065 7870 7265 7373 696f 6e73  t of expressions
+0002dd20: 202d 2074 6865 2064 656c 696d 6974 6572   - the delimiter
+0002dd30: 0a20 2020 2020 2020 2064 6566 6175 6c74  .        default
+0002dd40: 7320 746f 2027 2c27 2e20 4279 2064 6566  s to ','. By def
+0002dd50: 6175 6c74 2c20 7468 6520 6c69 7374 2065  ault, the list e
+0002dd60: 6c65 6d65 6e74 7320 616e 6420 6465 6c69  lements and deli
+0002dd70: 6d69 7465 7273 2063 616e 0a20 2020 2020  miters can.     
+0002dd80: 2020 2068 6176 6520 696e 7465 7276 656e     have interven
+0002dd90: 696e 6720 7768 6974 6573 7061 6365 2c20  ing whitespace, 
+0002dda0: 616e 6420 636f 6d6d 656e 7473 2c20 6275  and comments, bu
+0002ddb0: 7420 7468 6973 2063 616e 2062 650a 2020  t this can be.  
+0002ddc0: 2020 2020 2020 6f76 6572 7269 6464 656e        overridden
+0002ddd0: 2062 7920 7061 7373 696e 6720 6060 636f   by passing ``co
+0002dde0: 6d62 696e 653d 5472 7565 6060 2069 6e20  mbine=True`` in 
+0002ddf0: 7468 6520 636f 6e73 7472 7563 746f 722e  the constructor.
+0002de00: 2049 660a 2020 2020 2020 2020 6060 636f   If.        ``co
+0002de10: 6d62 696e 6560 6020 6973 2073 6574 2074  mbine`` is set t
+0002de20: 6f20 6060 5472 7565 6060 2c20 7468 6520  o ``True``, the 
+0002de30: 6d61 7463 6869 6e67 2074 6f6b 656e 7320  matching tokens 
+0002de40: 6172 650a 2020 2020 2020 2020 7265 7475  are.        retu
+0002de50: 726e 6564 2061 7320 6120 7369 6e67 6c65  rned as a single
+0002de60: 2074 6f6b 656e 2073 7472 696e 672c 2077   token string, w
+0002de70: 6974 6820 7468 6520 6465 6c69 6d69 7465  ith the delimite
+0002de80: 7273 2069 6e63 6c75 6465 643b 0a20 2020  rs included;.   
+0002de90: 2020 2020 206f 7468 6572 7769 7365 2c20       otherwise, 
+0002dea0: 7468 6520 6d61 7463 6869 6e67 2074 6f6b  the matching tok
+0002deb0: 656e 7320 6172 6520 7265 7475 726e 6564  ens are returned
+0002dec0: 2061 7320 6120 6c69 7374 206f 6620 746f   as a list of to
+0002ded0: 6b65 6e73 2c0a 2020 2020 2020 2020 7769  kens,.        wi
+0002dee0: 7468 2074 6865 2064 656c 696d 6974 6572  th the delimiter
+0002def0: 7320 7375 7070 7265 7373 6564 2e0a 0a20  s suppressed... 
+0002df00: 2020 2020 2020 2049 6620 6060 616c 6c6f         If ``allo
+0002df10: 775f 7472 6169 6c69 6e67 5f64 656c 696d  w_trailing_delim
+0002df20: 6060 2069 7320 7365 7420 746f 2054 7275  `` is set to Tru
+0002df30: 652c 2074 6865 6e20 7468 6520 6c69 7374  e, then the list
+0002df40: 206d 6179 2065 6e64 2077 6974 680a 2020   may end with.  
+0002df50: 2020 2020 2020 6120 6465 6c69 6d69 7465        a delimite
+0002df60: 722e 0a0a 2020 2020 2020 2020 4578 616d  r...        Exam
+0002df70: 706c 653a 3a0a 0a20 2020 2020 2020 2020  ple::..         
+0002df80: 2020 2044 656c 696d 6974 6564 4c69 7374     DelimitedList
+0002df90: 2857 6f72 6428 616c 7068 6173 2929 2e70  (Word(alphas)).p
+0002dfa0: 6172 7365 5f73 7472 696e 6728 2261 612c  arse_string("aa,
+0002dfb0: 6262 2c63 6322 2920 2320 2d3e 205b 2761  bb,cc") # -> ['a
+0002dfc0: 6127 2c20 2762 6227 2c20 2763 6327 5d0a  a', 'bb', 'cc'].
+0002dfd0: 2020 2020 2020 2020 2020 2020 4465 6c69              Deli
+0002dfe0: 6d69 7465 644c 6973 7428 576f 7264 2868  mitedList(Word(h
+0002dff0: 6578 6e75 6d73 292c 2064 656c 696d 3d27  exnums), delim='
+0002e000: 3a27 2c20 636f 6d62 696e 653d 5472 7565  :', combine=True
+0002e010: 292e 7061 7273 655f 7374 7269 6e67 2822  ).parse_string("
+0002e020: 4141 3a42 423a 4343 3a44 443a 4545 2229  AA:BB:CC:DD:EE")
+0002e030: 2023 202d 3e20 5b27 4141 3a42 423a 4343   # -> ['AA:BB:CC
+0002e040: 3a44 443a 4545 275d 0a20 2020 2020 2020  :DD:EE'].       
+0002e050: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+0002e060: 6973 696e 7374 616e 6365 2865 7870 722c  isinstance(expr,
+0002e070: 2073 7472 5f74 7970 6529 3a0a 2020 2020   str_type):.    
+0002e080: 2020 2020 2020 2020 6578 7072 203d 2050          expr = P
+0002e090: 6172 7365 7245 6c65 6d65 6e74 2e5f 6c69  arserElement._li
+0002e0a0: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
+0002e0b0: 2865 7870 7229 0a20 2020 2020 2020 2065  (expr).        e
+0002e0c0: 7870 7220 3d20 7479 7069 6e67 2e63 6173  xpr = typing.cas
+0002e0d0: 7428 5061 7273 6572 456c 656d 656e 742c  t(ParserElement,
+0002e0e0: 2065 7870 7229 0a0a 2020 2020 2020 2020   expr)..        
+0002e0f0: 6966 206d 696e 2069 7320 6e6f 7420 4e6f  if min is not No
+0002e100: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+0002e110: 6966 206d 696e 203c 2031 3a0a 2020 2020  if min < 1:.    
+0002e120: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0002e130: 6520 5661 6c75 6545 7272 6f72 2822 6d69  e ValueError("mi
+0002e140: 6e20 6d75 7374 2062 6520 6772 6561 7465  n must be greate
+0002e150: 7220 7468 616e 2030 2229 0a20 2020 2020  r than 0").     
+0002e160: 2020 2069 6620 6d61 7820 6973 206e 6f74     if max is not
+0002e170: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+0002e180: 2020 2069 6620 6d69 6e20 6973 206e 6f74     if min is not
+0002e190: 204e 6f6e 6520 616e 6420 6d61 7820 3c20   None and max < 
+0002e1a0: 6d69 6e3a 0a20 2020 2020 2020 2020 2020  min:.           
+0002e1b0: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
+0002e1c0: 4572 726f 7228 226d 6178 206d 7573 7420  Error("max must 
+0002e1d0: 6265 2067 7265 6174 6572 2074 6861 6e2c  be greater than,
+0002e1e0: 206f 7220 6571 7561 6c20 746f 206d 696e   or equal to min
+0002e1f0: 2229 0a0a 2020 2020 2020 2020 7365 6c66  ")..        self
+0002e200: 2e63 6f6e 7465 6e74 203d 2065 7870 720a  .content = expr.
+0002e210: 2020 2020 2020 2020 7365 6c66 2e72 6177          self.raw
+0002e220: 5f64 656c 696d 203d 2073 7472 2864 656c  _delim = str(del
+0002e230: 696d 290a 2020 2020 2020 2020 7365 6c66  im).        self
+0002e240: 2e64 656c 696d 203d 2064 656c 696d 0a20  .delim = delim. 
+0002e250: 2020 2020 2020 2073 656c 662e 636f 6d62         self.comb
+0002e260: 696e 6520 3d20 636f 6d62 696e 650a 2020  ine = combine.  
+0002e270: 2020 2020 2020 6966 206e 6f74 2063 6f6d        if not com
+0002e280: 6269 6e65 3a0a 2020 2020 2020 2020 2020  bine:.          
+0002e290: 2020 7365 6c66 2e64 656c 696d 203d 2053    self.delim = S
+0002e2a0: 7570 7072 6573 7328 6465 6c69 6d29 0a20  uppress(delim). 
+0002e2b0: 2020 2020 2020 2073 656c 662e 6d69 6e20         self.min 
+0002e2c0: 3d20 6d69 6e20 6f72 2031 0a20 2020 2020  = min or 1.     
+0002e2d0: 2020 2073 656c 662e 6d61 7820 3d20 6d61     self.max = ma
+0002e2e0: 780a 2020 2020 2020 2020 7365 6c66 2e61  x.        self.a
+0002e2f0: 6c6c 6f77 5f74 7261 696c 696e 675f 6465  llow_trailing_de
+0002e300: 6c69 6d20 3d20 616c 6c6f 775f 7472 6169  lim = allow_trai
+0002e310: 6c69 6e67 5f64 656c 696d 0a0a 2020 2020  ling_delim..    
+0002e320: 2020 2020 6465 6c69 6d5f 6c69 7374 5f65      delim_list_e
+0002e330: 7870 7220 3d20 7365 6c66 2e63 6f6e 7465  xpr = self.conte
+0002e340: 6e74 202b 2028 7365 6c66 2e64 656c 696d  nt + (self.delim
+0002e350: 202b 2073 656c 662e 636f 6e74 656e 7429   + self.content)
+0002e360: 202a 2028 0a20 2020 2020 2020 2020 2020   * (.           
+0002e370: 2073 656c 662e 6d69 6e20 2d20 312c 0a20   self.min - 1,. 
+0002e380: 2020 2020 2020 2020 2020 204e 6f6e 6520             None 
+0002e390: 6966 2073 656c 662e 6d61 7820 6973 204e  if self.max is N
+0002e3a0: 6f6e 6520 656c 7365 2073 656c 662e 6d61  one else self.ma
+0002e3b0: 7820 2d20 312c 0a20 2020 2020 2020 2029  x - 1,.        )
+0002e3c0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0002e3d0: 2e61 6c6c 6f77 5f74 7261 696c 696e 675f  .allow_trailing_
+0002e3e0: 6465 6c69 6d3a 0a20 2020 2020 2020 2020  delim:.         
+0002e3f0: 2020 2064 656c 696d 5f6c 6973 745f 6578     delim_list_ex
+0002e400: 7072 202b 3d20 4f70 7428 7365 6c66 2e64  pr += Opt(self.d
+0002e410: 656c 696d 290a 0a20 2020 2020 2020 2069  elim)..        i
+0002e420: 6620 7365 6c66 2e63 6f6d 6269 6e65 3a0a  f self.combine:.
+0002e430: 2020 2020 2020 2020 2020 2020 6465 6c69              deli
+0002e440: 6d5f 6c69 7374 5f65 7870 7220 3d20 436f  m_list_expr = Co
+0002e450: 6d62 696e 6528 6465 6c69 6d5f 6c69 7374  mbine(delim_list
+0002e460: 5f65 7870 7229 0a0a 2020 2020 2020 2020  _expr)..        
+0002e470: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+0002e480: 2864 656c 696d 5f6c 6973 745f 6578 7072  (delim_list_expr
+0002e490: 2c20 7361 7665 6c69 7374 3d54 7275 6529  , savelist=True)
+0002e4a0: 0a0a 2020 2020 6465 6620 5f67 656e 6572  ..    def _gener
+0002e4b0: 6174 6544 6566 6175 6c74 4e61 6d65 2873  ateDefaultName(s
+0002e4c0: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
+0002e4d0: 2020 2020 2072 6574 7572 6e20 227b 307d       return "{0}
+0002e4e0: 205b 7b31 7d20 7b30 7d5d 2e2e 2e22 2e66   [{1} {0}]...".f
+0002e4f0: 6f72 6d61 7428 7365 6c66 2e63 6f6e 7465  ormat(self.conte
+0002e500: 6e74 2e73 7472 6561 6d6c 696e 6528 292c  nt.streamline(),
+0002e510: 2073 656c 662e 7261 775f 6465 6c69 6d29   self.raw_delim)
+0002e520: 0a0a 0a63 6c61 7373 205f 4e75 6c6c 546f  ...class _NullTo
+0002e530: 6b65 6e3a 0a20 2020 2064 6566 205f 5f62  ken:.    def __b
+0002e540: 6f6f 6c5f 5f28 7365 6c66 293a 0a20 2020  ool__(self):.   
+0002e550: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
+0002e560: 650a 0a20 2020 2064 6566 205f 5f73 7472  e..    def __str
+0002e570: 5f5f 2873 656c 6629 3a0a 2020 2020 2020  __(self):.      
+0002e580: 2020 7265 7475 726e 2022 220a 0a0a 636c    return ""...cl
+0002e590: 6173 7320 4f70 7428 5061 7273 6545 6c65  ass Opt(ParseEle
+0002e5a0: 6d65 6e74 456e 6861 6e63 6529 3a0a 2020  mentEnhance):.  
+0002e5b0: 2020 2222 220a 2020 2020 4f70 7469 6f6e    """.    Option
+0002e5c0: 616c 206d 6174 6368 696e 6720 6f66 2074  al matching of t
+0002e5d0: 6865 2067 6976 656e 2065 7870 7265 7373  he given express
+0002e5e0: 696f 6e2e 0a0a 2020 2020 5061 7261 6d65  ion...    Parame
+0002e5f0: 7465 7273 3a0a 0a20 2020 202d 2060 6065  ters:..    - ``e
+0002e600: 7870 7260 6020 2d20 6578 7072 6573 7369  xpr`` - expressi
+0002e610: 6f6e 2074 6861 7420 6d75 7374 206d 6174  on that must mat
+0002e620: 6368 207a 6572 6f20 6f72 206d 6f72 6520  ch zero or more 
+0002e630: 7469 6d65 730a 2020 2020 2d20 6060 6465  times.    - ``de
+0002e640: 6661 756c 7460 6020 286f 7074 696f 6e61  fault`` (optiona
+0002e650: 6c29 202d 2076 616c 7565 2074 6f20 6265  l) - value to be
+0002e660: 2072 6574 7572 6e65 6420 6966 2074 6865   returned if the
+0002e670: 206f 7074 696f 6e61 6c20 6578 7072 6573   optional expres
+0002e680: 7369 6f6e 2069 7320 6e6f 7420 666f 756e  sion is not foun
+0002e690: 642e 0a0a 2020 2020 4578 616d 706c 653a  d...    Example:
+0002e6a0: 3a0a 0a20 2020 2020 2020 2023 2055 5320  :..        # US 
+0002e6b0: 706f 7374 616c 2063 6f64 6520 6361 6e20  postal code can 
+0002e6c0: 6265 2061 2035 2d64 6967 6974 207a 6970  be a 5-digit zip
+0002e6d0: 2c20 706c 7573 206f 7074 696f 6e61 6c20  , plus optional 
+0002e6e0: 342d 6469 6769 7420 7175 616c 6966 6965  4-digit qualifie
+0002e6f0: 720a 2020 2020 2020 2020 7a69 7020 3d20  r.        zip = 
+0002e700: 436f 6d62 696e 6528 576f 7264 286e 756d  Combine(Word(num
+0002e710: 732c 2065 7861 6374 3d35 2920 2b20 4f70  s, exact=5) + Op
+0002e720: 7428 272d 2720 2b20 576f 7264 286e 756d  t('-' + Word(num
+0002e730: 732c 2065 7861 6374 3d34 2929 290a 2020  s, exact=4))).  
+0002e740: 2020 2020 2020 7a69 702e 7275 6e5f 7465        zip.run_te
+0002e750: 7374 7328 2727 270a 2020 2020 2020 2020  sts('''.        
+0002e760: 2020 2020 2320 7472 6164 6974 696f 6e61      # traditiona
+0002e770: 6c20 5a49 5020 636f 6465 0a20 2020 2020  l ZIP code.     
+0002e780: 2020 2020 2020 2031 3233 3435 0a0a 2020         12345..  
+0002e790: 2020 2020 2020 2020 2020 2320 5a49 502b            # ZIP+
+0002e7a0: 3420 666f 726d 0a20 2020 2020 2020 2020  4 form.         
+0002e7b0: 2020 2031 3231 3031 2d30 3030 310a 0a20     12101-0001.. 
+0002e7c0: 2020 2020 2020 2020 2020 2023 2069 6e76             # inv
+0002e7d0: 616c 6964 205a 4950 0a20 2020 2020 2020  alid ZIP.       
+0002e7e0: 2020 2020 2039 3837 3635 2d0a 2020 2020       98765-.    
+0002e7f0: 2020 2020 2020 2020 2727 2729 0a0a 2020          ''')..  
+0002e800: 2020 7072 696e 7473 3a3a 0a0a 2020 2020    prints::..    
+0002e810: 2020 2020 2320 7472 6164 6974 696f 6e61      # traditiona
+0002e820: 6c20 5a49 5020 636f 6465 0a20 2020 2020  l ZIP code.     
+0002e830: 2020 2031 3233 3435 0a20 2020 2020 2020     12345.       
+0002e840: 205b 2731 3233 3435 275d 0a0a 2020 2020   ['12345']..    
+0002e850: 2020 2020 2320 5a49 502b 3420 666f 726d      # ZIP+4 form
+0002e860: 0a20 2020 2020 2020 2031 3231 3031 2d30  .        12101-0
+0002e870: 3030 310a 2020 2020 2020 2020 5b27 3132  001.        ['12
+0002e880: 3130 312d 3030 3031 275d 0a0a 2020 2020  101-0001']..    
+0002e890: 2020 2020 2320 696e 7661 6c69 6420 5a49      # invalid ZI
+0002e8a0: 500a 2020 2020 2020 2020 3938 3736 352d  P.        98765-
+0002e8b0: 0a20 2020 2020 2020 2020 2020 2020 5e0a  .             ^.
+0002e8c0: 2020 2020 2020 2020 4641 494c 3a20 4578          FAIL: Ex
+0002e8d0: 7065 6374 6564 2065 6e64 206f 6620 7465  pected end of te
+0002e8e0: 7874 2028 6174 2063 6861 7220 3529 2c20  xt (at char 5), 
+0002e8f0: 286c 696e 653a 312c 2063 6f6c 3a36 290a  (line:1, col:6).
+0002e900: 2020 2020 2222 220a 0a20 2020 205f 5f6f      """..    __o
+0002e910: 7074 696f 6e61 6c4e 6f74 4d61 7463 6865  ptionalNotMatche
+0002e920: 6420 3d20 5f4e 756c 6c54 6f6b 656e 2829  d = _NullToken()
+0002e930: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
+0002e940: 5f5f 280a 2020 2020 2020 2020 7365 6c66  __(.        self
+0002e950: 2c20 6578 7072 3a20 556e 696f 6e5b 5061  , expr: Union[Pa
+0002e960: 7273 6572 456c 656d 656e 742c 2073 7472  rserElement, str
+0002e970: 5d2c 2064 6566 6175 6c74 3a20 416e 7920  ], default: Any 
+0002e980: 3d20 5f5f 6f70 7469 6f6e 616c 4e6f 744d  = __optionalNotM
+0002e990: 6174 6368 6564 0a20 2020 2029 3a0a 2020  atched.    ):.  
+0002e9a0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
+0002e9b0: 696e 6974 5f5f 2865 7870 722c 2073 6176  init__(expr, sav
+0002e9c0: 656c 6973 743d 4661 6c73 6529 0a20 2020  elist=False).   
+0002e9d0: 2020 2020 2073 656c 662e 7361 7665 4173       self.saveAs
+0002e9e0: 4c69 7374 203d 2073 656c 662e 6578 7072  List = self.expr
+0002e9f0: 2e73 6176 6541 734c 6973 740a 2020 2020  .saveAsList.    
+0002ea00: 2020 2020 7365 6c66 2e64 6566 6175 6c74      self.default
+0002ea10: 5661 6c75 6520 3d20 6465 6661 756c 740a  Value = default.
+0002ea20: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
+0002ea30: 5265 7475 726e 456d 7074 7920 3d20 5472  ReturnEmpty = Tr
+0002ea40: 7565 0a0a 2020 2020 6465 6620 7061 7273  ue..    def pars
+0002ea50: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
+0002ea60: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+0002ea70: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
+0002ea80: 2020 2020 7365 6c66 5f65 7870 7220 3d20      self_expr = 
+0002ea90: 7365 6c66 2e65 7870 720a 2020 2020 2020  self.expr.      
+0002eaa0: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+0002eab0: 2020 206c 6f63 2c20 746f 6b65 6e73 203d     loc, tokens =
+0002eac0: 2073 656c 665f 6578 7072 2e5f 7061 7273   self_expr._pars
+0002ead0: 6528 696e 7374 7269 6e67 2c20 6c6f 632c  e(instring, loc,
+0002eae0: 2064 6f41 6374 696f 6e73 2c20 6361 6c6c   doActions, call
+0002eaf0: 5072 6550 6172 7365 3d46 616c 7365 290a  PreParse=False).
+0002eb00: 2020 2020 2020 2020 6578 6365 7074 2028          except (
+0002eb10: 5061 7273 6545 7863 6570 7469 6f6e 2c20  ParseException, 
+0002eb20: 496e 6465 7845 7272 6f72 293a 0a20 2020  IndexError):.   
+0002eb30: 2020 2020 2020 2020 2064 6566 6175 6c74           default
+0002eb40: 5f76 616c 7565 203d 2073 656c 662e 6465  _value = self.de
+0002eb50: 6661 756c 7456 616c 7565 0a20 2020 2020  faultValue.     
+0002eb60: 2020 2020 2020 2069 6620 6465 6661 756c         if defaul
+0002eb70: 745f 7661 6c75 6520 6973 206e 6f74 2073  t_value is not s
+0002eb80: 656c 662e 5f5f 6f70 7469 6f6e 616c 4e6f  elf.__optionalNo
+0002eb90: 744d 6174 6368 6564 3a0a 2020 2020 2020  tMatched:.      
+0002eba0: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
+0002ebb0: 665f 6578 7072 2e72 6573 756c 7473 4e61  f_expr.resultsNa
+0002ebc0: 6d65 3a0a 2020 2020 2020 2020 2020 2020  me:.            
+0002ebd0: 2020 2020 2020 2020 746f 6b65 6e73 203d          tokens =
+0002ebe0: 2050 6172 7365 5265 7375 6c74 7328 5b64   ParseResults([d
+0002ebf0: 6566 6175 6c74 5f76 616c 7565 5d29 0a20  efault_value]). 
+0002ec00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ec10: 2020 2074 6f6b 656e 735b 7365 6c66 5f65     tokens[self_e
+0002ec20: 7870 722e 7265 7375 6c74 734e 616d 655d  xpr.resultsName]
+0002ec30: 203d 2064 6566 6175 6c74 5f76 616c 7565   = default_value
+0002ec40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002ec50: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0002ec60: 2020 2020 2020 2020 2020 2074 6f6b 656e             token
+0002ec70: 7320 3d20 5b64 6566 6175 6c74 5f76 616c  s = [default_val
+0002ec80: 7565 5d0a 2020 2020 2020 2020 2020 2020  ue].            
+0002ec90: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0002eca0: 2020 2020 2020 746f 6b65 6e73 203d 205b        tokens = [
+0002ecb0: 5d0a 2020 2020 2020 2020 7265 7475 726e  ].        return
+0002ecc0: 206c 6f63 2c20 746f 6b65 6e73 0a0a 2020   loc, tokens..  
+0002ecd0: 2020 6465 6620 5f67 656e 6572 6174 6544    def _generateD
+0002ece0: 6566 6175 6c74 4e61 6d65 2873 656c 6629  efaultName(self)
+0002ecf0: 202d 3e20 7374 723a 0a20 2020 2020 2020   -> str:.       
+0002ed00: 2069 6e6e 6572 203d 2073 7472 2873 656c   inner = str(sel
+0002ed10: 662e 6578 7072 290a 2020 2020 2020 2020  f.expr).        
+0002ed20: 2320 7374 7269 7020 6f66 6620 7265 6475  # strip off redu
+0002ed30: 6e64 616e 7420 696e 6e65 7220 7b7d 2773  ndant inner {}'s
+0002ed40: 0a20 2020 2020 2020 2077 6869 6c65 206c  .        while l
+0002ed50: 656e 2869 6e6e 6572 2920 3e20 3120 616e  en(inner) > 1 an
+0002ed60: 6420 696e 6e65 725b 3020 3a3a 206c 656e  d inner[0 :: len
+0002ed70: 2869 6e6e 6572 2920 2d20 315d 203d 3d20  (inner) - 1] == 
+0002ed80: 227b 7d22 3a0a 2020 2020 2020 2020 2020  "{}":.          
+0002ed90: 2020 696e 6e65 7220 3d20 696e 6e65 725b    inner = inner[
+0002eda0: 313a 2d31 5d0a 2020 2020 2020 2020 7265  1:-1].        re
+0002edb0: 7475 726e 2022 5b22 202b 2069 6e6e 6572  turn "[" + inner
+0002edc0: 202b 2022 5d22 0a0a 0a4f 7074 696f 6e61   + "]"...Optiona
+0002edd0: 6c20 3d20 4f70 740a 0a0a 636c 6173 7320  l = Opt...class 
+0002ede0: 536b 6970 546f 2850 6172 7365 456c 656d  SkipTo(ParseElem
+0002edf0: 656e 7445 6e68 616e 6365 293a 0a20 2020  entEnhance):.   
+0002ee00: 2022 2222 0a20 2020 2054 6f6b 656e 2066   """.    Token f
+0002ee10: 6f72 2073 6b69 7070 696e 6720 6f76 6572  or skipping over
+0002ee20: 2061 6c6c 2075 6e64 6566 696e 6564 2074   all undefined t
+0002ee30: 6578 7420 756e 7469 6c20 7468 6520 6d61  ext until the ma
+0002ee40: 7463 6865 640a 2020 2020 6578 7072 6573  tched.    expres
+0002ee50: 7369 6f6e 2069 7320 666f 756e 642e 0a0a  sion is found...
+0002ee60: 2020 2020 5061 7261 6d65 7465 7273 3a0a      Parameters:.
+0002ee70: 0a20 2020 202d 2060 6065 7870 7260 6020  .    - ``expr`` 
+0002ee80: 2d20 7461 7267 6574 2065 7870 7265 7373  - target express
+0002ee90: 696f 6e20 6d61 726b 696e 6720 7468 6520  ion marking the 
+0002eea0: 656e 6420 6f66 2074 6865 2064 6174 6120  end of the data 
+0002eeb0: 746f 2062 6520 736b 6970 7065 640a 2020  to be skipped.  
+0002eec0: 2020 2d20 6060 696e 636c 7564 6560 6020    - ``include`` 
+0002eed0: 2d20 6966 2060 6054 7275 6560 602c 2074  - if ``True``, t
+0002eee0: 6865 2074 6172 6765 7420 6578 7072 6573  he target expres
+0002eef0: 7369 6f6e 2069 7320 616c 736f 2070 6172  sion is also par
+0002ef00: 7365 640a 2020 2020 2020 2874 6865 2073  sed.      (the s
+0002ef10: 6b69 7070 6564 2074 6578 7420 616e 6420  kipped text and 
+0002ef20: 7461 7267 6574 2065 7870 7265 7373 696f  target expressio
+0002ef30: 6e20 6172 6520 7265 7475 726e 6564 2061  n are returned a
+0002ef40: 7320 6120 322d 656c 656d 656e 740a 2020  s a 2-element.  
+0002ef50: 2020 2020 6c69 7374 2920 2864 6566 6175      list) (defau
+0002ef60: 6c74 3d20 6060 4661 6c73 6560 6029 2e0a  lt= ``False``)..
+0002ef70: 2020 2020 2d20 6060 6967 6e6f 7265 6060      - ``ignore``
+0002ef80: 202d 2028 6465 6661 756c 743d 2060 604e   - (default= ``N
+0002ef90: 6f6e 6560 6029 2075 7365 6420 746f 2064  one``) used to d
+0002efa0: 6566 696e 6520 6772 616d 6d61 7273 2028  efine grammars (
+0002efb0: 7479 7069 6361 6c6c 7920 7175 6f74 6564  typically quoted
+0002efc0: 2073 7472 696e 6773 2061 6e64 0a20 2020   strings and.   
+0002efd0: 2020 2063 6f6d 6d65 6e74 7329 2074 6861     comments) tha
+0002efe0: 7420 6d69 6768 7420 636f 6e74 6169 6e20  t might contain 
+0002eff0: 6661 6c73 6520 6d61 7463 6865 7320 746f  false matches to
+0002f000: 2074 6865 2074 6172 6765 7420 6578 7072   the target expr
+0002f010: 6573 7369 6f6e 0a20 2020 202d 2060 6066  ession.    - ``f
+0002f020: 6169 6c5f 6f6e 6060 202d 2028 6465 6661  ail_on`` - (defa
+0002f030: 756c 743d 2060 604e 6f6e 6560 6029 2064  ult= ``None``) d
+0002f040: 6566 696e 6520 6578 7072 6573 7369 6f6e  efine expression
+0002f050: 7320 7468 6174 2061 7265 206e 6f74 2061  s that are not a
+0002f060: 6c6c 6f77 6564 2074 6f20 6265 0a20 2020  llowed to be.   
+0002f070: 2020 2069 6e63 6c75 6465 6420 696e 2074     included in t
+0002f080: 6865 2073 6b69 7070 6564 2074 6573 743b  he skipped test;
+0002f090: 2069 6620 666f 756e 6420 6265 666f 7265   if found before
+0002f0a0: 2074 6865 2074 6172 6765 7420 6578 7072   the target expr
+0002f0b0: 6573 7369 6f6e 2069 7320 666f 756e 642c  ession is found,
+0002f0c0: 0a20 2020 2020 2074 6865 203a 636c 6173  .      the :clas
+0002f0d0: 733a 6053 6b69 7054 6f60 2069 7320 6e6f  s:`SkipTo` is no
+0002f0e0: 7420 6120 6d61 7463 680a 0a20 2020 2045  t a match..    E
+0002f0f0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
+0002f100: 2020 7265 706f 7274 203d 2027 2727 0a20    report = '''. 
+0002f110: 2020 2020 2020 2020 2020 204f 7574 7374             Outst
+0002f120: 616e 6469 6e67 2049 7373 7565 7320 5265  anding Issues Re
+0002f130: 706f 7274 202d 2031 204a 616e 2032 3030  port - 1 Jan 200
+0002f140: 300a 0a20 2020 2020 2020 2020 2020 2020  0..             
+0002f150: 2020 2320 7c20 5365 7665 7269 7479 207c    # | Severity |
+0002f160: 2044 6573 6372 6970 7469 6f6e 2020 2020   Description    
+0002f170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f180: 2020 2020 2020 2020 2020 207c 2020 4461             |  Da
+0002f190: 7973 204f 7065 6e0a 2020 2020 2020 2020  ys Open.        
+0002f1a0: 2020 2020 2d2d 2d2d 2d2b 2d2d 2d2d 2d2d      -----+------
+0002f1b0: 2d2d 2d2d 2b2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----+-----------
+0002f1c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0002f1d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0002f1e0: 2b2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020  +-----------.   
+0002f1f0: 2020 2020 2020 2020 2020 3130 3120 7c20            101 | 
+0002f200: 4372 6974 6963 616c 207c 2049 6e74 6572  Critical | Inter
+0002f210: 6d69 7474 656e 7420 7379 7374 656d 2063  mittent system c
+0002f220: 7261 7368 2020 2020 2020 2020 2020 2020  rash            
+0002f230: 2020 2020 207c 2020 2020 2020 2020 2020       |          
+0002f240: 360a 2020 2020 2020 2020 2020 2020 2020  6.              
+0002f250: 3934 207c 2043 6f73 6d65 7469 6320 7c20  94 | Cosmetic | 
+0002f260: 5370 656c 6c69 6e67 2065 7272 6f72 206f  Spelling error o
+0002f270: 6e20 4c6f 6769 6e20 2827 6c6f 677c 6e27  n Login ('log|n'
+0002f280: 2920 2020 2020 2020 2020 7c20 2020 2020  )         |     
+0002f290: 2020 2020 3134 0a20 2020 2020 2020 2020      14.         
+0002f2a0: 2020 2020 2037 3920 7c20 4d69 6e6f 7220       79 | Minor 
+0002f2b0: 2020 207c 2053 7973 7465 6d20 736c 6f77     | System slow
+0002f2c0: 2077 6865 6e20 7275 6e6e 696e 6720 746f   when running to
+0002f2d0: 6f20 6d61 6e79 2072 6570 6f72 7473 207c  o many reports |
+0002f2e0: 2020 2020 2020 2020 2034 370a 2020 2020           47.    
+0002f2f0: 2020 2020 2020 2020 2727 270a 2020 2020          '''.    
+0002f300: 2020 2020 696e 7465 6765 7220 3d20 576f      integer = Wo
+0002f310: 7264 286e 756d 7329 0a20 2020 2020 2020  rd(nums).       
+0002f320: 2053 4550 203d 2053 7570 7072 6573 7328   SEP = Suppress(
+0002f330: 277c 2729 0a20 2020 2020 2020 2023 2075  '|').        # u
+0002f340: 7365 2053 6b69 7054 6f20 746f 2073 696d  se SkipTo to sim
+0002f350: 706c 7920 6d61 7463 6820 6576 6572 7974  ply match everyt
+0002f360: 6869 6e67 2075 7020 756e 7469 6c20 7468  hing up until th
+0002f370: 6520 6e65 7874 2053 4550 0a20 2020 2020  e next SEP.     
+0002f380: 2020 2023 202d 2069 676e 6f72 6520 7175     # - ignore qu
+0002f390: 6f74 6564 2073 7472 696e 6773 2c20 736f  oted strings, so
+0002f3a0: 2074 6861 7420 6120 277c 2720 6368 6172   that a '|' char
+0002f3b0: 6163 7465 7220 696e 7369 6465 2061 2071  acter inside a q
+0002f3c0: 756f 7465 6420 7374 7269 6e67 2064 6f65  uoted string doe
+0002f3d0: 7320 6e6f 7420 6d61 7463 680a 2020 2020  s not match.    
+0002f3e0: 2020 2020 2320 2d20 7061 7273 6520 6163      # - parse ac
+0002f3f0: 7469 6f6e 2077 696c 6c20 6361 6c6c 2074  tion will call t
+0002f400: 6f6b 656e 2e73 7472 6970 2829 2066 6f72  oken.strip() for
+0002f410: 2065 6163 6820 6d61 7463 6865 6420 746f   each matched to
+0002f420: 6b65 6e2c 2069 2e65 2e2c 2074 6865 2064  ken, i.e., the d
+0002f430: 6573 6372 6970 7469 6f6e 2062 6f64 790a  escription body.
+0002f440: 2020 2020 2020 2020 7374 7269 6e67 5f64          string_d
+0002f450: 6174 6120 3d20 536b 6970 546f 2853 4550  ata = SkipTo(SEP
+0002f460: 2c20 6967 6e6f 7265 3d71 756f 7465 645f  , ignore=quoted_
+0002f470: 7374 7269 6e67 290a 2020 2020 2020 2020  string).        
+0002f480: 7374 7269 6e67 5f64 6174 612e 7365 745f  string_data.set_
+0002f490: 7061 7273 655f 6163 7469 6f6e 2874 6f6b  parse_action(tok
+0002f4a0: 656e 5f6d 6170 2873 7472 2e73 7472 6970  en_map(str.strip
+0002f4b0: 2929 0a20 2020 2020 2020 2074 6963 6b65  )).        ticke
+0002f4c0: 745f 6578 7072 203d 2028 696e 7465 6765  t_expr = (intege
+0002f4d0: 7228 2269 7373 7565 5f6e 756d 2229 202b  r("issue_num") +
+0002f4e0: 2053 4550 0a20 2020 2020 2020 2020 2020   SEP.           
+0002f4f0: 2020 2020 2020 2020 2020 202b 2073 7472             + str
+0002f500: 696e 675f 6461 7461 2822 7365 7622 2920  ing_data("sev") 
+0002f510: 2b20 5345 500a 2020 2020 2020 2020 2020  + SEP.          
+0002f520: 2020 2020 2020 2020 2020 2020 2b20 7374              + st
+0002f530: 7269 6e67 5f64 6174 6128 2264 6573 6322  ring_data("desc"
+0002f540: 2920 2b20 5345 500a 2020 2020 2020 2020  ) + SEP.        
+0002f550: 2020 2020 2020 2020 2020 2020 2020 2b20                + 
+0002f560: 696e 7465 6765 7228 2264 6179 735f 6f70  integer("days_op
+0002f570: 656e 2229 290a 0a20 2020 2020 2020 2066  en"))..        f
+0002f580: 6f72 2074 6b74 2069 6e20 7469 636b 6574  or tkt in ticket
+0002f590: 5f65 7870 722e 7365 6172 6368 5f73 7472  _expr.search_str
+0002f5a0: 696e 6728 7265 706f 7274 293a 0a20 2020  ing(report):.   
+0002f5b0: 2020 2020 2020 2020 2070 7269 6e74 2074           print t
+0002f5c0: 6b74 2e64 756d 7028 290a 0a20 2020 2070  kt.dump()..    p
+0002f5d0: 7269 6e74 733a 3a0a 0a20 2020 2020 2020  rints::..       
+0002f5e0: 205b 2731 3031 272c 2027 4372 6974 6963   ['101', 'Critic
+0002f5f0: 616c 272c 2027 496e 7465 726d 6974 7465  al', 'Intermitte
+0002f600: 6e74 2073 7973 7465 6d20 6372 6173 6827  nt system crash'
+0002f610: 2c20 2736 275d 0a20 2020 2020 2020 202d  , '6'].        -
+0002f620: 2064 6179 735f 6f70 656e 3a20 2736 270a   days_open: '6'.
+0002f630: 2020 2020 2020 2020 2d20 6465 7363 3a20          - desc: 
+0002f640: 2749 6e74 6572 6d69 7474 656e 7420 7379  'Intermittent sy
+0002f650: 7374 656d 2063 7261 7368 270a 2020 2020  stem crash'.    
+0002f660: 2020 2020 2d20 6973 7375 655f 6e75 6d3a      - issue_num:
+0002f670: 2027 3130 3127 0a20 2020 2020 2020 202d   '101'.        -
+0002f680: 2073 6576 3a20 2743 7269 7469 6361 6c27   sev: 'Critical'
+0002f690: 0a20 2020 2020 2020 205b 2739 3427 2c20  .        ['94', 
+0002f6a0: 2743 6f73 6d65 7469 6327 2c20 2253 7065  'Cosmetic', "Spe
+0002f6b0: 6c6c 696e 6720 6572 726f 7220 6f6e 204c  lling error on L
+0002f6c0: 6f67 696e 2028 276c 6f67 7c6e 2729 222c  ogin ('log|n')",
+0002f6d0: 2027 3134 275d 0a20 2020 2020 2020 202d   '14'].        -
+0002f6e0: 2064 6179 735f 6f70 656e 3a20 2731 3427   days_open: '14'
+0002f6f0: 0a20 2020 2020 2020 202d 2064 6573 633a  .        - desc:
+0002f700: 2022 5370 656c 6c69 6e67 2065 7272 6f72   "Spelling error
+0002f710: 206f 6e20 4c6f 6769 6e20 2827 6c6f 677c   on Login ('log|
+0002f720: 6e27 2922 0a20 2020 2020 2020 202d 2069  n')".        - i
+0002f730: 7373 7565 5f6e 756d 3a20 2739 3427 0a20  ssue_num: '94'. 
+0002f740: 2020 2020 2020 202d 2073 6576 3a20 2743         - sev: 'C
+0002f750: 6f73 6d65 7469 6327 0a20 2020 2020 2020  osmetic'.       
+0002f760: 205b 2737 3927 2c20 274d 696e 6f72 272c   ['79', 'Minor',
+0002f770: 2027 5379 7374 656d 2073 6c6f 7720 7768   'System slow wh
+0002f780: 656e 2072 756e 6e69 6e67 2074 6f6f 206d  en running too m
+0002f790: 616e 7920 7265 706f 7274 7327 2c20 2734  any reports', '4
+0002f7a0: 3727 5d0a 2020 2020 2020 2020 2d20 6461  7'].        - da
+0002f7b0: 7973 5f6f 7065 6e3a 2027 3437 270a 2020  ys_open: '47'.  
+0002f7c0: 2020 2020 2020 2d20 6465 7363 3a20 2753        - desc: 'S
+0002f7d0: 7973 7465 6d20 736c 6f77 2077 6865 6e20  ystem slow when 
+0002f7e0: 7275 6e6e 696e 6720 746f 6f20 6d61 6e79  running too many
+0002f7f0: 2072 6570 6f72 7473 270a 2020 2020 2020   reports'.      
+0002f800: 2020 2d20 6973 7375 655f 6e75 6d3a 2027    - issue_num: '
+0002f810: 3739 270a 2020 2020 2020 2020 2d20 7365  79'.        - se
+0002f820: 763a 2027 4d69 6e6f 7227 0a20 2020 2022  v: 'Minor'.    "
+0002f830: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
+0002f840: 6974 5f5f 280a 2020 2020 2020 2020 7365  it__(.        se
+0002f850: 6c66 2c0a 2020 2020 2020 2020 6f74 6865  lf,.        othe
+0002f860: 723a 2055 6e69 6f6e 5b50 6172 7365 7245  r: Union[ParserE
+0002f870: 6c65 6d65 6e74 2c20 7374 725d 2c0a 2020  lement, str],.  
+0002f880: 2020 2020 2020 696e 636c 7564 653a 2062        include: b
+0002f890: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
+0002f8a0: 2020 2020 2069 676e 6f72 653a 2074 7970       ignore: typ
+0002f8b0: 696e 672e 4f70 7469 6f6e 616c 5b55 6e69  ing.Optional[Uni
+0002f8c0: 6f6e 5b50 6172 7365 7245 6c65 6d65 6e74  on[ParserElement
+0002f8d0: 2c20 7374 725d 5d20 3d20 4e6f 6e65 2c0a  , str]] = None,.
+0002f8e0: 2020 2020 2020 2020 6661 696c 5f6f 6e3a          fail_on:
+0002f8f0: 2074 7970 696e 672e 4f70 7469 6f6e 616c   typing.Optional
+0002f900: 5b55 6e69 6f6e 5b50 6172 7365 7245 6c65  [Union[ParserEle
+0002f910: 6d65 6e74 2c20 7374 725d 5d20 3d20 4e6f  ment, str]] = No
+0002f920: 6e65 2c0a 2020 2020 2020 2020 2a2c 0a20  ne,.        *,. 
+0002f930: 2020 2020 2020 2066 6169 6c4f 6e3a 2074         failOn: t
+0002f940: 7970 696e 672e 4f70 7469 6f6e 616c 5b55  yping.Optional[U
+0002f950: 6e69 6f6e 5b50 6172 7365 7245 6c65 6d65  nion[ParserEleme
+0002f960: 6e74 2c20 7374 725d 5d20 3d20 4e6f 6e65  nt, str]] = None
+0002f970: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
+0002f980: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
+0002f990: 5f28 6f74 6865 7229 0a20 2020 2020 2020  _(other).       
+0002f9a0: 2066 6169 6c4f 6e20 3d20 6661 696c 4f6e   failOn = failOn
+0002f9b0: 206f 7220 6661 696c 5f6f 6e0a 2020 2020   or fail_on.    
+0002f9c0: 2020 2020 6966 2069 676e 6f72 6520 6973      if ignore is
+0002f9d0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+0002f9e0: 2020 2020 2020 2073 656c 662e 6967 6e6f         self.igno
+0002f9f0: 7265 2869 676e 6f72 6529 0a20 2020 2020  re(ignore).     
+0002fa00: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
+0002fa10: 6e45 6d70 7479 203d 2054 7275 650a 2020  nEmpty = True.  
+0002fa20: 2020 2020 2020 7365 6c66 2e6d 6179 496e        self.mayIn
+0002fa30: 6465 7845 7272 6f72 203d 2046 616c 7365  dexError = False
+0002fa40: 0a20 2020 2020 2020 2073 656c 662e 696e  .        self.in
+0002fa50: 636c 7564 654d 6174 6368 203d 2069 6e63  cludeMatch = inc
+0002fa60: 6c75 6465 0a20 2020 2020 2020 2073 656c  lude.        sel
+0002fa70: 662e 7361 7665 4173 4c69 7374 203d 2046  f.saveAsList = F
+0002fa80: 616c 7365 0a20 2020 2020 2020 2069 6620  alse.        if 
+0002fa90: 6973 696e 7374 616e 6365 2866 6169 6c4f  isinstance(failO
+0002faa0: 6e2c 2073 7472 5f74 7970 6529 3a0a 2020  n, str_type):.  
+0002fab0: 2020 2020 2020 2020 2020 7365 6c66 2e66            self.f
+0002fac0: 6169 6c4f 6e20 3d20 7365 6c66 2e5f 6c69  ailOn = self._li
+0002fad0: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
+0002fae0: 2866 6169 6c4f 6e29 0a20 2020 2020 2020  (failOn).       
+0002faf0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0002fb00: 2020 2073 656c 662e 6661 696c 4f6e 203d     self.failOn =
+0002fb10: 2066 6169 6c4f 6e0a 2020 2020 2020 2020   failOn.        
+0002fb20: 7365 6c66 2e65 7272 6d73 6720 3d20 224e  self.errmsg = "N
+0002fb30: 6f20 6d61 7463 6820 666f 756e 6420 666f  o match found fo
+0002fb40: 7220 2220 2b20 7374 7228 7365 6c66 2e65  r " + str(self.e
+0002fb50: 7870 7229 0a0a 2020 2020 6465 6620 7061  xpr)..    def pa
+0002fb60: 7273 6549 6d70 6c28 7365 6c66 2c20 696e  rseImpl(self, in
+0002fb70: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
+0002fb80: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
+0002fb90: 2020 2020 2020 7374 6172 746c 6f63 203d        startloc =
+0002fba0: 206c 6f63 0a20 2020 2020 2020 2069 6e73   loc.        ins
+0002fbb0: 7472 6c65 6e20 3d20 6c65 6e28 696e 7374  trlen = len(inst
+0002fbc0: 7269 6e67 290a 2020 2020 2020 2020 7365  ring).        se
+0002fbd0: 6c66 5f65 7870 725f 7061 7273 6520 3d20  lf_expr_parse = 
+0002fbe0: 7365 6c66 2e65 7870 722e 5f70 6172 7365  self.expr._parse
+0002fbf0: 0a20 2020 2020 2020 2073 656c 665f 6661  .        self_fa
+0002fc00: 696c 4f6e 5f63 616e 5061 7273 654e 6578  ilOn_canParseNex
+0002fc10: 7420 3d20 280a 2020 2020 2020 2020 2020  t = (.          
+0002fc20: 2020 7365 6c66 2e66 6169 6c4f 6e2e 6361    self.failOn.ca
+0002fc30: 6e50 6172 7365 4e65 7874 2069 6620 7365  nParseNext if se
+0002fc40: 6c66 2e66 6169 6c4f 6e20 6973 206e 6f74  lf.failOn is not
+0002fc50: 204e 6f6e 6520 656c 7365 204e 6f6e 650a   None else None.
+0002fc60: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+0002fc70: 2020 7365 6c66 5f70 7265 5061 7273 6520    self_preParse 
+0002fc80: 3d20 7365 6c66 2e70 7265 5061 7273 6520  = self.preParse 
+0002fc90: 6966 2073 656c 662e 6361 6c6c 5072 6570  if self.callPrep
+0002fca0: 6172 7365 2065 6c73 6520 4e6f 6e65 0a0a  arse else None..
+0002fcb0: 2020 2020 2020 2020 746d 706c 6f63 203d          tmploc =
+0002fcc0: 206c 6f63 0a20 2020 2020 2020 2077 6869   loc.        whi
+0002fcd0: 6c65 2074 6d70 6c6f 6320 3c3d 2069 6e73  le tmploc <= ins
+0002fce0: 7472 6c65 6e3a 0a20 2020 2020 2020 2020  trlen:.         
+0002fcf0: 2020 2069 6620 7365 6c66 5f66 6169 6c4f     if self_failO
+0002fd00: 6e5f 6361 6e50 6172 7365 4e65 7874 2069  n_canParseNext i
+0002fd10: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+0002fd20: 2020 2020 2020 2020 2020 2020 2320 6272              # br
+0002fd30: 6561 6b20 6966 2066 6169 6c4f 6e20 6578  eak if failOn ex
+0002fd40: 7072 6573 7369 6f6e 206d 6174 6368 6573  pression matches
+0002fd50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002fd60: 2069 6620 7365 6c66 5f66 6169 6c4f 6e5f   if self_failOn_
+0002fd70: 6361 6e50 6172 7365 4e65 7874 2869 6e73  canParseNext(ins
+0002fd80: 7472 696e 672c 2074 6d70 6c6f 6329 3a0a  tring, tmploc):.
+0002fd90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002fda0: 2020 2020 6272 6561 6b0a 0a20 2020 2020      break..     
+0002fdb0: 2020 2020 2020 2069 6620 7365 6c66 5f70         if self_p
+0002fdc0: 7265 5061 7273 6520 6973 206e 6f74 204e  reParse is not N
+0002fdd0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0002fde0: 2020 2020 2023 2073 6b69 7020 6772 616d       # skip gram
+0002fdf0: 6d61 722d 6967 6e6f 7265 6420 6578 7072  mar-ignored expr
+0002fe00: 6573 7369 6f6e 730a 2020 2020 2020 2020  essions.        
+0002fe10: 2020 2020 2020 2020 746d 706c 6f63 203d          tmploc =
+0002fe20: 2073 656c 665f 7072 6550 6172 7365 2869   self_preParse(i
+0002fe30: 6e73 7472 696e 672c 2074 6d70 6c6f 6329  nstring, tmploc)
+0002fe40: 0a0a 2020 2020 2020 2020 2020 2020 7472  ..            tr
+0002fe50: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+0002fe60: 2020 2073 656c 665f 6578 7072 5f70 6172     self_expr_par
+0002fe70: 7365 2869 6e73 7472 696e 672c 2074 6d70  se(instring, tmp
+0002fe80: 6c6f 632c 2064 6f41 6374 696f 6e73 3d46  loc, doActions=F
+0002fe90: 616c 7365 2c20 6361 6c6c 5072 6550 6172  alse, callPrePar
+0002fea0: 7365 3d46 616c 7365 290a 2020 2020 2020  se=False).      
+0002feb0: 2020 2020 2020 6578 6365 7074 2028 5061        except (Pa
+0002fec0: 7273 6545 7863 6570 7469 6f6e 2c20 496e  rseException, In
+0002fed0: 6465 7845 7272 6f72 293a 0a20 2020 2020  dexError):.     
+0002fee0: 2020 2020 2020 2020 2020 2023 206e 6f20             # no 
+0002fef0: 6d61 7463 682c 2061 6476 616e 6365 206c  match, advance l
+0002ff00: 6f63 2069 6e20 7374 7269 6e67 0a20 2020  oc in string.   
+0002ff10: 2020 2020 2020 2020 2020 2020 2074 6d70               tmp
+0002ff20: 6c6f 6320 2b3d 2031 0a20 2020 2020 2020  loc += 1.       
+0002ff30: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0002ff40: 2020 2020 2020 2020 2020 2023 206d 6174             # mat
+0002ff50: 6368 6564 2073 6b69 7074 6f20 6578 7072  ched skipto expr
+0002ff60: 2c20 646f 6e65 0a20 2020 2020 2020 2020  , done.         
+0002ff70: 2020 2020 2020 2062 7265 616b 0a0a 2020         break..  
+0002ff80: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0002ff90: 2020 2020 2020 2020 2320 7261 6e20 6f66          # ran of
+0002ffa0: 6620 7468 6520 656e 6420 6f66 2074 6865  f the end of the
+0002ffb0: 2069 6e70 7574 2073 7472 696e 6720 7769   input string wi
+0002ffc0: 7468 6f75 7420 6d61 7463 6869 6e67 2073  thout matching s
+0002ffd0: 6b69 7074 6f20 6578 7072 2c20 6661 696c  kipto expr, fail
+0002ffe0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0002fff0: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
+00030000: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
+00030010: 2073 656c 662e 6572 726d 7367 2c20 7365   self.errmsg, se
+00030020: 6c66 290a 0a20 2020 2020 2020 2023 2062  lf)..        # b
+00030030: 7569 6c64 2075 7020 7265 7475 726e 2076  uild up return v
+00030040: 616c 7565 730a 2020 2020 2020 2020 6c6f  alues.        lo
+00030050: 6320 3d20 746d 706c 6f63 0a20 2020 2020  c = tmploc.     
+00030060: 2020 2073 6b69 7074 6578 7420 3d20 696e     skiptext = in
+00030070: 7374 7269 6e67 5b73 7461 7274 6c6f 633a  string[startloc:
+00030080: 6c6f 635d 0a20 2020 2020 2020 2073 6b69  loc].        ski
+00030090: 7072 6573 756c 7420 3d20 5061 7273 6552  presult = ParseR
+000300a0: 6573 756c 7473 2873 6b69 7074 6578 7429  esults(skiptext)
+000300b0: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
+000300c0: 662e 696e 636c 7564 654d 6174 6368 3a0a  f.includeMatch:.
+000300d0: 2020 2020 2020 2020 2020 2020 6c6f 632c              loc,
+000300e0: 206d 6174 203d 2073 656c 665f 6578 7072   mat = self_expr
+000300f0: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
+00030100: 206c 6f63 2c20 646f 4163 7469 6f6e 732c   loc, doActions,
+00030110: 2063 616c 6c50 7265 5061 7273 653d 4661   callPreParse=Fa
+00030120: 6c73 6529 0a20 2020 2020 2020 2020 2020  lse).           
+00030130: 2073 6b69 7072 6573 756c 7420 2b3d 206d   skipresult += m
+00030140: 6174 0a0a 2020 2020 2020 2020 7265 7475  at..        retu
+00030150: 726e 206c 6f63 2c20 736b 6970 7265 7375  rn loc, skipresu
+00030160: 6c74 0a0a 0a63 6c61 7373 2046 6f72 7761  lt...class Forwa
+00030170: 7264 2850 6172 7365 456c 656d 656e 7445  rd(ParseElementE
+00030180: 6e68 616e 6365 293a 0a20 2020 2022 2222  nhance):.    """
+00030190: 0a20 2020 2046 6f72 7761 7264 2064 6563  .    Forward dec
+000301a0: 6c61 7261 7469 6f6e 206f 6620 616e 2065  laration of an e
+000301b0: 7870 7265 7373 696f 6e20 746f 2062 6520  xpression to be 
+000301c0: 6465 6669 6e65 6420 6c61 7465 7220 2d0a  defined later -.
+000301d0: 2020 2020 7573 6564 2066 6f72 2072 6563      used for rec
+000301e0: 7572 7369 7665 2067 7261 6d6d 6172 732c  ursive grammars,
+000301f0: 2073 7563 6820 6173 2061 6c67 6562 7261   such as algebra
+00030200: 6963 2069 6e66 6978 206e 6f74 6174 696f  ic infix notatio
+00030210: 6e2e 0a20 2020 2057 6865 6e20 7468 6520  n..    When the 
+00030220: 6578 7072 6573 7369 6f6e 2069 7320 6b6e  expression is kn
+00030230: 6f77 6e2c 2069 7420 6973 2061 7373 6967  own, it is assig
+00030240: 6e65 6420 746f 2074 6865 2060 6046 6f72  ned to the ``For
+00030250: 7761 7264 6060 0a20 2020 2076 6172 6961  ward``.    varia
+00030260: 626c 6520 7573 696e 6720 7468 6520 6060  ble using the ``
+00030270: 273c 3c27 6060 206f 7065 7261 746f 722e  '<<'`` operator.
+00030280: 0a0a 2020 2020 4e6f 7465 3a20 7461 6b65  ..    Note: take
+00030290: 2063 6172 6520 7768 656e 2061 7373 6967   care when assig
+000302a0: 6e69 6e67 2074 6f20 6060 466f 7277 6172  ning to ``Forwar
+000302b0: 6460 6020 6e6f 7420 746f 206f 7665 726c  d`` not to overl
+000302c0: 6f6f 6b0a 2020 2020 7072 6563 6564 656e  ook.    preceden
+000302d0: 6365 206f 6620 6f70 6572 6174 6f72 732e  ce of operators.
+000302e0: 0a0a 2020 2020 5370 6563 6966 6963 616c  ..    Specifical
+000302f0: 6c79 2c20 6060 277c 2760 6020 6861 7320  ly, ``'|'`` has 
+00030300: 6120 6c6f 7765 7220 7072 6563 6564 656e  a lower preceden
+00030310: 6365 2074 6861 6e20 6060 273c 3c27 6060  ce than ``'<<'``
+00030320: 2c20 736f 2074 6861 743a 3a0a 0a20 2020  , so that::..   
+00030330: 2020 2020 2066 7764 5f65 7870 7220 3c3c       fwd_expr <<
+00030340: 2061 207c 2062 207c 2063 0a0a 2020 2020   a | b | c..    
+00030350: 7769 6c6c 2061 6374 7561 6c6c 7920 6265  will actually be
+00030360: 2065 7661 6c75 6174 6564 2061 733a 3a0a   evaluated as::.
+00030370: 0a20 2020 2020 2020 2028 6677 645f 6578  .        (fwd_ex
+00030380: 7072 203c 3c20 6129 207c 2062 207c 2063  pr << a) | b | c
+00030390: 0a0a 2020 2020 7468 6572 6562 7920 6c65  ..    thereby le
+000303a0: 6176 696e 6720 6220 616e 6420 6320 6f75  aving b and c ou
+000303b0: 7420 6173 2070 6172 7365 6162 6c65 2061  t as parseable a
+000303c0: 6c74 6572 6e61 7469 7665 732e 2020 4974  lternatives.  It
+000303d0: 2069 7320 7265 636f 6d6d 656e 6465 6420   is recommended 
+000303e0: 7468 6174 2079 6f75 0a20 2020 2065 7870  that you.    exp
+000303f0: 6c69 6369 746c 7920 6772 6f75 7020 7468  licitly group th
+00030400: 6520 7661 6c75 6573 2069 6e73 6572 7465  e values inserte
+00030410: 6420 696e 746f 2074 6865 2060 6046 6f72  d into the ``For
+00030420: 7761 7264 6060 3a3a 0a0a 2020 2020 2020  ward``::..      
+00030430: 2020 6677 645f 6578 7072 203c 3c20 2861    fwd_expr << (a
+00030440: 207c 2062 207c 2063 290a 0a20 2020 2043   | b | c)..    C
+00030450: 6f6e 7665 7274 696e 6720 746f 2075 7365  onverting to use
+00030460: 2074 6865 2060 6027 3c3c 3d27 6060 206f   the ``'<<='`` o
+00030470: 7065 7261 746f 7220 696e 7374 6561 6420  perator instead 
+00030480: 7769 6c6c 2061 766f 6964 2074 6869 7320  will avoid this 
+00030490: 7072 6f62 6c65 6d2e 0a0a 2020 2020 5365  problem...    Se
+000304a0: 6520 3a63 6c61 7373 3a60 5061 7273 6552  e :class:`ParseR
+000304b0: 6573 756c 7473 2e70 7072 696e 7460 2066  esults.pprint` f
+000304c0: 6f72 2061 6e20 6578 616d 706c 6520 6f66  or an example of
+000304d0: 2061 2072 6563 7572 7369 7665 0a20 2020   a recursive.   
+000304e0: 2070 6172 7365 7220 6372 6561 7465 6420   parser created 
+000304f0: 7573 696e 6720 6060 466f 7277 6172 6460  using ``Forward`
+00030500: 602e 0a20 2020 2022 2222 0a0a 2020 2020  `..    """..    
+00030510: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
+00030520: 662c 206f 7468 6572 3a20 7479 7069 6e67  f, other: typing
+00030530: 2e4f 7074 696f 6e61 6c5b 556e 696f 6e5b  .Optional[Union[
+00030540: 5061 7273 6572 456c 656d 656e 742c 2073  ParserElement, s
+00030550: 7472 5d5d 203d 204e 6f6e 6529 3a0a 2020  tr]] = None):.  
+00030560: 2020 2020 2020 7365 6c66 2e63 616c 6c65        self.calle
+00030570: 725f 6672 616d 6520 3d20 7472 6163 6562  r_frame = traceb
+00030580: 6163 6b2e 6578 7472 6163 745f 7374 6163  ack.extract_stac
+00030590: 6b28 6c69 6d69 743d 3229 5b30 5d0a 2020  k(limit=2)[0].  
+000305a0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
+000305b0: 696e 6974 5f5f 286f 7468 6572 2c20 7361  init__(other, sa
+000305c0: 7665 6c69 7374 3d46 616c 7365 2920 2023  velist=False)  #
+000305d0: 2074 7970 653a 2069 676e 6f72 655b 6172   type: ignore[ar
+000305e0: 672d 7479 7065 5d0a 2020 2020 2020 2020  g-type].        
+000305f0: 7365 6c66 2e6c 7368 6966 745f 6c69 6e65  self.lshift_line
+00030600: 203d 204e 6f6e 650a 0a20 2020 2064 6566   = None..    def
+00030610: 205f 5f6c 7368 6966 745f 5f28 7365 6c66   __lshift__(self
+00030620: 2c20 6f74 6865 7229 202d 3e20 2246 6f72  , other) -> "For
+00030630: 7761 7264 223a 0a20 2020 2020 2020 2069  ward":.        i
+00030640: 6620 6861 7361 7474 7228 7365 6c66 2c20  f hasattr(self, 
+00030650: 2263 616c 6c65 725f 6672 616d 6522 293a  "caller_frame"):
+00030660: 0a20 2020 2020 2020 2020 2020 2064 656c  .            del
+00030670: 2073 656c 662e 6361 6c6c 6572 5f66 7261   self.caller_fra
+00030680: 6d65 0a20 2020 2020 2020 2069 6620 6973  me.        if is
+00030690: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
+000306a0: 7374 725f 7479 7065 293a 0a20 2020 2020  str_type):.     
+000306b0: 2020 2020 2020 206f 7468 6572 203d 2073         other = s
+000306c0: 656c 662e 5f6c 6974 6572 616c 5374 7269  elf._literalStri
+000306d0: 6e67 436c 6173 7328 6f74 6865 7229 0a0a  ngClass(other)..
+000306e0: 2020 2020 2020 2020 6966 206e 6f74 2069          if not i
+000306f0: 7369 6e73 7461 6e63 6528 6f74 6865 722c  sinstance(other,
+00030700: 2050 6172 7365 7245 6c65 6d65 6e74 293a   ParserElement):
+00030710: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00030720: 7572 6e20 4e6f 7449 6d70 6c65 6d65 6e74  urn NotImplement
+00030730: 6564 0a0a 2020 2020 2020 2020 7365 6c66  ed..        self
+00030740: 2e65 7870 7220 3d20 6f74 6865 720a 2020  .expr = other.  
+00030750: 2020 2020 2020 7365 6c66 2e73 7472 6561        self.strea
+00030760: 6d6c 696e 6564 203d 206f 7468 6572 2e73  mlined = other.s
+00030770: 7472 6561 6d6c 696e 6564 0a20 2020 2020  treamlined.     
+00030780: 2020 2073 656c 662e 6d61 7949 6e64 6578     self.mayIndex
+00030790: 4572 726f 7220 3d20 7365 6c66 2e65 7870  Error = self.exp
+000307a0: 722e 6d61 7949 6e64 6578 4572 726f 720a  r.mayIndexError.
+000307b0: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
+000307c0: 5265 7475 726e 456d 7074 7920 3d20 7365  ReturnEmpty = se
+000307d0: 6c66 2e65 7870 722e 6d61 7952 6574 7572  lf.expr.mayRetur
+000307e0: 6e45 6d70 7479 0a20 2020 2020 2020 2073  nEmpty.        s
+000307f0: 656c 662e 7365 745f 7768 6974 6573 7061  elf.set_whitespa
+00030800: 6365 5f63 6861 7273 280a 2020 2020 2020  ce_chars(.      
+00030810: 2020 2020 2020 7365 6c66 2e65 7870 722e        self.expr.
+00030820: 7768 6974 6543 6861 7273 2c20 636f 7079  whiteChars, copy
+00030830: 5f64 6566 6175 6c74 733d 7365 6c66 2e65  _defaults=self.e
+00030840: 7870 722e 636f 7079 4465 6661 756c 7457  xpr.copyDefaultW
+00030850: 6869 7465 4368 6172 730a 2020 2020 2020  hiteChars.      
+00030860: 2020 290a 2020 2020 2020 2020 7365 6c66    ).        self
+00030870: 2e73 6b69 7057 6869 7465 7370 6163 6520  .skipWhitespace 
+00030880: 3d20 7365 6c66 2e65 7870 722e 736b 6970  = self.expr.skip
+00030890: 5768 6974 6573 7061 6365 0a20 2020 2020  Whitespace.     
+000308a0: 2020 2073 656c 662e 7361 7665 4173 4c69     self.saveAsLi
+000308b0: 7374 203d 2073 656c 662e 6578 7072 2e73  st = self.expr.s
+000308c0: 6176 6541 734c 6973 740a 2020 2020 2020  aveAsList.      
+000308d0: 2020 7365 6c66 2e69 676e 6f72 6545 7870    self.ignoreExp
+000308e0: 7273 2e65 7874 656e 6428 7365 6c66 2e65  rs.extend(self.e
+000308f0: 7870 722e 6967 6e6f 7265 4578 7072 7329  xpr.ignoreExprs)
+00030900: 0a20 2020 2020 2020 2073 656c 662e 6c73  .        self.ls
+00030910: 6869 6674 5f6c 696e 6520 3d20 7472 6163  hift_line = trac
+00030920: 6562 6163 6b2e 6578 7472 6163 745f 7374  eback.extract_st
+00030930: 6163 6b28 6c69 6d69 743d 3229 5b2d 325d  ack(limit=2)[-2]
+00030940: 2020 2320 7479 7065 3a20 6967 6e6f 7265    # type: ignore
+00030950: 5b61 7373 6967 6e6d 656e 745d 0a20 2020  [assignment].   
+00030960: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00030970: 0a0a 2020 2020 6465 6620 5f5f 696c 7368  ..    def __ilsh
+00030980: 6966 745f 5f28 7365 6c66 2c20 6f74 6865  ift__(self, othe
+00030990: 7229 202d 3e20 2246 6f72 7761 7264 223a  r) -> "Forward":
+000309a0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+000309b0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
+000309c0: 2c20 5061 7273 6572 456c 656d 656e 7429  , ParserElement)
+000309d0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+000309e0: 7475 726e 204e 6f74 496d 706c 656d 656e  turn NotImplemen
+000309f0: 7465 640a 0a20 2020 2020 2020 2072 6574  ted..        ret
+00030a00: 7572 6e20 7365 6c66 203c 3c20 6f74 6865  urn self << othe
+00030a10: 720a 0a20 2020 2064 6566 205f 5f6f 725f  r..    def __or_
+00030a20: 5f28 7365 6c66 2c20 6f74 6865 7229 202d  _(self, other) -
+00030a30: 3e20 2250 6172 7365 7245 6c65 6d65 6e74  > "ParserElement
+00030a40: 223a 0a20 2020 2020 2020 2063 616c 6c65  ":.        calle
+00030a50: 725f 6c69 6e65 203d 2074 7261 6365 6261  r_line = traceba
+00030a60: 636b 2e65 7874 7261 6374 5f73 7461 636b  ck.extract_stack
+00030a70: 286c 696d 6974 3d32 295b 2d32 5d0a 2020  (limit=2)[-2].  
+00030a80: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
+00030a90: 2020 2020 2020 205f 5f64 6961 675f 5f2e         __diag__.
+00030aa0: 7761 726e 5f6f 6e5f 6d61 7463 685f 6669  warn_on_match_fi
+00030ab0: 7273 745f 7769 7468 5f6c 7368 6966 745f  rst_with_lshift_
+00030ac0: 6f70 6572 6174 6f72 0a20 2020 2020 2020  operator.       
+00030ad0: 2020 2020 2061 6e64 2063 616c 6c65 725f       and caller_
+00030ae0: 6c69 6e65 203d 3d20 7365 6c66 2e6c 7368  line == self.lsh
+00030af0: 6966 745f 6c69 6e65 0a20 2020 2020 2020  ift_line.       
+00030b00: 2020 2020 2061 6e64 2044 6961 676e 6f73       and Diagnos
+00030b10: 7469 6373 2e77 6172 6e5f 6f6e 5f6d 6174  tics.warn_on_mat
+00030b20: 6368 5f66 6972 7374 5f77 6974 685f 6c73  ch_first_with_ls
+00030b30: 6869 6674 5f6f 7065 7261 746f 720a 2020  hift_operator.  
+00030b40: 2020 2020 2020 2020 2020 6e6f 7420 696e            not in
+00030b50: 2073 656c 662e 7375 7070 7265 7373 5f77   self.suppress_w
+00030b60: 6172 6e69 6e67 735f 0a20 2020 2020 2020  arnings_.       
+00030b70: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
+00030b80: 7761 726e 696e 6773 2e77 6172 6e28 0a20  warnings.warn(. 
+00030b90: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00030ba0: 7573 696e 6720 273c 3c27 206f 7065 7261  using '<<' opera
+00030bb0: 746f 7220 7769 7468 2027 7c27 2069 7320  tor with '|' is 
+00030bc0: 7072 6f62 6162 6c79 2061 6e20 6572 726f  probably an erro
+00030bd0: 722c 2075 7365 2027 3c3c 3d27 222c 0a20  r, use '<<='",. 
+00030be0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00030bf0: 7461 636b 6c65 7665 6c3d 322c 0a20 2020  tacklevel=2,.   
+00030c00: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+00030c10: 2020 2072 6574 203d 2073 7570 6572 2829     ret = super()
+00030c20: 2e5f 5f6f 725f 5f28 6f74 6865 7229 0a20  .__or__(other). 
+00030c30: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
+00030c40: 740a 0a20 2020 2064 6566 205f 5f64 656c  t..    def __del
+00030c50: 5f5f 2873 656c 6629 3a0a 2020 2020 2020  __(self):.      
+00030c60: 2020 2320 7365 6520 6966 2077 6520 6172    # see if we ar
+00030c70: 6520 6765 7474 696e 6720 6472 6f70 7065  e getting droppe
+00030c80: 6420 6265 6361 7573 6520 6f66 2027 3d27  d because of '='
+00030c90: 2072 6561 7373 6967 6e6d 656e 7420 6f66   reassignment of
+00030ca0: 2076 6172 2069 6e73 7465 6164 206f 6620   var instead of 
+00030cb0: 273c 3c3d 2720 6f72 2027 3c3c 270a 2020  '<<=' or '<<'.  
+00030cc0: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
+00030cd0: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
+00030ce0: 2069 7320 4e6f 6e65 0a20 2020 2020 2020   is None.       
+00030cf0: 2020 2020 2061 6e64 205f 5f64 6961 675f       and __diag_
+00030d00: 5f2e 7761 726e 5f6f 6e5f 6173 7369 676e  _.warn_on_assign
+00030d10: 6d65 6e74 5f74 6f5f 466f 7277 6172 640a  ment_to_Forward.
+00030d20: 2020 2020 2020 2020 2020 2020 616e 6420              and 
+00030d30: 4469 6167 6e6f 7374 6963 732e 7761 726e  Diagnostics.warn
+00030d40: 5f6f 6e5f 6173 7369 676e 6d65 6e74 5f74  _on_assignment_t
+00030d50: 6f5f 466f 7277 6172 6420 6e6f 7420 696e  o_Forward not in
+00030d60: 2073 656c 662e 7375 7070 7265 7373 5f77   self.suppress_w
+00030d70: 6172 6e69 6e67 735f 0a20 2020 2020 2020  arnings_.       
+00030d80: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
+00030d90: 7761 726e 696e 6773 2e77 6172 6e5f 6578  warnings.warn_ex
+00030da0: 706c 6963 6974 280a 2020 2020 2020 2020  plicit(.        
+00030db0: 2020 2020 2020 2020 2246 6f72 7761 7264          "Forward
+00030dc0: 2064 6566 696e 6564 2068 6572 6520 6275   defined here bu
+00030dd0: 7420 6e6f 2065 7870 7265 7373 696f 6e20  t no expression 
+00030de0: 6174 7461 6368 6564 206c 6174 6572 2075  attached later u
+00030df0: 7369 6e67 2027 3c3c 3d27 206f 7220 273c  sing '<<=' or '<
+00030e00: 3c27 222c 0a20 2020 2020 2020 2020 2020  <'",.           
+00030e10: 2020 2020 2055 7365 7257 6172 6e69 6e67       UserWarning
+00030e20: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00030e30: 2020 6669 6c65 6e61 6d65 3d73 656c 662e    filename=self.
+00030e40: 6361 6c6c 6572 5f66 7261 6d65 2e66 696c  caller_frame.fil
+00030e50: 656e 616d 652c 0a20 2020 2020 2020 2020  ename,.         
+00030e60: 2020 2020 2020 206c 696e 656e 6f3d 7365         lineno=se
+00030e70: 6c66 2e63 616c 6c65 725f 6672 616d 652e  lf.caller_frame.
+00030e80: 6c69 6e65 6e6f 2c0a 2020 2020 2020 2020  lineno,.        
+00030e90: 2020 2020 290a 0a20 2020 2064 6566 2070      )..    def p
+00030ea0: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
+00030eb0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+00030ec0: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
+00030ed0: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
+00030ee0: 2020 2020 2020 2020 7365 6c66 2e65 7870          self.exp
+00030ef0: 7220 6973 204e 6f6e 650a 2020 2020 2020  r is None.      
+00030f00: 2020 2020 2020 616e 6420 5f5f 6469 6167        and __diag
+00030f10: 5f5f 2e77 6172 6e5f 6f6e 5f70 6172 7365  __.warn_on_parse
+00030f20: 5f75 7369 6e67 5f65 6d70 7479 5f46 6f72  _using_empty_For
+00030f30: 7761 7264 0a20 2020 2020 2020 2020 2020  ward.           
+00030f40: 2061 6e64 2044 6961 676e 6f73 7469 6373   and Diagnostics
+00030f50: 2e77 6172 6e5f 6f6e 5f70 6172 7365 5f75  .warn_on_parse_u
+00030f60: 7369 6e67 5f65 6d70 7479 5f46 6f72 7761  sing_empty_Forwa
+00030f70: 7264 0a20 2020 2020 2020 2020 2020 206e  rd.            n
+00030f80: 6f74 2069 6e20 7365 6c66 2e73 7570 7072  ot in self.suppr
+00030f90: 6573 735f 7761 726e 696e 6773 5f0a 2020  ess_warnings_.  
+00030fa0: 2020 2020 2020 293a 0a20 2020 2020 2020        ):.       
+00030fb0: 2020 2020 2023 2077 616c 6b20 7374 6163       # walk stac
+00030fc0: 6b20 756e 7469 6c20 7061 7273 655f 7374  k until parse_st
+00030fd0: 7269 6e67 2c20 7363 616e 5f73 7472 696e  ring, scan_strin
+00030fe0: 672c 2073 6561 7263 685f 7374 7269 6e67  g, search_string
+00030ff0: 2c20 6f72 2074 7261 6e73 666f 726d 5f73  , or transform_s
+00031000: 7472 696e 6720 6973 2066 6f75 6e64 0a20  tring is found. 
+00031010: 2020 2020 2020 2020 2020 2070 6172 7365             parse
+00031020: 5f66 6e73 203d 2028 0a20 2020 2020 2020  _fns = (.       
+00031030: 2020 2020 2020 2020 2022 7061 7273 655f           "parse_
+00031040: 7374 7269 6e67 222c 0a20 2020 2020 2020  string",.       
+00031050: 2020 2020 2020 2020 2022 7363 616e 5f73           "scan_s
+00031060: 7472 696e 6722 2c0a 2020 2020 2020 2020  tring",.        
+00031070: 2020 2020 2020 2020 2273 6561 7263 685f          "search_
+00031080: 7374 7269 6e67 222c 0a20 2020 2020 2020  string",.       
+00031090: 2020 2020 2020 2020 2022 7472 616e 7366           "transf
+000310a0: 6f72 6d5f 7374 7269 6e67 222c 0a20 2020  orm_string",.   
+000310b0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+000310c0: 2020 2020 2020 2074 6220 3d20 7472 6163         tb = trac
+000310d0: 6562 6163 6b2e 6578 7472 6163 745f 7374  eback.extract_st
+000310e0: 6163 6b28 6c69 6d69 743d 3230 3029 0a20  ack(limit=200). 
+000310f0: 2020 2020 2020 2020 2020 2066 6f72 2069             for i
+00031100: 2c20 6672 6d20 696e 2065 6e75 6d65 7261  , frm in enumera
+00031110: 7465 2872 6576 6572 7365 6428 7462 292c  te(reversed(tb),
+00031120: 2073 7461 7274 3d31 293a 0a20 2020 2020   start=1):.     
+00031130: 2020 2020 2020 2020 2020 2069 6620 6672             if fr
+00031140: 6d2e 6e61 6d65 2069 6e20 7061 7273 655f  m.name in parse_
+00031150: 666e 733a 0a20 2020 2020 2020 2020 2020  fns:.           
+00031160: 2020 2020 2020 2020 2073 7461 636b 6c65           stackle
+00031170: 7665 6c20 3d20 6920 2b20 310a 2020 2020  vel = i + 1.    
+00031180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031190: 6272 6561 6b0a 2020 2020 2020 2020 2020  break.          
+000311a0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+000311b0: 2020 2020 2020 2020 7374 6163 6b6c 6576          stacklev
+000311c0: 656c 203d 2032 0a20 2020 2020 2020 2020  el = 2.         
+000311d0: 2020 2077 6172 6e69 6e67 732e 7761 726e     warnings.warn
+000311e0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+000311f0: 2020 2246 6f72 7761 7264 2065 7870 7265    "Forward expre
+00031200: 7373 696f 6e20 7761 7320 6e65 7665 7220  ssion was never 
+00031210: 6173 7369 676e 6564 2061 2076 616c 7565  assigned a value
+00031220: 2c20 7769 6c6c 206e 6f74 2070 6172 7365  , will not parse
+00031230: 2061 6e79 2069 6e70 7574 222c 0a20 2020   any input",.   
+00031240: 2020 2020 2020 2020 2020 2020 2073 7461               sta
+00031250: 636b 6c65 7665 6c3d 7374 6163 6b6c 6576  cklevel=stacklev
+00031260: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
+00031270: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
+00031280: 2050 6172 7365 7245 6c65 6d65 6e74 2e5f   ParserElement._
+00031290: 6c65 6674 5f72 6563 7572 7369 6f6e 5f65  left_recursion_e
+000312a0: 6e61 626c 6564 3a0a 2020 2020 2020 2020  nabled:.        
+000312b0: 2020 2020 7265 7475 726e 2073 7570 6572      return super
+000312c0: 2829 2e70 6172 7365 496d 706c 2869 6e73  ().parseImpl(ins
+000312d0: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+000312e0: 7469 6f6e 7329 0a20 2020 2020 2020 2023  tions).        #
+000312f0: 2023 2320 426f 756e 6465 6420 5265 6375   ## Bounded Recu
+00031300: 7273 696f 6e20 616c 676f 7269 7468 6d20  rsion algorithm 
+00031310: 2323 0a20 2020 2020 2020 2023 2052 6563  ##.        # Rec
+00031320: 7572 7369 6f6e 206f 6e6c 7920 6e65 6564  ursion only need
+00031330: 7320 746f 2062 6520 7072 6f63 6573 7365  s to be processe
+00031340: 6420 6174 2060 6046 6f72 7761 7264 6060  d at ``Forward``
+00031350: 2065 6c65 6d65 6e74 732c 2073 696e 6365   elements, since
+00031360: 2074 6865 7920 6172 650a 2020 2020 2020   they are.      
+00031370: 2020 2320 7468 6520 6f6e 6c79 206f 6e65    # the only one
+00031380: 7320 7468 6174 2063 616e 2061 6374 7561  s that can actua
+00031390: 6c6c 7920 7265 6665 7220 746f 2074 6865  lly refer to the
+000313a0: 6d73 656c 7665 732e 2054 6865 2067 656e  mselves. The gen
+000313b0: 6572 616c 2069 6465 6120 6973 0a20 2020  eral idea is.   
+000313c0: 2020 2020 2023 2074 6f20 6861 6e64 6c65       # to handle
+000313d0: 2072 6563 7572 7369 6f6e 2073 7465 7077   recursion stepw
+000313e0: 6973 653a 2057 6520 7374 6172 7420 6174  ise: We start at
+000313f0: 206e 6f20 7265 6375 7273 696f 6e2c 2074   no recursion, t
+00031400: 6865 6e20 7265 6375 7273 6520 6f6e 6365  hen recurse once
+00031410: 2c0a 2020 2020 2020 2020 2320 7265 6375  ,.        # recu
+00031420: 7273 6520 7477 6963 652c 202e 2e2e 2c20  rse twice, ..., 
+00031430: 756e 7469 6c20 6d6f 7265 2072 6563 7572  until more recur
+00031440: 7369 6f6e 206f 6666 6572 7320 6e6f 2062  sion offers no b
+00031450: 656e 6566 6974 2028 7765 2068 6974 2074  enefit (we hit t
+00031460: 6865 2062 6f75 6e64 292e 0a20 2020 2020  he bound)..     
+00031470: 2020 2023 0a20 2020 2020 2020 2023 2054     #.        # T
+00031480: 6865 2022 7472 6963 6b22 2068 6572 6520  he "trick" here 
+00031490: 6973 2074 6861 7420 6561 6368 2060 6046  is that each ``F
+000314a0: 6f72 7761 7264 6060 2067 6574 7320 6576  orward`` gets ev
+000314b0: 616c 7561 7465 6420 696e 2074 776f 2063  aluated in two c
+000314c0: 6f6e 7465 7874 730a 2020 2020 2020 2020  ontexts.        
+000314d0: 2320 2d20 746f 202a 6d61 7463 682a 2061  # - to *match* a
+000314e0: 2073 7065 6369 6669 6320 7265 6375 7273   specific recurs
+000314f0: 696f 6e20 6c65 7665 6c2c 2061 6e64 0a20  ion level, and. 
+00031500: 2020 2020 2020 2023 202d 2074 6f20 2a73         # - to *s
+00031510: 6561 7263 682a 2074 6865 2062 6f75 6e64  earch* the bound
+00031520: 6564 2072 6563 7572 7369 6f6e 206c 6576  ed recursion lev
+00031530: 656c 0a20 2020 2020 2020 2023 2061 6e64  el.        # and
+00031540: 2074 6865 2074 776f 2072 756e 2063 6f6e   the two run con
+00031550: 6375 7272 656e 746c 792e 2054 6865 202a  currently. The *
+00031560: 7365 6172 6368 2a20 6d75 7374 202a 6d61  search* must *ma
+00031570: 7463 682a 2065 6163 6820 7265 6375 7273  tch* each recurs
+00031580: 696f 6e20 6c65 7665 6c0a 2020 2020 2020  ion level.      
+00031590: 2020 2320 746f 2066 696e 6420 7468 6520    # to find the 
+000315a0: 6265 7374 2070 6f73 7369 626c 6520 6d61  best possible ma
+000315b0: 7463 682e 2054 6869 7320 6973 2068 616e  tch. This is han
+000315c0: 646c 6564 2062 7920 6120 6d65 6d6f 2074  dled by a memo t
+000315d0: 6162 6c65 2c20 7768 6963 680a 2020 2020  able, which.    
+000315e0: 2020 2020 2320 7072 6f76 6964 6573 2074      # provides t
+000315f0: 6865 2070 7265 7669 6f75 7320 6d61 7463  he previous matc
+00031600: 6820 746f 2074 6865 206e 6578 7420 6c65  h to the next le
+00031610: 7665 6c20 6d61 7463 6820 6174 7465 6d70  vel match attemp
+00031620: 742e 0a20 2020 2020 2020 2023 0a20 2020  t..        #.   
+00031630: 2020 2020 2023 2053 6565 2061 6c73 6f20       # See also 
+00031640: 224c 6566 7420 5265 6375 7273 696f 6e20  "Left Recursion 
+00031650: 696e 2050 6172 7369 6e67 2045 7870 7265  in Parsing Expre
+00031660: 7373 696f 6e20 4772 616d 6d61 7273 222c  ssion Grammars",
+00031670: 204d 6564 6569 726f 7320 6574 2061 6c2e   Medeiros et al.
+00031680: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
+00031690: 2020 2023 2054 6865 7265 2069 7320 6120     # There is a 
+000316a0: 636f 6d70 6c69 6361 7469 6f6e 2073 696e  complication sin
+000316b0: 6365 2077 6520 6e6f 7420 6f6e 6c79 202a  ce we not only *
+000316c0: 7061 7273 652a 2062 7574 2061 6c73 6f20  parse* but also 
+000316d0: 2a74 7261 6e73 666f 726d 2a20 7669 610a  *transform* via.
+000316e0: 2020 2020 2020 2020 2320 6163 7469 6f6e          # action
+000316f0: 733a 2057 6520 646f 206e 6f74 2077 616e  s: We do not wan
+00031700: 7420 746f 2072 756e 2074 6865 2061 6374  t to run the act
+00031710: 696f 6e73 2074 6f6f 206f 6674 656e 2077  ions too often w
+00031720: 6869 6c65 2065 7870 616e 6469 6e67 2e20  hile expanding. 
+00031730: 5468 7573 2c0a 2020 2020 2020 2020 2320  Thus,.        # 
+00031740: 7765 2065 7870 616e 6420 7573 696e 6720  we expand using 
+00031750: 6064 6f41 6374 696f 6e73 3d46 616c 7365  `doActions=False
+00031760: 6020 616e 6420 6f6e 6c79 2072 756e 2060  ` and only run `
+00031770: 646f 4163 7469 6f6e 733d 5472 7565 6020  doActions=True` 
+00031780: 6966 2074 6865 206e 6578 740a 2020 2020  if the next.    
+00031790: 2020 2020 2320 7265 6375 7273 696f 6e20      # recursion 
+000317a0: 6c65 7665 6c20 6973 2061 6363 6570 7461  level is accepta
+000317b0: 626c 652e 0a20 2020 2020 2020 2077 6974  ble..        wit
+000317c0: 6820 5061 7273 6572 456c 656d 656e 742e  h ParserElement.
+000317d0: 7265 6375 7273 696f 6e5f 6c6f 636b 3a0a  recursion_lock:.
+000317e0: 2020 2020 2020 2020 2020 2020 6d65 6d6f              memo
+000317f0: 203d 2050 6172 7365 7245 6c65 6d65 6e74   = ParserElement
+00031800: 2e72 6563 7572 7369 6f6e 5f6d 656d 6f73  .recursion_memos
+00031810: 0a20 2020 2020 2020 2020 2020 2074 7279  .            try
+00031820: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00031830: 2020 2320 7765 2061 7265 2070 6172 7369    # we are parsi
+00031840: 6e67 2061 7420 6120 7370 6563 6966 6963  ng at a specific
+00031850: 2072 6563 7572 7369 6f6e 2065 7870 616e   recursion expan
+00031860: 7369 6f6e 202d 2075 7365 2069 7420 6173  sion - use it as
+00031870: 2d69 730a 2020 2020 2020 2020 2020 2020  -is.            
+00031880: 2020 2020 7072 6576 5f6c 6f63 2c20 7072      prev_loc, pr
+00031890: 6576 5f72 6573 756c 7420 3d20 6d65 6d6f  ev_result = memo
+000318a0: 5b6c 6f63 2c20 7365 6c66 2c20 646f 4163  [loc, self, doAc
+000318b0: 7469 6f6e 735d 0a20 2020 2020 2020 2020  tions].         
+000318c0: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+000318d0: 616e 6365 2870 7265 765f 7265 7375 6c74  ance(prev_result
+000318e0: 2c20 4578 6365 7074 696f 6e29 3a0a 2020  , Exception):.  
+000318f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031900: 2020 7261 6973 6520 7072 6576 5f72 6573    raise prev_res
+00031910: 756c 740a 2020 2020 2020 2020 2020 2020  ult.            
+00031920: 2020 2020 7265 7475 726e 2070 7265 765f      return prev_
+00031930: 6c6f 632c 2070 7265 765f 7265 7375 6c74  loc, prev_result
+00031940: 2e63 6f70 7928 290a 2020 2020 2020 2020  .copy().        
+00031950: 2020 2020 6578 6365 7074 204b 6579 4572      except KeyEr
+00031960: 726f 723a 0a20 2020 2020 2020 2020 2020  ror:.           
+00031970: 2020 2020 2061 6374 5f6b 6579 203d 2028       act_key = (
+00031980: 6c6f 632c 2073 656c 662c 2054 7275 6529  loc, self, True)
+00031990: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000319a0: 2070 6565 6b5f 6b65 7920 3d20 286c 6f63   peek_key = (loc
+000319b0: 2c20 7365 6c66 2c20 4661 6c73 6529 0a20  , self, False). 
+000319c0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+000319d0: 2077 6520 6172 6520 7365 6172 6368 696e   we are searchin
+000319e0: 6720 666f 7220 7468 6520 6265 7374 2072  g for the best r
+000319f0: 6563 7572 7369 6f6e 2065 7870 616e 7369  ecursion expansi
+00031a00: 6f6e 202d 206b 6565 7020 6f6e 2069 6d70  on - keep on imp
+00031a10: 726f 7669 6e67 0a20 2020 2020 2020 2020  roving.         
+00031a20: 2020 2020 2020 2023 2062 6f74 6820 6064         # both `d
+00031a30: 6f41 6374 696f 6e73 6020 6361 7365 7320  oActions` cases 
+00031a40: 6d75 7374 2062 6520 7472 6163 6b65 6420  must be tracked 
+00031a50: 7365 7061 7261 7465 6c79 2068 6572 6521  separately here!
+00031a60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031a70: 2070 7265 765f 6c6f 632c 2070 7265 765f   prev_loc, prev_
+00031a80: 7065 656b 203d 206d 656d 6f5b 7065 656b  peek = memo[peek
+00031a90: 5f6b 6579 5d20 3d20 280a 2020 2020 2020  _key] = (.      
+00031aa0: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
+00031ab0: 6320 2d20 312c 0a20 2020 2020 2020 2020  c - 1,.         
+00031ac0: 2020 2020 2020 2020 2020 2050 6172 7365             Parse
+00031ad0: 4578 6365 7074 696f 6e28 0a20 2020 2020  Exception(.     
+00031ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031af0: 2020 2069 6e73 7472 696e 672c 206c 6f63     instring, loc
+00031b00: 2c20 2246 6f72 7761 7264 2072 6563 7572  , "Forward recur
+00031b10: 7369 6f6e 2077 6974 686f 7574 2062 6173  sion without bas
+00031b20: 6520 6361 7365 222c 2073 656c 660a 2020  e case", self.  
 00031b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031b40: 2020 2020 2020 2020 2023 2072 6570 6c61           # repla
-00031b50: 6365 2074 6865 206d 6174 6368 2066 6f72  ce the match for
-00031b60: 2064 6f41 6374 696f 6e73 3d46 616c 7365   doActions=False
-00031b70: 2061 7320 7765 6c6c 2c0a 2020 2020 2020   as well,.      
-00031b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031b90: 2020 2020 2020 2320 696e 2063 6173 6520        # in case 
-00031ba0: 7468 6520 6163 7469 6f6e 2064 6964 2062  the action did b
-00031bb0: 6163 6b74 7261 636b 0a20 2020 2020 2020  acktrack.       
-00031bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031bd0: 2020 2020 2070 7265 765f 6c6f 632c 2070       prev_loc, p
-00031be0: 7265 765f 7265 7375 6c74 203d 206d 656d  rev_result = mem
-00031bf0: 6f5b 7065 656b 5f6b 6579 5d20 3d20 6d65  o[peek_key] = me
-00031c00: 6d6f 5b61 6374 5f6b 6579 5d0a 2020 2020  mo[act_key].    
-00031c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031c20: 2020 2020 2020 2020 6465 6c20 6d65 6d6f          del memo
-00031c30: 5b70 6565 6b5f 6b65 795d 2c20 6d65 6d6f  [peek_key], memo
-00031c40: 5b61 6374 5f6b 6579 5d0a 2020 2020 2020  [act_key].      
-00031c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031c60: 2020 2020 2020 7265 7475 726e 2070 7265        return pre
-00031c70: 765f 6c6f 632c 2070 7265 765f 7265 7375  v_loc, prev_resu
-00031c80: 6c74 2e63 6f70 7928 290a 2020 2020 2020  lt.copy().      
-00031c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031ca0: 2020 6465 6c20 6d65 6d6f 5b70 6565 6b5f    del memo[peek_
-00031cb0: 6b65 795d 0a20 2020 2020 2020 2020 2020  key].           
-00031cc0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00031cd0: 7572 6e20 7072 6576 5f6c 6f63 2c20 7072  urn prev_loc, pr
-00031ce0: 6576 5f70 6565 6b2e 636f 7079 2829 0a20  ev_peek.copy(). 
+00031b40: 2020 292c 0a20 2020 2020 2020 2020 2020    ),.           
+00031b50: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+00031b60: 2020 2020 2020 2069 6620 646f 4163 7469         if doActi
+00031b70: 6f6e 733a 0a20 2020 2020 2020 2020 2020  ons:.           
+00031b80: 2020 2020 2020 2020 206d 656d 6f5b 6163           memo[ac
+00031b90: 745f 6b65 795d 203d 206d 656d 6f5b 7065  t_key] = memo[pe
+00031ba0: 656b 5f6b 6579 5d0a 2020 2020 2020 2020  ek_key].        
+00031bb0: 2020 2020 2020 2020 7768 696c 6520 5472          while Tr
+00031bc0: 7565 3a0a 2020 2020 2020 2020 2020 2020  ue:.            
+00031bd0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00031be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031bf0: 2020 2020 206e 6577 5f6c 6f63 2c20 6e65       new_loc, ne
+00031c00: 775f 7065 656b 203d 2073 7570 6572 2829  w_peek = super()
+00031c10: 2e70 6172 7365 496d 706c 2869 6e73 7472  .parseImpl(instr
+00031c20: 696e 672c 206c 6f63 2c20 4661 6c73 6529  ing, loc, False)
+00031c30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031c40: 2020 2020 2065 7863 6570 7420 5061 7273       except Pars
+00031c50: 6545 7863 6570 7469 6f6e 3a0a 2020 2020  eException:.    
+00031c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031c70: 2020 2020 2320 7765 2066 6169 6c65 6420      # we failed 
+00031c80: 6265 666f 7265 2067 6574 7469 6e67 2061  before getting a
+00031c90: 6e79 206d 6174 6368 20e2 8093 2064 6f20  ny match ... do 
+00031ca0: 6e6f 7420 6869 6465 2074 6865 2065 7272  not hide the err
+00031cb0: 6f72 0a20 2020 2020 2020 2020 2020 2020  or.             
+00031cc0: 2020 2020 2020 2020 2020 2069 6620 6973             if is
+00031cd0: 696e 7374 616e 6365 2870 7265 765f 7065  instance(prev_pe
+00031ce0: 656b 2c20 4578 6365 7074 696f 6e29 3a0a  ek, Exception):.
 00031cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031d00: 2020 2023 2074 6865 206d 6174 6368 2064     # the match d
-00031d10: 6964 2067 6574 2062 6574 7465 723a 2073  id get better: s
-00031d20: 6565 2069 6620 7765 2063 616e 2069 6d70  ee if we can imp
-00031d30: 726f 7665 2066 7572 7468 6572 0a20 2020  rove further.   
-00031d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031d50: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00031d60: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00031d70: 6620 646f 4163 7469 6f6e 733a 0a20 2020  f doActions:.   
-00031d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031d90: 2020 2020 2020 2020 2074 7279 3a0a 2020           try:.  
-00031da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031db0: 2020 2020 2020 2020 2020 2020 2020 6d65                me
-00031dc0: 6d6f 5b61 6374 5f6b 6579 5d20 3d20 7375  mo[act_key] = su
-00031dd0: 7065 7228 292e 7061 7273 6549 6d70 6c28  per().parseImpl(
-00031de0: 696e 7374 7269 6e67 2c20 6c6f 632c 2054  instring, loc, T
-00031df0: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
-00031e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031e10: 2065 7863 6570 7420 5061 7273 6545 7863   except ParseExc
-00031e20: 6570 7469 6f6e 2061 7320 653a 0a20 2020  eption as e:.   
-00031e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031e40: 2020 2020 2020 2020 2020 2020 206d 656d               mem
-00031e50: 6f5b 7065 656b 5f6b 6579 5d20 3d20 6d65  o[peek_key] = me
-00031e60: 6d6f 5b61 6374 5f6b 6579 5d20 3d20 286e  mo[act_key] = (n
-00031e70: 6577 5f6c 6f63 2c20 6529 0a20 2020 2020  ew_loc, e).     
-00031e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031e90: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00031ea0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031eb0: 2020 2020 2020 2020 2070 7265 765f 6c6f           prev_lo
-00031ec0: 632c 2070 7265 765f 7065 656b 203d 206d  c, prev_peek = m
-00031ed0: 656d 6f5b 7065 656b 5f6b 6579 5d20 3d20  emo[peek_key] = 
-00031ee0: 6e65 775f 6c6f 632c 206e 6577 5f70 6565  new_loc, new_pee
-00031ef0: 6b0a 0a20 2020 2064 6566 206c 6561 7665  k..    def leave
-00031f00: 5f77 6869 7465 7370 6163 6528 7365 6c66  _whitespace(self
-00031f10: 2c20 7265 6375 7273 6976 653a 2062 6f6f  , recursive: boo
-00031f20: 6c20 3d20 5472 7565 2920 2d3e 2050 6172  l = True) -> Par
-00031f30: 7365 7245 6c65 6d65 6e74 3a0a 2020 2020  serElement:.    
-00031f40: 2020 2020 7365 6c66 2e73 6b69 7057 6869      self.skipWhi
-00031f50: 7465 7370 6163 6520 3d20 4661 6c73 650a  tespace = False.
-00031f60: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00031f70: 656c 660a 0a20 2020 2064 6566 2069 676e  elf..    def ign
-00031f80: 6f72 655f 7768 6974 6573 7061 6365 2873  ore_whitespace(s
-00031f90: 656c 662c 2072 6563 7572 7369 7665 3a20  elf, recursive: 
-00031fa0: 626f 6f6c 203d 2054 7275 6529 202d 3e20  bool = True) -> 
-00031fb0: 5061 7273 6572 456c 656d 656e 743a 0a20  ParserElement:. 
-00031fc0: 2020 2020 2020 2073 656c 662e 736b 6970         self.skip
-00031fd0: 5768 6974 6573 7061 6365 203d 2054 7275  Whitespace = Tru
-00031fe0: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
-00031ff0: 2073 656c 660a 0a20 2020 2064 6566 2073   self..    def s
-00032000: 7472 6561 6d6c 696e 6528 7365 6c66 2920  treamline(self) 
-00032010: 2d3e 2050 6172 7365 7245 6c65 6d65 6e74  -> ParserElement
-00032020: 3a0a 2020 2020 2020 2020 6966 206e 6f74  :.        if not
-00032030: 2073 656c 662e 7374 7265 616d 6c69 6e65   self.streamline
-00032040: 643a 0a20 2020 2020 2020 2020 2020 2073  d:.            s
-00032050: 656c 662e 7374 7265 616d 6c69 6e65 6420  elf.streamlined 
-00032060: 3d20 5472 7565 0a20 2020 2020 2020 2020  = True.         
-00032070: 2020 2069 6620 7365 6c66 2e65 7870 7220     if self.expr 
-00032080: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-00032090: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-000320a0: 662e 6578 7072 2e73 7472 6561 6d6c 696e  f.expr.streamlin
-000320b0: 6528 290a 2020 2020 2020 2020 7265 7475  e().        retu
-000320c0: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
-000320d0: 2076 616c 6964 6174 6528 7365 6c66 2c20   validate(self, 
-000320e0: 7661 6c69 6461 7465 5472 6163 653d 4e6f  validateTrace=No
-000320f0: 6e65 2920 2d3e 204e 6f6e 653a 0a20 2020  ne) -> None:.   
-00032100: 2020 2020 2077 6172 6e69 6e67 732e 7761       warnings.wa
-00032110: 726e 280a 2020 2020 2020 2020 2020 2020  rn(.            
-00032120: 2250 6172 7365 7245 6c65 6d65 6e74 2e76  "ParserElement.v
-00032130: 616c 6964 6174 6528 2920 6973 2064 6570  alidate() is dep
-00032140: 7265 6361 7465 642c 2061 6e64 2073 686f  recated, and sho
-00032150: 756c 6420 6e6f 7420 6265 2075 7365 6420  uld not be used 
-00032160: 746f 2063 6865 636b 2066 6f72 206c 6566  to check for lef
-00032170: 7420 7265 6375 7273 696f 6e22 2c0a 2020  t recursion",.  
-00032180: 2020 2020 2020 2020 2020 4465 7072 6563            Deprec
-00032190: 6174 696f 6e57 6172 6e69 6e67 2c0a 2020  ationWarning,.  
-000321a0: 2020 2020 2020 2020 2020 7374 6163 6b6c            stackl
-000321b0: 6576 656c 3d32 2c0a 2020 2020 2020 2020  evel=2,.        
-000321c0: 290a 2020 2020 2020 2020 6966 2076 616c  ).        if val
-000321d0: 6964 6174 6554 7261 6365 2069 7320 4e6f  idateTrace is No
-000321e0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-000321f0: 7661 6c69 6461 7465 5472 6163 6520 3d20  validateTrace = 
-00032200: 5b5d 0a0a 2020 2020 2020 2020 6966 2073  []..        if s
-00032210: 656c 6620 6e6f 7420 696e 2076 616c 6964  elf not in valid
-00032220: 6174 6554 7261 6365 3a0a 2020 2020 2020  ateTrace:.      
-00032230: 2020 2020 2020 746d 7020 3d20 7661 6c69        tmp = vali
-00032240: 6461 7465 5472 6163 655b 3a5d 202b 205b  dateTrace[:] + [
-00032250: 7365 6c66 5d0a 2020 2020 2020 2020 2020  self].          
-00032260: 2020 6966 2073 656c 662e 6578 7072 2069    if self.expr i
-00032270: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-00032280: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00032290: 2e65 7870 722e 7661 6c69 6461 7465 2874  .expr.validate(t
-000322a0: 6d70 290a 2020 2020 2020 2020 7365 6c66  mp).        self
-000322b0: 2e5f 6368 6563 6b52 6563 7572 7369 6f6e  ._checkRecursion
-000322c0: 285b 5d29 0a0a 2020 2020 6465 6620 5f67  ([])..    def _g
-000322d0: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
-000322e0: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
-000322f0: 0a20 2020 2020 2020 2023 2041 766f 6964  .        # Avoid
-00032300: 2069 6e66 696e 6974 6520 7265 6375 7273   infinite recurs
-00032310: 696f 6e20 6279 2073 6574 7469 6e67 2061  ion by setting a
-00032320: 2074 656d 706f 7261 7279 205f 6465 6661   temporary _defa
-00032330: 756c 744e 616d 650a 2020 2020 2020 2020  ultName.        
-00032340: 7365 6c66 2e5f 6465 6661 756c 744e 616d  self._defaultNam
-00032350: 6520 3d20 223a 202e 2e2e 220a 0a20 2020  e = ": ..."..   
-00032360: 2020 2020 2023 2055 7365 2074 6865 2073       # Use the s
-00032370: 7472 696e 6720 7265 7072 6573 656e 7461  tring representa
-00032380: 7469 6f6e 206f 6620 6d61 696e 2065 7870  tion of main exp
-00032390: 7265 7373 696f 6e2e 0a20 2020 2020 2020  ression..       
-000323a0: 2072 6574 5374 7269 6e67 203d 2022 2e2e   retString = "..
-000323b0: 2e22 0a20 2020 2020 2020 2074 7279 3a0a  .".        try:.
-000323c0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-000323d0: 656c 662e 6578 7072 2069 7320 6e6f 7420  elf.expr is not 
-000323e0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-000323f0: 2020 2020 2020 7265 7453 7472 696e 6720        retString 
-00032400: 3d20 7374 7228 7365 6c66 2e65 7870 7229  = str(self.expr)
-00032410: 5b3a 3130 3030 5d0a 2020 2020 2020 2020  [:1000].        
-00032420: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00032430: 2020 2020 2020 2020 2020 7265 7453 7472            retStr
-00032440: 696e 6720 3d20 224e 6f6e 6522 0a20 2020  ing = "None".   
-00032450: 2020 2020 2066 696e 616c 6c79 3a0a 2020       finally:.  
-00032460: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00032470: 2073 656c 662e 5f5f 636c 6173 735f 5f2e   self.__class__.
-00032480: 5f5f 6e61 6d65 5f5f 202b 2022 3a20 2220  __name__ + ": " 
-00032490: 2b20 7265 7453 7472 696e 670a 0a20 2020  + retString..   
-000324a0: 2064 6566 2063 6f70 7928 7365 6c66 2920   def copy(self) 
-000324b0: 2d3e 2050 6172 7365 7245 6c65 6d65 6e74  -> ParserElement
-000324c0: 3a0a 2020 2020 2020 2020 6966 2073 656c  :.        if sel
-000324d0: 662e 6578 7072 2069 7320 6e6f 7420 4e6f  f.expr is not No
-000324e0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-000324f0: 7265 7475 726e 2073 7570 6572 2829 2e63  return super().c
-00032500: 6f70 7928 290a 2020 2020 2020 2020 656c  opy().        el
-00032510: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00032520: 7265 7420 3d20 466f 7277 6172 6428 290a  ret = Forward().
-00032530: 2020 2020 2020 2020 2020 2020 7265 7420              ret 
-00032540: 3c3c 3d20 7365 6c66 0a20 2020 2020 2020  <<= self.       
-00032550: 2020 2020 2072 6574 7572 6e20 7265 740a       return ret.
-00032560: 0a20 2020 2064 6566 205f 7365 7452 6573  .    def _setRes
-00032570: 756c 7473 4e61 6d65 2873 656c 662c 206e  ultsName(self, n
-00032580: 616d 652c 206c 6973 745f 616c 6c5f 6d61  ame, list_all_ma
-00032590: 7463 6865 733d 4661 6c73 6529 3a0a 2020  tches=False):.  
-000325a0: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
-000325b0: 2020 2020 2020 205f 5f64 6961 675f 5f2e         __diag__.
-000325c0: 7761 726e 5f6e 616d 655f 7365 745f 6f6e  warn_name_set_on
-000325d0: 5f65 6d70 7479 5f46 6f72 7761 7264 0a20  _empty_Forward. 
-000325e0: 2020 2020 2020 2020 2020 2061 6e64 2044             and D
-000325f0: 6961 676e 6f73 7469 6373 2e77 6172 6e5f  iagnostics.warn_
-00032600: 6e61 6d65 5f73 6574 5f6f 6e5f 656d 7074  name_set_on_empt
-00032610: 795f 466f 7277 6172 640a 2020 2020 2020  y_Forward.      
-00032620: 2020 2020 2020 6e6f 7420 696e 2073 656c        not in sel
-00032630: 662e 7375 7070 7265 7373 5f77 6172 6e69  f.suppress_warni
-00032640: 6e67 735f 0a20 2020 2020 2020 2029 3a0a  ngs_.        ):.
-00032650: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-00032660: 656c 662e 6578 7072 2069 7320 4e6f 6e65  elf.expr is None
-00032670: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00032680: 2020 7761 726e 696e 6773 2e77 6172 6e28    warnings.warn(
-00032690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000326a0: 2020 2020 2022 7b7d 3a20 7365 7474 696e       "{}: settin
-000326b0: 6720 7265 7375 6c74 7320 6e61 6d65 207b  g results name {
-000326c0: 2172 7d20 6f6e 207b 7d20 6578 7072 6573  !r} on {} expres
-000326d0: 7369 6f6e 2022 0a20 2020 2020 2020 2020  sion ".         
-000326e0: 2020 2020 2020 2020 2020 2022 7468 6174             "that
-000326f0: 2068 6173 206e 6f20 636f 6e74 6169 6e65   has no containe
-00032700: 6420 6578 7072 6573 7369 6f6e 222e 666f  d expression".fo
-00032710: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
-00032720: 2020 2020 2020 2020 2020 2020 2020 2277                "w
-00032730: 6172 6e5f 6e61 6d65 5f73 6574 5f6f 6e5f  arn_name_set_on_
-00032740: 656d 7074 795f 466f 7277 6172 6422 2c20  empty_Forward", 
-00032750: 6e61 6d65 2c20 7479 7065 2873 656c 6629  name, type(self)
-00032760: 2e5f 5f6e 616d 655f 5f0a 2020 2020 2020  .__name__.      
-00032770: 2020 2020 2020 2020 2020 2020 2020 292c                ),
-00032780: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00032790: 2020 2020 2073 7461 636b 6c65 7665 6c3d       stacklevel=
-000327a0: 332c 0a20 2020 2020 2020 2020 2020 2020  3,.             
-000327b0: 2020 2029 0a0a 2020 2020 2020 2020 7265     )..        re
-000327c0: 7475 726e 2073 7570 6572 2829 2e5f 7365  turn super()._se
-000327d0: 7452 6573 756c 7473 4e61 6d65 286e 616d  tResultsName(nam
-000327e0: 652c 206c 6973 745f 616c 6c5f 6d61 7463  e, list_all_matc
-000327f0: 6865 7329 0a0a 2020 2020 2320 436f 6d70  hes)..    # Comp
-00032800: 6174 6962 696c 6974 7920 7379 6e6f 6e79  atibility synony
-00032810: 6d73 0a20 2020 2023 2066 6d74 3a20 6f66  ms.    # fmt: of
-00032820: 660a 2020 2020 4072 6570 6c61 6365 645f  f.    @replaced_
-00032830: 6279 5f70 6570 3828 6c65 6176 655f 7768  by_pep8(leave_wh
-00032840: 6974 6573 7061 6365 290a 2020 2020 6465  itespace).    de
-00032850: 6620 6c65 6176 6557 6869 7465 7370 6163  f leaveWhitespac
-00032860: 6528 7365 6c66 293a 202e 2e2e 0a0a 2020  e(self): .....  
-00032870: 2020 4072 6570 6c61 6365 645f 6279 5f70    @replaced_by_p
-00032880: 6570 3828 6967 6e6f 7265 5f77 6869 7465  ep8(ignore_white
-00032890: 7370 6163 6529 0a20 2020 2064 6566 2069  space).    def i
-000328a0: 676e 6f72 6557 6869 7465 7370 6163 6528  gnoreWhitespace(
-000328b0: 7365 6c66 293a 202e 2e2e 0a20 2020 2023  self): ....    #
-000328c0: 2066 6d74 3a20 6f6e 0a0a 0a63 6c61 7373   fmt: on...class
-000328d0: 2054 6f6b 656e 436f 6e76 6572 7465 7228   TokenConverter(
-000328e0: 5061 7273 6545 6c65 6d65 6e74 456e 6861  ParseElementEnha
-000328f0: 6e63 6529 3a0a 2020 2020 2222 220a 2020  nce):.    """.  
-00032900: 2020 4162 7374 7261 6374 2073 7562 636c    Abstract subcl
-00032910: 6173 7320 6f66 203a 636c 6173 733a 6050  ass of :class:`P
-00032920: 6172 7365 4578 7072 6573 7369 6f6e 602c  arseExpression`,
-00032930: 2066 6f72 2063 6f6e 7665 7274 696e 6720   for converting 
-00032940: 7061 7273 6564 2072 6573 756c 7473 2e0a  parsed results..
-00032950: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
-00032960: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
-00032970: 6578 7072 3a20 556e 696f 6e5b 5061 7273  expr: Union[Pars
-00032980: 6572 456c 656d 656e 742c 2073 7472 5d2c  erElement, str],
-00032990: 2073 6176 656c 6973 743d 4661 6c73 6529   savelist=False)
-000329a0: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
-000329b0: 292e 5f5f 696e 6974 5f5f 2865 7870 7229  ).__init__(expr)
-000329c0: 2020 2320 2c20 7361 7665 6c69 7374 290a    # , savelist).
-000329d0: 2020 2020 2020 2020 7365 6c66 2e73 6176          self.sav
-000329e0: 6541 734c 6973 7420 3d20 4661 6c73 650a  eAsList = False.
-000329f0: 0a0a 636c 6173 7320 436f 6d62 696e 6528  ..class Combine(
-00032a00: 546f 6b65 6e43 6f6e 7665 7274 6572 293a  TokenConverter):
-00032a10: 0a20 2020 2022 2222 436f 6e76 6572 7465  .    """Converte
-00032a20: 7220 746f 2063 6f6e 6361 7465 6e61 7465  r to concatenate
-00032a30: 2061 6c6c 206d 6174 6368 696e 6720 746f   all matching to
-00032a40: 6b65 6e73 2074 6f20 6120 7369 6e67 6c65  kens to a single
-00032a50: 2073 7472 696e 672e 0a20 2020 2042 7920   string..    By 
-00032a60: 6465 6661 756c 742c 2074 6865 206d 6174  default, the mat
-00032a70: 6368 696e 6720 7061 7474 6572 6e73 206d  ching patterns m
-00032a80: 7573 7420 616c 736f 2062 6520 636f 6e74  ust also be cont
-00032a90: 6967 756f 7573 2069 6e20 7468 650a 2020  iguous in the.  
-00032aa0: 2020 696e 7075 7420 7374 7269 6e67 3b20    input string; 
-00032ab0: 7468 6973 2063 616e 2062 6520 6469 7361  this can be disa
-00032ac0: 626c 6564 2062 7920 7370 6563 6966 7969  bled by specifyi
-00032ad0: 6e67 0a20 2020 2060 6027 6164 6a61 6365  ng.    ``'adjace
-00032ae0: 6e74 3d46 616c 7365 2760 6020 696e 2074  nt=False'`` in t
-00032af0: 6865 2063 6f6e 7374 7275 6374 6f72 2e0a  he constructor..
-00032b00: 0a20 2020 2045 7861 6d70 6c65 3a3a 0a0a  .    Example::..
-00032b10: 2020 2020 2020 2020 7265 616c 203d 2057          real = W
-00032b20: 6f72 6428 6e75 6d73 2920 2b20 272e 2720  ord(nums) + '.' 
-00032b30: 2b20 576f 7264 286e 756d 7329 0a20 2020  + Word(nums).   
-00032b40: 2020 2020 2070 7269 6e74 2872 6561 6c2e       print(real.
-00032b50: 7061 7273 655f 7374 7269 6e67 2827 332e  parse_string('3.
-00032b60: 3134 3136 2729 2920 2320 2d3e 205b 2733  1416')) # -> ['3
-00032b70: 272c 2027 2e27 2c20 2731 3431 3627 5d0a  ', '.', '1416'].
-00032b80: 2020 2020 2020 2020 2320 7769 6c6c 2061          # will a
-00032b90: 6c73 6f20 6572 726f 6e65 6f75 736c 7920  lso erroneously 
-00032ba0: 6d61 7463 6820 7468 6520 666f 6c6c 6f77  match the follow
-00032bb0: 696e 670a 2020 2020 2020 2020 7072 696e  ing.        prin
-00032bc0: 7428 7265 616c 2e70 6172 7365 5f73 7472  t(real.parse_str
-00032bd0: 696e 6728 2733 2e20 3134 3136 2729 2920  ing('3. 1416')) 
-00032be0: 2320 2d3e 205b 2733 272c 2027 2e27 2c20  # -> ['3', '.', 
-00032bf0: 2731 3431 3627 5d0a 0a20 2020 2020 2020  '1416']..       
-00032c00: 2072 6561 6c20 3d20 436f 6d62 696e 6528   real = Combine(
-00032c10: 576f 7264 286e 756d 7329 202b 2027 2e27  Word(nums) + '.'
-00032c20: 202b 2057 6f72 6428 6e75 6d73 2929 0a20   + Word(nums)). 
-00032c30: 2020 2020 2020 2070 7269 6e74 2872 6561         print(rea
-00032c40: 6c2e 7061 7273 655f 7374 7269 6e67 2827  l.parse_string('
-00032c50: 332e 3134 3136 2729 2920 2320 2d3e 205b  3.1416')) # -> [
-00032c60: 2733 2e31 3431 3627 5d0a 2020 2020 2020  '3.1416'].      
-00032c70: 2020 2320 6e6f 206d 6174 6368 2077 6865    # no match whe
-00032c80: 6e20 7468 6572 6520 6172 6520 696e 7465  n there are inte
-00032c90: 726e 616c 2073 7061 6365 730a 2020 2020  rnal spaces.    
-00032ca0: 2020 2020 7072 696e 7428 7265 616c 2e70      print(real.p
-00032cb0: 6172 7365 5f73 7472 696e 6728 2733 2e20  arse_string('3. 
-00032cc0: 3134 3136 2729 2920 2320 2d3e 2045 7863  1416')) # -> Exc
-00032cd0: 6570 7469 6f6e 3a20 4578 7065 6374 6564  eption: Expected
-00032ce0: 2057 3a28 3031 3233 2e2e 2e29 0a20 2020   W:(0123...).   
-00032cf0: 2022 2222 0a0a 2020 2020 6465 6620 5f5f   """..    def __
-00032d00: 696e 6974 5f5f 280a 2020 2020 2020 2020  init__(.        
-00032d10: 7365 6c66 2c0a 2020 2020 2020 2020 6578  self,.        ex
-00032d20: 7072 3a20 5061 7273 6572 456c 656d 656e  pr: ParserElemen
-00032d30: 742c 0a20 2020 2020 2020 206a 6f69 6e5f  t,.        join_
-00032d40: 7374 7269 6e67 3a20 7374 7220 3d20 2222  string: str = ""
-00032d50: 2c0a 2020 2020 2020 2020 6164 6a61 6365  ,.        adjace
-00032d60: 6e74 3a20 626f 6f6c 203d 2054 7275 652c  nt: bool = True,
-00032d70: 0a20 2020 2020 2020 202a 2c0a 2020 2020  .        *,.    
-00032d80: 2020 2020 6a6f 696e 5374 7269 6e67 3a20      joinString: 
-00032d90: 7479 7069 6e67 2e4f 7074 696f 6e61 6c5b  typing.Optional[
-00032da0: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
-00032db0: 2029 3a0a 2020 2020 2020 2020 7375 7065   ):.        supe
-00032dc0: 7228 292e 5f5f 696e 6974 5f5f 2865 7870  r().__init__(exp
-00032dd0: 7229 0a20 2020 2020 2020 206a 6f69 6e53  r).        joinS
-00032de0: 7472 696e 6720 3d20 6a6f 696e 5374 7269  tring = joinStri
-00032df0: 6e67 2069 6620 6a6f 696e 5374 7269 6e67  ng if joinString
-00032e00: 2069 7320 6e6f 7420 4e6f 6e65 2065 6c73   is not None els
-00032e10: 6520 6a6f 696e 5f73 7472 696e 670a 2020  e join_string.  
-00032e20: 2020 2020 2020 2320 7375 7070 7265 7373        # suppress
-00032e30: 2077 6869 7465 7370 6163 652d 7374 7269   whitespace-stri
-00032e40: 7070 696e 6720 696e 2063 6f6e 7461 696e  pping in contain
-00032e50: 6564 2070 6172 7365 2065 7870 7265 7373  ed parse express
-00032e60: 696f 6e73 2c20 6275 7420 7265 2d65 6e61  ions, but re-ena
-00032e70: 626c 6520 6974 206f 6e20 7468 6520 436f  ble it on the Co
-00032e80: 6d62 696e 6520 6974 7365 6c66 0a20 2020  mbine itself.   
-00032e90: 2020 2020 2069 6620 6164 6a61 6365 6e74       if adjacent
-00032ea0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00032eb0: 6c66 2e6c 6561 7665 5f77 6869 7465 7370  lf.leave_whitesp
-00032ec0: 6163 6528 290a 2020 2020 2020 2020 7365  ace().        se
-00032ed0: 6c66 2e61 646a 6163 656e 7420 3d20 6164  lf.adjacent = ad
-00032ee0: 6a61 6365 6e74 0a20 2020 2020 2020 2073  jacent.        s
-00032ef0: 656c 662e 736b 6970 5768 6974 6573 7061  elf.skipWhitespa
-00032f00: 6365 203d 2054 7275 650a 2020 2020 2020  ce = True.      
-00032f10: 2020 7365 6c66 2e6a 6f69 6e53 7472 696e    self.joinStrin
-00032f20: 6720 3d20 6a6f 696e 5374 7269 6e67 0a20  g = joinString. 
-00032f30: 2020 2020 2020 2073 656c 662e 6361 6c6c         self.call
-00032f40: 5072 6570 6172 7365 203d 2054 7275 650a  Preparse = True.
-00032f50: 0a20 2020 2064 6566 2069 676e 6f72 6528  .    def ignore(
-00032f60: 7365 6c66 2c20 6f74 6865 7229 202d 3e20  self, other) -> 
-00032f70: 5061 7273 6572 456c 656d 656e 743a 0a20  ParserElement:. 
-00032f80: 2020 2020 2020 2069 6620 7365 6c66 2e61         if self.a
-00032f90: 646a 6163 656e 743a 0a20 2020 2020 2020  djacent:.       
-00032fa0: 2020 2020 2050 6172 7365 7245 6c65 6d65       ParserEleme
-00032fb0: 6e74 2e69 676e 6f72 6528 7365 6c66 2c20  nt.ignore(self, 
-00032fc0: 6f74 6865 7229 0a20 2020 2020 2020 2065  other).        e
-00032fd0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00032fe0: 2073 7570 6572 2829 2e69 676e 6f72 6528   super().ignore(
-00032ff0: 6f74 6865 7229 0a20 2020 2020 2020 2072  other).        r
-00033000: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
-00033010: 6465 6620 706f 7374 5061 7273 6528 7365  def postParse(se
-00033020: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
-00033030: 632c 2074 6f6b 656e 6c69 7374 293a 0a20  c, tokenlist):. 
-00033040: 2020 2020 2020 2072 6574 546f 6b73 203d         retToks =
-00033050: 2074 6f6b 656e 6c69 7374 2e63 6f70 7928   tokenlist.copy(
-00033060: 290a 2020 2020 2020 2020 6465 6c20 7265  ).        del re
-00033070: 7454 6f6b 735b 3a5d 0a20 2020 2020 2020  tToks[:].       
-00033080: 2072 6574 546f 6b73 202b 3d20 5061 7273   retToks += Pars
-00033090: 6552 6573 756c 7473 280a 2020 2020 2020  eResults(.      
-000330a0: 2020 2020 2020 5b22 222e 6a6f 696e 2874        ["".join(t
-000330b0: 6f6b 656e 6c69 7374 2e5f 6173 5374 7269  okenlist._asStri
-000330c0: 6e67 4c69 7374 2873 656c 662e 6a6f 696e  ngList(self.join
-000330d0: 5374 7269 6e67 2929 5d2c 206d 6f64 616c  String))], modal
-000330e0: 3d73 656c 662e 6d6f 6461 6c52 6573 756c  =self.modalResul
-000330f0: 7473 0a20 2020 2020 2020 2029 0a0a 2020  ts.        )..  
-00033100: 2020 2020 2020 6966 2073 656c 662e 7265        if self.re
-00033110: 7375 6c74 734e 616d 6520 616e 6420 7265  sultsName and re
-00033120: 7454 6f6b 732e 6861 736b 6579 7328 293a  tToks.haskeys():
-00033130: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00033140: 7572 6e20 5b72 6574 546f 6b73 5d0a 2020  urn [retToks].  
-00033150: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00033160: 2020 2020 2020 2020 7265 7475 726e 2072          return r
-00033170: 6574 546f 6b73 0a0a 0a63 6c61 7373 2047  etToks...class G
-00033180: 726f 7570 2854 6f6b 656e 436f 6e76 6572  roup(TokenConver
-00033190: 7465 7229 3a0a 2020 2020 2222 2243 6f6e  ter):.    """Con
-000331a0: 7665 7274 6572 2074 6f20 7265 7475 726e  verter to return
-000331b0: 2074 6865 206d 6174 6368 6564 2074 6f6b   the matched tok
-000331c0: 656e 7320 6173 2061 206c 6973 7420 2d20  ens as a list - 
-000331d0: 7573 6566 756c 2066 6f72 0a20 2020 2072  useful for.    r
-000331e0: 6574 7572 6e69 6e67 2074 6f6b 656e 7320  eturning tokens 
-000331f0: 6f66 203a 636c 6173 733a 605a 6572 6f4f  of :class:`ZeroO
-00033200: 724d 6f72 6560 2061 6e64 203a 636c 6173  rMore` and :clas
-00033210: 733a 604f 6e65 4f72 4d6f 7265 6020 6578  s:`OneOrMore` ex
-00033220: 7072 6573 7369 6f6e 732e 0a0a 2020 2020  pressions...    
-00033230: 5468 6520 6f70 7469 6f6e 616c 2060 6061  The optional ``a
-00033240: 736c 6973 7460 6020 6172 6775 6d65 6e74  slist`` argument
-00033250: 2077 6865 6e20 7365 7420 746f 2054 7275   when set to Tru
-00033260: 6520 7769 6c6c 2072 6574 7572 6e20 7468  e will return th
-00033270: 650a 2020 2020 7061 7273 6564 2074 6f6b  e.    parsed tok
-00033280: 656e 7320 6173 2061 2050 7974 686f 6e20  ens as a Python 
-00033290: 6c69 7374 2069 6e73 7465 6164 206f 6620  list instead of 
-000332a0: 6120 7079 7061 7273 696e 6720 5061 7273  a pyparsing Pars
-000332b0: 6552 6573 756c 7473 2e0a 0a20 2020 2045  eResults...    E
-000332c0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
-000332d0: 2020 6964 656e 7420 3d20 576f 7264 2861    ident = Word(a
-000332e0: 6c70 6861 7329 0a20 2020 2020 2020 206e  lphas).        n
-000332f0: 756d 203d 2057 6f72 6428 6e75 6d73 290a  um = Word(nums).
-00033300: 2020 2020 2020 2020 7465 726d 203d 2069          term = i
-00033310: 6465 6e74 207c 206e 756d 0a20 2020 2020  dent | num.     
-00033320: 2020 2066 756e 6320 3d20 6964 656e 7420     func = ident 
-00033330: 2b20 4f70 7428 6465 6c69 6d69 7465 645f  + Opt(delimited_
-00033340: 6c69 7374 2874 6572 6d29 290a 2020 2020  list(term)).    
-00033350: 2020 2020 7072 696e 7428 6675 6e63 2e70      print(func.p
-00033360: 6172 7365 5f73 7472 696e 6728 2266 6e20  arse_string("fn 
-00033370: 612c 2062 2c20 3130 3022 2929 0a20 2020  a, b, 100")).   
-00033380: 2020 2020 2023 202d 3e20 5b27 666e 272c       # -> ['fn',
-00033390: 2027 6127 2c20 2762 272c 2027 3130 3027   'a', 'b', '100'
-000333a0: 5d0a 0a20 2020 2020 2020 2066 756e 6320  ]..        func 
-000333b0: 3d20 6964 656e 7420 2b20 4772 6f75 7028  = ident + Group(
-000333c0: 4f70 7428 6465 6c69 6d69 7465 645f 6c69  Opt(delimited_li
-000333d0: 7374 2874 6572 6d29 2929 0a20 2020 2020  st(term))).     
-000333e0: 2020 2070 7269 6e74 2866 756e 632e 7061     print(func.pa
-000333f0: 7273 655f 7374 7269 6e67 2822 666e 2061  rse_string("fn a
-00033400: 2c20 622c 2031 3030 2229 290a 2020 2020  , b, 100")).    
-00033410: 2020 2020 2320 2d3e 205b 2766 6e27 2c20      # -> ['fn', 
-00033420: 5b27 6127 2c20 2762 272c 2027 3130 3027  ['a', 'b', '100'
-00033430: 5d5d 0a20 2020 2022 2222 0a0a 2020 2020  ]].    """..    
-00033440: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
-00033450: 662c 2065 7870 723a 2050 6172 7365 7245  f, expr: ParserE
-00033460: 6c65 6d65 6e74 2c20 6173 6c69 7374 3a20  lement, aslist: 
-00033470: 626f 6f6c 203d 2046 616c 7365 293a 0a20  bool = False):. 
-00033480: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
-00033490: 5f69 6e69 745f 5f28 6578 7072 290a 2020  _init__(expr).  
-000334a0: 2020 2020 2020 7365 6c66 2e73 6176 6541        self.saveA
-000334b0: 734c 6973 7420 3d20 5472 7565 0a20 2020  sList = True.   
-000334c0: 2020 2020 2073 656c 662e 5f61 7350 7974       self._asPyt
-000334d0: 686f 6e4c 6973 7420 3d20 6173 6c69 7374  honList = aslist
-000334e0: 0a0a 2020 2020 6465 6620 706f 7374 5061  ..    def postPa
-000334f0: 7273 6528 7365 6c66 2c20 696e 7374 7269  rse(self, instri
-00033500: 6e67 2c20 6c6f 632c 2074 6f6b 656e 6c69  ng, loc, tokenli
-00033510: 7374 293a 0a20 2020 2020 2020 2069 6620  st):.        if 
-00033520: 7365 6c66 2e5f 6173 5079 7468 6f6e 4c69  self._asPythonLi
-00033530: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
-00033540: 7265 7475 726e 2050 6172 7365 5265 7375  return ParseResu
-00033550: 6c74 732e 4c69 7374 280a 2020 2020 2020  lts.List(.      
-00033560: 2020 2020 2020 2020 2020 746f 6b65 6e6c            tokenl
-00033570: 6973 742e 6173 4c69 7374 2829 0a20 2020  ist.asList().   
-00033580: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00033590: 6973 696e 7374 616e 6365 2874 6f6b 656e  isinstance(token
-000335a0: 6c69 7374 2c20 5061 7273 6552 6573 756c  list, ParseResul
-000335b0: 7473 290a 2020 2020 2020 2020 2020 2020  ts).            
-000335c0: 2020 2020 656c 7365 206c 6973 7428 746f      else list(to
-000335d0: 6b65 6e6c 6973 7429 0a20 2020 2020 2020  kenlist).       
-000335e0: 2020 2020 2029 0a20 2020 2020 2020 2065       ).        e
-000335f0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00033600: 2072 6574 7572 6e20 5b74 6f6b 656e 6c69   return [tokenli
-00033610: 7374 5d0a 0a0a 636c 6173 7320 4469 6374  st]...class Dict
-00033620: 2854 6f6b 656e 436f 6e76 6572 7465 7229  (TokenConverter)
-00033630: 3a0a 2020 2020 2222 2243 6f6e 7665 7274  :.    """Convert
-00033640: 6572 2074 6f20 7265 7475 726e 2061 2072  er to return a r
-00033650: 6570 6574 6974 6976 6520 6578 7072 6573  epetitive expres
-00033660: 7369 6f6e 2061 7320 6120 6c69 7374 2c20  sion as a list, 
-00033670: 6275 7420 616c 736f 0a20 2020 2061 7320  but also.    as 
-00033680: 6120 6469 6374 696f 6e61 7279 2e20 4561  a dictionary. Ea
-00033690: 6368 2065 6c65 6d65 6e74 2063 616e 2061  ch element can a
-000336a0: 6c73 6f20 6265 2072 6566 6572 656e 6365  lso be reference
-000336b0: 6420 7573 696e 6720 7468 6520 6669 7273  d using the firs
-000336c0: 740a 2020 2020 746f 6b65 6e20 696e 2074  t.    token in t
-000336d0: 6865 2065 7870 7265 7373 696f 6e20 6173  he expression as
-000336e0: 2069 7473 206b 6579 2e20 5573 6566 756c   its key. Useful
-000336f0: 2066 6f72 2074 6162 756c 6172 2072 6570   for tabular rep
-00033700: 6f72 740a 2020 2020 7363 7261 7069 6e67  ort.    scraping
-00033710: 2077 6865 6e20 7468 6520 6669 7273 7420   when the first 
-00033720: 636f 6c75 6d6e 2063 616e 2062 6520 7573  column can be us
-00033730: 6564 2061 7320 6120 6974 656d 206b 6579  ed as a item key
-00033740: 2e0a 0a20 2020 2054 6865 206f 7074 696f  ...    The optio
-00033750: 6e61 6c20 6060 6173 6469 6374 6060 2061  nal ``asdict`` a
-00033760: 7267 756d 656e 7420 7768 656e 2073 6574  rgument when set
-00033770: 2074 6f20 5472 7565 2077 696c 6c20 7265   to True will re
-00033780: 7475 726e 2074 6865 0a20 2020 2070 6172  turn the.    par
-00033790: 7365 6420 746f 6b65 6e73 2061 7320 6120  sed tokens as a 
-000337a0: 5079 7468 6f6e 2064 6963 7420 696e 7374  Python dict inst
-000337b0: 6561 6420 6f66 2061 2070 7970 6172 7369  ead of a pyparsi
-000337c0: 6e67 2050 6172 7365 5265 7375 6c74 732e  ng ParseResults.
-000337d0: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
-000337e0: 0a20 2020 2020 2020 2064 6174 615f 776f  .        data_wo
-000337f0: 7264 203d 2057 6f72 6428 616c 7068 6173  rd = Word(alphas
-00033800: 290a 2020 2020 2020 2020 6c61 6265 6c20  ).        label 
-00033810: 3d20 6461 7461 5f77 6f72 6420 2b20 466f  = data_word + Fo
-00033820: 6c6c 6f77 6564 4279 2827 3a27 290a 0a20  llowedBy(':').. 
-00033830: 2020 2020 2020 2074 6578 7420 3d20 2273         text = "s
-00033840: 6861 7065 3a20 5351 5541 5245 2070 6f73  hape: SQUARE pos
-00033850: 6e3a 2075 7070 6572 206c 6566 7420 636f  n: upper left co
-00033860: 6c6f 723a 206c 6967 6874 2062 6c75 6520  lor: light blue 
-00033870: 7465 7874 7572 653a 2062 7572 6c61 7022  texture: burlap"
-00033880: 0a20 2020 2020 2020 2061 7474 725f 6578  .        attr_ex
-00033890: 7072 203d 2028 6c61 6265 6c20 2b20 5375  pr = (label + Su
-000338a0: 7070 7265 7373 2827 3a27 2920 2b20 4f6e  ppress(':') + On
-000338b0: 654f 724d 6f72 6528 6461 7461 5f77 6f72  eOrMore(data_wor
-000338c0: 642c 2073 746f 705f 6f6e 3d6c 6162 656c  d, stop_on=label
-000338d0: 292e 7365 745f 7061 7273 655f 6163 7469  ).set_parse_acti
-000338e0: 6f6e 2827 2027 2e6a 6f69 6e29 290a 0a20  on(' '.join)).. 
-000338f0: 2020 2020 2020 2023 2070 7269 6e74 2061         # print a
-00033900: 7474 7269 6275 7465 7320 6173 2070 6c61  ttributes as pla
-00033910: 696e 2067 726f 7570 730a 2020 2020 2020  in groups.      
-00033920: 2020 7072 696e 7428 6174 7472 5f65 7870    print(attr_exp
-00033930: 725b 312c 202e 2e2e 5d2e 7061 7273 655f  r[1, ...].parse_
-00033940: 7374 7269 6e67 2874 6578 7429 2e64 756d  string(text).dum
-00033950: 7028 2929 0a0a 2020 2020 2020 2020 2320  p())..        # 
-00033960: 696e 7374 6561 6420 6f66 204f 6e65 4f72  instead of OneOr
-00033970: 4d6f 7265 2865 7870 7229 2c20 7061 7273  More(expr), pars
-00033980: 6520 7573 696e 6720 4469 6374 2847 726f  e using Dict(Gro
-00033990: 7570 2865 7870 7229 5b31 2c20 2e2e 2e5d  up(expr)[1, ...]
-000339a0: 2920 2d20 4469 6374 2077 696c 6c20 6175  ) - Dict will au
-000339b0: 746f 2d61 7373 6967 6e20 6e61 6d65 730a  to-assign names.
-000339c0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-000339d0: 2044 6963 7428 4772 6f75 7028 6174 7472   Dict(Group(attr
-000339e0: 5f65 7870 7229 5b31 2c20 2e2e 2e5d 292e  _expr)[1, ...]).
-000339f0: 7061 7273 655f 7374 7269 6e67 2874 6578  parse_string(tex
-00033a00: 7429 0a20 2020 2020 2020 2070 7269 6e74  t).        print
-00033a10: 2872 6573 756c 742e 6475 6d70 2829 290a  (result.dump()).
-00033a20: 0a20 2020 2020 2020 2023 2061 6363 6573  .        # acces
-00033a30: 7320 6e61 6d65 6420 6669 656c 6473 2061  s named fields a
-00033a40: 7320 6469 6374 2065 6e74 7269 6573 2c20  s dict entries, 
-00033a50: 6f72 206f 7574 7075 7420 6173 2064 6963  or output as dic
-00033a60: 740a 2020 2020 2020 2020 7072 696e 7428  t.        print(
-00033a70: 7265 7375 6c74 5b27 7368 6170 6527 5d29  result['shape'])
-00033a80: 0a20 2020 2020 2020 2070 7269 6e74 2872  .        print(r
-00033a90: 6573 756c 742e 6173 5f64 6963 7428 2929  esult.as_dict())
-00033aa0: 0a0a 2020 2020 7072 696e 7473 3a3a 0a0a  ..    prints::..
-00033ab0: 2020 2020 2020 2020 5b27 7368 6170 6527          ['shape'
-00033ac0: 2c20 2753 5155 4152 4527 2c20 2770 6f73  , 'SQUARE', 'pos
-00033ad0: 6e27 2c20 2775 7070 6572 206c 6566 7427  n', 'upper left'
-00033ae0: 2c20 2763 6f6c 6f72 272c 2027 6c69 6768  , 'color', 'ligh
-00033af0: 7420 626c 7565 272c 2027 7465 7874 7572  t blue', 'textur
-00033b00: 6527 2c20 2762 7572 6c61 7027 5d0a 2020  e', 'burlap'].  
-00033b10: 2020 2020 2020 5b5b 2773 6861 7065 272c        [['shape',
-00033b20: 2027 5351 5541 5245 275d 2c20 5b27 706f   'SQUARE'], ['po
-00033b30: 736e 272c 2027 7570 7065 7220 6c65 6674  sn', 'upper left
-00033b40: 275d 2c20 5b27 636f 6c6f 7227 2c20 276c  '], ['color', 'l
-00033b50: 6967 6874 2062 6c75 6527 5d2c 205b 2774  ight blue'], ['t
-00033b60: 6578 7475 7265 272c 2027 6275 726c 6170  exture', 'burlap
-00033b70: 275d 5d0a 2020 2020 2020 2020 2d20 636f  ']].        - co
-00033b80: 6c6f 723a 2027 6c69 6768 7420 626c 7565  lor: 'light blue
-00033b90: 270a 2020 2020 2020 2020 2d20 706f 736e  '.        - posn
-00033ba0: 3a20 2775 7070 6572 206c 6566 7427 0a20  : 'upper left'. 
-00033bb0: 2020 2020 2020 202d 2073 6861 7065 3a20         - shape: 
-00033bc0: 2753 5155 4152 4527 0a20 2020 2020 2020  'SQUARE'.       
-00033bd0: 202d 2074 6578 7475 7265 3a20 2762 7572   - texture: 'bur
-00033be0: 6c61 7027 0a20 2020 2020 2020 2053 5155  lap'.        SQU
-00033bf0: 4152 450a 2020 2020 2020 2020 7b27 636f  ARE.        {'co
-00033c00: 6c6f 7227 3a20 276c 6967 6874 2062 6c75  lor': 'light blu
-00033c10: 6527 2c20 2770 6f73 6e27 3a20 2775 7070  e', 'posn': 'upp
-00033c20: 6572 206c 6566 7427 2c20 2774 6578 7475  er left', 'textu
-00033c30: 7265 273a 2027 6275 726c 6170 272c 2027  re': 'burlap', '
-00033c40: 7368 6170 6527 3a20 2753 5155 4152 4527  shape': 'SQUARE'
-00033c50: 7d0a 0a20 2020 2053 6565 206d 6f72 6520  }..    See more 
-00033c60: 6578 616d 706c 6573 2061 7420 3a63 6c61  examples at :cla
-00033c70: 7373 3a60 5061 7273 6552 6573 756c 7473  ss:`ParseResults
-00033c80: 6020 6f66 2061 6363 6573 7369 6e67 2066  ` of accessing f
-00033c90: 6965 6c64 7320 6279 2072 6573 756c 7473  ields by results
-00033ca0: 206e 616d 652e 0a20 2020 2022 2222 0a0a   name..    """..
-00033cb0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-00033cc0: 2873 656c 662c 2065 7870 723a 2050 6172  (self, expr: Par
-00033cd0: 7365 7245 6c65 6d65 6e74 2c20 6173 6469  serElement, asdi
-00033ce0: 6374 3a20 626f 6f6c 203d 2046 616c 7365  ct: bool = False
-00033cf0: 293a 0a20 2020 2020 2020 2073 7570 6572  ):.        super
-00033d00: 2829 2e5f 5f69 6e69 745f 5f28 6578 7072  ().__init__(expr
-00033d10: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
-00033d20: 6176 6541 734c 6973 7420 3d20 5472 7565  aveAsList = True
-00033d30: 0a20 2020 2020 2020 2073 656c 662e 5f61  .        self._a
-00033d40: 7350 7974 686f 6e44 6963 7420 3d20 6173  sPythonDict = as
-00033d50: 6469 6374 0a0a 2020 2020 6465 6620 706f  dict..    def po
-00033d60: 7374 5061 7273 6528 7365 6c66 2c20 696e  stParse(self, in
-00033d70: 7374 7269 6e67 2c20 6c6f 632c 2074 6f6b  string, loc, tok
-00033d80: 656e 6c69 7374 293a 0a20 2020 2020 2020  enlist):.       
-00033d90: 2066 6f72 2069 2c20 746f 6b20 696e 2065   for i, tok in e
-00033da0: 6e75 6d65 7261 7465 2874 6f6b 656e 6c69  numerate(tokenli
-00033db0: 7374 293a 0a20 2020 2020 2020 2020 2020  st):.           
-00033dc0: 2069 6620 6c65 6e28 746f 6b29 203d 3d20   if len(tok) == 
-00033dd0: 303a 0a20 2020 2020 2020 2020 2020 2020  0:.             
-00033de0: 2020 2063 6f6e 7469 6e75 650a 0a20 2020     continue..   
-00033df0: 2020 2020 2020 2020 2069 6b65 7920 3d20           ikey = 
-00033e00: 746f 6b5b 305d 0a20 2020 2020 2020 2020  tok[0].         
-00033e10: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-00033e20: 2869 6b65 792c 2069 6e74 293a 0a20 2020  (ikey, int):.   
-00033e30: 2020 2020 2020 2020 2020 2020 2069 6b65               ike
-00033e40: 7920 3d20 7374 7228 696b 6579 292e 7374  y = str(ikey).st
-00033e50: 7269 7028 290a 0a20 2020 2020 2020 2020  rip()..         
-00033e60: 2020 2069 6620 6c65 6e28 746f 6b29 203d     if len(tok) =
-00033e70: 3d20 313a 0a20 2020 2020 2020 2020 2020  = 1:.           
-00033e80: 2020 2020 2074 6f6b 656e 6c69 7374 5b69       tokenlist[i
-00033e90: 6b65 795d 203d 205f 5061 7273 6552 6573  key] = _ParseRes
-00033ea0: 756c 7473 5769 7468 4f66 6673 6574 2822  ultsWithOffset("
-00033eb0: 222c 2069 290a 0a20 2020 2020 2020 2020  ", i)..         
-00033ec0: 2020 2065 6c69 6620 6c65 6e28 746f 6b29     elif len(tok)
-00033ed0: 203d 3d20 3220 616e 6420 6e6f 7420 6973   == 2 and not is
-00033ee0: 696e 7374 616e 6365 2874 6f6b 5b31 5d2c  instance(tok[1],
-00033ef0: 2050 6172 7365 5265 7375 6c74 7329 3a0a   ParseResults):.
-00033f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033f10: 746f 6b65 6e6c 6973 745b 696b 6579 5d20  tokenlist[ikey] 
-00033f20: 3d20 5f50 6172 7365 5265 7375 6c74 7357  = _ParseResultsW
-00033f30: 6974 684f 6666 7365 7428 746f 6b5b 315d  ithOffset(tok[1]
-00033f40: 2c20 6929 0a0a 2020 2020 2020 2020 2020  , i)..          
-00033f50: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00033f60: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00033f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033f80: 2064 6963 7476 616c 7565 203d 2074 6f6b   dictvalue = tok
-00033f90: 2e63 6f70 7928 2920 2023 2050 6172 7365  .copy()  # Parse
-00033fa0: 5265 7375 6c74 7328 6929 0a20 2020 2020  Results(i).     
-00033fb0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-00033fc0: 7420 4578 6365 7074 696f 6e3a 0a20 2020  t Exception:.   
-00033fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033fe0: 2065 7863 203d 2054 7970 6545 7272 6f72   exc = TypeError
-00033ff0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00034000: 2020 2020 2020 2020 2020 2263 6f75 6c64            "could
-00034010: 206e 6f74 2065 7874 7261 6374 2064 6963   not extract dic
-00034020: 7420 7661 6c75 6573 2066 726f 6d20 7061  t values from pa
-00034030: 7273 6564 2072 6573 756c 7473 220a 2020  rsed results".  
-00034040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034050: 2020 2020 2020 2220 2d20 4469 6374 2065        " - Dict e
-00034060: 7870 7265 7373 696f 6e20 6d75 7374 2063  xpression must c
-00034070: 6f6e 7461 696e 2047 726f 7570 6564 2065  ontain Grouped e
-00034080: 7870 7265 7373 696f 6e73 220a 2020 2020  xpressions".    
-00034090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000340a0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000340b0: 2020 2020 2020 7261 6973 6520 6578 6320        raise exc 
-000340c0: 6672 6f6d 204e 6f6e 650a 0a20 2020 2020  from None..     
-000340d0: 2020 2020 2020 2020 2020 2064 656c 2064             del d
-000340e0: 6963 7476 616c 7565 5b30 5d0a 0a20 2020  ictvalue[0]..   
-000340f0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00034100: 6c65 6e28 6469 6374 7661 6c75 6529 2021  len(dictvalue) !
-00034110: 3d20 3120 6f72 2028 0a20 2020 2020 2020  = 1 or (.       
-00034120: 2020 2020 2020 2020 2020 2020 2069 7369               isi
-00034130: 6e73 7461 6e63 6528 6469 6374 7661 6c75  nstance(dictvalu
-00034140: 652c 2050 6172 7365 5265 7375 6c74 7329  e, ParseResults)
-00034150: 2061 6e64 2064 6963 7476 616c 7565 2e68   and dictvalue.h
-00034160: 6173 6b65 7973 2829 0a20 2020 2020 2020  askeys().       
-00034170: 2020 2020 2020 2020 2029 3a0a 2020 2020           ):.    
-00034180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034190: 746f 6b65 6e6c 6973 745b 696b 6579 5d20  tokenlist[ikey] 
-000341a0: 3d20 5f50 6172 7365 5265 7375 6c74 7357  = _ParseResultsW
-000341b0: 6974 684f 6666 7365 7428 6469 6374 7661  ithOffset(dictva
-000341c0: 6c75 652c 2069 290a 2020 2020 2020 2020  lue, i).        
-000341d0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-000341e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000341f0: 2020 746f 6b65 6e6c 6973 745b 696b 6579    tokenlist[ikey
-00034200: 5d20 3d20 5f50 6172 7365 5265 7375 6c74  ] = _ParseResult
-00034210: 7357 6974 684f 6666 7365 7428 6469 6374  sWithOffset(dict
-00034220: 7661 6c75 655b 305d 2c20 6929 0a0a 2020  value[0], i)..  
-00034230: 2020 2020 2020 6966 2073 656c 662e 5f61        if self._a
-00034240: 7350 7974 686f 6e44 6963 743a 0a20 2020  sPythonDict:.   
-00034250: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00034260: 5b74 6f6b 656e 6c69 7374 2e61 735f 6469  [tokenlist.as_di
-00034270: 6374 2829 5d20 6966 2073 656c 662e 7265  ct()] if self.re
-00034280: 7375 6c74 734e 616d 6520 656c 7365 2074  sultsName else t
-00034290: 6f6b 656e 6c69 7374 2e61 735f 6469 6374  okenlist.as_dict
-000342a0: 2829 0a20 2020 2020 2020 2065 6c73 653a  ().        else:
-000342b0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-000342c0: 7572 6e20 5b74 6f6b 656e 6c69 7374 5d20  urn [tokenlist] 
-000342d0: 6966 2073 656c 662e 7265 7375 6c74 734e  if self.resultsN
-000342e0: 616d 6520 656c 7365 2074 6f6b 656e 6c69  ame else tokenli
-000342f0: 7374 0a0a 0a63 6c61 7373 2053 7570 7072  st...class Suppr
-00034300: 6573 7328 546f 6b65 6e43 6f6e 7665 7274  ess(TokenConvert
-00034310: 6572 293a 0a20 2020 2022 2222 436f 6e76  er):.    """Conv
-00034320: 6572 7465 7220 666f 7220 6967 6e6f 7269  erter for ignori
-00034330: 6e67 2074 6865 2072 6573 756c 7473 206f  ng the results o
-00034340: 6620 6120 7061 7273 6564 2065 7870 7265  f a parsed expre
-00034350: 7373 696f 6e2e 0a0a 2020 2020 4578 616d  ssion...    Exam
-00034360: 706c 653a 3a0a 0a20 2020 2020 2020 2073  ple::..        s
-00034370: 6f75 7263 6520 3d20 2261 2c20 622c 2063  ource = "a, b, c
-00034380: 2c64 220a 2020 2020 2020 2020 7764 203d  ,d".        wd =
-00034390: 2057 6f72 6428 616c 7068 6173 290a 2020   Word(alphas).  
-000343a0: 2020 2020 2020 7764 5f6c 6973 7431 203d        wd_list1 =
-000343b0: 2077 6420 2b20 2827 2c27 202b 2077 6429   wd + (',' + wd)
-000343c0: 5b2e 2e2e 5d0a 2020 2020 2020 2020 7072  [...].        pr
-000343d0: 696e 7428 7764 5f6c 6973 7431 2e70 6172  int(wd_list1.par
-000343e0: 7365 5f73 7472 696e 6728 736f 7572 6365  se_string(source
-000343f0: 2929 0a0a 2020 2020 2020 2020 2320 6f66  ))..        # of
-00034400: 7465 6e2c 2064 656c 696d 6974 6572 7320  ten, delimiters 
-00034410: 7468 6174 2061 7265 2075 7365 6675 6c20  that are useful 
-00034420: 6475 7269 6e67 2070 6172 7369 6e67 2061  during parsing a
-00034430: 7265 206a 7573 7420 696e 2074 6865 0a20  re just in the. 
-00034440: 2020 2020 2020 2023 2077 6179 2061 6674         # way aft
-00034450: 6572 7761 7264 202d 2075 7365 2053 7570  erward - use Sup
-00034460: 7072 6573 7320 746f 206b 6565 7020 7468  press to keep th
-00034470: 656d 206f 7574 206f 6620 7468 6520 7061  em out of the pa
-00034480: 7273 6564 206f 7574 7075 740a 2020 2020  rsed output.    
-00034490: 2020 2020 7764 5f6c 6973 7432 203d 2077      wd_list2 = w
-000344a0: 6420 2b20 2853 7570 7072 6573 7328 272c  d + (Suppress(',
-000344b0: 2729 202b 2077 6429 5b2e 2e2e 5d0a 2020  ') + wd)[...].  
-000344c0: 2020 2020 2020 7072 696e 7428 7764 5f6c        print(wd_l
-000344d0: 6973 7432 2e70 6172 7365 5f73 7472 696e  ist2.parse_strin
-000344e0: 6728 736f 7572 6365 2929 0a0a 2020 2020  g(source))..    
-000344f0: 2020 2020 2320 536b 6970 7065 6420 7465      # Skipped te
-00034500: 7874 2028 7573 696e 6720 272e 2e2e 2729  xt (using '...')
-00034510: 2063 616e 2062 6520 7375 7070 7265 7373   can be suppress
-00034520: 6564 2061 7320 7765 6c6c 0a20 2020 2020  ed as well.     
-00034530: 2020 2073 6f75 7263 6520 3d20 226c 6561     source = "lea
-00034540: 6420 696e 2053 5441 5254 2072 656c 6576  d in START relev
-00034550: 616e 7420 7465 7874 2045 4e44 2074 7261  ant text END tra
-00034560: 696c 696e 6720 7465 7874 220a 2020 2020  iling text".    
-00034570: 2020 2020 7374 6172 745f 6d61 726b 6572      start_marker
-00034580: 203d 204b 6579 776f 7264 2822 5354 4152   = Keyword("STAR
-00034590: 5422 290a 2020 2020 2020 2020 656e 645f  T").        end_
-000345a0: 6d61 726b 6572 203d 204b 6579 776f 7264  marker = Keyword
-000345b0: 2822 454e 4422 290a 2020 2020 2020 2020  ("END").        
-000345c0: 6669 6e64 5f62 6f64 7920 3d20 5375 7070  find_body = Supp
-000345d0: 7265 7373 282e 2e2e 2920 2b20 7374 6172  ress(...) + star
-000345e0: 745f 6d61 726b 6572 202b 202e 2e2e 202b  t_marker + ... +
-000345f0: 2065 6e64 5f6d 6172 6b65 720a 2020 2020   end_marker.    
-00034600: 2020 2020 7072 696e 7428 6669 6e64 5f62      print(find_b
-00034610: 6f64 792e 7061 7273 655f 7374 7269 6e67  ody.parse_string
-00034620: 2873 6f75 7263 6529 0a0a 2020 2020 7072  (source)..    pr
-00034630: 696e 7473 3a3a 0a0a 2020 2020 2020 2020  ints::..        
-00034640: 5b27 6127 2c20 272c 272c 2027 6227 2c20  ['a', ',', 'b', 
-00034650: 272c 272c 2027 6327 2c20 272c 272c 2027  ',', 'c', ',', '
-00034660: 6427 5d0a 2020 2020 2020 2020 5b27 6127  d'].        ['a'
-00034670: 2c20 2762 272c 2027 6327 2c20 2764 275d  , 'b', 'c', 'd']
-00034680: 0a20 2020 2020 2020 205b 2753 5441 5254  .        ['START
-00034690: 272c 2027 7265 6c65 7661 6e74 2074 6578  ', 'relevant tex
-000346a0: 7420 272c 2027 454e 4427 5d0a 0a20 2020  t ', 'END']..   
-000346b0: 2028 5365 6520 616c 736f 203a 636c 6173   (See also :clas
-000346c0: 733a 6064 656c 696d 6974 6564 5f6c 6973  s:`delimited_lis
-000346d0: 7460 2e29 0a20 2020 2022 2222 0a0a 2020  t`.).    """..  
-000346e0: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
-000346f0: 656c 662c 2065 7870 723a 2055 6e69 6f6e  elf, expr: Union
-00034700: 5b50 6172 7365 7245 6c65 6d65 6e74 2c20  [ParserElement, 
-00034710: 7374 725d 2c20 7361 7665 6c69 7374 3a20  str], savelist: 
-00034720: 626f 6f6c 203d 2046 616c 7365 293a 0a20  bool = False):. 
-00034730: 2020 2020 2020 2069 6620 6578 7072 2069         if expr i
-00034740: 7320 2e2e 2e3a 0a20 2020 2020 2020 2020  s ...:.         
-00034750: 2020 2065 7870 7220 3d20 5f50 656e 6469     expr = _Pendi
-00034760: 6e67 536b 6970 284e 6f4d 6174 6368 2829  ngSkip(NoMatch()
-00034770: 290a 2020 2020 2020 2020 7375 7065 7228  ).        super(
-00034780: 292e 5f5f 696e 6974 5f5f 2865 7870 7229  ).__init__(expr)
-00034790: 0a0a 2020 2020 6465 6620 5f5f 6164 645f  ..    def __add_
-000347a0: 5f28 7365 6c66 2c20 6f74 6865 7229 202d  _(self, other) -
-000347b0: 3e20 2250 6172 7365 7245 6c65 6d65 6e74  > "ParserElement
-000347c0: 223a 0a20 2020 2020 2020 2069 6620 6973  ":.        if is
-000347d0: 696e 7374 616e 6365 2873 656c 662e 6578  instance(self.ex
-000347e0: 7072 2c20 5f50 656e 6469 6e67 536b 6970  pr, _PendingSkip
-000347f0: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
-00034800: 6574 7572 6e20 5375 7070 7265 7373 2853  eturn Suppress(S
-00034810: 6b69 7054 6f28 6f74 6865 7229 2920 2b20  kipTo(other)) + 
-00034820: 6f74 6865 720a 2020 2020 2020 2020 656c  other.        el
-00034830: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00034840: 7265 7475 726e 2073 7570 6572 2829 2e5f  return super()._
-00034850: 5f61 6464 5f5f 286f 7468 6572 290a 0a20  _add__(other).. 
-00034860: 2020 2064 6566 205f 5f73 7562 5f5f 2873     def __sub__(s
-00034870: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
-00034880: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
-00034890: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-000348a0: 7461 6e63 6528 7365 6c66 2e65 7870 722c  tance(self.expr,
-000348b0: 205f 5065 6e64 696e 6753 6b69 7029 3a0a   _PendingSkip):.
-000348c0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-000348d0: 726e 2053 7570 7072 6573 7328 536b 6970  rn Suppress(Skip
-000348e0: 546f 286f 7468 6572 2929 202d 206f 7468  To(other)) - oth
-000348f0: 6572 0a20 2020 2020 2020 2065 6c73 653a  er.        else:
-00034900: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00034910: 7572 6e20 7375 7065 7228 292e 5f5f 7375  urn super().__su
-00034920: 625f 5f28 6f74 6865 7229 0a0a 2020 2020  b__(other)..    
-00034930: 6465 6620 706f 7374 5061 7273 6528 7365  def postParse(se
-00034940: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
-00034950: 632c 2074 6f6b 656e 6c69 7374 293a 0a20  c, tokenlist):. 
-00034960: 2020 2020 2020 2072 6574 7572 6e20 5b5d         return []
-00034970: 0a0a 2020 2020 6465 6620 7375 7070 7265  ..    def suppre
-00034980: 7373 2873 656c 6629 202d 3e20 5061 7273  ss(self) -> Pars
-00034990: 6572 456c 656d 656e 743a 0a20 2020 2020  erElement:.     
-000349a0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-000349b0: 0a64 6566 2074 7261 6365 5f70 6172 7365  .def trace_parse
-000349c0: 5f61 6374 696f 6e28 663a 2050 6172 7365  _action(f: Parse
-000349d0: 4163 7469 6f6e 2920 2d3e 2050 6172 7365  Action) -> Parse
-000349e0: 4163 7469 6f6e 3a0a 2020 2020 2222 2244  Action:.    """D
-000349f0: 6563 6f72 6174 6f72 2066 6f72 2064 6562  ecorator for deb
-00034a00: 7567 6769 6e67 2070 6172 7365 2061 6374  ugging parse act
-00034a10: 696f 6e73 2e0a 0a20 2020 2057 6865 6e20  ions...    When 
-00034a20: 7468 6520 7061 7273 6520 6163 7469 6f6e  the parse action
-00034a30: 2069 7320 6361 6c6c 6564 2c20 7468 6973   is called, this
-00034a40: 2064 6563 6f72 6174 6f72 2077 696c 6c20   decorator will 
-00034a50: 7072 696e 740a 2020 2020 6060 223e 3e20  print.    ``">> 
-00034a60: 656e 7465 7269 6e67 206d 6574 686f 642d  entering method-
-00034a70: 6e61 6d65 286c 696e 653a 3c63 7572 7265  name(line:<curre
-00034a80: 6e74 5f73 6f75 7263 655f 6c69 6e65 3e2c  nt_source_line>,
-00034a90: 203c 7061 7273 655f 6c6f 6361 7469 6f6e   <parse_location
-00034aa0: 3e2c 203c 6d61 7463 6865 645f 746f 6b65  >, <matched_toke
-00034ab0: 6e73 3e29 2260 602e 0a20 2020 2057 6865  ns>)"``..    Whe
-00034ac0: 6e20 7468 6520 7061 7273 6520 6163 7469  n the parse acti
-00034ad0: 6f6e 2063 6f6d 706c 6574 6573 2c20 7468  on completes, th
-00034ae0: 6520 6465 636f 7261 746f 7220 7769 6c6c  e decorator will
-00034af0: 2070 7269 6e74 0a20 2020 2060 6022 3c3c   print.    ``"<<
-00034b00: 2260 6020 666f 6c6c 6f77 6564 2062 7920  "`` followed by 
-00034b10: 7468 6520 7265 7475 726e 6564 2076 616c  the returned val
-00034b20: 7565 2c20 6f72 2061 6e79 2065 7863 6570  ue, or any excep
-00034b30: 7469 6f6e 2074 6861 7420 7468 6520 7061  tion that the pa
-00034b40: 7273 6520 6163 7469 6f6e 2072 6169 7365  rse action raise
-00034b50: 642e 0a0a 2020 2020 4578 616d 706c 653a  d...    Example:
-00034b60: 3a0a 0a20 2020 2020 2020 2077 6420 3d20  :..        wd = 
-00034b70: 576f 7264 2861 6c70 6861 7329 0a0a 2020  Word(alphas)..  
-00034b80: 2020 2020 2020 4074 7261 6365 5f70 6172        @trace_par
-00034b90: 7365 5f61 6374 696f 6e0a 2020 2020 2020  se_action.      
-00034ba0: 2020 6465 6620 7265 6d6f 7665 5f64 7570    def remove_dup
-00034bb0: 6c69 6361 7465 5f63 6861 7273 2874 6f6b  licate_chars(tok
-00034bc0: 656e 7329 3a0a 2020 2020 2020 2020 2020  ens):.          
-00034bd0: 2020 7265 7475 726e 2027 272e 6a6f 696e    return ''.join
-00034be0: 2873 6f72 7465 6428 7365 7428 2727 2e6a  (sorted(set(''.j
-00034bf0: 6f69 6e28 746f 6b65 6e73 2929 2929 0a0a  oin(tokens))))..
-00034c00: 2020 2020 2020 2020 7764 7320 3d20 7764          wds = wd
-00034c10: 5b31 2c20 2e2e 2e5d 2e73 6574 5f70 6172  [1, ...].set_par
-00034c20: 7365 5f61 6374 696f 6e28 7265 6d6f 7665  se_action(remove
-00034c30: 5f64 7570 6c69 6361 7465 5f63 6861 7273  _duplicate_chars
-00034c40: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
-00034c50: 7764 732e 7061 7273 655f 7374 7269 6e67  wds.parse_string
-00034c60: 2822 736c 6b64 6a73 2073 6c64 2073 6c64  ("slkdjs sld sld
-00034c70: 6420 7364 6c66 2073 646c 6a66 2229 290a  d sdlf sdljf")).
-00034c80: 0a20 2020 2070 7269 6e74 733a 3a0a 0a20  .    prints::.. 
-00034c90: 2020 2020 2020 203e 3e65 6e74 6572 696e         >>enterin
-00034ca0: 6720 7265 6d6f 7665 5f64 7570 6c69 6361  g remove_duplica
-00034cb0: 7465 5f63 6861 7273 286c 696e 653a 2027  te_chars(line: '
-00034cc0: 736c 6b64 6a73 2073 6c64 2073 6c64 6420  slkdjs sld sldd 
-00034cd0: 7364 6c66 2073 646c 6a66 272c 2030 2c20  sdlf sdljf', 0, 
-00034ce0: 285b 2773 6c6b 646a 7327 2c20 2773 6c64  (['slkdjs', 'sld
-00034cf0: 272c 2027 736c 6464 272c 2027 7364 6c66  ', 'sldd', 'sdlf
-00034d00: 272c 2027 7364 6c6a 6627 5d2c 207b 7d29  ', 'sdljf'], {})
-00034d10: 290a 2020 2020 2020 2020 3c3c 6c65 6176  ).        <<leav
-00034d20: 696e 6720 7265 6d6f 7665 5f64 7570 6c69  ing remove_dupli
-00034d30: 6361 7465 5f63 6861 7273 2028 7265 743a  cate_chars (ret:
-00034d40: 2027 6466 6a6b 6c73 2729 0a20 2020 2020   'dfjkls').     
-00034d50: 2020 205b 2764 666a 6b6c 7327 5d0a 2020     ['dfjkls'].  
-00034d60: 2020 2222 220a 2020 2020 6620 3d20 5f74    """.    f = _t
-00034d70: 7269 6d5f 6172 6974 7928 6629 0a0a 2020  rim_arity(f)..  
-00034d80: 2020 6465 6620 7a28 2a70 6141 7267 7329    def z(*paArgs)
-00034d90: 3a0a 2020 2020 2020 2020 7468 6973 4675  :.        thisFu
-00034da0: 6e63 203d 2066 2e5f 5f6e 616d 655f 5f0a  nc = f.__name__.
-00034db0: 2020 2020 2020 2020 732c 206c 2c20 7420          s, l, t 
-00034dc0: 3d20 7061 4172 6773 5b2d 333a 5d0a 2020  = paArgs[-3:].  
-00034dd0: 2020 2020 2020 6966 206c 656e 2870 6141        if len(paA
-00034de0: 7267 7329 203e 2033 3a0a 2020 2020 2020  rgs) > 3:.      
-00034df0: 2020 2020 2020 7468 6973 4675 6e63 203d        thisFunc =
-00034e00: 2070 6141 7267 735b 305d 2e5f 5f63 6c61   paArgs[0].__cla
-00034e10: 7373 5f5f 2e5f 5f6e 616d 655f 5f20 2b20  ss__.__name__ + 
-00034e20: 222e 2220 2b20 7468 6973 4675 6e63 0a20  "." + thisFunc. 
-00034e30: 2020 2020 2020 2073 7973 2e73 7464 6572         sys.stder
-00034e40: 722e 7772 6974 6528 6622 3e3e 656e 7465  r.write(f">>ente
-00034e50: 7269 6e67 207b 7468 6973 4675 6e63 7d28  ring {thisFunc}(
-00034e60: 6c69 6e65 3a20 7b6c 696e 6528 6c2c 2073  line: {line(l, s
-00034e70: 2921 727d 2c20 7b6c 7d2c 207b 7421 727d  )!r}, {l}, {t!r}
-00034e80: 295c 6e22 290a 2020 2020 2020 2020 7472  )\n").        tr
-00034e90: 793a 0a20 2020 2020 2020 2020 2020 2072  y:.            r
-00034ea0: 6574 203d 2066 282a 7061 4172 6773 290a  et = f(*paArgs).
-00034eb0: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-00034ec0: 7863 6570 7469 6f6e 2061 7320 6578 633a  xception as exc:
-00034ed0: 0a20 2020 2020 2020 2020 2020 2073 7973  .            sys
-00034ee0: 2e73 7464 6572 722e 7772 6974 6528 6622  .stderr.write(f"
-00034ef0: 3c3c 6c65 6176 696e 6720 7b74 6869 7346  <<leaving {thisF
-00034f00: 756e 637d 2028 6578 6365 7074 696f 6e3a  unc} (exception:
-00034f10: 207b 6578 637d 295c 6e22 290a 2020 2020   {exc})\n").    
-00034f20: 2020 2020 2020 2020 7261 6973 650a 2020          raise.  
-00034f30: 2020 2020 2020 7379 732e 7374 6465 7272        sys.stderr
-00034f40: 2e77 7269 7465 2866 223c 3c6c 6561 7669  .write(f"<<leavi
-00034f50: 6e67 207b 7468 6973 4675 6e63 7d20 2872  ng {thisFunc} (r
-00034f60: 6574 3a20 7b72 6574 2172 7d29 5c6e 2229  et: {ret!r})\n")
-00034f70: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00034f80: 7265 740a 0a20 2020 207a 2e5f 5f6e 616d  ret..    z.__nam
-00034f90: 655f 5f20 3d20 662e 5f5f 6e61 6d65 5f5f  e__ = f.__name__
-00034fa0: 0a20 2020 2072 6574 7572 6e20 7a0a 0a0a  .    return z...
-00034fb0: 2320 636f 6e76 656e 6965 6e63 6520 636f  # convenience co
-00034fc0: 6e73 7461 6e74 7320 666f 7220 706f 7369  nstants for posi
-00034fd0: 7469 6f6e 616c 2065 7870 7265 7373 696f  tional expressio
-00034fe0: 6e73 0a65 6d70 7479 203d 2045 6d70 7479  ns.empty = Empty
-00034ff0: 2829 2e73 6574 5f6e 616d 6528 2265 6d70  ().set_name("emp
-00035000: 7479 2229 0a6c 696e 655f 7374 6172 7420  ty").line_start 
-00035010: 3d20 4c69 6e65 5374 6172 7428 292e 7365  = LineStart().se
-00035020: 745f 6e61 6d65 2822 6c69 6e65 5f73 7461  t_name("line_sta
-00035030: 7274 2229 0a6c 696e 655f 656e 6420 3d20  rt").line_end = 
-00035040: 4c69 6e65 456e 6428 292e 7365 745f 6e61  LineEnd().set_na
-00035050: 6d65 2822 6c69 6e65 5f65 6e64 2229 0a73  me("line_end").s
-00035060: 7472 696e 675f 7374 6172 7420 3d20 5374  tring_start = St
-00035070: 7269 6e67 5374 6172 7428 292e 7365 745f  ringStart().set_
-00035080: 6e61 6d65 2822 7374 7269 6e67 5f73 7461  name("string_sta
-00035090: 7274 2229 0a73 7472 696e 675f 656e 6420  rt").string_end 
-000350a0: 3d20 5374 7269 6e67 456e 6428 292e 7365  = StringEnd().se
-000350b0: 745f 6e61 6d65 2822 7374 7269 6e67 5f65  t_name("string_e
-000350c0: 6e64 2229 0a0a 5f65 7363 6170 6564 5075  nd").._escapedPu
-000350d0: 6e63 203d 2052 6567 6578 2872 225c 5c5b  nc = Regex(r"\\[
-000350e0: 5c5c 5b5c 5d5c 2f5c 2d5c 2a5c 2e5c 245c  \\[\]\/\-\*\.\$\
-000350f0: 2b5c 5e5c 3f28 297e 205d 2229 2e73 6574  +\^\?()~ ]").set
-00035100: 5f70 6172 7365 5f61 6374 696f 6e28 0a20  _parse_action(. 
-00035110: 2020 206c 616d 6264 6120 732c 206c 2c20     lambda s, l, 
-00035120: 743a 2074 5b30 5d5b 315d 0a29 0a5f 6573  t: t[0][1].)._es
-00035130: 6361 7065 6448 6578 4368 6172 203d 2052  capedHexChar = R
-00035140: 6567 6578 2872 225c 5c30 3f5b 7858 5d5b  egex(r"\\0?[xX][
-00035150: 302d 3961 2d66 412d 465d 2b22 292e 7365  0-9a-fA-F]+").se
-00035160: 745f 7061 7273 655f 6163 7469 6f6e 280a  t_parse_action(.
-00035170: 2020 2020 6c61 6d62 6461 2073 2c20 6c2c      lambda s, l,
-00035180: 2074 3a20 6368 7228 696e 7428 745b 305d   t: chr(int(t[0]
-00035190: 2e6c 7374 7269 7028 7222 5c30 7822 292c  .lstrip(r"\0x"),
-000351a0: 2031 3629 290a 290a 5f65 7363 6170 6564   16)).)._escaped
-000351b0: 4f63 7443 6861 7220 3d20 5265 6765 7828  OctChar = Regex(
-000351c0: 7222 5c5c 305b 302d 375d 2b22 292e 7365  r"\\0[0-7]+").se
-000351d0: 745f 7061 7273 655f 6163 7469 6f6e 280a  t_parse_action(.
-000351e0: 2020 2020 6c61 6d62 6461 2073 2c20 6c2c      lambda s, l,
-000351f0: 2074 3a20 6368 7228 696e 7428 745b 305d   t: chr(int(t[0]
-00035200: 5b31 3a5d 2c20 3829 290a 290a 5f73 696e  [1:], 8)).)._sin
-00035210: 676c 6543 6861 7220 3d20 280a 2020 2020  gleChar = (.    
-00035220: 5f65 7363 6170 6564 5075 6e63 207c 205f  _escapedPunc | _
-00035230: 6573 6361 7065 6448 6578 4368 6172 207c  escapedHexChar |
-00035240: 205f 6573 6361 7065 644f 6374 4368 6172   _escapedOctChar
-00035250: 207c 2043 6861 7273 4e6f 7449 6e28 7222   | CharsNotIn(r"
-00035260: 5c5d 222c 2065 7861 6374 3d31 290a 290a  \]", exact=1).).
-00035270: 5f63 6861 7252 616e 6765 203d 2047 726f  _charRange = Gro
-00035280: 7570 285f 7369 6e67 6c65 4368 6172 202b  up(_singleChar +
-00035290: 2053 7570 7072 6573 7328 222d 2229 202b   Suppress("-") +
-000352a0: 205f 7369 6e67 6c65 4368 6172 290a 5f72   _singleChar)._r
-000352b0: 6542 7261 636b 6574 4578 7072 203d 2028  eBracketExpr = (
-000352c0: 0a20 2020 204c 6974 6572 616c 2822 5b22  .    Literal("["
-000352d0: 290a 2020 2020 2b20 4f70 7428 225e 2229  ).    + Opt("^")
-000352e0: 2e73 6574 5f72 6573 756c 7473 5f6e 616d  .set_results_nam
-000352f0: 6528 226e 6567 6174 6522 290a 2020 2020  e("negate").    
-00035300: 2b20 4772 6f75 7028 4f6e 654f 724d 6f72  + Group(OneOrMor
-00035310: 6528 5f63 6861 7252 616e 6765 207c 205f  e(_charRange | _
-00035320: 7369 6e67 6c65 4368 6172 2929 2e73 6574  singleChar)).set
-00035330: 5f72 6573 756c 7473 5f6e 616d 6528 2262  _results_name("b
-00035340: 6f64 7922 290a 2020 2020 2b20 4c69 7465  ody").    + Lite
-00035350: 7261 6c28 225d 2229 0a29 0a0a 0a64 6566  ral("]").)...def
-00035360: 2073 7261 6e67 6528 733a 2073 7472 2920   srange(s: str) 
-00035370: 2d3e 2073 7472 3a0a 2020 2020 7222 2222  -> str:.    r"""
-00035380: 4865 6c70 6572 2074 6f20 6561 7369 6c79  Helper to easily
-00035390: 2064 6566 696e 6520 7374 7269 6e67 2072   define string r
-000353a0: 616e 6765 7320 666f 7220 7573 6520 696e  anges for use in
-000353b0: 203a 636c 6173 733a 6057 6f72 6460 0a20   :class:`Word`. 
-000353c0: 2020 2063 6f6e 7374 7275 6374 696f 6e2e     construction.
-000353d0: 2042 6f72 726f 7773 2073 796e 7461 7820   Borrows syntax 
-000353e0: 6672 6f6d 2072 6567 6578 7020 6060 275b  from regexp ``'[
-000353f0: 5d27 6060 2073 7472 696e 6720 7261 6e67  ]'`` string rang
-00035400: 650a 2020 2020 6465 6669 6e69 7469 6f6e  e.    definition
-00035410: 733a 3a0a 0a20 2020 2020 2020 2073 7261  s::..        sra
-00035420: 6e67 6528 225b 302d 395d 2229 2020 202d  nge("[0-9]")   -
-00035430: 3e20 2230 3132 3334 3536 3738 3922 0a20  > "0123456789". 
-00035440: 2020 2020 2020 2073 7261 6e67 6528 225b         srange("[
-00035450: 612d 7a5d 2229 2020 202d 3e20 2261 6263  a-z]")   -> "abc
-00035460: 6465 6667 6869 6a6b 6c6d 6e6f 7071 7273  defghijklmnopqrs
-00035470: 7475 7677 7879 7a22 0a20 2020 2020 2020  tuvwxyz".       
-00035480: 2073 7261 6e67 6528 225b 612d 7a24 5f5d   srange("[a-z$_]
-00035490: 2229 202d 3e20 2261 6263 6465 6667 6869  ") -> "abcdefghi
-000354a0: 6a6b 6c6d 6e6f 7071 7273 7475 7677 7879  jklmnopqrstuvwxy
-000354b0: 7a24 5f22 0a0a 2020 2020 5468 6520 696e  z$_"..    The in
-000354c0: 7075 7420 7374 7269 6e67 206d 7573 7420  put string must 
-000354d0: 6265 2065 6e63 6c6f 7365 6420 696e 205b  be enclosed in [
-000354e0: 5d27 732c 2061 6e64 2074 6865 2072 6574  ]'s, and the ret
-000354f0: 7572 6e65 6420 7374 7269 6e67 0a20 2020  urned string.   
-00035500: 2069 7320 7468 6520 6578 7061 6e64 6564   is the expanded
-00035510: 2063 6861 7261 6374 6572 2073 6574 206a   character set j
-00035520: 6f69 6e65 6420 696e 746f 2061 2073 696e  oined into a sin
-00035530: 676c 6520 7374 7269 6e67 2e20 5468 650a  gle string. The.
-00035540: 2020 2020 7661 6c75 6573 2065 6e63 6c6f      values enclo
-00035550: 7365 6420 696e 2074 6865 205b 5d27 7320  sed in the []'s 
-00035560: 6d61 7920 6265 3a0a 0a20 2020 202d 2061  may be:..    - a
-00035570: 2073 696e 676c 6520 6368 6172 6163 7465   single characte
-00035580: 720a 2020 2020 2d20 616e 2065 7363 6170  r.    - an escap
-00035590: 6564 2063 6861 7261 6374 6572 2077 6974  ed character wit
-000355a0: 6820 6120 6c65 6164 696e 6720 6261 636b  h a leading back
-000355b0: 736c 6173 6820 2873 7563 6820 6173 2060  slash (such as `
-000355c0: 605c 2d60 600a 2020 2020 2020 6f72 2060  `\-``.      or `
-000355d0: 605c 5d60 6029 0a20 2020 202d 2061 6e20  `\]``).    - an 
-000355e0: 6573 6361 7065 6420 6865 7820 6368 6172  escaped hex char
-000355f0: 6163 7465 7220 7769 7468 2061 206c 6561  acter with a lea
-00035600: 6469 6e67 2060 6027 5c78 2760 600a 2020  ding ``'\x'``.  
-00035610: 2020 2020 2860 605c 7832 3160 602c 2077      (``\x21``, w
-00035620: 6869 6368 2069 7320 6120 6060 2721 2760  hich is a ``'!'`
-00035630: 6020 6368 6172 6163 7465 7229 2028 6060  ` character) (``
-00035640: 5c30 7823 2360 600a 2020 2020 2020 6973  \0x##``.      is
-00035650: 2061 6c73 6f20 7375 7070 6f72 7465 6420   also supported 
-00035660: 666f 7220 6261 636b 7761 7264 7320 636f  for backwards co
-00035670: 6d70 6174 6962 696c 6974 7929 0a20 2020  mpatibility).   
-00035680: 202d 2061 6e20 6573 6361 7065 6420 6f63   - an escaped oc
-00035690: 7461 6c20 6368 6172 6163 7465 7220 7769  tal character wi
-000356a0: 7468 2061 206c 6561 6469 6e67 2060 6027  th a leading ``'
-000356b0: 5c30 2760 600a 2020 2020 2020 2860 605c  \0'``.      (``\
-000356c0: 3034 3160 602c 2077 6869 6368 2069 7320  041``, which is 
-000356d0: 6120 6060 2721 2760 6020 6368 6172 6163  a ``'!'`` charac
-000356e0: 7465 7229 0a20 2020 202d 2061 2072 616e  ter).    - a ran
-000356f0: 6765 206f 6620 616e 7920 6f66 2074 6865  ge of any of the
-00035700: 2061 626f 7665 2c20 7365 7061 7261 7465   above, separate
-00035710: 6420 6279 2061 2064 6173 6820 2860 6027  d by a dash (``'
-00035720: 612d 7a27 6060 2c0a 2020 2020 2020 6574  a-z'``,.      et
-00035730: 632e 290a 2020 2020 2d20 616e 7920 636f  c.).    - any co
-00035740: 6d62 696e 6174 696f 6e20 6f66 2074 6865  mbination of the
-00035750: 2061 626f 7665 2028 6060 2761 6569 6f75   above (``'aeiou
-00035760: 7927 6060 2c0a 2020 2020 2020 6060 2761  y'``,.      ``'a
-00035770: 2d7a 412d 5a30 2d39 5f24 2760 602c 2065  -zA-Z0-9_$'``, e
-00035780: 7463 2e29 0a20 2020 2022 2222 0a20 2020  tc.).    """.   
-00035790: 205f 6578 7061 6e64 6564 203d 2028 0a20   _expanded = (. 
-000357a0: 2020 2020 2020 206c 616d 6264 6120 703a         lambda p:
-000357b0: 2070 0a20 2020 2020 2020 2069 6620 6e6f   p.        if no
-000357c0: 7420 6973 696e 7374 616e 6365 2870 2c20  t isinstance(p, 
-000357d0: 5061 7273 6552 6573 756c 7473 290a 2020  ParseResults).  
-000357e0: 2020 2020 2020 656c 7365 2022 222e 6a6f        else "".jo
-000357f0: 696e 2863 6872 2863 2920 666f 7220 6320  in(chr(c) for c 
-00035800: 696e 2072 616e 6765 286f 7264 2870 5b30  in range(ord(p[0
-00035810: 5d29 2c20 6f72 6428 705b 315d 2920 2b20  ]), ord(p[1]) + 
-00035820: 3129 290a 2020 2020 290a 2020 2020 7472  1)).    ).    tr
-00035830: 793a 0a20 2020 2020 2020 2072 6574 7572  y:.        retur
-00035840: 6e20 2222 2e6a 6f69 6e28 5f65 7870 616e  n "".join(_expan
-00035850: 6465 6428 7061 7274 2920 666f 7220 7061  ded(part) for pa
-00035860: 7274 2069 6e20 5f72 6542 7261 636b 6574  rt in _reBracket
-00035870: 4578 7072 2e70 6172 7365 5f73 7472 696e  Expr.parse_strin
-00035880: 6728 7329 2e62 6f64 7929 0a20 2020 2065  g(s).body).    e
-00035890: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
-000358a0: 6173 2065 3a0a 2020 2020 2020 2020 7265  as e:.        re
-000358b0: 7475 726e 2022 220a 0a0a 6465 6620 746f  turn ""...def to
-000358c0: 6b65 6e5f 6d61 7028 6675 6e63 2c20 2a61  ken_map(func, *a
-000358d0: 7267 7329 202d 3e20 5061 7273 6541 6374  rgs) -> ParseAct
-000358e0: 696f 6e3a 0a20 2020 2022 2222 4865 6c70  ion:.    """Help
-000358f0: 6572 2074 6f20 6465 6669 6e65 2061 2070  er to define a p
-00035900: 6172 7365 2061 6374 696f 6e20 6279 206d  arse action by m
-00035910: 6170 7069 6e67 2061 2066 756e 6374 696f  apping a functio
-00035920: 6e20 746f 2061 6c6c 0a20 2020 2065 6c65  n to all.    ele
-00035930: 6d65 6e74 7320 6f66 2061 203a 636c 6173  ments of a :clas
-00035940: 733a 6050 6172 7365 5265 7375 6c74 7360  s:`ParseResults`
-00035950: 206c 6973 742e 2049 6620 616e 7920 6164   list. If any ad
-00035960: 6469 7469 6f6e 616c 2061 7267 7320 6172  ditional args ar
-00035970: 6520 7061 7373 6564 2c0a 2020 2020 7468  e passed,.    th
-00035980: 6579 2061 7265 2066 6f72 7761 7264 6564  ey are forwarded
-00035990: 2074 6f20 7468 6520 6769 7665 6e20 6675   to the given fu
-000359a0: 6e63 7469 6f6e 2061 7320 6164 6469 7469  nction as additi
-000359b0: 6f6e 616c 2061 7267 756d 656e 7473 0a20  onal arguments. 
-000359c0: 2020 2061 6674 6572 2074 6865 2074 6f6b     after the tok
-000359d0: 656e 2c20 6173 2069 6e0a 2020 2020 6060  en, as in.    ``
-000359e0: 6865 785f 696e 7465 6765 7220 3d20 576f  hex_integer = Wo
-000359f0: 7264 2868 6578 6e75 6d73 292e 7365 745f  rd(hexnums).set_
-00035a00: 7061 7273 655f 6163 7469 6f6e 2874 6f6b  parse_action(tok
-00035a10: 656e 5f6d 6170 2869 6e74 2c20 3136 2929  en_map(int, 16))
-00035a20: 6060 2c0a 2020 2020 7768 6963 6820 7769  ``,.    which wi
-00035a30: 6c6c 2063 6f6e 7665 7274 2074 6865 2070  ll convert the p
-00035a40: 6172 7365 6420 6461 7461 2074 6f20 616e  arsed data to an
-00035a50: 2069 6e74 6567 6572 2075 7369 6e67 2062   integer using b
-00035a60: 6173 6520 3136 2e0a 0a20 2020 2045 7861  ase 16...    Exa
-00035a70: 6d70 6c65 2028 636f 6d70 6172 6520 7468  mple (compare th
-00035a80: 6520 6c61 7374 2074 6f20 6578 616d 706c  e last to exampl
-00035a90: 6520 696e 203a 636c 6173 733a 6050 6172  e in :class:`Par
-00035aa0: 7365 7245 6c65 6d65 6e74 2e74 7261 6e73  serElement.trans
-00035ab0: 666f 726d 5f73 7472 696e 6760 3a3a 0a0a  form_string`::..
-00035ac0: 2020 2020 2020 2020 6865 785f 696e 7473          hex_ints
-00035ad0: 203d 2057 6f72 6428 6865 786e 756d 7329   = Word(hexnums)
-00035ae0: 5b31 2c20 2e2e 2e5d 2e73 6574 5f70 6172  [1, ...].set_par
-00035af0: 7365 5f61 6374 696f 6e28 746f 6b65 6e5f  se_action(token_
-00035b00: 6d61 7028 696e 742c 2031 3629 290a 2020  map(int, 16)).  
-00035b10: 2020 2020 2020 6865 785f 696e 7473 2e72        hex_ints.r
-00035b20: 756e 5f74 6573 7473 2827 2727 0a20 2020  un_tests('''.   
-00035b30: 2020 2020 2020 2020 2030 3020 3131 2032           00 11 2
-00035b40: 3220 6161 2046 4620 3061 2030 6420 3161  2 aa FF 0a 0d 1a
-00035b50: 0a20 2020 2020 2020 2020 2020 2027 2727  .            '''
-00035b60: 290a 0a20 2020 2020 2020 2075 7070 6572  )..        upper
-00035b70: 776f 7264 203d 2057 6f72 6428 616c 7068  word = Word(alph
-00035b80: 6173 292e 7365 745f 7061 7273 655f 6163  as).set_parse_ac
-00035b90: 7469 6f6e 2874 6f6b 656e 5f6d 6170 2873  tion(token_map(s
-00035ba0: 7472 2e75 7070 6572 2929 0a20 2020 2020  tr.upper)).     
-00035bb0: 2020 2075 7070 6572 776f 7264 5b31 2c20     upperword[1, 
-00035bc0: 2e2e 2e5d 2e72 756e 5f74 6573 7473 2827  ...].run_tests('
-00035bd0: 2727 0a20 2020 2020 2020 2020 2020 206d  ''.            m
-00035be0: 7920 6b69 6e67 646f 6d20 666f 7220 6120  y kingdom for a 
-00035bf0: 686f 7273 650a 2020 2020 2020 2020 2020  horse.          
-00035c00: 2020 2727 2729 0a0a 2020 2020 2020 2020    ''')..        
-00035c10: 7764 203d 2057 6f72 6428 616c 7068 6173  wd = Word(alphas
-00035c20: 292e 7365 745f 7061 7273 655f 6163 7469  ).set_parse_acti
-00035c30: 6f6e 2874 6f6b 656e 5f6d 6170 2873 7472  on(token_map(str
-00035c40: 2e74 6974 6c65 2929 0a20 2020 2020 2020  .title)).       
-00035c50: 2077 645b 312c 202e 2e2e 5d2e 7365 745f   wd[1, ...].set_
-00035c60: 7061 7273 655f 6163 7469 6f6e 2827 2027  parse_action(' '
-00035c70: 2e6a 6f69 6e29 2e72 756e 5f74 6573 7473  .join).run_tests
-00035c80: 2827 2727 0a20 2020 2020 2020 2020 2020  ('''.           
-00035c90: 206e 6f77 2069 7320 7468 6520 7769 6e74   now is the wint
-00035ca0: 6572 206f 6620 6f75 7220 6469 7363 6f6e  er of our discon
-00035cb0: 7465 6e74 206d 6164 6520 676c 6f72 696f  tent made glorio
-00035cc0: 7573 2073 756d 6d65 7220 6279 2074 6869  us summer by thi
-00035cd0: 7320 7375 6e20 6f66 2079 6f72 6b0a 2020  s sun of york.  
-00035ce0: 2020 2020 2020 2020 2020 2727 2729 0a0a            ''')..
-00035cf0: 2020 2020 7072 696e 7473 3a3a 0a0a 2020      prints::..  
-00035d00: 2020 2020 2020 3030 2031 3120 3232 2061        00 11 22 a
-00035d10: 6120 4646 2030 6120 3064 2031 610a 2020  a FF 0a 0d 1a.  
-00035d20: 2020 2020 2020 5b30 2c20 3137 2c20 3334        [0, 17, 34
-00035d30: 2c20 3137 302c 2032 3535 2c20 3130 2c20  , 170, 255, 10, 
-00035d40: 3133 2c20 3236 5d0a 0a20 2020 2020 2020  13, 26]..       
-00035d50: 206d 7920 6b69 6e67 646f 6d20 666f 7220   my kingdom for 
-00035d60: 6120 686f 7273 650a 2020 2020 2020 2020  a horse.        
-00035d70: 5b27 4d59 272c 2027 4b49 4e47 444f 4d27  ['MY', 'KINGDOM'
-00035d80: 2c20 2746 4f52 272c 2027 4127 2c20 2748  , 'FOR', 'A', 'H
-00035d90: 4f52 5345 275d 0a0a 2020 2020 2020 2020  ORSE']..        
-00035da0: 6e6f 7720 6973 2074 6865 2077 696e 7465  now is the winte
-00035db0: 7220 6f66 206f 7572 2064 6973 636f 6e74  r of our discont
-00035dc0: 656e 7420 6d61 6465 2067 6c6f 7269 6f75  ent made gloriou
-00035dd0: 7320 7375 6d6d 6572 2062 7920 7468 6973  s summer by this
-00035de0: 2073 756e 206f 6620 796f 726b 0a20 2020   sun of york.   
-00035df0: 2020 2020 205b 274e 6f77 2049 7320 5468       ['Now Is Th
-00035e00: 6520 5769 6e74 6572 204f 6620 4f75 7220  e Winter Of Our 
-00035e10: 4469 7363 6f6e 7465 6e74 204d 6164 6520  Discontent Made 
-00035e20: 476c 6f72 696f 7573 2053 756d 6d65 7220  Glorious Summer 
-00035e30: 4279 2054 6869 7320 5375 6e20 4f66 2059  By This Sun Of Y
-00035e40: 6f72 6b27 5d0a 2020 2020 2222 220a 0a20  ork'].    """.. 
-00035e50: 2020 2064 6566 2070 6128 732c 206c 2c20     def pa(s, l, 
-00035e60: 7429 3a0a 2020 2020 2020 2020 7265 7475  t):.        retu
-00035e70: 726e 205b 6675 6e63 2874 6f6b 6e2c 202a  rn [func(tokn, *
-00035e80: 6172 6773 2920 666f 7220 746f 6b6e 2069  args) for tokn i
-00035e90: 6e20 745d 0a0a 2020 2020 6675 6e63 5f6e  n t]..    func_n
-00035ea0: 616d 6520 3d20 6765 7461 7474 7228 6675  ame = getattr(fu
-00035eb0: 6e63 2c20 225f 5f6e 616d 655f 5f22 2c20  nc, "__name__", 
-00035ec0: 6765 7461 7474 7228 6675 6e63 2c20 225f  getattr(func, "_
-00035ed0: 5f63 6c61 7373 5f5f 2229 2e5f 5f6e 616d  _class__").__nam
-00035ee0: 655f 5f29 0a20 2020 2070 612e 5f5f 6e61  e__).    pa.__na
-00035ef0: 6d65 5f5f 203d 2066 756e 635f 6e61 6d65  me__ = func_name
-00035f00: 0a0a 2020 2020 7265 7475 726e 2070 610a  ..    return pa.
-00035f10: 0a0a 6465 6620 6175 746f 6e61 6d65 5f65  ..def autoname_e
-00035f20: 6c65 6d65 6e74 7328 2920 2d3e 204e 6f6e  lements() -> Non
-00035f30: 653a 0a20 2020 2022 2222 0a20 2020 2055  e:.    """.    U
-00035f40: 7469 6c69 7479 2074 6f20 7369 6d70 6c69  tility to simpli
-00035f50: 6679 206d 6173 732d 6e61 6d69 6e67 206f  fy mass-naming o
-00035f60: 6620 7061 7273 6572 2065 6c65 6d65 6e74  f parser element
-00035f70: 732c 2066 6f72 0a20 2020 2067 656e 6572  s, for.    gener
-00035f80: 6174 696e 6720 7261 696c 726f 6164 2064  ating railroad d
-00035f90: 6961 6772 616d 2077 6974 6820 6e61 6d65  iagram with name
-00035fa0: 6420 7375 6264 6961 6772 616d 732e 0a20  d subdiagrams.. 
-00035fb0: 2020 2022 2222 0a20 2020 2063 616c 6c69     """.    calli
-00035fc0: 6e67 5f66 7261 6d65 203d 2073 7973 2e5f  ng_frame = sys._
-00035fd0: 6765 7466 7261 6d65 2829 2e66 5f62 6163  getframe().f_bac
-00035fe0: 6b0a 2020 2020 6966 2063 616c 6c69 6e67  k.    if calling
-00035ff0: 5f66 7261 6d65 2069 7320 4e6f 6e65 3a0a  _frame is None:.
-00036000: 2020 2020 2020 2020 7265 7475 726e 0a20          return. 
-00036010: 2020 2063 616c 6c69 6e67 5f66 7261 6d65     calling_frame
-00036020: 203d 2074 7970 696e 672e 6361 7374 2874   = typing.cast(t
-00036030: 7970 6573 2e46 7261 6d65 5479 7065 2c20  ypes.FrameType, 
-00036040: 6361 6c6c 696e 675f 6672 616d 6529 0a20  calling_frame). 
-00036050: 2020 2066 6f72 206e 616d 652c 2076 6172     for name, var
-00036060: 2069 6e20 6361 6c6c 696e 675f 6672 616d   in calling_fram
-00036070: 652e 665f 6c6f 6361 6c73 2e69 7465 6d73  e.f_locals.items
-00036080: 2829 3a0a 2020 2020 2020 2020 6966 2069  ():.        if i
-00036090: 7369 6e73 7461 6e63 6528 7661 722c 2050  sinstance(var, P
-000360a0: 6172 7365 7245 6c65 6d65 6e74 2920 616e  arserElement) an
-000360b0: 6420 6e6f 7420 7661 722e 6375 7374 6f6d  d not var.custom
-000360c0: 4e61 6d65 3a0a 2020 2020 2020 2020 2020  Name:.          
-000360d0: 2020 7661 722e 7365 745f 6e61 6d65 286e    var.set_name(n
-000360e0: 616d 6529 0a0a 0a64 626c 5f71 756f 7465  ame)...dbl_quote
-000360f0: 645f 7374 7269 6e67 203d 2043 6f6d 6269  d_string = Combi
-00036100: 6e65 280a 2020 2020 5265 6765 7828 7227  ne(.    Regex(r'
-00036110: 2228 3f3a 5b5e 225c 6e5c 725c 5c5d 7c28  "(?:[^"\n\r\\]|(
-00036120: 3f3a 2222 297c 283f 3a5c 5c28 3f3a 5b5e  ?:"")|(?:\\(?:[^
-00036130: 785d 7c78 5b30 2d39 612d 6641 2d46 5d2b  x]|x[0-9a-fA-F]+
-00036140: 2929 292a 2729 202b 2027 2227 0a29 2e73  )))*') + '"'.).s
-00036150: 6574 5f6e 616d 6528 2273 7472 696e 6720  et_name("string 
-00036160: 656e 636c 6f73 6564 2069 6e20 646f 7562  enclosed in doub
-00036170: 6c65 2071 756f 7465 7322 290a 0a73 676c  le quotes")..sgl
-00036180: 5f71 756f 7465 645f 7374 7269 6e67 203d  _quoted_string =
-00036190: 2043 6f6d 6269 6e65 280a 2020 2020 5265   Combine(.    Re
-000361a0: 6765 7828 7222 2728 3f3a 5b5e 275c 6e5c  gex(r"'(?:[^'\n\
-000361b0: 725c 5c5d 7c28 3f3a 2727 297c 283f 3a5c  r\\]|(?:'')|(?:\
-000361c0: 5c28 3f3a 5b5e 785d 7c78 5b30 2d39 612d  \(?:[^x]|x[0-9a-
-000361d0: 6641 2d46 5d2b 2929 292a 2229 202b 2022  fA-F]+)))*") + "
-000361e0: 2722 0a29 2e73 6574 5f6e 616d 6528 2273  '".).set_name("s
-000361f0: 7472 696e 6720 656e 636c 6f73 6564 2069  tring enclosed i
-00036200: 6e20 7369 6e67 6c65 2071 756f 7465 7322  n single quotes"
-00036210: 290a 0a71 756f 7465 645f 7374 7269 6e67  )..quoted_string
-00036220: 203d 2043 6f6d 6269 6e65 280a 2020 2020   = Combine(.    
-00036230: 2852 6567 6578 2872 2722 283f 3a5b 5e22  (Regex(r'"(?:[^"
-00036240: 5c6e 5c72 5c5c 5d7c 283f 3a22 2229 7c28  \n\r\\]|(?:"")|(
-00036250: 3f3a 5c5c 283f 3a5b 5e78 5d7c 785b 302d  ?:\\(?:[^x]|x[0-
-00036260: 3961 2d66 412d 465d 2b29 2929 2a27 2920  9a-fA-F]+)))*') 
-00036270: 2b20 2722 2729 2e73 6574 5f6e 616d 6528  + '"').set_name(
-00036280: 0a20 2020 2020 2020 2022 646f 7562 6c65  .        "double
-00036290: 2071 756f 7465 6420 7374 7269 6e67 220a   quoted string".
-000362a0: 2020 2020 290a 2020 2020 7c20 2852 6567      ).    | (Reg
-000362b0: 6578 2872 2227 283f 3a5b 5e27 5c6e 5c72  ex(r"'(?:[^'\n\r
-000362c0: 5c5c 5d7c 283f 3a27 2729 7c28 3f3a 5c5c  \\]|(?:'')|(?:\\
-000362d0: 283f 3a5b 5e78 5d7c 785b 302d 3961 2d66  (?:[^x]|x[0-9a-f
-000362e0: 412d 465d 2b29 2929 2a22 2920 2b20 2227  A-F]+)))*") + "'
-000362f0: 2229 2e73 6574 5f6e 616d 6528 0a20 2020  ").set_name(.   
-00036300: 2020 2020 2022 7369 6e67 6c65 2071 756f       "single quo
-00036310: 7465 6420 7374 7269 6e67 220a 2020 2020  ted string".    
-00036320: 290a 292e 7365 745f 6e61 6d65 2822 7175  ).).set_name("qu
-00036330: 6f74 6564 2073 7472 696e 6720 7573 696e  oted string usin
-00036340: 6720 7369 6e67 6c65 206f 7220 646f 7562  g single or doub
-00036350: 6c65 2071 756f 7465 7322 290a 0a70 7974  le quotes")..pyt
-00036360: 686f 6e5f 7175 6f74 6564 5f73 7472 696e  hon_quoted_strin
-00036370: 6720 3d20 436f 6d62 696e 6528 0a20 2020  g = Combine(.   
-00036380: 2028 5265 6765 7828 7227 2228 5b5e 225d   (Regex(r'"([^"]
-00036390: 7c22 223f 283f 2122 2929 2a27 2c20 666c  |""?(?!"))*', fl
-000363a0: 6167 733d 7265 2e4d 554c 5449 4c49 4e45  ags=re.MULTILINE
-000363b0: 2920 2b20 2722 2222 2729 2e73 6574 5f6e  ) + '"""').set_n
-000363c0: 616d 6528 0a20 2020 2020 2020 2022 6d75  ame(.        "mu
-000363d0: 6c74 696c 696e 6520 646f 7562 6c65 2071  ltiline double q
-000363e0: 756f 7465 6420 7374 7269 6e67 220a 2020  uoted string".  
-000363f0: 2020 290a 2020 2020 7c20 2852 6567 6578    ).    | (Regex
-00036400: 2872 2227 285b 5e27 5d7c 2727 3f28 3f21  (r"'([^']|''?(?!
-00036410: 2729 292a 222c 2066 6c61 6773 3d72 652e  '))*", flags=re.
-00036420: 4d55 4c54 494c 494e 4529 202b 2022 2727  MULTILINE) + "''
-00036430: 2722 292e 7365 745f 6e61 6d65 280a 2020  '").set_name(.  
-00036440: 2020 2020 2020 226d 756c 7469 6c69 6e65        "multiline
-00036450: 2073 696e 676c 6520 7175 6f74 6564 2073   single quoted s
-00036460: 7472 696e 6722 0a20 2020 2029 0a20 2020  tring".    ).   
-00036470: 207c 2028 5265 6765 7828 7227 2228 3f3a   | (Regex(r'"(?:
-00036480: 5b5e 225c 6e5c 725c 5c5d 7c28 3f3a 2222  [^"\n\r\\]|(?:""
-00036490: 297c 283f 3a5c 5c28 3f3a 5b5e 785d 7c78  )|(?:\\(?:[^x]|x
-000364a0: 5b30 2d39 612d 6641 2d46 5d2b 2929 292a  [0-9a-fA-F]+)))*
-000364b0: 2729 202b 2027 2227 292e 7365 745f 6e61  ') + '"').set_na
-000364c0: 6d65 280a 2020 2020 2020 2020 2264 6f75  me(.        "dou
-000364d0: 626c 6520 7175 6f74 6564 2073 7472 696e  ble quoted strin
-000364e0: 6722 0a20 2020 2029 0a20 2020 207c 2028  g".    ).    | (
-000364f0: 5265 6765 7828 7222 2728 3f3a 5b5e 275c  Regex(r"'(?:[^'\
-00036500: 6e5c 725c 5c5d 7c28 3f3a 2727 297c 283f  n\r\\]|(?:'')|(?
-00036510: 3a5c 5c28 3f3a 5b5e 785d 7c78 5b30 2d39  :\\(?:[^x]|x[0-9
-00036520: 612d 6641 2d46 5d2b 2929 292a 2229 202b  a-fA-F]+)))*") +
-00036530: 2022 2722 292e 7365 745f 6e61 6d65 280a   "'").set_name(.
-00036540: 2020 2020 2020 2020 2273 696e 676c 6520          "single 
-00036550: 7175 6f74 6564 2073 7472 696e 6722 0a20  quoted string". 
-00036560: 2020 2029 0a29 2e73 6574 5f6e 616d 6528     ).).set_name(
-00036570: 2250 7974 686f 6e20 7175 6f74 6564 2073  "Python quoted s
-00036580: 7472 696e 6722 290a 0a75 6e69 636f 6465  tring")..unicode
-00036590: 5f73 7472 696e 6720 3d20 436f 6d62 696e  _string = Combin
-000365a0: 6528 2275 2220 2b20 7175 6f74 6564 5f73  e("u" + quoted_s
-000365b0: 7472 696e 672e 636f 7079 2829 292e 7365  tring.copy()).se
-000365c0: 745f 6e61 6d65 2822 756e 6963 6f64 6520  t_name("unicode 
-000365d0: 7374 7269 6e67 206c 6974 6572 616c 2229  string literal")
-000365e0: 0a0a 0a61 6c70 6861 7338 6269 7420 3d20  ...alphas8bit = 
-000365f0: 7372 616e 6765 2872 225b 5c30 7863 302d  srange(r"[\0xc0-
-00036600: 5c30 7864 365c 3078 6438 2d5c 3078 6636  \0xd6\0xd8-\0xf6
-00036610: 5c30 7866 382d 5c30 7866 665d 2229 0a70  \0xf8-\0xff]").p
-00036620: 756e 6338 6269 7420 3d20 7372 616e 6765  unc8bit = srange
-00036630: 2872 225b 5c30 7861 312d 5c30 7862 665c  (r"[\0xa1-\0xbf\
-00036640: 3078 6437 5c30 7866 375d 2229 0a0a 2320  0xd7\0xf7]")..# 
-00036650: 6275 696c 6420 6c69 7374 206f 6620 6275  build list of bu
-00036660: 696c 742d 696e 2065 7870 7265 7373 696f  ilt-in expressio
-00036670: 6e73 2c20 666f 7220 6675 7475 7265 2072  ns, for future r
-00036680: 6566 6572 656e 6365 2069 6620 6120 676c  eference if a gl
-00036690: 6f62 616c 2064 6566 6175 6c74 2076 616c  obal default val
-000366a0: 7565 0a23 2067 6574 7320 7570 6461 7465  ue.# gets update
-000366b0: 640a 5f62 7569 6c74 696e 5f65 7870 7273  d._builtin_exprs
-000366c0: 3a20 4c69 7374 5b50 6172 7365 7245 6c65  : List[ParserEle
-000366d0: 6d65 6e74 5d20 3d20 5b0a 2020 2020 7620  ment] = [.    v 
-000366e0: 666f 7220 7620 696e 2076 6172 7328 292e  for v in vars().
-000366f0: 7661 6c75 6573 2829 2069 6620 6973 696e  values() if isin
-00036700: 7374 616e 6365 2876 2c20 5061 7273 6572  stance(v, Parser
-00036710: 456c 656d 656e 7429 0a5d 0a0a 2320 6261  Element).]..# ba
-00036720: 636b 7761 7264 2063 6f6d 7061 7469 6269  ckward compatibi
-00036730: 6c69 7479 206e 616d 6573 0a23 2066 6d74  lity names.# fmt
-00036740: 3a20 6f66 660a 7367 6c51 756f 7465 6453  : off.sglQuotedS
-00036750: 7472 696e 6720 3d20 7367 6c5f 7175 6f74  tring = sgl_quot
-00036760: 6564 5f73 7472 696e 670a 6462 6c51 756f  ed_string.dblQuo
-00036770: 7465 6453 7472 696e 6720 3d20 6462 6c5f  tedString = dbl_
-00036780: 7175 6f74 6564 5f73 7472 696e 670a 7175  quoted_string.qu
-00036790: 6f74 6564 5374 7269 6e67 203d 2071 756f  otedString = quo
-000367a0: 7465 645f 7374 7269 6e67 0a75 6e69 636f  ted_string.unico
-000367b0: 6465 5374 7269 6e67 203d 2075 6e69 636f  deString = unico
-000367c0: 6465 5f73 7472 696e 670a 6c69 6e65 5374  de_string.lineSt
-000367d0: 6172 7420 3d20 6c69 6e65 5f73 7461 7274  art = line_start
-000367e0: 0a6c 696e 6545 6e64 203d 206c 696e 655f  .lineEnd = line_
-000367f0: 656e 640a 7374 7269 6e67 5374 6172 7420  end.stringStart 
-00036800: 3d20 7374 7269 6e67 5f73 7461 7274 0a73  = string_start.s
-00036810: 7472 696e 6745 6e64 203d 2073 7472 696e  tringEnd = strin
-00036820: 675f 656e 640a 0a40 7265 706c 6163 6564  g_end..@replaced
-00036830: 5f62 795f 7065 7038 286e 756c 6c5f 6465  _by_pep8(null_de
-00036840: 6275 675f 6163 7469 6f6e 290a 6465 6620  bug_action).def 
-00036850: 6e75 6c6c 4465 6275 6741 6374 696f 6e28  nullDebugAction(
-00036860: 293a 202e 2e2e 0a0a 4072 6570 6c61 6365  ): .....@replace
-00036870: 645f 6279 5f70 6570 3828 7472 6163 655f  d_by_pep8(trace_
-00036880: 7061 7273 655f 6163 7469 6f6e 290a 6465  parse_action).de
-00036890: 6620 7472 6163 6550 6172 7365 4163 7469  f traceParseActi
-000368a0: 6f6e 2829 3a20 2e2e 2e0a 0a40 7265 706c  on(): .....@repl
-000368b0: 6163 6564 5f62 795f 7065 7038 2863 6f6e  aced_by_pep8(con
-000368c0: 6469 7469 6f6e 5f61 735f 7061 7273 655f  dition_as_parse_
-000368d0: 6163 7469 6f6e 290a 6465 6620 636f 6e64  action).def cond
-000368e0: 6974 696f 6e41 7350 6172 7365 4163 7469  itionAsParseActi
-000368f0: 6f6e 2829 3a20 2e2e 2e0a 0a40 7265 706c  on(): .....@repl
-00036900: 6163 6564 5f62 795f 7065 7038 2874 6f6b  aced_by_pep8(tok
-00036910: 656e 5f6d 6170 290a 6465 6620 746f 6b65  en_map).def toke
-00036920: 6e4d 6170 2829 3a20 2e2e 2e0a 2320 666d  nMap(): ....# fm
-00036930: 743a 206f 6e0a                           t: on.
+00031d00: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00031d10: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+00031d20: 2020 2020 2020 2020 2020 6e65 775f 6c6f            new_lo
+00031d30: 632c 206e 6577 5f70 6565 6b20 3d20 7072  c, new_peek = pr
+00031d40: 6576 5f6c 6f63 2c20 7072 6576 5f70 6565  ev_loc, prev_pee
+00031d50: 6b0a 2020 2020 2020 2020 2020 2020 2020  k.              
+00031d60: 2020 2020 2020 2320 7468 6520 6d61 7463        # the matc
+00031d70: 6820 6469 6420 6e6f 7420 6765 7420 6265  h did not get be
+00031d80: 7474 6572 3a20 7765 2061 7265 2064 6f6e  tter: we are don
+00031d90: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+00031da0: 2020 2020 2020 6966 206e 6577 5f6c 6f63        if new_loc
+00031db0: 203c 3d20 7072 6576 5f6c 6f63 3a0a 2020   <= prev_loc:.  
+00031dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031dd0: 2020 2020 2020 6966 2064 6f41 6374 696f        if doActio
+00031de0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00031df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031e00: 2320 7265 706c 6163 6520 7468 6520 6d61  # replace the ma
+00031e10: 7463 6820 666f 7220 646f 4163 7469 6f6e  tch for doAction
+00031e20: 733d 4661 6c73 6520 6173 2077 656c 6c2c  s=False as well,
+00031e30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031e40: 2020 2020 2020 2020 2020 2020 2023 2069               # i
+00031e50: 6e20 6361 7365 2074 6865 2061 6374 696f  n case the actio
+00031e60: 6e20 6469 6420 6261 636b 7472 6163 6b0a  n did backtrack.
+00031e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031e80: 2020 2020 2020 2020 2020 2020 7072 6576              prev
+00031e90: 5f6c 6f63 2c20 7072 6576 5f72 6573 756c  _loc, prev_resul
+00031ea0: 7420 3d20 6d65 6d6f 5b70 6565 6b5f 6b65  t = memo[peek_ke
+00031eb0: 795d 203d 206d 656d 6f5b 6163 745f 6b65  y] = memo[act_ke
+00031ec0: 795d 0a20 2020 2020 2020 2020 2020 2020  y].             
+00031ed0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00031ee0: 656c 206d 656d 6f5b 7065 656b 5f6b 6579  el memo[peek_key
+00031ef0: 5d2c 206d 656d 6f5b 6163 745f 6b65 795d  ], memo[act_key]
+00031f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031f10: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+00031f20: 7572 6e20 7072 6576 5f6c 6f63 2c20 7072  urn prev_loc, pr
+00031f30: 6576 5f72 6573 756c 742e 636f 7079 2829  ev_result.copy()
+00031f40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031f50: 2020 2020 2020 2020 2064 656c 206d 656d           del mem
+00031f60: 6f5b 7065 656b 5f6b 6579 5d0a 2020 2020  o[peek_key].    
+00031f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031f80: 2020 2020 7265 7475 726e 2070 7265 765f      return prev_
+00031f90: 6c6f 632c 2070 7265 765f 7065 656b 2e63  loc, prev_peek.c
+00031fa0: 6f70 7928 290a 2020 2020 2020 2020 2020  opy().          
+00031fb0: 2020 2020 2020 2020 2020 2320 7468 6520            # the 
+00031fc0: 6d61 7463 6820 6469 6420 6765 7420 6265  match did get be
+00031fd0: 7474 6572 3a20 7365 6520 6966 2077 6520  tter: see if we 
+00031fe0: 6361 6e20 696d 7072 6f76 6520 6675 7274  can improve furt
+00031ff0: 6865 720a 2020 2020 2020 2020 2020 2020  her.            
+00032000: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00032010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032020: 2020 2020 2020 6966 2064 6f41 6374 696f        if doActio
+00032030: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00032040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032050: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+00032060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032070: 2020 2020 206d 656d 6f5b 6163 745f 6b65       memo[act_ke
+00032080: 795d 203d 2073 7570 6572 2829 2e70 6172  y] = super().par
+00032090: 7365 496d 706c 2869 6e73 7472 696e 672c  seImpl(instring,
+000320a0: 206c 6f63 2c20 5472 7565 290a 2020 2020   loc, True).    
+000320b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000320c0: 2020 2020 2020 2020 6578 6365 7074 2050          except P
+000320d0: 6172 7365 4578 6365 7074 696f 6e20 6173  arseException as
+000320e0: 2065 3a0a 2020 2020 2020 2020 2020 2020   e:.            
+000320f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032100: 2020 2020 6d65 6d6f 5b70 6565 6b5f 6b65      memo[peek_ke
+00032110: 795d 203d 206d 656d 6f5b 6163 745f 6b65  y] = memo[act_ke
+00032120: 795d 203d 2028 6e65 775f 6c6f 632c 2065  y] = (new_loc, e
+00032130: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00032140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032150: 2020 7261 6973 650a 2020 2020 2020 2020    raise.        
+00032160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032170: 7072 6576 5f6c 6f63 2c20 7072 6576 5f70  prev_loc, prev_p
+00032180: 6565 6b20 3d20 6d65 6d6f 5b70 6565 6b5f  eek = memo[peek_
+00032190: 6b65 795d 203d 206e 6577 5f6c 6f63 2c20  key] = new_loc, 
+000321a0: 6e65 775f 7065 656b 0a0a 2020 2020 6465  new_peek..    de
+000321b0: 6620 6c65 6176 655f 7768 6974 6573 7061  f leave_whitespa
+000321c0: 6365 2873 656c 662c 2072 6563 7572 7369  ce(self, recursi
+000321d0: 7665 3a20 626f 6f6c 203d 2054 7275 6529  ve: bool = True)
+000321e0: 202d 3e20 5061 7273 6572 456c 656d 656e   -> ParserElemen
+000321f0: 743a 0a20 2020 2020 2020 2073 656c 662e  t:.        self.
+00032200: 736b 6970 5768 6974 6573 7061 6365 203d  skipWhitespace =
+00032210: 2046 616c 7365 0a20 2020 2020 2020 2072   False.        r
+00032220: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
+00032230: 6465 6620 6967 6e6f 7265 5f77 6869 7465  def ignore_white
+00032240: 7370 6163 6528 7365 6c66 2c20 7265 6375  space(self, recu
+00032250: 7273 6976 653a 2062 6f6f 6c20 3d20 5472  rsive: bool = Tr
+00032260: 7565 2920 2d3e 2050 6172 7365 7245 6c65  ue) -> ParserEle
+00032270: 6d65 6e74 3a0a 2020 2020 2020 2020 7365  ment:.        se
+00032280: 6c66 2e73 6b69 7057 6869 7465 7370 6163  lf.skipWhitespac
+00032290: 6520 3d20 5472 7565 0a20 2020 2020 2020  e = True.       
+000322a0: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+000322b0: 2020 6465 6620 7374 7265 616d 6c69 6e65    def streamline
+000322c0: 2873 656c 6629 202d 3e20 5061 7273 6572  (self) -> Parser
+000322d0: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
+000322e0: 2069 6620 6e6f 7420 7365 6c66 2e73 7472   if not self.str
+000322f0: 6561 6d6c 696e 6564 3a0a 2020 2020 2020  eamlined:.      
+00032300: 2020 2020 2020 7365 6c66 2e73 7472 6561        self.strea
+00032310: 6d6c 696e 6564 203d 2054 7275 650a 2020  mlined = True.  
+00032320: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
+00032330: 662e 6578 7072 2069 7320 6e6f 7420 4e6f  f.expr is not No
+00032340: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+00032350: 2020 2020 7365 6c66 2e65 7870 722e 7374      self.expr.st
+00032360: 7265 616d 6c69 6e65 2829 0a20 2020 2020  reamline().     
+00032370: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+00032380: 2020 2020 6465 6620 7661 6c69 6461 7465      def validate
+00032390: 2873 656c 662c 2076 616c 6964 6174 6554  (self, validateT
+000323a0: 7261 6365 3d4e 6f6e 6529 202d 3e20 4e6f  race=None) -> No
+000323b0: 6e65 3a0a 2020 2020 2020 2020 7761 726e  ne:.        warn
+000323c0: 696e 6773 2e77 6172 6e28 0a20 2020 2020  ings.warn(.     
+000323d0: 2020 2020 2020 2022 5061 7273 6572 456c         "ParserEl
+000323e0: 656d 656e 742e 7661 6c69 6461 7465 2829  ement.validate()
+000323f0: 2069 7320 6465 7072 6563 6174 6564 2c20   is deprecated, 
+00032400: 616e 6420 7368 6f75 6c64 206e 6f74 2062  and should not b
+00032410: 6520 7573 6564 2074 6f20 6368 6563 6b20  e used to check 
+00032420: 666f 7220 6c65 6674 2072 6563 7572 7369  for left recursi
+00032430: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
+00032440: 2044 6570 7265 6361 7469 6f6e 5761 726e   DeprecationWarn
+00032450: 696e 672c 0a20 2020 2020 2020 2020 2020  ing,.           
+00032460: 2073 7461 636b 6c65 7665 6c3d 322c 0a20   stacklevel=2,. 
+00032470: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00032480: 2069 6620 7661 6c69 6461 7465 5472 6163   if validateTrac
+00032490: 6520 6973 204e 6f6e 653a 0a20 2020 2020  e is None:.     
+000324a0: 2020 2020 2020 2076 616c 6964 6174 6554         validateT
+000324b0: 7261 6365 203d 205b 5d0a 0a20 2020 2020  race = []..     
+000324c0: 2020 2069 6620 7365 6c66 206e 6f74 2069     if self not i
+000324d0: 6e20 7661 6c69 6461 7465 5472 6163 653a  n validateTrace:
+000324e0: 0a20 2020 2020 2020 2020 2020 2074 6d70  .            tmp
+000324f0: 203d 2076 616c 6964 6174 6554 7261 6365   = validateTrace
+00032500: 5b3a 5d20 2b20 5b73 656c 665d 0a20 2020  [:] + [self].   
+00032510: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+00032520: 2e65 7870 7220 6973 206e 6f74 204e 6f6e  .expr is not Non
+00032530: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00032540: 2020 2073 656c 662e 6578 7072 2e76 616c     self.expr.val
+00032550: 6964 6174 6528 746d 7029 0a20 2020 2020  idate(tmp).     
+00032560: 2020 2073 656c 662e 5f63 6865 636b 5265     self._checkRe
+00032570: 6375 7273 696f 6e28 5b5d 290a 0a20 2020  cursion([])..   
+00032580: 2064 6566 205f 6765 6e65 7261 7465 4465   def _generateDe
+00032590: 6661 756c 744e 616d 6528 7365 6c66 2920  faultName(self) 
+000325a0: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
+000325b0: 2320 4176 6f69 6420 696e 6669 6e69 7465  # Avoid infinite
+000325c0: 2072 6563 7572 7369 6f6e 2062 7920 7365   recursion by se
+000325d0: 7474 696e 6720 6120 7465 6d70 6f72 6172  tting a temporar
+000325e0: 7920 5f64 6566 6175 6c74 4e61 6d65 0a20  y _defaultName. 
+000325f0: 2020 2020 2020 2073 656c 662e 5f64 6566         self._def
+00032600: 6175 6c74 4e61 6d65 203d 2022 3a20 2e2e  aultName = ": ..
+00032610: 2e22 0a0a 2020 2020 2020 2020 2320 5573  ."..        # Us
+00032620: 6520 7468 6520 7374 7269 6e67 2072 6570  e the string rep
+00032630: 7265 7365 6e74 6174 696f 6e20 6f66 206d  resentation of m
+00032640: 6169 6e20 6578 7072 6573 7369 6f6e 2e0a  ain expression..
+00032650: 2020 2020 2020 2020 7265 7453 7472 696e          retStrin
+00032660: 6720 3d20 222e 2e2e 220a 2020 2020 2020  g = "...".      
+00032670: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+00032680: 2020 2069 6620 7365 6c66 2e65 7870 7220     if self.expr 
+00032690: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+000326a0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+000326b0: 5374 7269 6e67 203d 2073 7472 2873 656c  String = str(sel
+000326c0: 662e 6578 7072 295b 3a31 3030 305d 0a20  f.expr)[:1000]. 
+000326d0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+000326e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000326f0: 2072 6574 5374 7269 6e67 203d 2022 4e6f   retString = "No
+00032700: 6e65 220a 2020 2020 2020 2020 6669 6e61  ne".        fina
+00032710: 6c6c 793a 0a20 2020 2020 2020 2020 2020  lly:.           
+00032720: 2072 6574 7572 6e20 7365 6c66 2e5f 5f63   return self.__c
+00032730: 6c61 7373 5f5f 2e5f 5f6e 616d 655f 5f20  lass__.__name__ 
+00032740: 2b20 223a 2022 202b 2072 6574 5374 7269  + ": " + retStri
+00032750: 6e67 0a0a 2020 2020 6465 6620 636f 7079  ng..    def copy
+00032760: 2873 656c 6629 202d 3e20 5061 7273 6572  (self) -> Parser
+00032770: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
+00032780: 2069 6620 7365 6c66 2e65 7870 7220 6973   if self.expr is
+00032790: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+000327a0: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
+000327b0: 7065 7228 292e 636f 7079 2829 0a20 2020  per().copy().   
+000327c0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+000327d0: 2020 2020 2020 2072 6574 203d 2046 6f72         ret = For
+000327e0: 7761 7264 2829 0a20 2020 2020 2020 2020  ward().         
+000327f0: 2020 2072 6574 203c 3c3d 2073 656c 660a     ret <<= self.
+00032800: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00032810: 726e 2072 6574 0a0a 2020 2020 6465 6620  rn ret..    def 
+00032820: 5f73 6574 5265 7375 6c74 734e 616d 6528  _setResultsName(
+00032830: 7365 6c66 2c20 6e61 6d65 2c20 6c69 7374  self, name, list
+00032840: 5f61 6c6c 5f6d 6174 6368 6573 3d46 616c  _all_matches=Fal
+00032850: 7365 293a 0a20 2020 2020 2020 2069 6620  se):.        if 
+00032860: 280a 2020 2020 2020 2020 2020 2020 5f5f  (.            __
+00032870: 6469 6167 5f5f 2e77 6172 6e5f 6e61 6d65  diag__.warn_name
+00032880: 5f73 6574 5f6f 6e5f 656d 7074 795f 466f  _set_on_empty_Fo
+00032890: 7277 6172 640a 2020 2020 2020 2020 2020  rward.          
+000328a0: 2020 616e 6420 4469 6167 6e6f 7374 6963    and Diagnostic
+000328b0: 732e 7761 726e 5f6e 616d 655f 7365 745f  s.warn_name_set_
+000328c0: 6f6e 5f65 6d70 7479 5f46 6f72 7761 7264  on_empty_Forward
+000328d0: 0a20 2020 2020 2020 2020 2020 206e 6f74  .            not
+000328e0: 2069 6e20 7365 6c66 2e73 7570 7072 6573   in self.suppres
+000328f0: 735f 7761 726e 696e 6773 5f0a 2020 2020  s_warnings_.    
+00032900: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
+00032910: 2020 2069 6620 7365 6c66 2e65 7870 7220     if self.expr 
+00032920: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+00032930: 2020 2020 2020 2020 2077 6172 6e69 6e67           warning
+00032940: 732e 7761 726e 280a 2020 2020 2020 2020  s.warn(.        
+00032950: 2020 2020 2020 2020 2020 2020 227b 7d3a              "{}:
+00032960: 2073 6574 7469 6e67 2072 6573 756c 7473   setting results
+00032970: 206e 616d 6520 7b21 727d 206f 6e20 7b7d   name {!r} on {}
+00032980: 2065 7870 7265 7373 696f 6e20 220a 2020   expression ".  
+00032990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000329a0: 2020 2274 6861 7420 6861 7320 6e6f 2063    "that has no c
+000329b0: 6f6e 7461 696e 6564 2065 7870 7265 7373  ontained express
+000329c0: 696f 6e22 2e66 6f72 6d61 7428 0a20 2020  ion".format(.   
+000329d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000329e0: 2020 2020 2022 7761 726e 5f6e 616d 655f       "warn_name_
+000329f0: 7365 745f 6f6e 5f65 6d70 7479 5f46 6f72  set_on_empty_For
+00032a00: 7761 7264 222c 206e 616d 652c 2074 7970  ward", name, typ
+00032a10: 6528 7365 6c66 292e 5f5f 6e61 6d65 5f5f  e(self).__name__
+00032a20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00032a30: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
+00032a40: 2020 2020 2020 2020 2020 2020 7374 6163              stac
+00032a50: 6b6c 6576 656c 3d33 2c0a 2020 2020 2020  klevel=3,.      
+00032a60: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
+00032a70: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
+00032a80: 7228 292e 5f73 6574 5265 7375 6c74 734e  r()._setResultsN
+00032a90: 616d 6528 6e61 6d65 2c20 6c69 7374 5f61  ame(name, list_a
+00032aa0: 6c6c 5f6d 6174 6368 6573 290a 0a20 2020  ll_matches)..   
+00032ab0: 2023 2043 6f6d 7061 7469 6269 6c69 7479   # Compatibility
+00032ac0: 2073 796e 6f6e 796d 730a 2020 2020 2320   synonyms.    # 
+00032ad0: 666d 743a 206f 6666 0a20 2020 2040 7265  fmt: off.    @re
+00032ae0: 706c 6163 6564 5f62 795f 7065 7038 286c  placed_by_pep8(l
+00032af0: 6561 7665 5f77 6869 7465 7370 6163 6529  eave_whitespace)
+00032b00: 0a20 2020 2064 6566 206c 6561 7665 5768  .    def leaveWh
+00032b10: 6974 6573 7061 6365 2873 656c 6629 3a20  itespace(self): 
+00032b20: 2e2e 2e0a 0a20 2020 2040 7265 706c 6163  .....    @replac
+00032b30: 6564 5f62 795f 7065 7038 2869 676e 6f72  ed_by_pep8(ignor
+00032b40: 655f 7768 6974 6573 7061 6365 290a 2020  e_whitespace).  
+00032b50: 2020 6465 6620 6967 6e6f 7265 5768 6974    def ignoreWhit
+00032b60: 6573 7061 6365 2873 656c 6629 3a20 2e2e  espace(self): ..
+00032b70: 2e0a 2020 2020 2320 666d 743a 206f 6e0a  ..    # fmt: on.
+00032b80: 0a0a 636c 6173 7320 546f 6b65 6e43 6f6e  ..class TokenCon
+00032b90: 7665 7274 6572 2850 6172 7365 456c 656d  verter(ParseElem
+00032ba0: 656e 7445 6e68 616e 6365 293a 0a20 2020  entEnhance):.   
+00032bb0: 2022 2222 0a20 2020 2041 6273 7472 6163   """.    Abstrac
+00032bc0: 7420 7375 6263 6c61 7373 206f 6620 3a63  t subclass of :c
+00032bd0: 6c61 7373 3a60 5061 7273 6545 7870 7265  lass:`ParseExpre
+00032be0: 7373 696f 6e60 2c20 666f 7220 636f 6e76  ssion`, for conv
+00032bf0: 6572 7469 6e67 2070 6172 7365 6420 7265  erting parsed re
+00032c00: 7375 6c74 732e 0a20 2020 2022 2222 0a0a  sults..    """..
+00032c10: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+00032c20: 2873 656c 662c 2065 7870 723a 2055 6e69  (self, expr: Uni
+00032c30: 6f6e 5b50 6172 7365 7245 6c65 6d65 6e74  on[ParserElement
+00032c40: 2c20 7374 725d 2c20 7361 7665 6c69 7374  , str], savelist
+00032c50: 3d46 616c 7365 293a 0a20 2020 2020 2020  =False):.       
+00032c60: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
+00032c70: 5f28 6578 7072 2920 2023 202c 2073 6176  _(expr)  # , sav
+00032c80: 656c 6973 7429 0a20 2020 2020 2020 2073  elist).        s
+00032c90: 656c 662e 7361 7665 4173 4c69 7374 203d  elf.saveAsList =
+00032ca0: 2046 616c 7365 0a0a 0a63 6c61 7373 2043   False...class C
+00032cb0: 6f6d 6269 6e65 2854 6f6b 656e 436f 6e76  ombine(TokenConv
+00032cc0: 6572 7465 7229 3a0a 2020 2020 2222 2243  erter):.    """C
+00032cd0: 6f6e 7665 7274 6572 2074 6f20 636f 6e63  onverter to conc
+00032ce0: 6174 656e 6174 6520 616c 6c20 6d61 7463  atenate all matc
+00032cf0: 6869 6e67 2074 6f6b 656e 7320 746f 2061  hing tokens to a
+00032d00: 2073 696e 676c 6520 7374 7269 6e67 2e0a   single string..
+00032d10: 2020 2020 4279 2064 6566 6175 6c74 2c20      By default, 
+00032d20: 7468 6520 6d61 7463 6869 6e67 2070 6174  the matching pat
+00032d30: 7465 726e 7320 6d75 7374 2061 6c73 6f20  terns must also 
+00032d40: 6265 2063 6f6e 7469 6775 6f75 7320 696e  be contiguous in
+00032d50: 2074 6865 0a20 2020 2069 6e70 7574 2073   the.    input s
+00032d60: 7472 696e 673b 2074 6869 7320 6361 6e20  tring; this can 
+00032d70: 6265 2064 6973 6162 6c65 6420 6279 2073  be disabled by s
+00032d80: 7065 6369 6679 696e 670a 2020 2020 6060  pecifying.    ``
+00032d90: 2761 646a 6163 656e 743d 4661 6c73 6527  'adjacent=False'
+00032da0: 6060 2069 6e20 7468 6520 636f 6e73 7472  `` in the constr
+00032db0: 7563 746f 722e 0a0a 2020 2020 4578 616d  uctor...    Exam
+00032dc0: 706c 653a 3a0a 0a20 2020 2020 2020 2072  ple::..        r
+00032dd0: 6561 6c20 3d20 576f 7264 286e 756d 7329  eal = Word(nums)
+00032de0: 202b 2027 2e27 202b 2057 6f72 6428 6e75   + '.' + Word(nu
+00032df0: 6d73 290a 2020 2020 2020 2020 7072 696e  ms).        prin
+00032e00: 7428 7265 616c 2e70 6172 7365 5f73 7472  t(real.parse_str
+00032e10: 696e 6728 2733 2e31 3431 3627 2929 2023  ing('3.1416')) #
+00032e20: 202d 3e20 5b27 3327 2c20 272e 272c 2027   -> ['3', '.', '
+00032e30: 3134 3136 275d 0a20 2020 2020 2020 2023  1416'].        #
+00032e40: 2077 696c 6c20 616c 736f 2065 7272 6f6e   will also erron
+00032e50: 656f 7573 6c79 206d 6174 6368 2074 6865  eously match the
+00032e60: 2066 6f6c 6c6f 7769 6e67 0a20 2020 2020   following.     
+00032e70: 2020 2070 7269 6e74 2872 6561 6c2e 7061     print(real.pa
+00032e80: 7273 655f 7374 7269 6e67 2827 332e 2031  rse_string('3. 1
+00032e90: 3431 3627 2929 2023 202d 3e20 5b27 3327  416')) # -> ['3'
+00032ea0: 2c20 272e 272c 2027 3134 3136 275d 0a0a  , '.', '1416']..
+00032eb0: 2020 2020 2020 2020 7265 616c 203d 2043          real = C
+00032ec0: 6f6d 6269 6e65 2857 6f72 6428 6e75 6d73  ombine(Word(nums
+00032ed0: 2920 2b20 272e 2720 2b20 576f 7264 286e  ) + '.' + Word(n
+00032ee0: 756d 7329 290a 2020 2020 2020 2020 7072  ums)).        pr
+00032ef0: 696e 7428 7265 616c 2e70 6172 7365 5f73  int(real.parse_s
+00032f00: 7472 696e 6728 2733 2e31 3431 3627 2929  tring('3.1416'))
+00032f10: 2023 202d 3e20 5b27 332e 3134 3136 275d   # -> ['3.1416']
+00032f20: 0a20 2020 2020 2020 2023 206e 6f20 6d61  .        # no ma
+00032f30: 7463 6820 7768 656e 2074 6865 7265 2061  tch when there a
+00032f40: 7265 2069 6e74 6572 6e61 6c20 7370 6163  re internal spac
+00032f50: 6573 0a20 2020 2020 2020 2070 7269 6e74  es.        print
+00032f60: 2872 6561 6c2e 7061 7273 655f 7374 7269  (real.parse_stri
+00032f70: 6e67 2827 332e 2031 3431 3627 2929 2023  ng('3. 1416')) #
+00032f80: 202d 3e20 4578 6365 7074 696f 6e3a 2045   -> Exception: E
+00032f90: 7870 6563 7465 6420 573a 2830 3132 332e  xpected W:(0123.
+00032fa0: 2e2e 290a 2020 2020 2222 220a 0a20 2020  ..).    """..   
+00032fb0: 2064 6566 205f 5f69 6e69 745f 5f28 0a20   def __init__(. 
+00032fc0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00032fd0: 2020 2020 2065 7870 723a 2050 6172 7365       expr: Parse
+00032fe0: 7245 6c65 6d65 6e74 2c0a 2020 2020 2020  rElement,.      
+00032ff0: 2020 6a6f 696e 5f73 7472 696e 673a 2073    join_string: s
+00033000: 7472 203d 2022 222c 0a20 2020 2020 2020  tr = "",.       
+00033010: 2061 646a 6163 656e 743a 2062 6f6f 6c20   adjacent: bool 
+00033020: 3d20 5472 7565 2c0a 2020 2020 2020 2020  = True,.        
+00033030: 2a2c 0a20 2020 2020 2020 206a 6f69 6e53  *,.        joinS
+00033040: 7472 696e 673a 2074 7970 696e 672e 4f70  tring: typing.Op
+00033050: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
+00033060: 6e65 2c0a 2020 2020 293a 0a20 2020 2020  ne,.    ):.     
+00033070: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
+00033080: 745f 5f28 6578 7072 290a 2020 2020 2020  t__(expr).      
+00033090: 2020 6a6f 696e 5374 7269 6e67 203d 206a    joinString = j
+000330a0: 6f69 6e53 7472 696e 6720 6966 206a 6f69  oinString if joi
+000330b0: 6e53 7472 696e 6720 6973 206e 6f74 204e  nString is not N
+000330c0: 6f6e 6520 656c 7365 206a 6f69 6e5f 7374  one else join_st
+000330d0: 7269 6e67 0a20 2020 2020 2020 2023 2073  ring.        # s
+000330e0: 7570 7072 6573 7320 7768 6974 6573 7061  uppress whitespa
+000330f0: 6365 2d73 7472 6970 7069 6e67 2069 6e20  ce-stripping in 
+00033100: 636f 6e74 6169 6e65 6420 7061 7273 6520  contained parse 
+00033110: 6578 7072 6573 7369 6f6e 732c 2062 7574  expressions, but
+00033120: 2072 652d 656e 6162 6c65 2069 7420 6f6e   re-enable it on
+00033130: 2074 6865 2043 6f6d 6269 6e65 2069 7473   the Combine its
+00033140: 656c 660a 2020 2020 2020 2020 6966 2061  elf.        if a
+00033150: 646a 6163 656e 743a 0a20 2020 2020 2020  djacent:.       
+00033160: 2020 2020 2073 656c 662e 6c65 6176 655f       self.leave_
+00033170: 7768 6974 6573 7061 6365 2829 0a20 2020  whitespace().   
+00033180: 2020 2020 2073 656c 662e 6164 6a61 6365       self.adjace
+00033190: 6e74 203d 2061 646a 6163 656e 740a 2020  nt = adjacent.  
+000331a0: 2020 2020 2020 7365 6c66 2e73 6b69 7057        self.skipW
+000331b0: 6869 7465 7370 6163 6520 3d20 5472 7565  hitespace = True
+000331c0: 0a20 2020 2020 2020 2073 656c 662e 6a6f  .        self.jo
+000331d0: 696e 5374 7269 6e67 203d 206a 6f69 6e53  inString = joinS
+000331e0: 7472 696e 670a 2020 2020 2020 2020 7365  tring.        se
+000331f0: 6c66 2e63 616c 6c50 7265 7061 7273 6520  lf.callPreparse 
+00033200: 3d20 5472 7565 0a0a 2020 2020 6465 6620  = True..    def 
+00033210: 6967 6e6f 7265 2873 656c 662c 206f 7468  ignore(self, oth
+00033220: 6572 2920 2d3e 2050 6172 7365 7245 6c65  er) -> ParserEle
+00033230: 6d65 6e74 3a0a 2020 2020 2020 2020 6966  ment:.        if
+00033240: 2073 656c 662e 6164 6a61 6365 6e74 3a0a   self.adjacent:.
+00033250: 2020 2020 2020 2020 2020 2020 5061 7273              Pars
+00033260: 6572 456c 656d 656e 742e 6967 6e6f 7265  erElement.ignore
+00033270: 2873 656c 662c 206f 7468 6572 290a 2020  (self, other).  
+00033280: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00033290: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+000332a0: 6967 6e6f 7265 286f 7468 6572 290a 2020  ignore(other).  
+000332b0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+000332c0: 660a 0a20 2020 2064 6566 2070 6f73 7450  f..    def postP
+000332d0: 6172 7365 2873 656c 662c 2069 6e73 7472  arse(self, instr
+000332e0: 696e 672c 206c 6f63 2c20 746f 6b65 6e6c  ing, loc, tokenl
+000332f0: 6973 7429 3a0a 2020 2020 2020 2020 7265  ist):.        re
+00033300: 7454 6f6b 7320 3d20 746f 6b65 6e6c 6973  tToks = tokenlis
+00033310: 742e 636f 7079 2829 0a20 2020 2020 2020  t.copy().       
+00033320: 2064 656c 2072 6574 546f 6b73 5b3a 5d0a   del retToks[:].
+00033330: 2020 2020 2020 2020 7265 7454 6f6b 7320          retToks 
+00033340: 2b3d 2050 6172 7365 5265 7375 6c74 7328  += ParseResults(
+00033350: 0a20 2020 2020 2020 2020 2020 205b 2222  .            [""
+00033360: 2e6a 6f69 6e28 746f 6b65 6e6c 6973 742e  .join(tokenlist.
+00033370: 5f61 7353 7472 696e 674c 6973 7428 7365  _asStringList(se
+00033380: 6c66 2e6a 6f69 6e53 7472 696e 6729 295d  lf.joinString))]
+00033390: 2c20 6d6f 6461 6c3d 7365 6c66 2e6d 6f64  , modal=self.mod
+000333a0: 616c 5265 7375 6c74 730a 2020 2020 2020  alResults.      
+000333b0: 2020 290a 0a20 2020 2020 2020 2069 6620    )..        if 
+000333c0: 7365 6c66 2e72 6573 756c 7473 4e61 6d65  self.resultsName
+000333d0: 2061 6e64 2072 6574 546f 6b73 2e68 6173   and retToks.has
+000333e0: 6b65 7973 2829 3a0a 2020 2020 2020 2020  keys():.        
+000333f0: 2020 2020 7265 7475 726e 205b 7265 7454      return [retT
+00033400: 6f6b 735d 0a20 2020 2020 2020 2065 6c73  oks].        els
+00033410: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00033420: 6574 7572 6e20 7265 7454 6f6b 730a 0a0a  eturn retToks...
+00033430: 636c 6173 7320 4772 6f75 7028 546f 6b65  class Group(Toke
+00033440: 6e43 6f6e 7665 7274 6572 293a 0a20 2020  nConverter):.   
+00033450: 2022 2222 436f 6e76 6572 7465 7220 746f   """Converter to
+00033460: 2072 6574 7572 6e20 7468 6520 6d61 7463   return the matc
+00033470: 6865 6420 746f 6b65 6e73 2061 7320 6120  hed tokens as a 
+00033480: 6c69 7374 202d 2075 7365 6675 6c20 666f  list - useful fo
+00033490: 720a 2020 2020 7265 7475 726e 696e 6720  r.    returning 
+000334a0: 746f 6b65 6e73 206f 6620 3a63 6c61 7373  tokens of :class
+000334b0: 3a60 5a65 726f 4f72 4d6f 7265 6020 616e  :`ZeroOrMore` an
+000334c0: 6420 3a63 6c61 7373 3a60 4f6e 654f 724d  d :class:`OneOrM
+000334d0: 6f72 6560 2065 7870 7265 7373 696f 6e73  ore` expressions
+000334e0: 2e0a 0a20 2020 2054 6865 206f 7074 696f  ...    The optio
+000334f0: 6e61 6c20 6060 6173 6c69 7374 6060 2061  nal ``aslist`` a
+00033500: 7267 756d 656e 7420 7768 656e 2073 6574  rgument when set
+00033510: 2074 6f20 5472 7565 2077 696c 6c20 7265   to True will re
+00033520: 7475 726e 2074 6865 0a20 2020 2070 6172  turn the.    par
+00033530: 7365 6420 746f 6b65 6e73 2061 7320 6120  sed tokens as a 
+00033540: 5079 7468 6f6e 206c 6973 7420 696e 7374  Python list inst
+00033550: 6561 6420 6f66 2061 2070 7970 6172 7369  ead of a pyparsi
+00033560: 6e67 2050 6172 7365 5265 7375 6c74 732e  ng ParseResults.
+00033570: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
+00033580: 0a20 2020 2020 2020 2069 6465 6e74 203d  .        ident =
+00033590: 2057 6f72 6428 616c 7068 6173 290a 2020   Word(alphas).  
+000335a0: 2020 2020 2020 6e75 6d20 3d20 576f 7264        num = Word
+000335b0: 286e 756d 7329 0a20 2020 2020 2020 2074  (nums).        t
+000335c0: 6572 6d20 3d20 6964 656e 7420 7c20 6e75  erm = ident | nu
+000335d0: 6d0a 2020 2020 2020 2020 6675 6e63 203d  m.        func =
+000335e0: 2069 6465 6e74 202b 204f 7074 2864 656c   ident + Opt(del
+000335f0: 696d 6974 6564 5f6c 6973 7428 7465 726d  imited_list(term
+00033600: 2929 0a20 2020 2020 2020 2070 7269 6e74  )).        print
+00033610: 2866 756e 632e 7061 7273 655f 7374 7269  (func.parse_stri
+00033620: 6e67 2822 666e 2061 2c20 622c 2031 3030  ng("fn a, b, 100
+00033630: 2229 290a 2020 2020 2020 2020 2320 2d3e  ")).        # ->
+00033640: 205b 2766 6e27 2c20 2761 272c 2027 6227   ['fn', 'a', 'b'
+00033650: 2c20 2731 3030 275d 0a0a 2020 2020 2020  , '100']..      
+00033660: 2020 6675 6e63 203d 2069 6465 6e74 202b    func = ident +
+00033670: 2047 726f 7570 284f 7074 2864 656c 696d   Group(Opt(delim
+00033680: 6974 6564 5f6c 6973 7428 7465 726d 2929  ited_list(term))
+00033690: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
+000336a0: 6675 6e63 2e70 6172 7365 5f73 7472 696e  func.parse_strin
+000336b0: 6728 2266 6e20 612c 2062 2c20 3130 3022  g("fn a, b, 100"
+000336c0: 2929 0a20 2020 2020 2020 2023 202d 3e20  )).        # -> 
+000336d0: 5b27 666e 272c 205b 2761 272c 2027 6227  ['fn', ['a', 'b'
+000336e0: 2c20 2731 3030 275d 5d0a 2020 2020 2222  , '100']].    ""
+000336f0: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+00033700: 745f 5f28 7365 6c66 2c20 6578 7072 3a20  t__(self, expr: 
+00033710: 5061 7273 6572 456c 656d 656e 742c 2061  ParserElement, a
+00033720: 736c 6973 743a 2062 6f6f 6c20 3d20 4661  slist: bool = Fa
+00033730: 6c73 6529 3a0a 2020 2020 2020 2020 7375  lse):.        su
+00033740: 7065 7228 292e 5f5f 696e 6974 5f5f 2865  per().__init__(e
+00033750: 7870 7229 0a20 2020 2020 2020 2073 656c  xpr).        sel
+00033760: 662e 7361 7665 4173 4c69 7374 203d 2054  f.saveAsList = T
+00033770: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
+00033780: 2e5f 6173 5079 7468 6f6e 4c69 7374 203d  ._asPythonList =
+00033790: 2061 736c 6973 740a 0a20 2020 2064 6566   aslist..    def
+000337a0: 2070 6f73 7450 6172 7365 2873 656c 662c   postParse(self,
+000337b0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+000337c0: 746f 6b65 6e6c 6973 7429 3a0a 2020 2020  tokenlist):.    
+000337d0: 2020 2020 6966 2073 656c 662e 5f61 7350      if self._asP
+000337e0: 7974 686f 6e4c 6973 743a 0a20 2020 2020  ythonList:.     
+000337f0: 2020 2020 2020 2072 6574 7572 6e20 5061         return Pa
+00033800: 7273 6552 6573 756c 7473 2e4c 6973 7428  rseResults.List(
+00033810: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00033820: 2074 6f6b 656e 6c69 7374 2e61 734c 6973   tokenlist.asLis
+00033830: 7428 290a 2020 2020 2020 2020 2020 2020  t().            
+00033840: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+00033850: 6528 746f 6b65 6e6c 6973 742c 2050 6172  e(tokenlist, Par
+00033860: 7365 5265 7375 6c74 7329 0a20 2020 2020  seResults).     
+00033870: 2020 2020 2020 2020 2020 2065 6c73 6520             else 
+00033880: 6c69 7374 2874 6f6b 656e 6c69 7374 290a  list(tokenlist).
+00033890: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+000338a0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+000338b0: 2020 2020 2020 2020 7265 7475 726e 205b          return [
+000338c0: 746f 6b65 6e6c 6973 745d 0a0a 0a63 6c61  tokenlist]...cla
+000338d0: 7373 2044 6963 7428 546f 6b65 6e43 6f6e  ss Dict(TokenCon
+000338e0: 7665 7274 6572 293a 0a20 2020 2022 2222  verter):.    """
+000338f0: 436f 6e76 6572 7465 7220 746f 2072 6574  Converter to ret
+00033900: 7572 6e20 6120 7265 7065 7469 7469 7665  urn a repetitive
+00033910: 2065 7870 7265 7373 696f 6e20 6173 2061   expression as a
+00033920: 206c 6973 742c 2062 7574 2061 6c73 6f0a   list, but also.
+00033930: 2020 2020 6173 2061 2064 6963 7469 6f6e      as a diction
+00033940: 6172 792e 2045 6163 6820 656c 656d 656e  ary. Each elemen
+00033950: 7420 6361 6e20 616c 736f 2062 6520 7265  t can also be re
+00033960: 6665 7265 6e63 6564 2075 7369 6e67 2074  ferenced using t
+00033970: 6865 2066 6972 7374 0a20 2020 2074 6f6b  he first.    tok
+00033980: 656e 2069 6e20 7468 6520 6578 7072 6573  en in the expres
+00033990: 7369 6f6e 2061 7320 6974 7320 6b65 792e  sion as its key.
+000339a0: 2055 7365 6675 6c20 666f 7220 7461 6275   Useful for tabu
+000339b0: 6c61 7220 7265 706f 7274 0a20 2020 2073  lar report.    s
+000339c0: 6372 6170 696e 6720 7768 656e 2074 6865  craping when the
+000339d0: 2066 6972 7374 2063 6f6c 756d 6e20 6361   first column ca
+000339e0: 6e20 6265 2075 7365 6420 6173 2061 2069  n be used as a i
+000339f0: 7465 6d20 6b65 792e 0a0a 2020 2020 5468  tem key...    Th
+00033a00: 6520 6f70 7469 6f6e 616c 2060 6061 7364  e optional ``asd
+00033a10: 6963 7460 6020 6172 6775 6d65 6e74 2077  ict`` argument w
+00033a20: 6865 6e20 7365 7420 746f 2054 7275 6520  hen set to True 
+00033a30: 7769 6c6c 2072 6574 7572 6e20 7468 650a  will return the.
+00033a40: 2020 2020 7061 7273 6564 2074 6f6b 656e      parsed token
+00033a50: 7320 6173 2061 2050 7974 686f 6e20 6469  s as a Python di
+00033a60: 6374 2069 6e73 7465 6164 206f 6620 6120  ct instead of a 
+00033a70: 7079 7061 7273 696e 6720 5061 7273 6552  pyparsing ParseR
+00033a80: 6573 756c 7473 2e0a 0a20 2020 2045 7861  esults...    Exa
+00033a90: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
+00033aa0: 6461 7461 5f77 6f72 6420 3d20 576f 7264  data_word = Word
+00033ab0: 2861 6c70 6861 7329 0a20 2020 2020 2020  (alphas).       
+00033ac0: 206c 6162 656c 203d 2064 6174 615f 776f   label = data_wo
+00033ad0: 7264 202b 2046 6f6c 6c6f 7765 6442 7928  rd + FollowedBy(
+00033ae0: 273a 2729 0a0a 2020 2020 2020 2020 7465  ':')..        te
+00033af0: 7874 203d 2022 7368 6170 653a 2053 5155  xt = "shape: SQU
+00033b00: 4152 4520 706f 736e 3a20 7570 7065 7220  ARE posn: upper 
+00033b10: 6c65 6674 2063 6f6c 6f72 3a20 6c69 6768  left color: ligh
+00033b20: 7420 626c 7565 2074 6578 7475 7265 3a20  t blue texture: 
+00033b30: 6275 726c 6170 220a 2020 2020 2020 2020  burlap".        
+00033b40: 6174 7472 5f65 7870 7220 3d20 286c 6162  attr_expr = (lab
+00033b50: 656c 202b 2053 7570 7072 6573 7328 273a  el + Suppress(':
+00033b60: 2729 202b 204f 6e65 4f72 4d6f 7265 2864  ') + OneOrMore(d
+00033b70: 6174 615f 776f 7264 2c20 7374 6f70 5f6f  ata_word, stop_o
+00033b80: 6e3d 6c61 6265 6c29 2e73 6574 5f70 6172  n=label).set_par
+00033b90: 7365 5f61 6374 696f 6e28 2720 272e 6a6f  se_action(' '.jo
+00033ba0: 696e 2929 0a0a 2020 2020 2020 2020 2320  in))..        # 
+00033bb0: 7072 696e 7420 6174 7472 6962 7574 6573  print attributes
+00033bc0: 2061 7320 706c 6169 6e20 6772 6f75 7073   as plain groups
+00033bd0: 0a20 2020 2020 2020 2070 7269 6e74 2861  .        print(a
+00033be0: 7474 725f 6578 7072 5b31 2c20 2e2e 2e5d  ttr_expr[1, ...]
+00033bf0: 2e70 6172 7365 5f73 7472 696e 6728 7465  .parse_string(te
+00033c00: 7874 292e 6475 6d70 2829 290a 0a20 2020  xt).dump())..   
+00033c10: 2020 2020 2023 2069 6e73 7465 6164 206f       # instead o
+00033c20: 6620 4f6e 654f 724d 6f72 6528 6578 7072  f OneOrMore(expr
+00033c30: 292c 2070 6172 7365 2075 7369 6e67 2044  ), parse using D
+00033c40: 6963 7428 4772 6f75 7028 6578 7072 295b  ict(Group(expr)[
+00033c50: 312c 202e 2e2e 5d29 202d 2044 6963 7420  1, ...]) - Dict 
+00033c60: 7769 6c6c 2061 7574 6f2d 6173 7369 676e  will auto-assign
+00033c70: 206e 616d 6573 0a20 2020 2020 2020 2072   names.        r
+00033c80: 6573 756c 7420 3d20 4469 6374 2847 726f  esult = Dict(Gro
+00033c90: 7570 2861 7474 725f 6578 7072 295b 312c  up(attr_expr)[1,
+00033ca0: 202e 2e2e 5d29 2e70 6172 7365 5f73 7472   ...]).parse_str
+00033cb0: 696e 6728 7465 7874 290a 2020 2020 2020  ing(text).      
+00033cc0: 2020 7072 696e 7428 7265 7375 6c74 2e64    print(result.d
+00033cd0: 756d 7028 2929 0a0a 2020 2020 2020 2020  ump())..        
+00033ce0: 2320 6163 6365 7373 206e 616d 6564 2066  # access named f
+00033cf0: 6965 6c64 7320 6173 2064 6963 7420 656e  ields as dict en
+00033d00: 7472 6965 732c 206f 7220 6f75 7470 7574  tries, or output
+00033d10: 2061 7320 6469 6374 0a20 2020 2020 2020   as dict.       
+00033d20: 2070 7269 6e74 2872 6573 756c 745b 2773   print(result['s
+00033d30: 6861 7065 275d 290a 2020 2020 2020 2020  hape']).        
+00033d40: 7072 696e 7428 7265 7375 6c74 2e61 735f  print(result.as_
+00033d50: 6469 6374 2829 290a 0a20 2020 2070 7269  dict())..    pri
+00033d60: 6e74 733a 3a0a 0a20 2020 2020 2020 205b  nts::..        [
+00033d70: 2773 6861 7065 272c 2027 5351 5541 5245  'shape', 'SQUARE
+00033d80: 272c 2027 706f 736e 272c 2027 7570 7065  ', 'posn', 'uppe
+00033d90: 7220 6c65 6674 272c 2027 636f 6c6f 7227  r left', 'color'
+00033da0: 2c20 276c 6967 6874 2062 6c75 6527 2c20  , 'light blue', 
+00033db0: 2774 6578 7475 7265 272c 2027 6275 726c  'texture', 'burl
+00033dc0: 6170 275d 0a20 2020 2020 2020 205b 5b27  ap'].        [['
+00033dd0: 7368 6170 6527 2c20 2753 5155 4152 4527  shape', 'SQUARE'
+00033de0: 5d2c 205b 2770 6f73 6e27 2c20 2775 7070  ], ['posn', 'upp
+00033df0: 6572 206c 6566 7427 5d2c 205b 2763 6f6c  er left'], ['col
+00033e00: 6f72 272c 2027 6c69 6768 7420 626c 7565  or', 'light blue
+00033e10: 275d 2c20 5b27 7465 7874 7572 6527 2c20  '], ['texture', 
+00033e20: 2762 7572 6c61 7027 5d5d 0a20 2020 2020  'burlap']].     
+00033e30: 2020 202d 2063 6f6c 6f72 3a20 276c 6967     - color: 'lig
+00033e40: 6874 2062 6c75 6527 0a20 2020 2020 2020  ht blue'.       
+00033e50: 202d 2070 6f73 6e3a 2027 7570 7065 7220   - posn: 'upper 
+00033e60: 6c65 6674 270a 2020 2020 2020 2020 2d20  left'.        - 
+00033e70: 7368 6170 653a 2027 5351 5541 5245 270a  shape: 'SQUARE'.
+00033e80: 2020 2020 2020 2020 2d20 7465 7874 7572          - textur
+00033e90: 653a 2027 6275 726c 6170 270a 2020 2020  e: 'burlap'.    
+00033ea0: 2020 2020 5351 5541 5245 0a20 2020 2020      SQUARE.     
+00033eb0: 2020 207b 2763 6f6c 6f72 273a 2027 6c69     {'color': 'li
+00033ec0: 6768 7420 626c 7565 272c 2027 706f 736e  ght blue', 'posn
+00033ed0: 273a 2027 7570 7065 7220 6c65 6674 272c  ': 'upper left',
+00033ee0: 2027 7465 7874 7572 6527 3a20 2762 7572   'texture': 'bur
+00033ef0: 6c61 7027 2c20 2773 6861 7065 273a 2027  lap', 'shape': '
+00033f00: 5351 5541 5245 277d 0a0a 2020 2020 5365  SQUARE'}..    Se
+00033f10: 6520 6d6f 7265 2065 7861 6d70 6c65 7320  e more examples 
+00033f20: 6174 203a 636c 6173 733a 6050 6172 7365  at :class:`Parse
+00033f30: 5265 7375 6c74 7360 206f 6620 6163 6365  Results` of acce
+00033f40: 7373 696e 6720 6669 656c 6473 2062 7920  ssing fields by 
+00033f50: 7265 7375 6c74 7320 6e61 6d65 2e0a 2020  results name..  
+00033f60: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
+00033f70: 5f69 6e69 745f 5f28 7365 6c66 2c20 6578  _init__(self, ex
+00033f80: 7072 3a20 5061 7273 6572 456c 656d 656e  pr: ParserElemen
+00033f90: 742c 2061 7364 6963 743a 2062 6f6f 6c20  t, asdict: bool 
+00033fa0: 3d20 4661 6c73 6529 3a0a 2020 2020 2020  = False):.      
+00033fb0: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
+00033fc0: 5f5f 2865 7870 7229 0a20 2020 2020 2020  __(expr).       
+00033fd0: 2073 656c 662e 7361 7665 4173 4c69 7374   self.saveAsList
+00033fe0: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+00033ff0: 7365 6c66 2e5f 6173 5079 7468 6f6e 4469  self._asPythonDi
+00034000: 6374 203d 2061 7364 6963 740a 0a20 2020  ct = asdict..   
+00034010: 2064 6566 2070 6f73 7450 6172 7365 2873   def postParse(s
+00034020: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+00034030: 6f63 2c20 746f 6b65 6e6c 6973 7429 3a0a  oc, tokenlist):.
+00034040: 2020 2020 2020 2020 666f 7220 692c 2074          for i, t
+00034050: 6f6b 2069 6e20 656e 756d 6572 6174 6528  ok in enumerate(
+00034060: 746f 6b65 6e6c 6973 7429 3a0a 2020 2020  tokenlist):.    
+00034070: 2020 2020 2020 2020 6966 206c 656e 2874          if len(t
+00034080: 6f6b 2920 3d3d 2030 3a0a 2020 2020 2020  ok) == 0:.      
+00034090: 2020 2020 2020 2020 2020 636f 6e74 696e            contin
+000340a0: 7565 0a0a 2020 2020 2020 2020 2020 2020  ue..            
+000340b0: 696b 6579 203d 2074 6f6b 5b30 5d0a 2020  ikey = tok[0].  
+000340c0: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
+000340d0: 6e73 7461 6e63 6528 696b 6579 2c20 696e  nstance(ikey, in
+000340e0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
+000340f0: 2020 2020 696b 6579 203d 2073 7472 2869      ikey = str(i
+00034100: 6b65 7929 2e73 7472 6970 2829 0a0a 2020  key).strip()..  
+00034110: 2020 2020 2020 2020 2020 6966 206c 656e            if len
+00034120: 2874 6f6b 2920 3d3d 2031 3a0a 2020 2020  (tok) == 1:.    
+00034130: 2020 2020 2020 2020 2020 2020 746f 6b65              toke
+00034140: 6e6c 6973 745b 696b 6579 5d20 3d20 5f50  nlist[ikey] = _P
+00034150: 6172 7365 5265 7375 6c74 7357 6974 684f  arseResultsWithO
+00034160: 6666 7365 7428 2222 2c20 6929 0a0a 2020  ffset("", i)..  
+00034170: 2020 2020 2020 2020 2020 656c 6966 206c            elif l
+00034180: 656e 2874 6f6b 2920 3d3d 2032 2061 6e64  en(tok) == 2 and
+00034190: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
+000341a0: 746f 6b5b 315d 2c20 5061 7273 6552 6573  tok[1], ParseRes
+000341b0: 756c 7473 293a 0a20 2020 2020 2020 2020  ults):.         
+000341c0: 2020 2020 2020 2074 6f6b 656e 6c69 7374         tokenlist
+000341d0: 5b69 6b65 795d 203d 205f 5061 7273 6552  [ikey] = _ParseR
+000341e0: 6573 756c 7473 5769 7468 4f66 6673 6574  esultsWithOffset
+000341f0: 2874 6f6b 5b31 5d2c 2069 290a 0a20 2020  (tok[1], i)..   
+00034200: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00034210: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00034220: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00034230: 2020 2020 2020 2020 6469 6374 7661 6c75          dictvalu
+00034240: 6520 3d20 746f 6b2e 636f 7079 2829 2020  e = tok.copy()  
+00034250: 2320 5061 7273 6552 6573 756c 7473 2869  # ParseResults(i
+00034260: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00034270: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
+00034280: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
+00034290: 2020 2020 2020 2020 6578 6320 3d20 5479          exc = Ty
+000342a0: 7065 4572 726f 7228 0a20 2020 2020 2020  peError(.       
+000342b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000342c0: 2022 636f 756c 6420 6e6f 7420 6578 7472   "could not extr
+000342d0: 6163 7420 6469 6374 2076 616c 7565 7320  act dict values 
+000342e0: 6672 6f6d 2070 6172 7365 6420 7265 7375  from parsed resu
+000342f0: 6c74 7322 0a20 2020 2020 2020 2020 2020  lts".           
+00034300: 2020 2020 2020 2020 2020 2020 2022 202d               " -
+00034310: 2044 6963 7420 6578 7072 6573 7369 6f6e   Dict expression
+00034320: 206d 7573 7420 636f 6e74 6169 6e20 4772   must contain Gr
+00034330: 6f75 7065 6420 6578 7072 6573 7369 6f6e  ouped expression
+00034340: 7322 0a20 2020 2020 2020 2020 2020 2020  s".             
+00034350: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00034360: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+00034370: 7365 2065 7863 2066 726f 6d20 4e6f 6e65  se exc from None
+00034380: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00034390: 2020 6465 6c20 6469 6374 7661 6c75 655b    del dictvalue[
+000343a0: 305d 0a0a 2020 2020 2020 2020 2020 2020  0]..            
+000343b0: 2020 2020 6966 206c 656e 2864 6963 7476      if len(dictv
+000343c0: 616c 7565 2920 213d 2031 206f 7220 280a  alue) != 1 or (.
+000343d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000343e0: 2020 2020 6973 696e 7374 616e 6365 2864      isinstance(d
+000343f0: 6963 7476 616c 7565 2c20 5061 7273 6552  ictvalue, ParseR
+00034400: 6573 756c 7473 2920 616e 6420 6469 6374  esults) and dict
+00034410: 7661 6c75 652e 6861 736b 6579 7328 290a  value.haskeys().
+00034420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034430: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00034440: 2020 2020 2020 2074 6f6b 656e 6c69 7374         tokenlist
+00034450: 5b69 6b65 795d 203d 205f 5061 7273 6552  [ikey] = _ParseR
+00034460: 6573 756c 7473 5769 7468 4f66 6673 6574  esultsWithOffset
+00034470: 2864 6963 7476 616c 7565 2c20 6929 0a20  (dictvalue, i). 
+00034480: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00034490: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000344a0: 2020 2020 2020 2020 2074 6f6b 656e 6c69           tokenli
+000344b0: 7374 5b69 6b65 795d 203d 205f 5061 7273  st[ikey] = _Pars
+000344c0: 6552 6573 756c 7473 5769 7468 4f66 6673  eResultsWithOffs
+000344d0: 6574 2864 6963 7476 616c 7565 5b30 5d2c  et(dictvalue[0],
+000344e0: 2069 290a 0a20 2020 2020 2020 2069 6620   i)..        if 
+000344f0: 7365 6c66 2e5f 6173 5079 7468 6f6e 4469  self._asPythonDi
+00034500: 6374 3a0a 2020 2020 2020 2020 2020 2020  ct:.            
+00034510: 7265 7475 726e 205b 746f 6b65 6e6c 6973  return [tokenlis
+00034520: 742e 6173 5f64 6963 7428 295d 2069 6620  t.as_dict()] if 
+00034530: 7365 6c66 2e72 6573 756c 7473 4e61 6d65  self.resultsName
+00034540: 2065 6c73 6520 746f 6b65 6e6c 6973 742e   else tokenlist.
+00034550: 6173 5f64 6963 7428 290a 2020 2020 2020  as_dict().      
+00034560: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00034570: 2020 2020 7265 7475 726e 205b 746f 6b65      return [toke
+00034580: 6e6c 6973 745d 2069 6620 7365 6c66 2e72  nlist] if self.r
+00034590: 6573 756c 7473 4e61 6d65 2065 6c73 6520  esultsName else 
+000345a0: 746f 6b65 6e6c 6973 740a 0a0a 636c 6173  tokenlist...clas
+000345b0: 7320 5375 7070 7265 7373 2854 6f6b 656e  s Suppress(Token
+000345c0: 436f 6e76 6572 7465 7229 3a0a 2020 2020  Converter):.    
+000345d0: 2222 2243 6f6e 7665 7274 6572 2066 6f72  """Converter for
+000345e0: 2069 676e 6f72 696e 6720 7468 6520 7265   ignoring the re
+000345f0: 7375 6c74 7320 6f66 2061 2070 6172 7365  sults of a parse
+00034600: 6420 6578 7072 6573 7369 6f6e 2e0a 0a20  d expression... 
+00034610: 2020 2045 7861 6d70 6c65 3a3a 0a0a 2020     Example::..  
+00034620: 2020 2020 2020 736f 7572 6365 203d 2022        source = "
+00034630: 612c 2062 2c20 632c 6422 0a20 2020 2020  a, b, c,d".     
+00034640: 2020 2077 6420 3d20 576f 7264 2861 6c70     wd = Word(alp
+00034650: 6861 7329 0a20 2020 2020 2020 2077 645f  has).        wd_
+00034660: 6c69 7374 3120 3d20 7764 202b 2028 272c  list1 = wd + (',
+00034670: 2720 2b20 7764 295b 2e2e 2e5d 0a20 2020  ' + wd)[...].   
+00034680: 2020 2020 2070 7269 6e74 2877 645f 6c69       print(wd_li
+00034690: 7374 312e 7061 7273 655f 7374 7269 6e67  st1.parse_string
+000346a0: 2873 6f75 7263 6529 290a 0a20 2020 2020  (source))..     
+000346b0: 2020 2023 206f 6674 656e 2c20 6465 6c69     # often, deli
+000346c0: 6d69 7465 7273 2074 6861 7420 6172 6520  miters that are 
+000346d0: 7573 6566 756c 2064 7572 696e 6720 7061  useful during pa
+000346e0: 7273 696e 6720 6172 6520 6a75 7374 2069  rsing are just i
+000346f0: 6e20 7468 650a 2020 2020 2020 2020 2320  n the.        # 
+00034700: 7761 7920 6166 7465 7277 6172 6420 2d20  way afterward - 
+00034710: 7573 6520 5375 7070 7265 7373 2074 6f20  use Suppress to 
+00034720: 6b65 6570 2074 6865 6d20 6f75 7420 6f66  keep them out of
+00034730: 2074 6865 2070 6172 7365 6420 6f75 7470   the parsed outp
+00034740: 7574 0a20 2020 2020 2020 2077 645f 6c69  ut.        wd_li
+00034750: 7374 3220 3d20 7764 202b 2028 5375 7070  st2 = wd + (Supp
+00034760: 7265 7373 2827 2c27 2920 2b20 7764 295b  ress(',') + wd)[
+00034770: 2e2e 2e5d 0a20 2020 2020 2020 2070 7269  ...].        pri
+00034780: 6e74 2877 645f 6c69 7374 322e 7061 7273  nt(wd_list2.pars
+00034790: 655f 7374 7269 6e67 2873 6f75 7263 6529  e_string(source)
+000347a0: 290a 0a20 2020 2020 2020 2023 2053 6b69  )..        # Ski
+000347b0: 7070 6564 2074 6578 7420 2875 7369 6e67  pped text (using
+000347c0: 2027 2e2e 2e27 2920 6361 6e20 6265 2073   '...') can be s
+000347d0: 7570 7072 6573 7365 6420 6173 2077 656c  uppressed as wel
+000347e0: 6c0a 2020 2020 2020 2020 736f 7572 6365  l.        source
+000347f0: 203d 2022 6c65 6164 2069 6e20 5354 4152   = "lead in STAR
+00034800: 5420 7265 6c65 7661 6e74 2074 6578 7420  T relevant text 
+00034810: 454e 4420 7472 6169 6c69 6e67 2074 6578  END trailing tex
+00034820: 7422 0a20 2020 2020 2020 2073 7461 7274  t".        start
+00034830: 5f6d 6172 6b65 7220 3d20 4b65 7977 6f72  _marker = Keywor
+00034840: 6428 2253 5441 5254 2229 0a20 2020 2020  d("START").     
+00034850: 2020 2065 6e64 5f6d 6172 6b65 7220 3d20     end_marker = 
+00034860: 4b65 7977 6f72 6428 2245 4e44 2229 0a20  Keyword("END"). 
+00034870: 2020 2020 2020 2066 696e 645f 626f 6479         find_body
+00034880: 203d 2053 7570 7072 6573 7328 2e2e 2e29   = Suppress(...)
+00034890: 202b 2073 7461 7274 5f6d 6172 6b65 7220   + start_marker 
+000348a0: 2b20 2e2e 2e20 2b20 656e 645f 6d61 726b  + ... + end_mark
+000348b0: 6572 0a20 2020 2020 2020 2070 7269 6e74  er.        print
+000348c0: 2866 696e 645f 626f 6479 2e70 6172 7365  (find_body.parse
+000348d0: 5f73 7472 696e 6728 736f 7572 6365 290a  _string(source).
+000348e0: 0a20 2020 2070 7269 6e74 733a 3a0a 0a20  .    prints::.. 
+000348f0: 2020 2020 2020 205b 2761 272c 2027 2c27         ['a', ','
+00034900: 2c20 2762 272c 2027 2c27 2c20 2763 272c  , 'b', ',', 'c',
+00034910: 2027 2c27 2c20 2764 275d 0a20 2020 2020   ',', 'd'].     
+00034920: 2020 205b 2761 272c 2027 6227 2c20 2763     ['a', 'b', 'c
+00034930: 272c 2027 6427 5d0a 2020 2020 2020 2020  ', 'd'].        
+00034940: 5b27 5354 4152 5427 2c20 2772 656c 6576  ['START', 'relev
+00034950: 616e 7420 7465 7874 2027 2c20 2745 4e44  ant text ', 'END
+00034960: 275d 0a0a 2020 2020 2853 6565 2061 6c73  ']..    (See als
+00034970: 6f20 3a63 6c61 7373 3a60 6465 6c69 6d69  o :class:`delimi
+00034980: 7465 645f 6c69 7374 602e 290a 2020 2020  ted_list`.).    
+00034990: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
+000349a0: 6e69 745f 5f28 7365 6c66 2c20 6578 7072  nit__(self, expr
+000349b0: 3a20 556e 696f 6e5b 5061 7273 6572 456c  : Union[ParserEl
+000349c0: 656d 656e 742c 2073 7472 5d2c 2073 6176  ement, str], sav
+000349d0: 656c 6973 743a 2062 6f6f 6c20 3d20 4661  elist: bool = Fa
+000349e0: 6c73 6529 3a0a 2020 2020 2020 2020 6966  lse):.        if
+000349f0: 2065 7870 7220 6973 202e 2e2e 3a0a 2020   expr is ...:.  
+00034a00: 2020 2020 2020 2020 2020 6578 7072 203d            expr =
+00034a10: 205f 5065 6e64 696e 6753 6b69 7028 4e6f   _PendingSkip(No
+00034a20: 4d61 7463 6828 2929 0a20 2020 2020 2020  Match()).       
+00034a30: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
+00034a40: 5f28 6578 7072 290a 0a20 2020 2064 6566  _(expr)..    def
+00034a50: 205f 5f61 6464 5f5f 2873 656c 662c 206f   __add__(self, o
+00034a60: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
+00034a70: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
+00034a80: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+00034a90: 7365 6c66 2e65 7870 722c 205f 5065 6e64  self.expr, _Pend
+00034aa0: 696e 6753 6b69 7029 3a0a 2020 2020 2020  ingSkip):.      
+00034ab0: 2020 2020 2020 7265 7475 726e 2053 7570        return Sup
+00034ac0: 7072 6573 7328 536b 6970 546f 286f 7468  press(SkipTo(oth
+00034ad0: 6572 2929 202b 206f 7468 6572 0a20 2020  er)) + other.   
+00034ae0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00034af0: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
+00034b00: 7065 7228 292e 5f5f 6164 645f 5f28 6f74  per().__add__(ot
+00034b10: 6865 7229 0a0a 2020 2020 6465 6620 5f5f  her)..    def __
+00034b20: 7375 625f 5f28 7365 6c66 2c20 6f74 6865  sub__(self, othe
+00034b30: 7229 202d 3e20 2250 6172 7365 7245 6c65  r) -> "ParserEle
+00034b40: 6d65 6e74 223a 0a20 2020 2020 2020 2069  ment":.        i
+00034b50: 6620 6973 696e 7374 616e 6365 2873 656c  f isinstance(sel
+00034b60: 662e 6578 7072 2c20 5f50 656e 6469 6e67  f.expr, _Pending
+00034b70: 536b 6970 293a 0a20 2020 2020 2020 2020  Skip):.         
+00034b80: 2020 2072 6574 7572 6e20 5375 7070 7265     return Suppre
+00034b90: 7373 2853 6b69 7054 6f28 6f74 6865 7229  ss(SkipTo(other)
+00034ba0: 2920 2d20 6f74 6865 720a 2020 2020 2020  ) - other.      
+00034bb0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00034bc0: 2020 2020 7265 7475 726e 2073 7570 6572      return super
+00034bd0: 2829 2e5f 5f73 7562 5f5f 286f 7468 6572  ().__sub__(other
+00034be0: 290a 0a20 2020 2064 6566 2070 6f73 7450  )..    def postP
+00034bf0: 6172 7365 2873 656c 662c 2069 6e73 7472  arse(self, instr
+00034c00: 696e 672c 206c 6f63 2c20 746f 6b65 6e6c  ing, loc, tokenl
+00034c10: 6973 7429 3a0a 2020 2020 2020 2020 7265  ist):.        re
+00034c20: 7475 726e 205b 5d0a 0a20 2020 2064 6566  turn []..    def
+00034c30: 2073 7570 7072 6573 7328 7365 6c66 2920   suppress(self) 
+00034c40: 2d3e 2050 6172 7365 7245 6c65 6d65 6e74  -> ParserElement
+00034c50: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+00034c60: 2073 656c 660a 0a0a 6465 6620 7472 6163   self...def trac
+00034c70: 655f 7061 7273 655f 6163 7469 6f6e 2866  e_parse_action(f
+00034c80: 3a20 5061 7273 6541 6374 696f 6e29 202d  : ParseAction) -
+00034c90: 3e20 5061 7273 6541 6374 696f 6e3a 0a20  > ParseAction:. 
+00034ca0: 2020 2022 2222 4465 636f 7261 746f 7220     """Decorator 
+00034cb0: 666f 7220 6465 6275 6767 696e 6720 7061  for debugging pa
+00034cc0: 7273 6520 6163 7469 6f6e 732e 0a0a 2020  rse actions...  
+00034cd0: 2020 5768 656e 2074 6865 2070 6172 7365    When the parse
+00034ce0: 2061 6374 696f 6e20 6973 2063 616c 6c65   action is calle
+00034cf0: 642c 2074 6869 7320 6465 636f 7261 746f  d, this decorato
+00034d00: 7220 7769 6c6c 2070 7269 6e74 0a20 2020  r will print.   
+00034d10: 2060 6022 3e3e 2065 6e74 6572 696e 6720   ``">> entering 
+00034d20: 6d65 7468 6f64 2d6e 616d 6528 6c69 6e65  method-name(line
+00034d30: 3a3c 6375 7272 656e 745f 736f 7572 6365  :<current_source
+00034d40: 5f6c 696e 653e 2c20 3c70 6172 7365 5f6c  _line>, <parse_l
+00034d50: 6f63 6174 696f 6e3e 2c20 3c6d 6174 6368  ocation>, <match
+00034d60: 6564 5f74 6f6b 656e 733e 2922 6060 2e0a  ed_tokens>)"``..
+00034d70: 2020 2020 5768 656e 2074 6865 2070 6172      When the par
+00034d80: 7365 2061 6374 696f 6e20 636f 6d70 6c65  se action comple
+00034d90: 7465 732c 2074 6865 2064 6563 6f72 6174  tes, the decorat
+00034da0: 6f72 2077 696c 6c20 7072 696e 740a 2020  or will print.  
+00034db0: 2020 6060 223c 3c22 6060 2066 6f6c 6c6f    ``"<<"`` follo
+00034dc0: 7765 6420 6279 2074 6865 2072 6574 7572  wed by the retur
+00034dd0: 6e65 6420 7661 6c75 652c 206f 7220 616e  ned value, or an
+00034de0: 7920 6578 6365 7074 696f 6e20 7468 6174  y exception that
+00034df0: 2074 6865 2070 6172 7365 2061 6374 696f   the parse actio
+00034e00: 6e20 7261 6973 6564 2e0a 0a20 2020 2045  n raised...    E
+00034e10: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
+00034e20: 2020 7764 203d 2057 6f72 6428 616c 7068    wd = Word(alph
+00034e30: 6173 290a 0a20 2020 2020 2020 2040 7472  as)..        @tr
+00034e40: 6163 655f 7061 7273 655f 6163 7469 6f6e  ace_parse_action
+00034e50: 0a20 2020 2020 2020 2064 6566 2072 656d  .        def rem
+00034e60: 6f76 655f 6475 706c 6963 6174 655f 6368  ove_duplicate_ch
+00034e70: 6172 7328 746f 6b65 6e73 293a 0a20 2020  ars(tokens):.   
+00034e80: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00034e90: 2727 2e6a 6f69 6e28 736f 7274 6564 2873  ''.join(sorted(s
+00034ea0: 6574 2827 272e 6a6f 696e 2874 6f6b 656e  et(''.join(token
+00034eb0: 7329 2929 290a 0a20 2020 2020 2020 2077  s))))..        w
+00034ec0: 6473 203d 2077 645b 312c 202e 2e2e 5d2e  ds = wd[1, ...].
+00034ed0: 7365 745f 7061 7273 655f 6163 7469 6f6e  set_parse_action
+00034ee0: 2872 656d 6f76 655f 6475 706c 6963 6174  (remove_duplicat
+00034ef0: 655f 6368 6172 7329 0a20 2020 2020 2020  e_chars).       
+00034f00: 2070 7269 6e74 2877 6473 2e70 6172 7365   print(wds.parse
+00034f10: 5f73 7472 696e 6728 2273 6c6b 646a 7320  _string("slkdjs 
+00034f20: 736c 6420 736c 6464 2073 646c 6620 7364  sld sldd sdlf sd
+00034f30: 6c6a 6622 2929 0a0a 2020 2020 7072 696e  ljf"))..    prin
+00034f40: 7473 3a3a 0a0a 2020 2020 2020 2020 3e3e  ts::..        >>
+00034f50: 656e 7465 7269 6e67 2072 656d 6f76 655f  entering remove_
+00034f60: 6475 706c 6963 6174 655f 6368 6172 7328  duplicate_chars(
+00034f70: 6c69 6e65 3a20 2773 6c6b 646a 7320 736c  line: 'slkdjs sl
+00034f80: 6420 736c 6464 2073 646c 6620 7364 6c6a  d sldd sdlf sdlj
+00034f90: 6627 2c20 302c 2028 5b27 736c 6b64 6a73  f', 0, (['slkdjs
+00034fa0: 272c 2027 736c 6427 2c20 2773 6c64 6427  ', 'sld', 'sldd'
+00034fb0: 2c20 2773 646c 6627 2c20 2773 646c 6a66  , 'sdlf', 'sdljf
+00034fc0: 275d 2c20 7b7d 2929 0a20 2020 2020 2020  '], {})).       
+00034fd0: 203c 3c6c 6561 7669 6e67 2072 656d 6f76   <<leaving remov
+00034fe0: 655f 6475 706c 6963 6174 655f 6368 6172  e_duplicate_char
+00034ff0: 7320 2872 6574 3a20 2764 666a 6b6c 7327  s (ret: 'dfjkls'
+00035000: 290a 2020 2020 2020 2020 5b27 6466 6a6b  ).        ['dfjk
+00035010: 6c73 275d 0a20 2020 2022 2222 0a20 2020  ls'].    """.   
+00035020: 2066 203d 205f 7472 696d 5f61 7269 7479   f = _trim_arity
+00035030: 2866 290a 0a20 2020 2064 6566 207a 282a  (f)..    def z(*
+00035040: 7061 4172 6773 293a 0a20 2020 2020 2020  paArgs):.       
+00035050: 2074 6869 7346 756e 6320 3d20 662e 5f5f   thisFunc = f.__
+00035060: 6e61 6d65 5f5f 0a20 2020 2020 2020 2073  name__.        s
+00035070: 2c20 6c2c 2074 203d 2070 6141 7267 735b  , l, t = paArgs[
+00035080: 2d33 3a5d 0a20 2020 2020 2020 2069 6620  -3:].        if 
+00035090: 6c65 6e28 7061 4172 6773 2920 3e20 333a  len(paArgs) > 3:
+000350a0: 0a20 2020 2020 2020 2020 2020 2074 6869  .            thi
+000350b0: 7346 756e 6320 3d20 7061 4172 6773 5b30  sFunc = paArgs[0
+000350c0: 5d2e 5f5f 636c 6173 735f 5f2e 5f5f 6e61  ].__class__.__na
+000350d0: 6d65 5f5f 202b 2022 2e22 202b 2074 6869  me__ + "." + thi
+000350e0: 7346 756e 630a 2020 2020 2020 2020 7379  sFunc.        sy
+000350f0: 732e 7374 6465 7272 2e77 7269 7465 2866  s.stderr.write(f
+00035100: 223e 3e65 6e74 6572 696e 6720 7b74 6869  ">>entering {thi
+00035110: 7346 756e 637d 286c 696e 653a 207b 6c69  sFunc}(line: {li
+00035120: 6e65 286c 2c20 7329 2172 7d2c 207b 6c7d  ne(l, s)!r}, {l}
+00035130: 2c20 7b74 2172 7d29 5c6e 2229 0a20 2020  , {t!r})\n").   
+00035140: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+00035150: 2020 2020 2020 7265 7420 3d20 6628 2a70        ret = f(*p
+00035160: 6141 7267 7329 0a20 2020 2020 2020 2065  aArgs).        e
+00035170: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
+00035180: 6173 2065 7863 3a0a 2020 2020 2020 2020  as exc:.        
+00035190: 2020 2020 7379 732e 7374 6465 7272 2e77      sys.stderr.w
+000351a0: 7269 7465 2866 223c 3c6c 6561 7669 6e67  rite(f"<<leaving
+000351b0: 207b 7468 6973 4675 6e63 7d20 2865 7863   {thisFunc} (exc
+000351c0: 6570 7469 6f6e 3a20 7b65 7863 7d29 5c6e  eption: {exc})\n
+000351d0: 2229 0a20 2020 2020 2020 2020 2020 2072  ").            r
+000351e0: 6169 7365 0a20 2020 2020 2020 2073 7973  aise.        sys
+000351f0: 2e73 7464 6572 722e 7772 6974 6528 6622  .stderr.write(f"
+00035200: 3c3c 6c65 6176 696e 6720 7b74 6869 7346  <<leaving {thisF
+00035210: 756e 637d 2028 7265 743a 207b 7265 7421  unc} (ret: {ret!
+00035220: 727d 295c 6e22 290a 2020 2020 2020 2020  r})\n").        
+00035230: 7265 7475 726e 2072 6574 0a0a 2020 2020  return ret..    
+00035240: 7a2e 5f5f 6e61 6d65 5f5f 203d 2066 2e5f  z.__name__ = f._
+00035250: 5f6e 616d 655f 5f0a 2020 2020 7265 7475  _name__.    retu
+00035260: 726e 207a 0a0a 0a23 2063 6f6e 7665 6e69  rn z...# conveni
+00035270: 656e 6365 2063 6f6e 7374 616e 7473 2066  ence constants f
+00035280: 6f72 2070 6f73 6974 696f 6e61 6c20 6578  or positional ex
+00035290: 7072 6573 7369 6f6e 730a 656d 7074 7920  pressions.empty 
+000352a0: 3d20 456d 7074 7928 292e 7365 745f 6e61  = Empty().set_na
+000352b0: 6d65 2822 656d 7074 7922 290a 6c69 6e65  me("empty").line
+000352c0: 5f73 7461 7274 203d 204c 696e 6553 7461  _start = LineSta
+000352d0: 7274 2829 2e73 6574 5f6e 616d 6528 226c  rt().set_name("l
+000352e0: 696e 655f 7374 6172 7422 290a 6c69 6e65  ine_start").line
+000352f0: 5f65 6e64 203d 204c 696e 6545 6e64 2829  _end = LineEnd()
+00035300: 2e73 6574 5f6e 616d 6528 226c 696e 655f  .set_name("line_
+00035310: 656e 6422 290a 7374 7269 6e67 5f73 7461  end").string_sta
+00035320: 7274 203d 2053 7472 696e 6753 7461 7274  rt = StringStart
+00035330: 2829 2e73 6574 5f6e 616d 6528 2273 7472  ().set_name("str
+00035340: 696e 675f 7374 6172 7422 290a 7374 7269  ing_start").stri
+00035350: 6e67 5f65 6e64 203d 2053 7472 696e 6745  ng_end = StringE
+00035360: 6e64 2829 2e73 6574 5f6e 616d 6528 2273  nd().set_name("s
+00035370: 7472 696e 675f 656e 6422 290a 0a5f 6573  tring_end").._es
+00035380: 6361 7065 6450 756e 6320 3d20 5265 6765  capedPunc = Rege
+00035390: 7828 7222 5c5c 5b5c 5c5b 5c5d 5c2f 5c2d  x(r"\\[\\[\]\/\-
+000353a0: 5c2a 5c2e 5c24 5c2b 5c5e 5c3f 2829 7e20  \*\.\$\+\^\?()~ 
+000353b0: 5d22 292e 7365 745f 7061 7273 655f 6163  ]").set_parse_ac
+000353c0: 7469 6f6e 280a 2020 2020 6c61 6d62 6461  tion(.    lambda
+000353d0: 2073 2c20 6c2c 2074 3a20 745b 305d 5b31   s, l, t: t[0][1
+000353e0: 5d0a 290a 5f65 7363 6170 6564 4865 7843  ].)._escapedHexC
+000353f0: 6861 7220 3d20 5265 6765 7828 7222 5c5c  har = Regex(r"\\
+00035400: 303f 5b78 585d 5b30 2d39 612d 6641 2d46  0?[xX][0-9a-fA-F
+00035410: 5d2b 2229 2e73 6574 5f70 6172 7365 5f61  ]+").set_parse_a
+00035420: 6374 696f 6e28 0a20 2020 206c 616d 6264  ction(.    lambd
+00035430: 6120 732c 206c 2c20 743a 2063 6872 2869  a s, l, t: chr(i
+00035440: 6e74 2874 5b30 5d2e 6c73 7472 6970 2872  nt(t[0].lstrip(r
+00035450: 225c 3078 2229 2c20 3136 2929 0a29 0a5f  "\0x"), 16)).)._
+00035460: 6573 6361 7065 644f 6374 4368 6172 203d  escapedOctChar =
+00035470: 2052 6567 6578 2872 225c 5c30 5b30 2d37   Regex(r"\\0[0-7
+00035480: 5d2b 2229 2e73 6574 5f70 6172 7365 5f61  ]+").set_parse_a
+00035490: 6374 696f 6e28 0a20 2020 206c 616d 6264  ction(.    lambd
+000354a0: 6120 732c 206c 2c20 743a 2063 6872 2869  a s, l, t: chr(i
+000354b0: 6e74 2874 5b30 5d5b 313a 5d2c 2038 2929  nt(t[0][1:], 8))
+000354c0: 0a29 0a5f 7369 6e67 6c65 4368 6172 203d  .)._singleChar =
+000354d0: 2028 0a20 2020 205f 6573 6361 7065 6450   (.    _escapedP
+000354e0: 756e 6320 7c20 5f65 7363 6170 6564 4865  unc | _escapedHe
+000354f0: 7843 6861 7220 7c20 5f65 7363 6170 6564  xChar | _escaped
+00035500: 4f63 7443 6861 7220 7c20 4368 6172 734e  OctChar | CharsN
+00035510: 6f74 496e 2872 225c 5d22 2c20 6578 6163  otIn(r"\]", exac
+00035520: 743d 3129 0a29 0a5f 6368 6172 5261 6e67  t=1).)._charRang
+00035530: 6520 3d20 4772 6f75 7028 5f73 696e 676c  e = Group(_singl
+00035540: 6543 6861 7220 2b20 5375 7070 7265 7373  eChar + Suppress
+00035550: 2822 2d22 2920 2b20 5f73 696e 676c 6543  ("-") + _singleC
+00035560: 6861 7229 0a5f 7265 4272 6163 6b65 7445  har)._reBracketE
+00035570: 7870 7220 3d20 280a 2020 2020 4c69 7465  xpr = (.    Lite
+00035580: 7261 6c28 225b 2229 0a20 2020 202b 204f  ral("[").    + O
+00035590: 7074 2822 5e22 292e 7365 745f 7265 7375  pt("^").set_resu
+000355a0: 6c74 735f 6e61 6d65 2822 6e65 6761 7465  lts_name("negate
+000355b0: 2229 0a20 2020 202b 2047 726f 7570 284f  ").    + Group(O
+000355c0: 6e65 4f72 4d6f 7265 285f 6368 6172 5261  neOrMore(_charRa
+000355d0: 6e67 6520 7c20 5f73 696e 676c 6543 6861  nge | _singleCha
+000355e0: 7229 292e 7365 745f 7265 7375 6c74 735f  r)).set_results_
+000355f0: 6e61 6d65 2822 626f 6479 2229 0a20 2020  name("body").   
+00035600: 202b 204c 6974 6572 616c 2822 5d22 290a   + Literal("]").
+00035610: 290a 0a0a 6465 6620 7372 616e 6765 2873  )...def srange(s
+00035620: 3a20 7374 7229 202d 3e20 7374 723a 0a20  : str) -> str:. 
+00035630: 2020 2072 2222 2248 656c 7065 7220 746f     r"""Helper to
+00035640: 2065 6173 696c 7920 6465 6669 6e65 2073   easily define s
+00035650: 7472 696e 6720 7261 6e67 6573 2066 6f72  tring ranges for
+00035660: 2075 7365 2069 6e20 3a63 6c61 7373 3a60   use in :class:`
+00035670: 576f 7264 600a 2020 2020 636f 6e73 7472  Word`.    constr
+00035680: 7563 7469 6f6e 2e20 426f 7272 6f77 7320  uction. Borrows 
+00035690: 7379 6e74 6178 2066 726f 6d20 7265 6765  syntax from rege
+000356a0: 7870 2060 6027 5b5d 2760 6020 7374 7269  xp ``'[]'`` stri
+000356b0: 6e67 2072 616e 6765 0a20 2020 2064 6566  ng range.    def
+000356c0: 696e 6974 696f 6e73 3a3a 0a0a 2020 2020  initions::..    
+000356d0: 2020 2020 7372 616e 6765 2822 5b30 2d39      srange("[0-9
+000356e0: 5d22 2920 2020 2d3e 2022 3031 3233 3435  ]")   -> "012345
+000356f0: 3637 3839 220a 2020 2020 2020 2020 7372  6789".        sr
+00035700: 616e 6765 2822 5b61 2d7a 5d22 2920 2020  ange("[a-z]")   
+00035710: 2d3e 2022 6162 6364 6566 6768 696a 6b6c  -> "abcdefghijkl
+00035720: 6d6e 6f70 7172 7374 7576 7778 797a 220a  mnopqrstuvwxyz".
+00035730: 2020 2020 2020 2020 7372 616e 6765 2822          srange("
+00035740: 5b61 2d7a 245f 5d22 2920 2d3e 2022 6162  [a-z$_]") -> "ab
+00035750: 6364 6566 6768 696a 6b6c 6d6e 6f70 7172  cdefghijklmnopqr
+00035760: 7374 7576 7778 797a 245f 220a 0a20 2020  stuvwxyz$_"..   
+00035770: 2054 6865 2069 6e70 7574 2073 7472 696e   The input strin
+00035780: 6720 6d75 7374 2062 6520 656e 636c 6f73  g must be enclos
+00035790: 6564 2069 6e20 5b5d 2773 2c20 616e 6420  ed in []'s, and 
+000357a0: 7468 6520 7265 7475 726e 6564 2073 7472  the returned str
+000357b0: 696e 670a 2020 2020 6973 2074 6865 2065  ing.    is the e
+000357c0: 7870 616e 6465 6420 6368 6172 6163 7465  xpanded characte
+000357d0: 7220 7365 7420 6a6f 696e 6564 2069 6e74  r set joined int
+000357e0: 6f20 6120 7369 6e67 6c65 2073 7472 696e  o a single strin
+000357f0: 672e 2054 6865 0a20 2020 2076 616c 7565  g. The.    value
+00035800: 7320 656e 636c 6f73 6564 2069 6e20 7468  s enclosed in th
+00035810: 6520 5b5d 2773 206d 6179 2062 653a 0a0a  e []'s may be:..
+00035820: 2020 2020 2d20 6120 7369 6e67 6c65 2063      - a single c
+00035830: 6861 7261 6374 6572 0a20 2020 202d 2061  haracter.    - a
+00035840: 6e20 6573 6361 7065 6420 6368 6172 6163  n escaped charac
+00035850: 7465 7220 7769 7468 2061 206c 6561 6469  ter with a leadi
+00035860: 6e67 2062 6163 6b73 6c61 7368 2028 7375  ng backslash (su
+00035870: 6368 2061 7320 6060 5c2d 6060 0a20 2020  ch as ``\-``.   
+00035880: 2020 206f 7220 6060 5c5d 6060 290a 2020     or ``\]``).  
+00035890: 2020 2d20 616e 2065 7363 6170 6564 2068    - an escaped h
+000358a0: 6578 2063 6861 7261 6374 6572 2077 6974  ex character wit
+000358b0: 6820 6120 6c65 6164 696e 6720 6060 275c  h a leading ``'\
+000358c0: 7827 6060 0a20 2020 2020 2028 6060 5c78  x'``.      (``\x
+000358d0: 3231 6060 2c20 7768 6963 6820 6973 2061  21``, which is a
+000358e0: 2060 6027 2127 6060 2063 6861 7261 6374   ``'!'`` charact
+000358f0: 6572 2920 2860 605c 3078 2323 6060 0a20  er) (``\0x##``. 
+00035900: 2020 2020 2069 7320 616c 736f 2073 7570       is also sup
+00035910: 706f 7274 6564 2066 6f72 2062 6163 6b77  ported for backw
+00035920: 6172 6473 2063 6f6d 7061 7469 6269 6c69  ards compatibili
+00035930: 7479 290a 2020 2020 2d20 616e 2065 7363  ty).    - an esc
+00035940: 6170 6564 206f 6374 616c 2063 6861 7261  aped octal chara
+00035950: 6374 6572 2077 6974 6820 6120 6c65 6164  cter with a lead
+00035960: 696e 6720 6060 275c 3027 6060 0a20 2020  ing ``'\0'``.   
+00035970: 2020 2028 6060 5c30 3431 6060 2c20 7768     (``\041``, wh
+00035980: 6963 6820 6973 2061 2060 6027 2127 6060  ich is a ``'!'``
+00035990: 2063 6861 7261 6374 6572 290a 2020 2020   character).    
+000359a0: 2d20 6120 7261 6e67 6520 6f66 2061 6e79  - a range of any
+000359b0: 206f 6620 7468 6520 6162 6f76 652c 2073   of the above, s
+000359c0: 6570 6172 6174 6564 2062 7920 6120 6461  eparated by a da
+000359d0: 7368 2028 6060 2761 2d7a 2760 602c 0a20  sh (``'a-z'``,. 
+000359e0: 2020 2020 2065 7463 2e29 0a20 2020 202d       etc.).    -
+000359f0: 2061 6e79 2063 6f6d 6269 6e61 7469 6f6e   any combination
+00035a00: 206f 6620 7468 6520 6162 6f76 6520 2860   of the above (`
+00035a10: 6027 6165 696f 7579 2760 602c 0a20 2020  `'aeiouy'``,.   
+00035a20: 2020 2060 6027 612d 7a41 2d5a 302d 395f     ``'a-zA-Z0-9_
+00035a30: 2427 6060 2c20 6574 632e 290a 2020 2020  $'``, etc.).    
+00035a40: 2222 220a 2020 2020 5f65 7870 616e 6465  """.    _expande
+00035a50: 6420 3d20 280a 2020 2020 2020 2020 6c61  d = (.        la
+00035a60: 6d62 6461 2070 3a20 700a 2020 2020 2020  mbda p: p.      
+00035a70: 2020 6966 206e 6f74 2069 7369 6e73 7461    if not isinsta
+00035a80: 6e63 6528 702c 2050 6172 7365 5265 7375  nce(p, ParseResu
+00035a90: 6c74 7329 0a20 2020 2020 2020 2065 6c73  lts).        els
+00035aa0: 6520 2222 2e6a 6f69 6e28 6368 7228 6329  e "".join(chr(c)
+00035ab0: 2066 6f72 2063 2069 6e20 7261 6e67 6528   for c in range(
+00035ac0: 6f72 6428 705b 305d 292c 206f 7264 2870  ord(p[0]), ord(p
+00035ad0: 5b31 5d29 202b 2031 2929 0a20 2020 2029  [1]) + 1)).    )
+00035ae0: 0a20 2020 2074 7279 3a0a 2020 2020 2020  .    try:.      
+00035af0: 2020 7265 7475 726e 2022 222e 6a6f 696e    return "".join
+00035b00: 285f 6578 7061 6e64 6564 2870 6172 7429  (_expanded(part)
+00035b10: 2066 6f72 2070 6172 7420 696e 205f 7265   for part in _re
+00035b20: 4272 6163 6b65 7445 7870 722e 7061 7273  BracketExpr.pars
+00035b30: 655f 7374 7269 6e67 2873 292e 626f 6479  e_string(s).body
+00035b40: 290a 2020 2020 6578 6365 7074 2045 7863  ).    except Exc
+00035b50: 6570 7469 6f6e 2061 7320 653a 0a20 2020  eption as e:.   
+00035b60: 2020 2020 2072 6574 7572 6e20 2222 0a0a       return ""..
+00035b70: 0a64 6566 2074 6f6b 656e 5f6d 6170 2866  .def token_map(f
+00035b80: 756e 632c 202a 6172 6773 2920 2d3e 2050  unc, *args) -> P
+00035b90: 6172 7365 4163 7469 6f6e 3a0a 2020 2020  arseAction:.    
+00035ba0: 2222 2248 656c 7065 7220 746f 2064 6566  """Helper to def
+00035bb0: 696e 6520 6120 7061 7273 6520 6163 7469  ine a parse acti
+00035bc0: 6f6e 2062 7920 6d61 7070 696e 6720 6120  on by mapping a 
+00035bd0: 6675 6e63 7469 6f6e 2074 6f20 616c 6c0a  function to all.
+00035be0: 2020 2020 656c 656d 656e 7473 206f 6620      elements of 
+00035bf0: 6120 3a63 6c61 7373 3a60 5061 7273 6552  a :class:`ParseR
+00035c00: 6573 756c 7473 6020 6c69 7374 2e20 4966  esults` list. If
+00035c10: 2061 6e79 2061 6464 6974 696f 6e61 6c20   any additional 
+00035c20: 6172 6773 2061 7265 2070 6173 7365 642c  args are passed,
+00035c30: 0a20 2020 2074 6865 7920 6172 6520 666f  .    they are fo
+00035c40: 7277 6172 6465 6420 746f 2074 6865 2067  rwarded to the g
+00035c50: 6976 656e 2066 756e 6374 696f 6e20 6173  iven function as
+00035c60: 2061 6464 6974 696f 6e61 6c20 6172 6775   additional argu
+00035c70: 6d65 6e74 730a 2020 2020 6166 7465 7220  ments.    after 
+00035c80: 7468 6520 746f 6b65 6e2c 2061 7320 696e  the token, as in
+00035c90: 0a20 2020 2060 6068 6578 5f69 6e74 6567  .    ``hex_integ
+00035ca0: 6572 203d 2057 6f72 6428 6865 786e 756d  er = Word(hexnum
+00035cb0: 7329 2e73 6574 5f70 6172 7365 5f61 6374  s).set_parse_act
+00035cc0: 696f 6e28 746f 6b65 6e5f 6d61 7028 696e  ion(token_map(in
+00035cd0: 742c 2031 3629 2960 602c 0a20 2020 2077  t, 16))``,.    w
+00035ce0: 6869 6368 2077 696c 6c20 636f 6e76 6572  hich will conver
+00035cf0: 7420 7468 6520 7061 7273 6564 2064 6174  t the parsed dat
+00035d00: 6120 746f 2061 6e20 696e 7465 6765 7220  a to an integer 
+00035d10: 7573 696e 6720 6261 7365 2031 362e 0a0a  using base 16...
+00035d20: 2020 2020 4578 616d 706c 6520 2863 6f6d      Example (com
+00035d30: 7061 7265 2074 6865 206c 6173 7420 746f  pare the last to
+00035d40: 2065 7861 6d70 6c65 2069 6e20 3a63 6c61   example in :cla
+00035d50: 7373 3a60 5061 7273 6572 456c 656d 656e  ss:`ParserElemen
+00035d60: 742e 7472 616e 7366 6f72 6d5f 7374 7269  t.transform_stri
+00035d70: 6e67 603a 3a0a 0a20 2020 2020 2020 2068  ng`::..        h
+00035d80: 6578 5f69 6e74 7320 3d20 576f 7264 2868  ex_ints = Word(h
+00035d90: 6578 6e75 6d73 295b 312c 202e 2e2e 5d2e  exnums)[1, ...].
+00035da0: 7365 745f 7061 7273 655f 6163 7469 6f6e  set_parse_action
+00035db0: 2874 6f6b 656e 5f6d 6170 2869 6e74 2c20  (token_map(int, 
+00035dc0: 3136 2929 0a20 2020 2020 2020 2068 6578  16)).        hex
+00035dd0: 5f69 6e74 732e 7275 6e5f 7465 7374 7328  _ints.run_tests(
+00035de0: 2727 270a 2020 2020 2020 2020 2020 2020  '''.            
+00035df0: 3030 2031 3120 3232 2061 6120 4646 2030  00 11 22 aa FF 0
+00035e00: 6120 3064 2031 610a 2020 2020 2020 2020  a 0d 1a.        
+00035e10: 2020 2020 2727 2729 0a0a 2020 2020 2020      ''')..      
+00035e20: 2020 7570 7065 7277 6f72 6420 3d20 576f    upperword = Wo
+00035e30: 7264 2861 6c70 6861 7329 2e73 6574 5f70  rd(alphas).set_p
+00035e40: 6172 7365 5f61 6374 696f 6e28 746f 6b65  arse_action(toke
+00035e50: 6e5f 6d61 7028 7374 722e 7570 7065 7229  n_map(str.upper)
+00035e60: 290a 2020 2020 2020 2020 7570 7065 7277  ).        upperw
+00035e70: 6f72 645b 312c 202e 2e2e 5d2e 7275 6e5f  ord[1, ...].run_
+00035e80: 7465 7374 7328 2727 270a 2020 2020 2020  tests('''.      
+00035e90: 2020 2020 2020 6d79 206b 696e 6764 6f6d        my kingdom
+00035ea0: 2066 6f72 2061 2068 6f72 7365 0a20 2020   for a horse.   
+00035eb0: 2020 2020 2020 2020 2027 2727 290a 0a20           ''').. 
+00035ec0: 2020 2020 2020 2077 6420 3d20 576f 7264         wd = Word
+00035ed0: 2861 6c70 6861 7329 2e73 6574 5f70 6172  (alphas).set_par
+00035ee0: 7365 5f61 6374 696f 6e28 746f 6b65 6e5f  se_action(token_
+00035ef0: 6d61 7028 7374 722e 7469 746c 6529 290a  map(str.title)).
+00035f00: 2020 2020 2020 2020 7764 5b31 2c20 2e2e          wd[1, ..
+00035f10: 2e5d 2e73 6574 5f70 6172 7365 5f61 6374  .].set_parse_act
+00035f20: 696f 6e28 2720 272e 6a6f 696e 292e 7275  ion(' '.join).ru
+00035f30: 6e5f 7465 7374 7328 2727 270a 2020 2020  n_tests('''.    
+00035f40: 2020 2020 2020 2020 6e6f 7720 6973 2074          now is t
+00035f50: 6865 2077 696e 7465 7220 6f66 206f 7572  he winter of our
+00035f60: 2064 6973 636f 6e74 656e 7420 6d61 6465   discontent made
+00035f70: 2067 6c6f 7269 6f75 7320 7375 6d6d 6572   glorious summer
+00035f80: 2062 7920 7468 6973 2073 756e 206f 6620   by this sun of 
+00035f90: 796f 726b 0a20 2020 2020 2020 2020 2020  york.           
+00035fa0: 2027 2727 290a 0a20 2020 2070 7269 6e74   ''')..    print
+00035fb0: 733a 3a0a 0a20 2020 2020 2020 2030 3020  s::..        00 
+00035fc0: 3131 2032 3220 6161 2046 4620 3061 2030  11 22 aa FF 0a 0
+00035fd0: 6420 3161 0a20 2020 2020 2020 205b 302c  d 1a.        [0,
+00035fe0: 2031 372c 2033 342c 2031 3730 2c20 3235   17, 34, 170, 25
+00035ff0: 352c 2031 302c 2031 332c 2032 365d 0a0a  5, 10, 13, 26]..
+00036000: 2020 2020 2020 2020 6d79 206b 696e 6764          my kingd
+00036010: 6f6d 2066 6f72 2061 2068 6f72 7365 0a20  om for a horse. 
+00036020: 2020 2020 2020 205b 274d 5927 2c20 274b         ['MY', 'K
+00036030: 494e 4744 4f4d 272c 2027 464f 5227 2c20  INGDOM', 'FOR', 
+00036040: 2741 272c 2027 484f 5253 4527 5d0a 0a20  'A', 'HORSE'].. 
+00036050: 2020 2020 2020 206e 6f77 2069 7320 7468         now is th
+00036060: 6520 7769 6e74 6572 206f 6620 6f75 7220  e winter of our 
+00036070: 6469 7363 6f6e 7465 6e74 206d 6164 6520  discontent made 
+00036080: 676c 6f72 696f 7573 2073 756d 6d65 7220  glorious summer 
+00036090: 6279 2074 6869 7320 7375 6e20 6f66 2079  by this sun of y
+000360a0: 6f72 6b0a 2020 2020 2020 2020 5b27 4e6f  ork.        ['No
+000360b0: 7720 4973 2054 6865 2057 696e 7465 7220  w Is The Winter 
+000360c0: 4f66 204f 7572 2044 6973 636f 6e74 656e  Of Our Disconten
+000360d0: 7420 4d61 6465 2047 6c6f 7269 6f75 7320  t Made Glorious 
+000360e0: 5375 6d6d 6572 2042 7920 5468 6973 2053  Summer By This S
+000360f0: 756e 204f 6620 596f 726b 275d 0a20 2020  un Of York'].   
+00036100: 2022 2222 0a0a 2020 2020 6465 6620 7061   """..    def pa
+00036110: 2873 2c20 6c2c 2074 293a 0a20 2020 2020  (s, l, t):.     
+00036120: 2020 2072 6574 7572 6e20 5b66 756e 6328     return [func(
+00036130: 746f 6b6e 2c20 2a61 7267 7329 2066 6f72  tokn, *args) for
+00036140: 2074 6f6b 6e20 696e 2074 5d0a 0a20 2020   tokn in t]..   
+00036150: 2066 756e 635f 6e61 6d65 203d 2067 6574   func_name = get
+00036160: 6174 7472 2866 756e 632c 2022 5f5f 6e61  attr(func, "__na
+00036170: 6d65 5f5f 222c 2067 6574 6174 7472 2866  me__", getattr(f
+00036180: 756e 632c 2022 5f5f 636c 6173 735f 5f22  unc, "__class__"
+00036190: 292e 5f5f 6e61 6d65 5f5f 290a 2020 2020  ).__name__).    
+000361a0: 7061 2e5f 5f6e 616d 655f 5f20 3d20 6675  pa.__name__ = fu
+000361b0: 6e63 5f6e 616d 650a 0a20 2020 2072 6574  nc_name..    ret
+000361c0: 7572 6e20 7061 0a0a 0a64 6566 2061 7574  urn pa...def aut
+000361d0: 6f6e 616d 655f 656c 656d 656e 7473 2829  oname_elements()
+000361e0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
+000361f0: 220a 2020 2020 5574 696c 6974 7920 746f  ".    Utility to
+00036200: 2073 696d 706c 6966 7920 6d61 7373 2d6e   simplify mass-n
+00036210: 616d 696e 6720 6f66 2070 6172 7365 7220  aming of parser 
+00036220: 656c 656d 656e 7473 2c20 666f 720a 2020  elements, for.  
+00036230: 2020 6765 6e65 7261 7469 6e67 2072 6169    generating rai
+00036240: 6c72 6f61 6420 6469 6167 7261 6d20 7769  lroad diagram wi
+00036250: 7468 206e 616d 6564 2073 7562 6469 6167  th named subdiag
+00036260: 7261 6d73 2e0a 2020 2020 2222 220a 2020  rams..    """.  
+00036270: 2020 6361 6c6c 696e 675f 6672 616d 6520    calling_frame 
+00036280: 3d20 7379 732e 5f67 6574 6672 616d 6528  = sys._getframe(
+00036290: 292e 665f 6261 636b 0a20 2020 2069 6620  ).f_back.    if 
+000362a0: 6361 6c6c 696e 675f 6672 616d 6520 6973  calling_frame is
+000362b0: 204e 6f6e 653a 0a20 2020 2020 2020 2072   None:.        r
+000362c0: 6574 7572 6e0a 2020 2020 6361 6c6c 696e  eturn.    callin
+000362d0: 675f 6672 616d 6520 3d20 7479 7069 6e67  g_frame = typing
+000362e0: 2e63 6173 7428 7479 7065 732e 4672 616d  .cast(types.Fram
+000362f0: 6554 7970 652c 2063 616c 6c69 6e67 5f66  eType, calling_f
+00036300: 7261 6d65 290a 2020 2020 666f 7220 6e61  rame).    for na
+00036310: 6d65 2c20 7661 7220 696e 2063 616c 6c69  me, var in calli
+00036320: 6e67 5f66 7261 6d65 2e66 5f6c 6f63 616c  ng_frame.f_local
+00036330: 732e 6974 656d 7328 293a 0a20 2020 2020  s.items():.     
+00036340: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+00036350: 2876 6172 2c20 5061 7273 6572 456c 656d  (var, ParserElem
+00036360: 656e 7429 2061 6e64 206e 6f74 2076 6172  ent) and not var
+00036370: 2e63 7573 746f 6d4e 616d 653a 0a20 2020  .customName:.   
+00036380: 2020 2020 2020 2020 2076 6172 2e73 6574           var.set
+00036390: 5f6e 616d 6528 6e61 6d65 290a 0a0a 6462  _name(name)...db
+000363a0: 6c5f 7175 6f74 6564 5f73 7472 696e 6720  l_quoted_string 
+000363b0: 3d20 436f 6d62 696e 6528 0a20 2020 2052  = Combine(.    R
+000363c0: 6567 6578 2872 2722 283f 3a5b 5e22 5c6e  egex(r'"(?:[^"\n
+000363d0: 5c72 5c5c 5d7c 283f 3a22 2229 7c28 3f3a  \r\\]|(?:"")|(?:
+000363e0: 5c5c 283f 3a5b 5e78 5d7c 785b 302d 3961  \\(?:[^x]|x[0-9a
+000363f0: 2d66 412d 465d 2b29 2929 2a27 2920 2b20  -fA-F]+)))*') + 
+00036400: 2722 270a 292e 7365 745f 6e61 6d65 2822  '"'.).set_name("
+00036410: 7374 7269 6e67 2065 6e63 6c6f 7365 6420  string enclosed 
+00036420: 696e 2064 6f75 626c 6520 7175 6f74 6573  in double quotes
+00036430: 2229 0a0a 7367 6c5f 7175 6f74 6564 5f73  ")..sgl_quoted_s
+00036440: 7472 696e 6720 3d20 436f 6d62 696e 6528  tring = Combine(
+00036450: 0a20 2020 2052 6567 6578 2872 2227 283f  .    Regex(r"'(?
+00036460: 3a5b 5e27 5c6e 5c72 5c5c 5d7c 283f 3a27  :[^'\n\r\\]|(?:'
+00036470: 2729 7c28 3f3a 5c5c 283f 3a5b 5e78 5d7c  ')|(?:\\(?:[^x]|
+00036480: 785b 302d 3961 2d66 412d 465d 2b29 2929  x[0-9a-fA-F]+)))
+00036490: 2a22 2920 2b20 2227 220a 292e 7365 745f  *") + "'".).set_
+000364a0: 6e61 6d65 2822 7374 7269 6e67 2065 6e63  name("string enc
+000364b0: 6c6f 7365 6420 696e 2073 696e 676c 6520  losed in single 
+000364c0: 7175 6f74 6573 2229 0a0a 7175 6f74 6564  quotes")..quoted
+000364d0: 5f73 7472 696e 6720 3d20 436f 6d62 696e  _string = Combin
+000364e0: 6528 0a20 2020 2028 5265 6765 7828 7227  e(.    (Regex(r'
+000364f0: 2228 3f3a 5b5e 225c 6e5c 725c 5c5d 7c28  "(?:[^"\n\r\\]|(
+00036500: 3f3a 2222 297c 283f 3a5c 5c28 3f3a 5b5e  ?:"")|(?:\\(?:[^
+00036510: 785d 7c78 5b30 2d39 612d 6641 2d46 5d2b  x]|x[0-9a-fA-F]+
+00036520: 2929 292a 2729 202b 2027 2227 292e 7365  )))*') + '"').se
+00036530: 745f 6e61 6d65 280a 2020 2020 2020 2020  t_name(.        
+00036540: 2264 6f75 626c 6520 7175 6f74 6564 2073  "double quoted s
+00036550: 7472 696e 6722 0a20 2020 2029 0a20 2020  tring".    ).   
+00036560: 207c 2028 5265 6765 7828 7222 2728 3f3a   | (Regex(r"'(?:
+00036570: 5b5e 275c 6e5c 725c 5c5d 7c28 3f3a 2727  [^'\n\r\\]|(?:''
+00036580: 297c 283f 3a5c 5c28 3f3a 5b5e 785d 7c78  )|(?:\\(?:[^x]|x
+00036590: 5b30 2d39 612d 6641 2d46 5d2b 2929 292a  [0-9a-fA-F]+)))*
+000365a0: 2229 202b 2022 2722 292e 7365 745f 6e61  ") + "'").set_na
+000365b0: 6d65 280a 2020 2020 2020 2020 2273 696e  me(.        "sin
+000365c0: 676c 6520 7175 6f74 6564 2073 7472 696e  gle quoted strin
+000365d0: 6722 0a20 2020 2029 0a29 2e73 6574 5f6e  g".    ).).set_n
+000365e0: 616d 6528 2271 756f 7465 6420 7374 7269  ame("quoted stri
+000365f0: 6e67 2075 7369 6e67 2073 696e 676c 6520  ng using single 
+00036600: 6f72 2064 6f75 626c 6520 7175 6f74 6573  or double quotes
+00036610: 2229 0a0a 7079 7468 6f6e 5f71 756f 7465  ")..python_quote
+00036620: 645f 7374 7269 6e67 203d 2043 6f6d 6269  d_string = Combi
+00036630: 6e65 280a 2020 2020 2852 6567 6578 2872  ne(.    (Regex(r
+00036640: 2722 285b 5e22 5d7c 2222 3f28 3f21 2229  '"([^"]|""?(?!")
+00036650: 292a 272c 2066 6c61 6773 3d72 652e 4d55  )*', flags=re.MU
+00036660: 4c54 494c 494e 4529 202b 2027 2222 2227  LTILINE) + '"""'
+00036670: 292e 7365 745f 6e61 6d65 280a 2020 2020  ).set_name(.    
+00036680: 2020 2020 226d 756c 7469 6c69 6e65 2064      "multiline d
+00036690: 6f75 626c 6520 7175 6f74 6564 2073 7472  ouble quoted str
+000366a0: 696e 6722 0a20 2020 2029 0a20 2020 207c  ing".    ).    |
+000366b0: 2028 5265 6765 7828 7222 2728 5b5e 275d   (Regex(r"'([^']
+000366c0: 7c27 273f 283f 2127 2929 2a22 2c20 666c  |''?(?!'))*", fl
+000366d0: 6167 733d 7265 2e4d 554c 5449 4c49 4e45  ags=re.MULTILINE
+000366e0: 2920 2b20 2227 2727 2229 2e73 6574 5f6e  ) + "'''").set_n
+000366f0: 616d 6528 0a20 2020 2020 2020 2022 6d75  ame(.        "mu
+00036700: 6c74 696c 696e 6520 7369 6e67 6c65 2071  ltiline single q
+00036710: 756f 7465 6420 7374 7269 6e67 220a 2020  uoted string".  
+00036720: 2020 290a 2020 2020 7c20 2852 6567 6578    ).    | (Regex
+00036730: 2872 2722 283f 3a5b 5e22 5c6e 5c72 5c5c  (r'"(?:[^"\n\r\\
+00036740: 5d7c 283f 3a22 2229 7c28 3f3a 5c5c 283f  ]|(?:"")|(?:\\(?
+00036750: 3a5b 5e78 5d7c 785b 302d 3961 2d66 412d  :[^x]|x[0-9a-fA-
+00036760: 465d 2b29 2929 2a27 2920 2b20 2722 2729  F]+)))*') + '"')
+00036770: 2e73 6574 5f6e 616d 6528 0a20 2020 2020  .set_name(.     
+00036780: 2020 2022 646f 7562 6c65 2071 756f 7465     "double quote
+00036790: 6420 7374 7269 6e67 220a 2020 2020 290a  d string".    ).
+000367a0: 2020 2020 7c20 2852 6567 6578 2872 2227      | (Regex(r"'
+000367b0: 283f 3a5b 5e27 5c6e 5c72 5c5c 5d7c 283f  (?:[^'\n\r\\]|(?
+000367c0: 3a27 2729 7c28 3f3a 5c5c 283f 3a5b 5e78  :'')|(?:\\(?:[^x
+000367d0: 5d7c 785b 302d 3961 2d66 412d 465d 2b29  ]|x[0-9a-fA-F]+)
+000367e0: 2929 2a22 2920 2b20 2227 2229 2e73 6574  ))*") + "'").set
+000367f0: 5f6e 616d 6528 0a20 2020 2020 2020 2022  _name(.        "
+00036800: 7369 6e67 6c65 2071 756f 7465 6420 7374  single quoted st
+00036810: 7269 6e67 220a 2020 2020 290a 292e 7365  ring".    ).).se
+00036820: 745f 6e61 6d65 2822 5079 7468 6f6e 2071  t_name("Python q
+00036830: 756f 7465 6420 7374 7269 6e67 2229 0a0a  uoted string")..
+00036840: 756e 6963 6f64 655f 7374 7269 6e67 203d  unicode_string =
+00036850: 2043 6f6d 6269 6e65 2822 7522 202b 2071   Combine("u" + q
+00036860: 756f 7465 645f 7374 7269 6e67 2e63 6f70  uoted_string.cop
+00036870: 7928 2929 2e73 6574 5f6e 616d 6528 2275  y()).set_name("u
+00036880: 6e69 636f 6465 2073 7472 696e 6720 6c69  nicode string li
+00036890: 7465 7261 6c22 290a 0a0a 616c 7068 6173  teral")...alphas
+000368a0: 3862 6974 203d 2073 7261 6e67 6528 7222  8bit = srange(r"
+000368b0: 5b5c 3078 6330 2d5c 3078 6436 5c30 7864  [\0xc0-\0xd6\0xd
+000368c0: 382d 5c30 7866 365c 3078 6638 2d5c 3078  8-\0xf6\0xf8-\0x
+000368d0: 6666 5d22 290a 7075 6e63 3862 6974 203d  ff]").punc8bit =
+000368e0: 2073 7261 6e67 6528 7222 5b5c 3078 6131   srange(r"[\0xa1
+000368f0: 2d5c 3078 6266 5c30 7864 375c 3078 6637  -\0xbf\0xd7\0xf7
+00036900: 5d22 290a 0a23 2062 7569 6c64 206c 6973  ]")..# build lis
+00036910: 7420 6f66 2062 7569 6c74 2d69 6e20 6578  t of built-in ex
+00036920: 7072 6573 7369 6f6e 732c 2066 6f72 2066  pressions, for f
+00036930: 7574 7572 6520 7265 6665 7265 6e63 6520  uture reference 
+00036940: 6966 2061 2067 6c6f 6261 6c20 6465 6661  if a global defa
+00036950: 756c 7420 7661 6c75 650a 2320 6765 7473  ult value.# gets
+00036960: 2075 7064 6174 6564 0a5f 6275 696c 7469   updated._builti
+00036970: 6e5f 6578 7072 733a 204c 6973 745b 5061  n_exprs: List[Pa
+00036980: 7273 6572 456c 656d 656e 745d 203d 205b  rserElement] = [
+00036990: 0a20 2020 2076 2066 6f72 2076 2069 6e20  .    v for v in 
+000369a0: 7661 7273 2829 2e76 616c 7565 7328 2920  vars().values() 
+000369b0: 6966 2069 7369 6e73 7461 6e63 6528 762c  if isinstance(v,
+000369c0: 2050 6172 7365 7245 6c65 6d65 6e74 290a   ParserElement).
+000369d0: 5d0a 0a23 2062 6163 6b77 6172 6420 636f  ]..# backward co
+000369e0: 6d70 6174 6962 696c 6974 7920 6e61 6d65  mpatibility name
+000369f0: 730a 2320 666d 743a 206f 6666 0a73 676c  s.# fmt: off.sgl
+00036a00: 5175 6f74 6564 5374 7269 6e67 203d 2073  QuotedString = s
+00036a10: 676c 5f71 756f 7465 645f 7374 7269 6e67  gl_quoted_string
+00036a20: 0a64 626c 5175 6f74 6564 5374 7269 6e67  .dblQuotedString
+00036a30: 203d 2064 626c 5f71 756f 7465 645f 7374   = dbl_quoted_st
+00036a40: 7269 6e67 0a71 756f 7465 6453 7472 696e  ring.quotedStrin
+00036a50: 6720 3d20 7175 6f74 6564 5f73 7472 696e  g = quoted_strin
+00036a60: 670a 756e 6963 6f64 6553 7472 696e 6720  g.unicodeString 
+00036a70: 3d20 756e 6963 6f64 655f 7374 7269 6e67  = unicode_string
+00036a80: 0a6c 696e 6553 7461 7274 203d 206c 696e  .lineStart = lin
+00036a90: 655f 7374 6172 740a 6c69 6e65 456e 6420  e_start.lineEnd 
+00036aa0: 3d20 6c69 6e65 5f65 6e64 0a73 7472 696e  = line_end.strin
+00036ab0: 6753 7461 7274 203d 2073 7472 696e 675f  gStart = string_
+00036ac0: 7374 6172 740a 7374 7269 6e67 456e 6420  start.stringEnd 
+00036ad0: 3d20 7374 7269 6e67 5f65 6e64 0a0a 4072  = string_end..@r
+00036ae0: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
+00036af0: 6e75 6c6c 5f64 6562 7567 5f61 6374 696f  null_debug_actio
+00036b00: 6e29 0a64 6566 206e 756c 6c44 6562 7567  n).def nullDebug
+00036b10: 4163 7469 6f6e 2829 3a20 2e2e 2e0a 0a40  Action(): .....@
+00036b20: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
+00036b30: 2874 7261 6365 5f70 6172 7365 5f61 6374  (trace_parse_act
+00036b40: 696f 6e29 0a64 6566 2074 7261 6365 5061  ion).def tracePa
+00036b50: 7273 6541 6374 696f 6e28 293a 202e 2e2e  rseAction(): ...
+00036b60: 0a0a 4072 6570 6c61 6365 645f 6279 5f70  ..@replaced_by_p
+00036b70: 6570 3828 636f 6e64 6974 696f 6e5f 6173  ep8(condition_as
+00036b80: 5f70 6172 7365 5f61 6374 696f 6e29 0a64  _parse_action).d
+00036b90: 6566 2063 6f6e 6469 7469 6f6e 4173 5061  ef conditionAsPa
+00036ba0: 7273 6541 6374 696f 6e28 293a 202e 2e2e  rseAction(): ...
+00036bb0: 0a0a 4072 6570 6c61 6365 645f 6279 5f70  ..@replaced_by_p
+00036bc0: 6570 3828 746f 6b65 6e5f 6d61 7029 0a64  ep8(token_map).d
+00036bd0: 6566 2074 6f6b 656e 4d61 7028 293a 202e  ef tokenMap(): .
+00036be0: 2e2e 0a23 2066 6d74 3a20 6f6e 0a         ...# fmt: on.
```

### Comparing `pyparsing-3.1.0a1/pyparsing/diagram/__init__.py` & `pyparsing-3.1.0b1/pyparsing/diagram/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -401,15 +401,14 @@
         lookup: ConverterState = None,
         vertical: int = None,
         index: int = 0,
         name_hint: str = None,
         show_results_names: bool = False,
         show_groups: bool = False,
     ) -> typing.Optional[EditablePartial]:
-
         ret = fn(
             element,
             parent,
             lookup,
             vertical,
             index,
             name_hint,
@@ -558,17 +557,19 @@
         ret = EditablePartial.from_call(AnnotatedItem, label="LOOKBEHIND", item="")
     elif isinstance(element, pyparsing.Group):
         if show_groups:
             ret = EditablePartial.from_call(AnnotatedItem, label="", item="")
         else:
             ret = EditablePartial.from_call(railroad.Group, label="", item="")
     elif isinstance(element, pyparsing.TokenConverter):
-        ret = EditablePartial.from_call(
-            AnnotatedItem, label=type(element).__name__.lower(), item=""
-        )
+        label = type(element).__name__.lower()
+        if label == "tokenconverter":
+            ret = EditablePartial.from_call(railroad.Sequence, items=[])
+        else:
+            ret = EditablePartial.from_call(AnnotatedItem, label=label, item="")
     elif isinstance(element, pyparsing.Opt):
         ret = EditablePartial.from_call(railroad.Optional, item="")
     elif isinstance(element, pyparsing.OneOrMore):
         ret = EditablePartial.from_call(railroad.OneOrMore, item="")
     elif isinstance(element, pyparsing.ZeroOrMore):
         ret = EditablePartial.from_call(railroad.ZeroOrMore, item="")
     elif isinstance(element, pyparsing.Group):
```

### Comparing `pyparsing-3.1.0a1/pyparsing/exceptions.py` & `pyparsing-3.1.0b1/pyparsing/exceptions.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/pyparsing/helpers.py` & `pyparsing-3.1.0b1/pyparsing/helpers.py`

 * *Files 0% similar despite different names*

```diff
@@ -757,14 +757,15 @@
 
         (5+x)*y
         [[[5, '+', 'x'], '*', 'y']]
 
         -2--11
         [[['-', 2], '-', ['-', 11]]]
     """
+
     # captive version of FollowedBy that does not do parse actions or capture results names
     class _FB(FollowedBy):
         def parseImpl(self, instring, loc, doActions=True):
             self.expr.try_parse(instring, loc)
             return loc, []
 
     _FB.__name__ = "FollowedBy>"
```

### Comparing `pyparsing-3.1.0a1/pyparsing/results.py` & `pyparsing-3.1.0b1/pyparsing/results.py`

 * *Files 0% similar despite different names*

```diff
@@ -73,15 +73,15 @@
         'minutes' in result -> False
         result.dump() -> ['1999', '/', '12', '/', '31']
         - day: '31'
         - month: '12'
         - year: '1999'
     """
 
-    _null_values: Tuple[Any, ...] = (None, [], "", ())
+    _null_values: Tuple[Any, ...] = (None, [], ())
 
     _name: str
     _parent: "ParseResults"
     _all_names: Set[str]
     _modal: bool
     _toklist: List[Any]
     _tokdict: Dict[str, Any]
```

### Comparing `pyparsing-3.1.0a1/pyparsing/testing.py` & `pyparsing-3.1.0b1/pyparsing/testing.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/pyparsing/unicode.py` & `pyparsing-3.1.0b1/pyparsing/unicode.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/pyparsing/util.py` & `pyparsing-3.1.0b1/pyparsing/util.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/pyproject.toml` & `pyparsing-3.1.0b1/pyproject.toml`

 * *Files 4% similar despite different names*

```diff
@@ -19,14 +19,15 @@
     "Programming Language :: Python :: 3",
     "Programming Language :: Python :: 3.6",
     "Programming Language :: Python :: 3.7",
     "Programming Language :: Python :: 3.8",
     "Programming Language :: Python :: 3.9",
     "Programming Language :: Python :: 3.10",
     "Programming Language :: Python :: 3.11",
+    "Programming Language :: Python :: 3.12",
     "Programming Language :: Python :: 3 :: Only",
     "Programming Language :: Python :: Implementation :: CPython",
     "Programming Language :: Python :: Implementation :: PyPy",
     "Topic :: Software Development :: Compilers",
     "Topic :: Text Processing",
     "Typing :: Typed",
 ]
```

### Comparing `pyparsing-3.1.0a1/tests/diag_embed.html` & `pyparsing-3.1.0b1/tests/diag_embed.html`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/tests/diag_no_embed.html` & `pyparsing-3.1.0b1/tests/diag_no_embed.html`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/tests/json_parser_tests.py` & `pyparsing-3.1.0b1/tests/json_parser_tests.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/tests/mypy-ignore-cases/forward_methods.py` & `pyparsing-3.1.0b1/tests/mypy-ignore-cases/forward_methods.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/tests/test_diagram.py` & `pyparsing-3.1.0b1/tests/test_diagram.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/tests/test_examples.py` & `pyparsing-3.1.0b1/tests/test_examples.py`

 * *Files 14% similar despite different names*

```diff
@@ -39,9 +39,9 @@
 
     def test_rosettacode(self):
         self._run("rosettacode")
 
     def test_excelExpr(self):
         self._run("excelExpr")
 
-    def test_delta_time(self):
-        self._run("delta_time")
+    def test_lucene_grammar(self):
+        self._run("lucene_grammar")
```

### Comparing `pyparsing-3.1.0a1/tests/test_simple_unit.py` & `pyparsing-3.1.0b1/tests/test_simple_unit.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0a1/tests/test_unit.py` & `pyparsing-3.1.0b1/tests/test_unit.py`

 * *Files 1% similar despite different names*

```diff
@@ -1011,15 +1011,14 @@
             13,
         )
 
     def testParseVerilog(self):
         pass
 
     def testScanString(self):
-
         testdata = """
             <table border="0" cellpadding="3" cellspacing="3" frame="" width="90%">
                 <tr align="left" valign="top">
                         <td><b>Name</b></td>
                         <td><b>IP Address</b></td>
                         <td><b>Location</b></td>
                 </tr>
@@ -1261,14 +1260,71 @@
             stripped = (
                 pp.python_style_comment.ignore(pp.python_quoted_string)
                 .suppress()
                 .transform_string(source)
             )
             self.assertEqual(source, stripped)
 
+    def testQuotedStringUnquotesAndConvertWhitespaceEscapes(self):
+        # test for Issue #474
+        # fmt: off
+        backslash = chr(92)  # a single backslash
+        tab = "\t"
+        newline = "\n"
+        test_string_0 = f'"{backslash}{backslash}n"'              # r"\\n"
+        test_string_1 = f'"{backslash}t{backslash}{backslash}n"'  # r"\t\\n"
+        test_string_2 = f'"a{backslash}tb"'                       # r"a\tb"
+        test_string_3 = f'"{backslash}{backslash}{backslash}n"'   # r"\\\n"
+        T, F = True, False  # these make the test cases format nicely
+        for test_parameters in (
+                # Parameters are the arguments to creating a QuotedString
+                # and the expected parsed list of characters):
+                # - unquote_results
+                # - convert_whitespace_escapes
+                # - test string
+                # - expected parsed characters (broken out as separate
+                #   list items (all those doubled backslashes make it
+                #   difficult to interpret the output)
+                (T, T, test_string_0, [backslash, "n"]),
+                (T, F, test_string_0, [backslash, "n"]),
+                (F, F, test_string_0, ['"', backslash, backslash, "n", '"']),
+                (T, T, test_string_1, [tab, backslash, "n"]),
+                (T, F, test_string_1, ["t", backslash, "n"]),
+                (F, F, test_string_1, ['"', backslash, "t", backslash, backslash, "n", '"']),
+                (T, T, test_string_2, ["a", tab, "b"]),
+                (T, F, test_string_2, ["a", "t", "b"]),
+                (F, F, test_string_2, ['"', "a", backslash, "t", "b", '"']),
+                (T, T, test_string_3, [backslash, newline]),
+                (T, F, test_string_3, [backslash, "n"]),
+                (F, F, test_string_3, ['"', backslash, backslash, backslash, "n", '"']),
+        ):
+            unquote_results, convert_ws_escapes, test_string, expected_list = test_parameters
+            test_description = f"Testing with parameters {test_parameters}"
+            with self.subTest(msg=test_description):
+                print(test_description)
+                print(f"unquote_results: {unquote_results}"
+                      f"\nconvert_whitespace_escapes: {convert_ws_escapes}")
+                qs_expr = pp.QuotedString(
+                        quoteChar='"',
+                        escChar='\\',
+                        unquote_results=unquote_results,
+                        convert_whitespace_escapes=convert_ws_escapes
+                    )
+                result = qs_expr.parse_string(test_string)
+
+                # do this instead of assertParserAndCheckList to explicitly
+                # check and display the separate items in the list
+                print("Results:")
+                control_chars = {newline: "<NEWLINE>", backslash: "<BACKSLASH>", tab: "<TAB>"}
+                print(f"[{', '.join(control_chars.get(c, repr(c)) for c in result[0])}]")
+                self.assertEqual(expected_list, list(result[0]))
+
+                print()
+        # fmt: on
+
     def testCaselessOneOf(self):
         caseless1 = pp.oneOf("d a b c aA B A C", caseless=True)
         caseless1str = str(caseless1)
         print(caseless1str)
         caseless2 = pp.oneOf("d a b c Aa B A C", caseless=True)
         caseless2str = str(caseless2)
         print(caseless2str)
@@ -1688,16 +1744,35 @@
         test(
             e,
             "start red + 456 end",
             ["start", "red ", "+", "456 ", "end"],
             {"_skipped": ["red ", "456 "]},
         )
 
-    def testEllipsisRepetition(self):
+    def testSkipToPreParseIgnoreExprs(self):
+        # added to verify fix to Issue #475
+        from pyparsing import Word, alphanums, python_style_comment
 
+        some_grammar = Word(alphanums) + ":=" + ... + ";"
+        some_grammar.ignore(python_style_comment)
+        try:
+            result = some_grammar.parse_string(
+                """\
+                var1 := 2 # 3; <== this semi-colon will match!
+                      + 1;
+                """,
+                parse_all=True,
+            )
+        except ParseException as pe:
+            print(pe.explain())
+            raise
+        else:
+            print(result.dump())
+
+    def testEllipsisRepetition(self):
         word = pp.Word(pp.alphas).setName("word")
         num = pp.Word(pp.nums).setName("num")
 
         exprs = [
             word[...] + num,
             word * ... + num,
             word[0, ...] + num,
@@ -1847,15 +1922,14 @@
             r"""==sdf\:j=lz::--djf: sl=^^=kfsjf
             sdlfjs ==sdf\:j=ls::--djf: sl==kfsjf""",
         )
         with self.assertRaises(ValueError):
             pp.QuotedString("", "\\")
 
     def testCustomQuotes2(self):
-
         qs = pp.QuotedString(quote_char=".[", end_quote_char="].")
         print(qs.reString)
         self.assertParseAndCheckList(qs, ".[...].", ["..."])
         self.assertParseAndCheckList(qs, ".[].", [""])
         self.assertParseAndCheckList(qs, ".[]].", ["]"])
         self.assertParseAndCheckList(qs, ".[]]].", ["]]"])
 
@@ -2733,14 +2807,93 @@
         result = parser.parseString("abc", parseAll=True)
         print(result.dump())
         self.assertEqual("abc", result.A)
         self.assertEqual("", result.B)
         with self.assertRaises(AttributeError):
             result.__xyz__
 
+    def testParseResultsNamedResultWithEmptyString(self):
+        # from Issue #470
+
+        # Check which values can be returned from a parse action
+        for test_value, expected_in_result_by_name in [
+            ("x", True),
+            ("", True),
+            (True, True),
+            (False, True),
+            (1, True),
+            (0, True),
+            (None, True),
+            (b"", True),
+            (b"a", True),
+            ([], False),
+            ((), False),
+        ]:
+            msg = (
+                f"value = {test_value!r},"
+                f" expected X {'not ' if not expected_in_result_by_name else ''}in result"
+            )
+            with self.subTest(msg):
+                print(msg)
+                grammar = (
+                    (pp.Suppress("a") + pp.ZeroOrMore("x"))
+                    .add_parse_action(lambda p: test_value)
+                    .set_results_name("X")
+                )
+                result = grammar.parse_string("a")
+                print(result.dump())
+                if expected_in_result_by_name:
+                    self.assertIn(
+                        "X",
+                        result,
+                        f"Expected X not found for parse action value {test_value!r}",
+                    )
+                    print(repr(result["X"]))
+                else:
+                    self.assertNotIn(
+                        "X",
+                        result,
+                        f"Unexpected X found for parse action value {test_value!r}",
+                    )
+                    with self.assertRaises(KeyError):
+                        print(repr(result["X"]))
+                print()
+
+        # Do not add a parse result.
+        msg = "value = <no parse action defined>, expected X in result"
+        with self.subTest(msg):
+            print(msg)
+            grammar = (pp.Suppress("a") + pp.ZeroOrMore("x")).set_results_name("X")
+            result = grammar.parse_string("a")
+            print(result.dump())
+            self.assertIn("X", result, f"Expected X not found with no parse action")
+            print()
+
+        # Test by directly creating a ParseResults
+        print("Create empty string value directly")
+        result = pp.ParseResults("", name="X")
+        print(result.dump())
+        self.assertIn(
+            "X",
+            result,
+            "failed to construct ParseResults with named value using empty string",
+        )
+        print(repr(result["X"]))
+        print()
+
+        print("Create empty string value from a dict")
+        result = pp.ParseResults.from_dict({"X": ""})
+        print(result.dump())
+        self.assertIn(
+            "X",
+            result,
+            "failed to construct ParseResults with named value using from_dict",
+        )
+        print(repr(result["X"]))
+
     def testMatchOnlyAtCol(self):
         """successfully use matchOnlyAtCol helper function"""
 
         expr = pp.Word(pp.nums)
         expr.setParseAction(pp.matchOnlyAtCol(5))
         largerExpr = pp.ZeroOrMore(pp.Word("A")) + expr + pp.ZeroOrMore(pp.Word("A"))
 
@@ -3082,15 +3235,14 @@
         with self.subTest():
             expr = None
             with self.assertRaises(TypeError, msg="failed to warn int & ParserElement"):
                 expr = pp.Word(pp.alphas)("first") + (89 & pp.Word(pp.alphas))
             self.assertEqual(expr, None)
 
     def testLshiftOperatorWithOtherTypes(self):
-
         # Forward << ParserElement
         with self.subTest():
             f = pp.Forward()
             f << pp.Word(pp.alphas)[...]
             test_string = "sljdf sldkjf Ljs"
             result = f.parse_string(test_string)
             print(result)
@@ -3435,125 +3587,164 @@
         result["A"] = 0
         self.assertTrue(
             result,
             "ParseResults with empty list but containing a results name evaluated as False",
         )
 
     def testParseResultsCopy(self):
-        expr = pp.Word(pp.nums) + pp.Group(pp.Word(pp.alphas)("key") + '=' + pp.Word(pp.nums)("value"))[...]
+        expr = (
+            pp.Word(pp.nums)
+            + pp.Group(pp.Word(pp.alphas)("key") + "=" + pp.Word(pp.nums)("value"))[...]
+        )
         result = expr.parse_string("1 a=100 b=200 c=300")
         print(result.dump())
 
         r2 = result.copy()
         print(r2.dump())
 
         # check copy is different, but contained results is the same as in original
         self.assertFalse(r2 is result, "copy failed")
         self.assertTrue(r2[1] is result[1], "shallow copy failed")
 
         # update result sub-element in place
-        result[1][0] = 'z'
+        result[1][0] = "z"
         self.assertParseResultsEquals(
             result,
-            expected_list=['1', ['z', '=', '100'], ['b', '=', '200'], ['c', '=', '300']]
+            expected_list=[
+                "1",
+                ["z", "=", "100"],
+                ["b", "=", "200"],
+                ["c", "=", "300"],
+            ],
         )
 
         # update contained results, verify list and dict contents are updated as expected
-        result[1][0] = result[1]["key"] = 'q'
+        result[1][0] = result[1]["key"] = "q"
         result[1]["xyz"] = 1000
         print(result.dump())
         self.assertParseResultsEquals(
             result,
-            expected_list=['1', ['q', '=', '100'], ['b', '=', '200'], ['c', '=', '300']],
+            expected_list=[
+                "1",
+                ["q", "=", "100"],
+                ["b", "=", "200"],
+                ["c", "=", "300"],
+            ],
         )
         self.assertParseResultsEquals(
-            result[1],
-            expected_dict = {'key': 'q', 'value': '100', 'xyz': 1000}
+            result[1], expected_dict={"key": "q", "value": "100", "xyz": 1000}
         )
 
         # verify that list and dict contents are the same in copy
         self.assertParseResultsEquals(
             r2,
-            expected_list=['1', ['q', '=', '100'], ['b', '=', '200'], ['c', '=', '300']],
+            expected_list=[
+                "1",
+                ["q", "=", "100"],
+                ["b", "=", "200"],
+                ["c", "=", "300"],
+            ],
         )
         self.assertParseResultsEquals(
-            r2[1],
-            expected_dict = {'key': 'q', 'value': '100', 'xyz': 1000}
+            r2[1], expected_dict={"key": "q", "value": "100", "xyz": 1000}
         )
 
     def testParseResultsDeepcopy(self):
-        expr = pp.Word(pp.nums) + pp.Group(pp.Word(pp.alphas)("key") + '=' + pp.Word(pp.nums)("value"))[...]
+        expr = (
+            pp.Word(pp.nums)
+            + pp.Group(pp.Word(pp.alphas)("key") + "=" + pp.Word(pp.nums)("value"))[...]
+        )
         result = expr.parse_string("1 a=100 b=200 c=300")
 
         r2 = result.deepcopy()
         print(r2.dump())
 
         # check copy and contained results are different from original
         self.assertFalse(r2 is result, "copy failed")
         self.assertFalse(r2[1] is result[1], "deep copy failed")
 
         # update contained results
-        result[1][0] = result[1]["key"] = 'q'
+        result[1][0] = result[1]["key"] = "q"
         result[1]["xyz"] = 1000
         print(result.dump())
 
         # verify that list and dict contents are unchanged in the copy
         self.assertParseResultsEquals(
             r2,
-            expected_list=['1', ['a', '=', '100'], ['b', '=', '200'], ['c', '=', '300']],
-        )
-        self.assertParseResultsEquals(
-            r2[1],
-            expected_dict = {'key': 'a', 'value': '100'}
+            expected_list=[
+                "1",
+                ["a", "=", "100"],
+                ["b", "=", "200"],
+                ["c", "=", "300"],
+            ],
         )
+        self.assertParseResultsEquals(r2[1], expected_dict={"key": "a", "value": "100"})
 
     def testParseResultsDeepcopy2(self):
-        expr = pp.Word(pp.nums) + pp.Group(pp.Word(pp.alphas)("key") + '=' + pp.Word(pp.nums)("value"), aslist=True)[...]
+        expr = (
+            pp.Word(pp.nums)
+            + pp.Group(
+                pp.Word(pp.alphas)("key") + "=" + pp.Word(pp.nums)("value"), aslist=True
+            )[...]
+        )
         result = expr.parse_string("1 a=100 b=200 c=300")
 
         r2 = result.deepcopy()
         print(r2.dump())
 
         # check copy and contained results are different from original
         self.assertFalse(r2 is result, "copy failed")
         self.assertFalse(r2[1] is result[1], "deep copy failed")
 
         # update contained results
-        result[1][0] = 'q'
+        result[1][0] = "q"
         print(result.dump())
 
         # verify that list and dict contents are unchanged in the copy
         self.assertParseResultsEquals(
             r2,
-            expected_list=['1', ['a', '=', '100'], ['b', '=', '200'], ['c', '=', '300']],
+            expected_list=[
+                "1",
+                ["a", "=", "100"],
+                ["b", "=", "200"],
+                ["c", "=", "300"],
+            ],
         )
 
     def testParseResultsDeepcopy3(self):
-        expr = pp.Word(pp.nums) + pp.Group(
-            (pp.Word(pp.alphas)("key") + '=' + pp.Word(pp.nums)("value")).add_parse_action(
-                lambda t: tuple(t)
-            )
-        )[...]
+        expr = (
+            pp.Word(pp.nums)
+            + pp.Group(
+                (
+                    pp.Word(pp.alphas)("key") + "=" + pp.Word(pp.nums)("value")
+                ).add_parse_action(lambda t: tuple(t))
+            )[...]
+        )
         result = expr.parse_string("1 a=100 b=200 c=300")
 
         r2 = result.deepcopy()
         print(r2.dump())
 
         # check copy and contained results are different from original
         self.assertFalse(r2 is result, "copy failed")
         self.assertFalse(r2[1] is result[1], "deep copy failed")
 
         # update contained results
-        result[1][0] = 'q'
+        result[1][0] = "q"
         print(result.dump())
 
         # verify that list and dict contents are unchanged in the copy
         self.assertParseResultsEquals(
             r2,
-            expected_list=['1', [('a', '=', '100')], [('b', '=', '200')], [('c', '=', '300')]],
+            expected_list=[
+                "1",
+                [("a", "=", "100")],
+                [("b", "=", "200")],
+                [("c", "=", "300")],
+            ],
         )
 
     def testIgnoreString(self):
         """test ParserElement.ignore() passed a string arg"""
 
         tst = "I like totally like love pickles"
         expr = pp.Word(pp.alphas)[...].ignore("like")
@@ -3692,15 +3883,14 @@
                 td_start.suppress()
                 + manufacturer
                 + pp.SkipTo(td_end)("cells*")
                 + td_end.suppress()
             )
 
     def testParseUsingRegex(self):
-
         signedInt = pp.Regex(r"[-+][0-9]+")
         unsignedInt = pp.Regex(r"[0-9]+")
         simpleString = pp.Regex(r'("[^\"]*")|(\'[^\']*\')')
         namedGrouping = pp.Regex(r'("(?P<content>[^\"]*)")')
         compiledRE = pp.Regex(re.compile(r"[A-Z]+"))
 
         def testMatch(expression, instring, shouldPass, expectedString=None):
@@ -3820,15 +4010,14 @@
 
         with self.assertRaises(
             ValueError, msg="failed to warn empty string passed to Regex"
         ):
             pp.Regex("").re
 
     def testRegexAsType(self):
-
         test_str = "sldkjfj 123 456 lsdfkj"
 
         print("return as list of match groups")
         expr = pp.Regex(r"\w+ (\d+) (\d+) (\w+)", asGroupList=True)
         expected_group_list = [tuple(test_str.split()[1:])]
         result = expr.parseString(test_str, parseAll=True)
         print(result.dump())
@@ -3855,15 +4044,14 @@
         self.assertEqual(
             expected_group_list[0],
             result[0].groups(),
             "incorrect group list returned by Regex(asMatch)",
         )
 
     def testRegexSub(self):
-
         print("test sub with string")
         expr = pp.Regex(r"<title>").sub("'Richard III'")
         result = expr.transformString("This is the title: <title>")
         print(result)
         self.assertEqual(
             "This is the title: 'Richard III'",
             result,
@@ -3916,15 +4104,14 @@
     def testRegexInvalidType(self):
         """test Regex of an invalid type"""
 
         with self.assertRaises(TypeError, msg="issue with Regex of type int"):
             expr = pp.Regex(12)
 
     def testPrecededBy(self):
-
         num = pp.Word(pp.nums).setParseAction(lambda t: int(t[0]))
         interesting_num = pp.PrecededBy(pp.Char("abc")("prefix*")) + num
         semi_interesting_num = pp.PrecededBy("_") + num
         crazy_num = pp.PrecededBy(pp.Word("^", "$%^")("prefix*"), 10) + num
         boring_num = ~pp.PrecededBy(pp.Char("abc_$%^" + pp.nums)) + num
         very_boring_num = pp.PrecededBy(pp.WordStart()) + num
         finicky_num = pp.PrecededBy(pp.Word("^", "$%^"), retreat=3) + num
@@ -3956,15 +4143,14 @@
             print(results.dump())
         except RecursionError:
             self.fail("got maximum excursion limit exception")
         else:
             print("got maximum excursion limit exception")
 
     def testCountedArray(self):
-
         testString = "2 5 7 6 0 1 2 3 4 5 0 3 5 4 3"
 
         integer = pp.Word(pp.nums).setParseAction(lambda t: int(t[0]))
         countedField = pp.countedArray(integer)
 
         r = pp.OneOrMore(pp.Group(countedField)).parseString(testString, parseAll=True)
         print(testString)
@@ -3972,15 +4158,14 @@
 
         self.assertParseResultsEquals(
             r, expected_list=[[5, 7], [0, 1, 2, 3, 4, 5], [], [5, 4, 3]]
         )
 
     # addresses bug raised by Ralf Vosseler
     def testCountedArrayTest2(self):
-
         testString = "2 5 7 6 0 1 2 3 4 5 0 3 5 4 3"
 
         integer = pp.Word(pp.nums).setParseAction(lambda t: int(t[0]))
         countedField = pp.countedArray(integer)
 
         dummy = pp.Word("A")
         r = pp.OneOrMore(pp.Group(dummy ^ countedField)).parseString(
@@ -3990,15 +4175,14 @@
         print(r)
 
         self.assertParseResultsEquals(
             r, expected_list=[[5, 7], [0, 1, 2, 3, 4, 5], [], [5, 4, 3]]
         )
 
     def testCountedArrayTest3(self):
-
         int_chars = "_" + pp.alphas
         array_counter = pp.Word(int_chars).setParseAction(
             lambda t: int_chars.index(t[0])
         )
 
         #             123456789012345678901234567890
         testString = "B 5 7 F 0 1 2 3 4 5 _ C 5 4 3"
@@ -4070,15 +4254,14 @@
         self.assertParseResultsEquals(
             result,
             expected_list=["True", "True", "False"],
             expected_dict={"type": "bool", "items": ["True", "True", "False"]},
         )
 
     def testLineStart(self):
-
         pass_tests = [
             """\
             AAA
             BBB
             """,
             """\
             AAA...
@@ -4137,15 +4320,14 @@
             success = test_patt.runTests(pass_tests)[0]
             self.assertTrue(success, "failed LineStart passing tests (3)")
 
             success = test_patt.runTests(fail_tests, failureTests=True)[0]
             self.assertTrue(success, "failed LineStart failure mode tests (3)")
 
     def testLineStart2(self):
-
         test = """\
         AAA 1
         AAA 2
 
           AAA
 
         B AAA
@@ -4294,15 +4476,14 @@
 
         with self.assertRaisesParseException():
             test(P_MTARG3, "   aaa")
         with self.assertRaisesParseException():
             test(P_MTARG3, "\n   aaa")
 
     def testLineAndStringEnd(self):
-
         NLs = pp.OneOrMore(pp.lineEnd)
         bnf1 = pp.delimitedList(pp.Word(pp.alphanums).leaveWhitespace(), NLs)
         bnf2 = pp.Word(pp.alphanums) + pp.stringEnd
         bnf3 = pp.Word(pp.alphanums) + pp.SkipTo(pp.stringEnd)
         tests = [
             ("testA\ntestB\ntestC\n", ["testA", "testB", "testC"]),
             ("testD\ntestE\ntestF", ["testD", "testE", "testF"]),
@@ -4543,15 +4724,14 @@
             list(testString),
             list(map(str, res)),
             "Failed to parse using variable length parse actions "
             "using class constructors as parse actions",
         )
 
     def testSingleArgException(self):
-
         testMessage = "just one arg"
         try:
             raise pp.ParseFatalException(testMessage)
         except pp.ParseBaseException as pbe:
             print("Received expected exception:", pbe)
             raisedMsg = pbe.msg
             self.assertEqual(
@@ -4589,15 +4769,14 @@
         self.assertEqual(
             ["alt", "empty", "height", "src", "startImg", "tag", "width"],
             sorted(tag_fields.keys()),
             "failed to preserve results names in originalTextFor",
         )
 
     def testPackratParsingCacheCopy(self):
-
         integer = pp.Word(pp.nums).setName("integer")
         id = pp.Word(pp.alphas + "_", pp.alphanums + "_")
         simpleType = pp.Literal("int")
         arrayType = simpleType + ("[" + pp.delimitedList(integer) + "]")[...]
         varType = arrayType | simpleType
         varDec = varType + pp.delimitedList(id + pp.Optional("=" + integer)) + ";"
 
@@ -4619,15 +4798,14 @@
             input,
             ["int", "f", "(", ")", "{}"],
             msg="Error in packrat parsing",
             verbose=True,
         )
 
     def testPackratParsingCacheCopyTest2(self):
-
         DO, AA = list(map(pp.Keyword, "DO AA".split()))
         LPAR, RPAR = list(map(pp.Suppress, "()"))
         identifier = ~AA + pp.Word("Z")
 
         function_name = identifier.copy()
         # ~ function_name = ~AA + Word("Z")  #identifier.copy()
         expr = pp.Forward().setName("expr")
@@ -4708,15 +4886,14 @@
                 # withAttribute(B="x"),
                 pp.withAttribute(("b", "x")),
                 # withAttribute(("B", "x")),
                 pp.withClass("boo"),
             ],
             expected,
         ):
-
             tagStart.setParseAction(attrib)
             result = expr.searchString(data)
 
             print(result.dump())
             self.assertParseResultsEquals(
                 result,
                 expected_list=exp,
@@ -4998,15 +5175,14 @@
                 )
 
     def testInvalidMinMaxArgs(self):
         with self.assertRaises(ValueError):
             wd = pp.Word(min=2, max=1)
 
     def testWordExclude(self):
-
         allButPunc = pp.Word(pp.printables, excludeChars=".,:;-_!?")
 
         test = "Hello, Mr. Ed, it's Wilbur!"
         result = allButPunc.searchString(test).asList()
         print(result)
         self.assertEqual(
             [["Hello"], ["Mr"], ["Ed"], ["it's"], ["Wilbur"]],
@@ -5141,15 +5317,14 @@
 
         # min > length
         consonants = pp.CharsNotIn(vowels, min=25)
         with self.assertRaisesParseException(msg="issue with CharsNotIn min > tokens"):
             result = consonants.parseString(tst, parseAll=True)
 
     def testParseAll(self):
-
         testExpr = pp.Word("A")
 
         tests = [
             ("AAAAA", False, True),
             ("AAAAA", True, True),
             ("AAABB", False, True),
             ("AAABB", True, False),
@@ -5212,15 +5387,14 @@
             except ParseException as pe:
                 print(pe.explain())
                 self.assertFalse(
                     shouldSucceed, "failed to parse when should have succeeded"
                 )
 
     def testGreedyQuotedStrings(self):
-
         src = """\
            "string1", "strin""g2"
            'string1', 'string2'
            ^string1^, ^string2^
            <string1>, <string2>"""
 
         testExprs = (
@@ -5270,15 +5444,14 @@
         res = quoted.parseString("yaaay", parseAll=True)
         self.assertEqual(["aaa"], res.asList())
         res = quoted.parseString("yaaaxyaaay", parseAll=True)
         print(res.asList())
         self.assertEqual(["aaayaaa"], res.asList())
 
     def testWordBoundaryExpressions(self):
-
         ws = pp.WordStart()
         we = pp.WordEnd()
         vowel = pp.oneOf(list("AEIOUY"))
         consonant = pp.oneOf(list("BCDFGHJKLMNPQRSTVWXZ"))
 
         leadingVowel = ws + vowel
         trailingVowel = vowel + we
@@ -5345,15 +5518,14 @@
                 expr.parseString("(abc)", parseAll=True)
             except pp.ParseException as pe:
                 self.fail(f"Test {i} failed: {pe}")
             else:
                 pass
 
     def testRequiredEach(self):
-
         parser = pp.Keyword("bam") & pp.Keyword("boo")
         try:
             res1 = parser.parseString("bam boo", parseAll=True)
             print(res1.asList())
             res2 = parser.parseString("boo bam", parseAll=True)
             print(res2.asList())
         except ParseException:
@@ -5369,15 +5541,14 @@
                 + str(res1.asList())
                 + " and "
                 + str(res2.asList())
                 + "to contain same words in any order",
             )
 
     def testOptionalEachTest1(self):
-
         for the_input in [
             "Tal Weiss Major",
             "Tal Major",
             "Weiss Major",
             "Major",
             "Major Tal",
             "Major Weiss",
@@ -5396,15 +5567,14 @@
                 "Each failed to match with nested Optionals, "
                 + str(p1res.asList())
                 + " should match "
                 + str(p2res.asList()),
             )
 
     def testOptionalEachTest2(self):
-
         word = pp.Word(pp.alphanums + "_").setName("word")
         with_stmt = "with" + pp.OneOrMore(pp.Group(word("key") + "=" + word("value")))(
             "overrides"
         )
         using_stmt = "using" + pp.Regex("id-[0-9a-f]{8}")("id")
         modifiers = pp.Optional(with_stmt("with_stmt")) & pp.Optional(
             using_stmt("using_stmt")
@@ -5412,15 +5582,14 @@
 
         self.assertEqual("with foo=bar bing=baz using id-deadbeef", modifiers)
         self.assertNotEqual(
             "with foo=bar bing=baz using id-deadbeef using id-feedfeed", modifiers
         )
 
     def testOptionalEachTest3(self):
-
         foo = pp.Literal("foo")
         bar = pp.Literal("bar")
 
         openBrace = pp.Suppress(pp.Literal("{"))
         closeBrace = pp.Suppress(pp.Literal("}"))
 
         exp = openBrace + (foo[1, ...]("foo") & bar[...]("bar")) + closeBrace
@@ -5441,28 +5610,26 @@
                 verbose=True,
             )
 
         with self.assertRaisesParseException():
             exp.parseString("{bar}", parseAll=True)
 
     def testOptionalEachTest4(self):
-
         expr = (~ppc.iso8601_date + ppc.integer("id")) & (
             pp.Group(ppc.iso8601_date)("date*")[...]
         )
 
         expr.runTests(
             """
             1999-12-31 100 2001-01-01
             42
             """
         )
 
     def testEachWithParseFatalException(self):
-
         option_expr = pp.Keyword("options") - "(" + ppc.integer + ")"
         step_expr1 = pp.Keyword("step") - "(" + ppc.integer + ")"
         step_expr2 = pp.Keyword("step") - "(" + ppc.integer + "Z" + ")"
         step_expr = step_expr1 ^ step_expr2
 
         parser = option_expr & step_expr[...]
         tests = [
@@ -5525,15 +5692,14 @@
                     },
                 ),
             ]:
                 result = spec.parseString(test, parseAll=True)
                 self.assertParseResultsEquals(result, expected_dict=expected_dict)
 
     def testSumParseResults(self):
-
         samplestr1 = "garbage;DOB 10-10-2010;more garbage\nID PARI12345678;more garbage"
         samplestr2 = "garbage;ID PARI12345678;more garbage\nDOB 10-10-2010;more garbage"
         samplestr3 = "garbage;DOB 10-10-2010"
         samplestr4 = "garbage;ID PARI12345678;more garbage- I am cool"
 
         res1 = "ID:PARI12345678 DOB:10-10-2010 INFO:"
         res2 = "ID:PARI12345678 DOB:10-10-2010 INFO:"
@@ -5560,15 +5726,14 @@
             self.assertEqual(
                 expected,
                 result,
                 f"Failed to parse '{test}' correctly, \nexpected '{expected}', got '{result}'",
             )
 
     def testMarkInputLine(self):
-
         samplestr1 = "DOB 100-10-2010;more garbage\nID PARI12345678;more garbage"
 
         dob_ref = "DOB" + pp.Regex(r"\d{2}-\d{2}-\d{4}")("dob")
 
         try:
             res = dob_ref.parseString(samplestr1, parseAll=True)
         except ParseException as pe:
@@ -5700,15 +5865,14 @@
         result = patt.parseString(source, parseAll=True)
         print(result.dump())
 
         with self.assertRaises(TypeError):
             result.pop(notDefault="foo")
 
     def testAddCondition(self):
-
         numParser = pp.Word(pp.nums)
         numParser.addParseAction(lambda s, l, t: int(t[0]))
         numParser.addCondition(lambda s, l, t: t[0] % 2)
         numParser.addCondition(lambda s, l, t: t[0] >= 7)
 
         result = numParser.searchString("1 2 3 4 5 6 7 8 9 10")
         print(result.asList())
@@ -5797,36 +5961,33 @@
         print(test_string, "->", result.asList())
 
         self.assertEqual(
             test_string.split(), result.asList(), "failed to match longest choice"
         )
 
     def testEachWithOptionalWithResultsName(self):
-
         result = (pp.Optional("foo")("one") & pp.Optional("bar")("two")).parseString(
             "bar foo", parseAll=True
         )
         print(result.dump())
         self.assertEqual(sorted(["one", "two"]), sorted(result.keys()))
 
     def testUnicodeExpression(self):
-
         z = "a" | pp.Literal("\u1111")
         z.streamline()
         try:
             z.parseString("b", parseAll=True)
         except ParseException as pe:
             self.assertEqual(
                 r"""Expected {'a' | ''}""",
                 pe.msg,
                 "Invalid error message raised, got %r" % pe.msg,
             )
 
     def testSetName(self):
-
         a = pp.oneOf("a b c")
         b = pp.oneOf("d e f")
         # fmt: off
         arith_expr = pp.infixNotation(
             pp.Word(pp.nums),
             [
                 (pp.oneOf("* /"), 2, pp.opAssoc.LEFT),
@@ -5889,15 +6050,14 @@
             self.assertEqual(
                 e,
                 tname,
                 f"expression name mismatch, expected {e} got {tname}",
             )
 
     def testTrimArityExceptionMasking(self):
-
         invalid_message = "<lambda>() missing 1 required positional argument: 't'"
         try:
             pp.Word("a").setParseAction(lambda t: t[0] + 1).parseString(
                 "aaa", parseAll=True
             )
         except Exception as e:
             exc_msg = str(e)
@@ -5953,15 +6113,14 @@
 
         def K():
             J()
 
         K()
 
     def testClearParseActions(self):
-
         realnum = ppc.real()
         self.assertEqual(
             3.14159,
             realnum.parseString("3.14159", parseAll=True)[0],
             "failed basic real number parsing",
         )
 
@@ -5978,15 +6137,14 @@
         self.assertEqual(
             True,
             realnum.parseString("3.14159", parseAll=True)[0],
             "failed setting new parse action after clearing parse action",
         )
 
     def testOneOrMoreStop(self):
-
         test = "BEGIN aaa bbb ccc END"
         BEGIN, END = map(pp.Keyword, "BEGIN,END".split(","))
         body_word = pp.Word(pp.alphas).setName("word")
         for ender in (END, "END", pp.CaselessKeyword("END")):
             expr = BEGIN + pp.OneOrMore(body_word, stopOn=ender) + END
             self.assertEqual(
                 expr, test, "Did not successfully stop on ending expression %r" % ender
@@ -6062,15 +6220,14 @@
                 expr,
                 test,
                 test.split(),
                 "Did not successfully stop on ending expression %r" % ender,
             )
 
     def testNestedAsDict(self):
-
         equals = pp.Literal("=").suppress()
         lbracket = pp.Literal("[").suppress()
         rbracket = pp.Literal("]").suppress()
         lbrace = pp.Literal("{").suppress()
         rbrace = pp.Literal("}").suppress()
 
         value_dict = pp.Forward()
@@ -6510,14 +6667,15 @@
             "scheme": parts.scheme,
             "auth": f"{parts.username}:{parts.password}",
             "host": parts.hostname,
             "port": str(parts.port),
             "path": parts.path,
             "query": parts.query,
             "fragment": parts.fragment,
+            "url": sample_url,
         }
 
         self.assertParseAndCheckDict(ppc.url, sample_url, expected, verbose=True)
 
     def testCommonUrlExprs(self):
         def extract_parts(s, split=" "):
             return [[_.strip(split)] for _ in s.strip(split).split(split)]
@@ -6531,15 +6689,14 @@
         self.assertParseAndCheckList(
             pp.delimited_list(pp.Group(ppc.url), allow_trailing_delim=True),
             test_string,
             extract_parts(test_string, " , "),
         )
 
     def testNumericExpressions(self):
-
         # disable parse actions that do type conversion so we don't accidentally trigger
         # conversion exceptions when what we want to check is the parsing expression
         real = ppc.real().setParseAction(None)
         sci_real = ppc.sci_real().setParseAction(None)
         signed_integer = ppc.signed_integer().setParseAction(None)
 
         from itertools import product
@@ -6654,57 +6811,53 @@
                 f"{'in' if is_fail else ''}valid tests ({len(tests)})",
             )
             all_pass = all_pass and success
 
         self.assertTrue(all_pass, "failed one or more numeric tests")
 
     def testTokenMap(self):
-
         parser = pp.OneOrMore(pp.Word(pp.hexnums)).setParseAction(pp.tokenMap(int, 16))
         success, report = parser.runTests(
             """
             00 11 22 aa FF 0a 0d 1a
             """
         )
 
         self.assertRunTestResults(
             (success, report),
             [([0, 17, 34, 170, 255, 10, 13, 26], "tokenMap parse action failed")],
             msg="failed to parse hex integers",
         )
 
     def testParseFile(self):
-
         s = """
         123 456 789
         """
         input_file = StringIO(s)
         integer = ppc.integer
 
         results = pp.OneOrMore(integer).parseFile(input_file)
         print(results)
 
         results = pp.OneOrMore(integer).parseFile("tests/parsefiletest_input_file.txt")
         print(results)
 
     def testHTMLStripper(self):
-
         sample = """
         <html>
         Here is some sample <i>HTML</i> text.
         </html>
         """
         read_everything = pp.originalTextFor(pp.OneOrMore(pp.Word(pp.printables)))
         read_everything.addParseAction(ppc.stripHTMLTags)
 
         result = read_everything.parseString(sample, parseAll=True)
         self.assertEqual("Here is some sample HTML text.", result[0].strip())
 
     def testExprSplitter(self):
-
         expr = pp.Literal(";") + pp.Empty()
         expr.ignore(pp.quotedString)
         expr.ignore(pp.pythonStyleComment)
 
         sample = """
         def main():
             this_semi_does_nothing();
@@ -6827,15 +6980,14 @@
                     "invalid split with maxSplits=1 when expr not present",
                 )
             else:
                 print("\n>>> " + line)
                 self.fail("invalid split on expression with maxSplits=1, corner case")
 
     def testParseFatalException(self):
-
         with self.assertRaisesParseException(
             exc_type=ParseFatalException, msg="failed to raise ErrorStop exception"
         ):
             expr = "ZZZ" - pp.Word(pp.nums)
             expr.parseString("ZZZ bad", parseAll=True)
 
     def testParseFatalException2(self):
@@ -6864,15 +7016,14 @@
             | pp.pyparsing_common.integer
         )
 
         with self.assertRaisesParseException(pp.ParseFatalException):
             test.parseString("1", parseAll=True)
 
     def testInlineLiteralsUsing(self):
-
         wd = pp.Word(pp.alphas)
 
         pp.ParserElement.inlineLiteralsUsing(pp.Suppress)
         result = (wd + "," + wd + pp.oneOf("! . ?")).parseString(
             "Hello, World!", parseAll=True
         )
         self.assertEqual(3, len(result), "inlineLiteralsUsing(Suppress) failed!")
@@ -6921,15 +7072,14 @@
             "1999/12/31",
             expected_list=["1999", "12", "31"],
             msg="inlineLiteralsUsing(example 2) failed!",
             verbose=True,
         )
 
     def testCloseMatch(self):
-
         searchseq = pp.CloseMatch("ATCATCGAATGGA", 2)
 
         _, results = searchseq.runTests(
             """
             ATCATCGAATGGA
             XTCATCGAATGGX
             ATCATCGAAXGGA
@@ -6951,15 +7101,14 @@
                 r[0],
                 "exc: %s" % r[1]
                 if exp is None and isinstance(r[1], Exception)
                 else ("no match", "match")[r[1].mismatches == exp],
             )
 
     def testCloseMatchCaseless(self):
-
         searchseq = pp.CloseMatch("ATCATCGAATGGA", 2, caseless=True)
 
         _, results = searchseq.runTests(
             """
             atcatcgaatgga
             xtcatcgaatggx
             atcatcgaaxgga
@@ -6981,15 +7130,14 @@
                 r[0],
                 "exc: %s" % r[1]
                 if exp is None and isinstance(r[1], Exception)
                 else ("no match", "match")[r[1].mismatches == exp],
             )
 
     def testDefaultKeywordChars(self):
-
         with self.assertRaisesParseException(
             msg="failed to fail matching keyword using updated keyword chars"
         ):
             pp.Keyword("start").parseString("start1000", parseAll=True)
 
         try:
             pp.Keyword("start", identChars=pp.alphas).parseString(
@@ -7035,15 +7183,14 @@
         lit = pp.Literal("foo").leave_whitespace()
         lit2 = lit.copy()
         self.assertFalse(lit2.skipWhitespace)
         lit3 = lit2.ignore_whitespace().copy()
         self.assertTrue(lit3.skipWhitespace)
 
     def testLiteralVsKeyword(self):
-
         integer = ppc.integer
         literal_expr = integer + pp.Literal("start") + integer
         keyword_expr = integer + pp.Keyword("start") + integer
         caseless_keyword_expr = integer + pp.CaselessKeyword("START") + integer
         word_keyword_expr = (
             integer + pp.Word(pp.alphas, asKeyword=True).setName("word") + integer
         )
@@ -7096,24 +7243,22 @@
 
         with self.assertRaisesParseException(
             msg="failed to fail matching keyword using updated keyword chars"
         ):
             print(word_keyword_expr.parseString(test_string, parseAll=True))
 
     def testCol(self):
-
         test = "*\n* \n*   ALF\n*\n"
         initials = [c for i, c in enumerate(test) if pp.col(i, test) == 1]
         print(initials)
         self.assertTrue(
             len(initials) == 4 and all(c == "*" for c in initials), "fail col test"
         )
 
     def testLiteralException(self):
-
         for cls in (
             pp.Literal,
             pp.CaselessLiteral,
             pp.Keyword,
             pp.CaselessKeyword,
             pp.Word,
             pp.Regex,
@@ -7164,15 +7309,14 @@
                 if print_traceback:
                     traceback.print_exc()
         else:
             self.fail("Expected ParseException not raised")
 
     # tests Issue #22
     def testParseActionNesting(self):
-
         vals = pp.OneOrMore(ppc.integer)("int_values")
 
         def add_total(tokens):
             tokens["total"] = sum(tokens)
             return tokens
 
         vals.addParseAction(add_total)
@@ -7251,15 +7395,14 @@
         expected = [
             ["x1", AnnotatedToken("val", ["1"]), "x2", AnnotatedToken("val", ["2"])]
         ]
 
         self.assertParseAndCheckList(named_number_list, test_string, expected)
 
     def testParseResultsNameBelowUngroupedName(self):
-
         rule_num = pp.Regex("[0-9]+")("LIT_NUM*")
         list_num = pp.Group(
             pp.Literal("[")("START_LIST")
             + pp.delimitedList(rule_num)("LIST_VALUES")
             + pp.Literal("]")("END_LIST")
         )("LIST")
 
@@ -7269,15 +7412,14 @@
         U = list_num.parseString(test_string, parseAll=True)
         self.assertTrue(
             "LIT_NUM" not in U.LIST.LIST_VALUES,
             "results name retained as sub in ungrouped named result",
         )
 
     def testParseResultsNamesInGroupWithDict(self):
-
         key = ppc.identifier()
         value = ppc.integer()
         lat = ppc.real()
         long = ppc.real()
         EQ = pp.Suppress("=")
 
         data = (
@@ -7312,15 +7454,14 @@
         result = expr.parseString(tst, parseAll=True)
         print(result.dump())
         self.assertParseResultsEquals(
             result, ["body", False, "Hello", "</body>"], msg="issue using makeXMLTags"
         )
 
     def testFollowedBy(self):
-
         expr = pp.Word(pp.alphas)("item") + pp.FollowedBy(ppc.integer("qty"))
         result = expr.parseString("balloon 99", parseAll=False)
         print(result.dump())
         self.assertTrue("qty" in result, "failed to capture results name in FollowedBy")
         self.assertEqual(
             {"item": "balloon", "qty": 99},
             result.asDict(),
@@ -7349,15 +7490,14 @@
             pdb.set_trace = mock_set_trace
             wd.parseString("ABC", parseAll=True)
 
         print("After parsing with setBreak:", was_called)
         self.assertTrue(was_called, "set_trace wasn't called by setBreak")
 
     def testUnicodeTests(self):
-
         ppu = pp.pyparsing_unicode
 
         # verify proper merging of ranges by addition
         kanji_printables = ppu.Japanese.Kanji.printables
         katakana_printables = ppu.Japanese.Katakana.printables
         hiragana_printables = ppu.Japanese.Hiragana.printables
         japanese_printables = ppu.Japanese.printables
@@ -7470,15 +7610,14 @@
             + "\N{REPLACEMENT CHARACTER}"
         )
         print(sample)
         self.assertParseAndCheckList(pp.Word(bmp_printables), sample, [sample])
 
     # Make sure example in indentedBlock docstring actually works!
     def testIndentedBlockExample(self):
-
         data = dedent(
             """
         def A(z):
           A1
           B = 100
           G = A2
           A2
@@ -7594,15 +7733,14 @@
         print(result.dump())
         self.assertEqual(100, result.a, "invalid indented block result")
         self.assertEqual(200, result.c.c1, "invalid indented block result")
         self.assertEqual(999, result.c.c2.c21, "invalid indented block result")
 
     # exercise indentedBlock with example posted in issue #87
     def testIndentedBlockTest2(self):
-
         indent_stack = [1]
 
         key = pp.Word(pp.alphas, pp.alphanums) + pp.Suppress(":")
         stmt = pp.Forward()
 
         suite = pp.indentedBlock(stmt, indent_stack)
         body = key + suite
@@ -8605,15 +8743,14 @@
                 expected_debug_output,
                 output,
                 "failed to auto-enable debug on named expressions "
                 "using enable_debug_on_named_expressions",
             )
 
     def testEnableDebugOnExpressionWithParseAction(self):
-
         test_stdout = StringIO()
         with resetting(sys, "stdout", "stderr"):
             sys.stdout = test_stdout
             sys.stderr = test_stdout
 
             parser = (ppc.integer().setDebug() | pp.Word(pp.alphanums).setDebug())[...]
             parser.setDebug()
@@ -8678,15 +8815,14 @@
         self.assertEqual(
             expected_debug_output,
             output,
             "invalid debug output when using parse action",
         )
 
     def testEnableDebugWithCachedExpressionsMarkedWithAsterisk(self):
-
         a = pp.Literal("a").setName("A").setDebug()
         b = pp.Literal("b").setName("B").setDebug()
         z = pp.Literal("z").setName("Z").setDebug()
         leading_a = a + pp.FollowedBy(z | a | b)
         leading_a.setName("leading_a").setDebug()
 
         grammar = (z | leading_a | b)[...] + "a"
@@ -9473,15 +9609,14 @@
         self.assertEqual(
             "ParseResults(['test', 'blub'], {'word': ['test', 'blub']})",
             repr(res),
             "incorrect repr for ParseResults with listAllMatches=True",
         )
 
     def testWarnUsingLshiftForward(self):
-
         print(
             "verify that using '<<' operator with a Forward raises a warning if there is a dangling '|' operator"
         )
 
         fwd = pp.Forward()
         print("unsafe << and |, but diag not enabled, should not warn")
         fwd << pp.Word("a") | pp.Word("b")
```

### Comparing `pyparsing-3.1.0a1/PKG-INFO` & `pyparsing-3.1.0b1/PKG-INFO`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: pyparsing
-Version: 3.1.0a1
+Version: 3.1.0b1
 Summary: pyparsing module - Classes and methods to define and execute parsing grammars
 Author-email: Paul McGuire <ptmcg.gm+pyparsing@gmail.com>
 Requires-Python: >=3.6.8
 Description-Content-Type: text/x-rst
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: Intended Audience :: Developers
 Classifier: Intended Audience :: Information Technology
@@ -14,14 +14,15 @@
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3.6
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
 Classifier: Programming Language :: Python :: 3.11
+Classifier: Programming Language :: Python :: 3.12
 Classifier: Programming Language :: Python :: 3 :: Only
 Classifier: Programming Language :: Python :: Implementation :: CPython
 Classifier: Programming Language :: Python :: Implementation :: PyPy
 Classifier: Topic :: Software Development :: Compilers
 Classifier: Topic :: Text Processing
 Classifier: Typing :: Typed
 Requires-Dist: railroad-diagrams ; extra == "diagrams"
```

